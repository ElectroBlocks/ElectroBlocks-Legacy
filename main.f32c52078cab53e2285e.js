(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/AaG":function(t,e,o){var n,r,i;r=[o("t/1s")],void 0===(i="function"==typeof(n=function(t){"use strict";return t.JavaScript=new t.Generator("JavaScript"),t.JavaScript.addReservedWords("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan"),t.JavaScript.ORDER_ATOMIC=0,t.JavaScript.ORDER_NEW=1.1,t.JavaScript.ORDER_MEMBER=1.2,t.JavaScript.ORDER_FUNCTION_CALL=2,t.JavaScript.ORDER_INCREMENT=3,t.JavaScript.ORDER_DECREMENT=3,t.JavaScript.ORDER_BITWISE_NOT=4.1,t.JavaScript.ORDER_UNARY_PLUS=4.2,t.JavaScript.ORDER_UNARY_NEGATION=4.3,t.JavaScript.ORDER_LOGICAL_NOT=4.4,t.JavaScript.ORDER_TYPEOF=4.5,t.JavaScript.ORDER_VOID=4.6,t.JavaScript.ORDER_DELETE=4.7,t.JavaScript.ORDER_AWAIT=4.8,t.JavaScript.ORDER_EXPONENTIATION=5,t.JavaScript.ORDER_MULTIPLICATION=5.1,t.JavaScript.ORDER_DIVISION=5.2,t.JavaScript.ORDER_MODULUS=5.3,t.JavaScript.ORDER_SUBTRACTION=6.1,t.JavaScript.ORDER_ADDITION=6.2,t.JavaScript.ORDER_BITWISE_SHIFT=7,t.JavaScript.ORDER_RELATIONAL=8,t.JavaScript.ORDER_IN=8,t.JavaScript.ORDER_INSTANCEOF=8,t.JavaScript.ORDER_EQUALITY=9,t.JavaScript.ORDER_BITWISE_AND=10,t.JavaScript.ORDER_BITWISE_XOR=11,t.JavaScript.ORDER_BITWISE_OR=12,t.JavaScript.ORDER_LOGICAL_AND=13,t.JavaScript.ORDER_LOGICAL_OR=14,t.JavaScript.ORDER_CONDITIONAL=15,t.JavaScript.ORDER_ASSIGNMENT=16,t.JavaScript.ORDER_YIELD=17,t.JavaScript.ORDER_COMMA=18,t.JavaScript.ORDER_NONE=99,t.JavaScript.ORDER_OVERRIDES=[[t.JavaScript.ORDER_FUNCTION_CALL,t.JavaScript.ORDER_MEMBER],[t.JavaScript.ORDER_FUNCTION_CALL,t.JavaScript.ORDER_FUNCTION_CALL],[t.JavaScript.ORDER_MEMBER,t.JavaScript.ORDER_MEMBER],[t.JavaScript.ORDER_MEMBER,t.JavaScript.ORDER_FUNCTION_CALL],[t.JavaScript.ORDER_LOGICAL_NOT,t.JavaScript.ORDER_LOGICAL_NOT],[t.JavaScript.ORDER_MULTIPLICATION,t.JavaScript.ORDER_MULTIPLICATION],[t.JavaScript.ORDER_ADDITION,t.JavaScript.ORDER_ADDITION],[t.JavaScript.ORDER_LOGICAL_AND,t.JavaScript.ORDER_LOGICAL_AND],[t.JavaScript.ORDER_LOGICAL_OR,t.JavaScript.ORDER_LOGICAL_OR]],t.JavaScript.init=function(e){t.JavaScript.definitions_=Object.create(null),t.JavaScript.functionNames_=Object.create(null),t.JavaScript.variableDB_?t.JavaScript.variableDB_.reset():t.JavaScript.variableDB_=new t.Names(t.JavaScript.RESERVED_WORDS_),t.JavaScript.variableDB_.setVariableMap(e.getVariableMap());for(var o=[],n=t.Variables.allDeveloperVariables(e),r=0;r<n.length;r++)o.push(t.JavaScript.variableDB_.getName(n[r],t.Names.DEVELOPER_VARIABLE_TYPE));for(e=t.Variables.allUsedVarModels(e),r=0;r<e.length;r++)o.push(t.JavaScript.variableDB_.getName(e[r].getId(),t.Variables.NAME_TYPE));o.length&&(t.JavaScript.definitions_.variables="var "+o.join(", ")+";")},t.JavaScript.finish=function(e){var o,n=[];for(o in t.JavaScript.definitions_)n.push(t.JavaScript.definitions_[o]);return delete t.JavaScript.definitions_,delete t.JavaScript.functionNames_,t.JavaScript.variableDB_.reset(),n.join("\n\n")+"\n\n\n"+e},t.JavaScript.scrubNakedValue=function(t){return t+";\n"},t.JavaScript.quote_=function(t){return"'"+(t=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},t.JavaScript.scrub_=function(e,o,n){var r="";if(!e.outputConnection||!e.outputConnection.targetConnection){var i=e.getCommentText();(i=t.utils.string.wrap(i,t.JavaScript.COMMENT_WRAP-3))&&(r=e.getProcedureDef?r+"/**\n"+t.JavaScript.prefixLines(i+"\n"," * ")+" */\n":r+t.JavaScript.prefixLines(i+"\n","// "));for(var s=0;s<e.inputList.length;s++)e.inputList[s].type==t.INPUT_VALUE&&(i=e.inputList[s].connection.targetBlock())&&(i=t.JavaScript.allNestedComments(i))&&(r+=t.JavaScript.prefixLines(i,"// "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),r+o+(n?"":t.JavaScript.blockToCode(e))},t.JavaScript.getAdjusted=function(e,o,n,r,i){n=n||0,i=i||t.JavaScript.ORDER_NONE,e.workspace.options.oneBasedIndex&&n--;var s=e.workspace.options.oneBasedIndex?"1":"0";if(e=0<n?t.JavaScript.valueToCode(e,o,t.JavaScript.ORDER_ADDITION)||s:0>n?t.JavaScript.valueToCode(e,o,t.JavaScript.ORDER_SUBTRACTION)||s:r?t.JavaScript.valueToCode(e,o,t.JavaScript.ORDER_UNARY_NEGATION)||s:t.JavaScript.valueToCode(e,o,i)||s,t.isNumber(e))e=parseFloat(e)+n,r&&(e=-e);else{if(0<n){e=e+" + "+n;var l=t.JavaScript.ORDER_ADDITION}else 0>n&&(e=e+" - "+-n,l=t.JavaScript.ORDER_SUBTRACTION);r&&(e=n?"-("+e+")":"-"+e,l=t.JavaScript.ORDER_UNARY_NEGATION),l=Math.floor(l),i=Math.floor(i),l&&i>=l&&(e="("+e+")")}return e},t.JavaScript.colour={},t.JavaScript.colour_picker=function(e){return[t.JavaScript.quote_(e.getFieldValue("COLOUR")),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.colour_random=function(e){return[t.JavaScript.provideFunction_("colourRandom",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.colour_rgb=function(e){var o=t.JavaScript.valueToCode(e,"RED",t.JavaScript.ORDER_COMMA)||0,n=t.JavaScript.valueToCode(e,"GREEN",t.JavaScript.ORDER_COMMA)||0;return e=t.JavaScript.valueToCode(e,"BLUE",t.JavaScript.ORDER_COMMA)||0,[t.JavaScript.provideFunction_("colourRgb",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+o+", "+n+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.colour_blend=function(e){var o=t.JavaScript.valueToCode(e,"COLOUR1",t.JavaScript.ORDER_COMMA)||"'#000000'",n=t.JavaScript.valueToCode(e,"COLOUR2",t.JavaScript.ORDER_COMMA)||"'#000000'";return e=t.JavaScript.valueToCode(e,"RATIO",t.JavaScript.ORDER_COMMA)||.5,[t.JavaScript.provideFunction_("colourBlend",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+o+", "+n+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists={},t.JavaScript.lists_create_empty=function(e){return["[]",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.lists_create_with=function(e){for(var o=Array(e.itemCount_),n=0;n<e.itemCount_;n++)o[n]=t.JavaScript.valueToCode(e,"ADD"+n,t.JavaScript.ORDER_COMMA)||"null";return["["+o.join(", ")+"]",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.lists_repeat=function(e){return[t.JavaScript.provideFunction_("listsRepeat",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"])+"("+(t.JavaScript.valueToCode(e,"ITEM",t.JavaScript.ORDER_COMMA)||"null")+", "+(e=t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_COMMA)||"0")+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_length=function(e){return[(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+".length",t.JavaScript.ORDER_MEMBER]},t.JavaScript.lists_isEmpty=function(e){return["!"+(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+".length",t.JavaScript.ORDER_LOGICAL_NOT]},t.JavaScript.lists_indexOf=function(e){var o="FIRST"==e.getFieldValue("END")?"indexOf":"lastIndexOf",n=t.JavaScript.valueToCode(e,"FIND",t.JavaScript.ORDER_NONE)||"''";return o=(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+"."+o+"("+n+")",e.workspace.options.oneBasedIndex?[o+" + 1",t.JavaScript.ORDER_ADDITION]:[o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_getIndex=function(e){var o=e.getFieldValue("MODE")||"GET",n=e.getFieldValue("WHERE")||"FROM_START",r=t.JavaScript.valueToCode(e,"VALUE","RANDOM"==n?t.JavaScript.ORDER_COMMA:t.JavaScript.ORDER_MEMBER)||"[]";switch(n){case"FIRST":if("GET"==o)return[r+"[0]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==o)return[r+".shift()",t.JavaScript.ORDER_MEMBER];if("REMOVE"==o)return r+".shift();\n";break;case"LAST":if("GET"==o)return[r+".slice(-1)[0]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==o)return[r+".pop()",t.JavaScript.ORDER_MEMBER];if("REMOVE"==o)return r+".pop();\n";break;case"FROM_START":if(e=t.JavaScript.getAdjusted(e,"AT"),"GET"==o)return[r+"["+e+"]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==o)return[r+".splice("+e+", 1)[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==o)return r+".splice("+e+", 1);\n";break;case"FROM_END":if(e=t.JavaScript.getAdjusted(e,"AT",1,!0),"GET"==o)return[r+".slice("+e+")[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"==o)return[r+".splice("+e+", 1)[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==o)return r+".splice("+e+", 1);";break;case"RANDOM":if(r=t.JavaScript.provideFunction_("listsGetRandomItem",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+r+", "+("GET"!=o)+")","GET"==o||"GET_REMOVE"==o)return[r,t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==o)return r+";\n"}throw Error("Unhandled combination (lists_getIndex).")},t.JavaScript.lists_setIndex=function(e){function o(){if(n.match(/^\w+$/))return"";var e=t.JavaScript.variableDB_.getDistinctName("tmpList",t.Variables.NAME_TYPE),o="var "+e+" = "+n+";\n";return n=e,o}var n=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",r=e.getFieldValue("MODE")||"GET",i=e.getFieldValue("WHERE")||"FROM_START",s=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_ASSIGNMENT)||"null";switch(i){case"FIRST":if("SET"==r)return n+"[0] = "+s+";\n";if("INSERT"==r)return n+".unshift("+s+");\n";break;case"LAST":if("SET"==r)return(e=o())+(n+"[")+n+".length - 1] = "+s+";\n";if("INSERT"==r)return n+".push("+s+");\n";break;case"FROM_START":if(i=t.JavaScript.getAdjusted(e,"AT"),"SET"==r)return n+"["+i+"] = "+s+";\n";if("INSERT"==r)return n+".splice("+i+", 0, "+s+");\n";break;case"FROM_END":if(i=t.JavaScript.getAdjusted(e,"AT",1,!1,t.JavaScript.ORDER_SUBTRACTION),e=o(),"SET"==r)return e+(n+"[")+n+".length - "+i+"] = "+s+";\n";if("INSERT"==r)return e+(n+".splice(")+n+".length - "+i+", 0, "+s+");\n";break;case"RANDOM":if(e=o(),e+="var "+(i=t.JavaScript.variableDB_.getDistinctName("tmpX",t.Variables.NAME_TYPE))+" = Math.floor(Math.random() * "+n+".length);\n","SET"==r)return e+(n+"[")+i+"] = "+s+";\n";if("INSERT"==r)return e+(n+".splice(")+i+", 0, "+s+");\n"}throw Error("Unhandled combination (lists_setIndex).")},t.JavaScript.lists.getIndex_=function(t,e,o){return"FIRST"==e?"0":"FROM_END"==e?t+".length - 1 - "+o:"LAST"==e?t+".length - 1":o},t.JavaScript.lists_getSublist=function(e){var o=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",n=e.getFieldValue("WHERE1"),r=e.getFieldValue("WHERE2");if("FIRST"==n&&"LAST"==r)o+=".slice(0)";else if(o.match(/^\w+$/)||"FROM_END"!=n&&"FROM_START"==r){switch(n){case"FROM_START":var i=t.JavaScript.getAdjusted(e,"AT1");break;case"FROM_END":i=o+".length - "+(i=t.JavaScript.getAdjusted(e,"AT1",1,!1,t.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":i="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(r){case"FROM_START":e=t.JavaScript.getAdjusted(e,"AT2",1);break;case"FROM_END":e=o+".length - "+(e=t.JavaScript.getAdjusted(e,"AT2",0,!1,t.JavaScript.ORDER_SUBTRACTION));break;case"LAST":e=o+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}o=o+".slice("+i+", "+e+")"}else{i=t.JavaScript.getAdjusted(e,"AT1"),e=t.JavaScript.getAdjusted(e,"AT2");var s=t.JavaScript.lists.getIndex_,l={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};o=t.JavaScript.provideFunction_("subsequence"+l[n]+l[r],["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==n||"FROM_START"==n?", at1":"")+("FROM_END"==r||"FROM_START"==r?", at2":"")+") {","  var start = "+s("sequence",n,"at1")+";","  var end = "+s("sequence",r,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+o+("FROM_END"==n||"FROM_START"==n?", "+i:"")+("FROM_END"==r||"FROM_START"==r?", "+e:"")+")"}return[o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_sort=function(e){var o=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_FUNCTION_CALL)||"[]",n="1"===e.getFieldValue("DIRECTION")?1:-1;return e=e.getFieldValue("TYPE"),[o+".slice().sort("+t.JavaScript.provideFunction_("listsGetSortCompare",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return parseFloat(a) - parseFloat(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"])+'("'+e+'", '+n+"))",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_split=function(e){var o=t.JavaScript.valueToCode(e,"INPUT",t.JavaScript.ORDER_MEMBER),n=t.JavaScript.valueToCode(e,"DELIM",t.JavaScript.ORDER_NONE)||"''";if("SPLIT"==(e=e.getFieldValue("MODE")))o||(o="''"),e="split";else{if("JOIN"!=e)throw Error("Unknown mode: "+e);o||(o="[]"),e="join"}return[o+"."+e+"("+n+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_reverse=function(e){return[(t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.logic={},t.JavaScript.controls_if=function(e){var o=0,n="";t.JavaScript.STATEMENT_PREFIX&&(n+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,e));do{var r=t.JavaScript.valueToCode(e,"IF"+o,t.JavaScript.ORDER_NONE)||"false",i=t.JavaScript.statementToCode(e,"DO"+o);t.JavaScript.STATEMENT_SUFFIX&&(i=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e),t.JavaScript.INDENT)+i),n+=(0<o?" else ":"")+"if ("+r+") {\n"+i+"}",++o}while(e.getInput("IF"+o));return(e.getInput("ELSE")||t.JavaScript.STATEMENT_SUFFIX)&&(i=t.JavaScript.statementToCode(e,"ELSE"),t.JavaScript.STATEMENT_SUFFIX&&(i=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e),t.JavaScript.INDENT)+i),n+=" else {\n"+i+"}"),n+"\n"},t.JavaScript.controls_ifelse=t.JavaScript.controls_if,t.JavaScript.logic_compare=function(e){var o={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],n="=="==o||"!="==o?t.JavaScript.ORDER_EQUALITY:t.JavaScript.ORDER_RELATIONAL;return[(t.JavaScript.valueToCode(e,"A",n)||"0")+" "+o+" "+(e=t.JavaScript.valueToCode(e,"B",n)||"0"),n]},t.JavaScript.logic_operation=function(e){var o="AND"==e.getFieldValue("OP")?"&&":"||",n="&&"==o?t.JavaScript.ORDER_LOGICAL_AND:t.JavaScript.ORDER_LOGICAL_OR,r=t.JavaScript.valueToCode(e,"A",n);if(e=t.JavaScript.valueToCode(e,"B",n),r||e){var i="&&"==o?"true":"false";r||(r=i),e||(e=i)}else e=r="false";return[r+" "+o+" "+e,n]},t.JavaScript.logic_negate=function(e){var o=t.JavaScript.ORDER_LOGICAL_NOT;return["!"+(t.JavaScript.valueToCode(e,"BOOL",o)||"true"),o]},t.JavaScript.logic_boolean=function(e){return["TRUE"==e.getFieldValue("BOOL")?"true":"false",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.logic_null=function(e){return["null",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.logic_ternary=function(e){return[(t.JavaScript.valueToCode(e,"IF",t.JavaScript.ORDER_CONDITIONAL)||"false")+" ? "+(t.JavaScript.valueToCode(e,"THEN",t.JavaScript.ORDER_CONDITIONAL)||"null")+" : "+(e=t.JavaScript.valueToCode(e,"ELSE",t.JavaScript.ORDER_CONDITIONAL)||"null"),t.JavaScript.ORDER_CONDITIONAL]},t.JavaScript.loops={},t.JavaScript.controls_repeat_ext=function(e){var o=e.getField("TIMES")?String(Number(e.getFieldValue("TIMES"))):t.JavaScript.valueToCode(e,"TIMES",t.JavaScript.ORDER_ASSIGNMENT)||"0",n=t.JavaScript.statementToCode(e,"DO");n=t.JavaScript.addLoopTrap(n,e),e="";var r=t.JavaScript.variableDB_.getDistinctName("count",t.Variables.NAME_TYPE),i=o;return o.match(/^\w+$/)||t.isNumber(o)||(e+="var "+(i=t.JavaScript.variableDB_.getDistinctName("repeat_end",t.Variables.NAME_TYPE))+" = "+o+";\n"),e+"for (var "+r+" = 0; "+r+" < "+i+"; "+r+"++) {\n"+n+"}\n"},t.JavaScript.controls_repeat=t.JavaScript.controls_repeat_ext,t.JavaScript.controls_whileUntil=function(e){var o="UNTIL"==e.getFieldValue("MODE"),n=t.JavaScript.valueToCode(e,"BOOL",o?t.JavaScript.ORDER_LOGICAL_NOT:t.JavaScript.ORDER_NONE)||"false",r=t.JavaScript.statementToCode(e,"DO");return o&&(n="!"+n),"while ("+n+") {\n"+(r=t.JavaScript.addLoopTrap(r,e))+"}\n"},t.JavaScript.controls_for=function(e){var o=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE),n=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_ASSIGNMENT)||"0",r=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_ASSIGNMENT)||"0",i=t.JavaScript.valueToCode(e,"BY",t.JavaScript.ORDER_ASSIGNMENT)||"1",s=t.JavaScript.statementToCode(e,"DO");if(s=t.JavaScript.addLoopTrap(s,e),t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)){var l=parseFloat(n)<=parseFloat(r);e="for ("+o+" = "+n+"; "+o+(l?" <= ":" >= ")+r+"; "+o,e=(1==(o=Math.abs(parseFloat(i)))?e+(l?"++":"--"):e+(l?" += ":" -= ")+o)+") {\n"+s+"}\n"}else e="",l=n,n.match(/^\w+$/)||t.isNumber(n)||(e+="var "+(l=t.JavaScript.variableDB_.getDistinctName(o+"_start",t.Variables.NAME_TYPE))+" = "+n+";\n"),n=r,r.match(/^\w+$/)||t.isNumber(r)||(e+="var "+(n=t.JavaScript.variableDB_.getDistinctName(o+"_end",t.Variables.NAME_TYPE))+" = "+r+";\n"),e+="var "+(r=t.JavaScript.variableDB_.getDistinctName(o+"_inc",t.Variables.NAME_TYPE))+" = ",e=(e=t.isNumber(i)?e+(Math.abs(i)+";\n"):e+"Math.abs("+i+");\n")+"if ("+l+" > "+n+") {\n"+(t.JavaScript.INDENT+r)+" = -"+r+";\n",e+="}\n",e+="for ("+o+" = "+l+"; "+r+" >= 0 ? "+o+" <= "+n+" : "+o+" >= "+n+"; "+o+" += "+r+") {\n"+s+"}\n";return e},t.JavaScript.controls_forEach=function(e){var o=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE),n=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_ASSIGNMENT)||"[]",r=t.JavaScript.statementToCode(e,"DO");r=t.JavaScript.addLoopTrap(r,e),e="";var i=n;return n.match(/^\w+$/)||(e+="var "+(i=t.JavaScript.variableDB_.getDistinctName(o+"_list",t.Variables.NAME_TYPE))+" = "+n+";\n"),e+"for (var "+(n=t.JavaScript.variableDB_.getDistinctName(o+"_index",t.Variables.NAME_TYPE))+" in "+i+") {\n"+(r=t.JavaScript.INDENT+o+" = "+i+"["+n+"];\n"+r)+"}\n"},t.JavaScript.controls_flow_statements=function(e){var o="";if(t.JavaScript.STATEMENT_PREFIX&&(o+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,e)),t.JavaScript.STATEMENT_SUFFIX&&(o+=t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e)),t.JavaScript.STATEMENT_PREFIX){var n=t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(e);n&&!n.suppressPrefixSuffix&&(o+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,n))}switch(e.getFieldValue("FLOW")){case"BREAK":return o+"break;\n";case"CONTINUE":return o+"continue;\n"}throw Error("Unknown flow statement.")},t.JavaScript.math={},t.JavaScript.math_number=function(e){return[e=parseFloat(e.getFieldValue("NUM")),0<=e?t.JavaScript.ORDER_ATOMIC:t.JavaScript.ORDER_UNARY_NEGATION]},t.JavaScript.math_arithmetic=function(e){var o={ADD:[" + ",t.JavaScript.ORDER_ADDITION],MINUS:[" - ",t.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",t.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",t.JavaScript.ORDER_DIVISION],POWER:[null,t.JavaScript.ORDER_COMMA]}[e.getFieldValue("OP")],n=o[0],r=t.JavaScript.valueToCode(e,"A",o=o[1])||"0";return e=t.JavaScript.valueToCode(e,"B",o)||"0",n?[r+n+e,o]:["Math.pow("+r+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_single=function(e){var o=e.getFieldValue("OP");if("NEG"==o)return"-"==(e=t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_UNARY_NEGATION)||"0")[0]&&(e=" "+e),["-"+e,t.JavaScript.ORDER_UNARY_NEGATION];switch(e="SIN"==o||"COS"==o||"TAN"==o?t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_DIVISION)||"0":t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_NONE)||"0",o){case"ABS":var n="Math.abs("+e+")";break;case"ROOT":n="Math.sqrt("+e+")";break;case"LN":n="Math.log("+e+")";break;case"EXP":n="Math.exp("+e+")";break;case"POW10":n="Math.pow(10,"+e+")";break;case"ROUND":n="Math.round("+e+")";break;case"ROUNDUP":n="Math.ceil("+e+")";break;case"ROUNDDOWN":n="Math.floor("+e+")";break;case"SIN":n="Math.sin("+e+" / 180 * Math.PI)";break;case"COS":n="Math.cos("+e+" / 180 * Math.PI)";break;case"TAN":n="Math.tan("+e+" / 180 * Math.PI)"}if(n)return[n,t.JavaScript.ORDER_FUNCTION_CALL];switch(o){case"LOG10":n="Math.log("+e+") / Math.log(10)";break;case"ASIN":n="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":n="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":n="Math.atan("+e+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+o)}return[n,t.JavaScript.ORDER_DIVISION]},t.JavaScript.math_constant=function(e){return{PI:["Math.PI",t.JavaScript.ORDER_MEMBER],E:["Math.E",t.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",t.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",t.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",t.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",t.JavaScript.ORDER_ATOMIC]}[e.getFieldValue("CONSTANT")]},t.JavaScript.math_number_property=function(e){var o=t.JavaScript.valueToCode(e,"NUMBER_TO_CHECK",t.JavaScript.ORDER_MODULUS)||"0",n=e.getFieldValue("PROPERTY");if("PRIME"==n)return[t.JavaScript.provideFunction_("mathIsPrime",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+o+")",t.JavaScript.ORDER_FUNCTION_CALL];switch(n){case"EVEN":var r=o+" % 2 == 0";break;case"ODD":r=o+" % 2 == 1";break;case"WHOLE":r=o+" % 1 == 0";break;case"POSITIVE":r=o+" > 0";break;case"NEGATIVE":r=o+" < 0";break;case"DIVISIBLE_BY":r=o+" % "+(e=t.JavaScript.valueToCode(e,"DIVISOR",t.JavaScript.ORDER_MODULUS)||"0")+" == 0"}return[r,t.JavaScript.ORDER_EQUALITY]},t.JavaScript.math_change=function(e){var o=t.JavaScript.valueToCode(e,"DELTA",t.JavaScript.ORDER_ADDITION)||"0";return(e=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE))+" = (typeof "+e+" == 'number' ? "+e+" : 0) + "+o+";\n"},t.JavaScript.math_round=t.JavaScript.math_single,t.JavaScript.math_trig=t.JavaScript.math_single,t.JavaScript.math_on_list=function(e){var o=e.getFieldValue("OP");switch(o){case"SUM":e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",e+=".reduce(function(x, y) {return x + y;})";break;case"MIN":e="Math.min.apply(null, "+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_COMMA)||"[]")+")";break;case"MAX":e="Math.max.apply(null, "+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_COMMA)||"[]")+")";break;case"AVERAGE":e=(o=t.JavaScript.provideFunction_("mathMean",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"MEDIAN":e=(o=t.JavaScript.provideFunction_("mathMedian",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"MODE":e=(o=t.JavaScript.provideFunction_("mathModes",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"STD_DEV":e=(o=t.JavaScript.provideFunction_("mathStandardDeviation",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;case"RANDOM":e=(o=t.JavaScript.provideFunction_("mathRandomList",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]))+"("+(e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+o)}return[e,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_modulo=function(e){return[(t.JavaScript.valueToCode(e,"DIVIDEND",t.JavaScript.ORDER_MODULUS)||"0")+" % "+(e=t.JavaScript.valueToCode(e,"DIVISOR",t.JavaScript.ORDER_MODULUS)||"0"),t.JavaScript.ORDER_MODULUS]},t.JavaScript.math_constrain=function(e){return["Math.min(Math.max("+(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_COMMA)||"0")+", "+(t.JavaScript.valueToCode(e,"LOW",t.JavaScript.ORDER_COMMA)||"0")+"), "+(e=t.JavaScript.valueToCode(e,"HIGH",t.JavaScript.ORDER_COMMA)||"Infinity")+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_random_int=function(e){var o=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_COMMA)||"0";return e=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_COMMA)||"0",[t.JavaScript.provideFunction_("mathRandomInt",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+o+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_random_float=function(e){return["Math.random()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_atan2=function(e){var o=t.JavaScript.valueToCode(e,"X",t.JavaScript.ORDER_COMMA)||"0";return["Math.atan2("+(t.JavaScript.valueToCode(e,"Y",t.JavaScript.ORDER_COMMA)||"0")+", "+o+") / Math.PI * 180",t.JavaScript.ORDER_DIVISION]},t.JavaScript.procedures={},t.JavaScript.procedures_defreturn=function(e){var o=t.JavaScript.variableDB_.getName(e.getFieldValue("NAME"),t.Procedures.NAME_TYPE),n="";t.JavaScript.STATEMENT_PREFIX&&(n+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,e)),t.JavaScript.STATEMENT_SUFFIX&&(n+=t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e)),n&&(n=t.JavaScript.prefixLines(n,t.JavaScript.INDENT));var r="";t.JavaScript.INFINITE_LOOP_TRAP&&(r=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.INFINITE_LOOP_TRAP,e),t.JavaScript.INDENT));var i=t.JavaScript.statementToCode(e,"STACK"),s=t.JavaScript.valueToCode(e,"RETURN",t.JavaScript.ORDER_NONE)||"",l="";i&&s&&(l=n),s&&(s=t.JavaScript.INDENT+"return "+s+";\n");for(var a=[],u=0;u<e.arguments_.length;u++)a[u]=t.JavaScript.variableDB_.getName(e.arguments_[u],t.Variables.NAME_TYPE);return n="function "+o+"("+a.join(", ")+") {\n"+n+r+i+l+s+"}",n=t.JavaScript.scrub_(e,n),t.JavaScript.definitions_["%"+o]=n,null},t.JavaScript.procedures_defnoreturn=t.JavaScript.procedures_defreturn,t.JavaScript.procedures_callreturn=function(e){for(var o=t.JavaScript.variableDB_.getName(e.getFieldValue("NAME"),t.Procedures.NAME_TYPE),n=[],r=0;r<e.arguments_.length;r++)n[r]=t.JavaScript.valueToCode(e,"ARG"+r,t.JavaScript.ORDER_COMMA)||"null";return[o+"("+n.join(", ")+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.procedures_callnoreturn=function(e){return t.JavaScript.procedures_callreturn(e)[0]+";\n"},t.JavaScript.procedures_ifreturn=function(e){var o="if ("+(t.JavaScript.valueToCode(e,"CONDITION",t.JavaScript.ORDER_NONE)||"false")+") {\n";return t.JavaScript.STATEMENT_SUFFIX&&(o+=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e),t.JavaScript.INDENT)),e.hasReturnValue_?(e=t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_NONE)||"null",o+=t.JavaScript.INDENT+"return "+e+";\n"):o+=t.JavaScript.INDENT+"return;\n",o+"}\n"},t.JavaScript.texts={},t.JavaScript.text=function(e){return[t.JavaScript.quote_(e.getFieldValue("TEXT")),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.text.forceString_=function(e){return t.JavaScript.text.forceString_.strRegExp.test(e)?e:"String("+e+")"},t.JavaScript.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,t.JavaScript.text_join=function(e){switch(e.itemCount_){case 0:return["''",t.JavaScript.ORDER_ATOMIC];case 1:return e=t.JavaScript.valueToCode(e,"ADD0",t.JavaScript.ORDER_NONE)||"''",[e=t.JavaScript.text.forceString_(e),t.JavaScript.ORDER_FUNCTION_CALL];case 2:var o=t.JavaScript.valueToCode(e,"ADD0",t.JavaScript.ORDER_NONE)||"''";return e=t.JavaScript.valueToCode(e,"ADD1",t.JavaScript.ORDER_NONE)||"''",[e=t.JavaScript.text.forceString_(o)+" + "+t.JavaScript.text.forceString_(e),t.JavaScript.ORDER_ADDITION];default:o=Array(e.itemCount_);for(var n=0;n<e.itemCount_;n++)o[n]=t.JavaScript.valueToCode(e,"ADD"+n,t.JavaScript.ORDER_COMMA)||"''";return[e="["+o.join(",")+"].join('')",t.JavaScript.ORDER_FUNCTION_CALL]}},t.JavaScript.text_append=function(e){var o=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE);return e=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''",o+" += "+t.JavaScript.text.forceString_(e)+";\n"},t.JavaScript.text_length=function(e){return[(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_FUNCTION_CALL)||"''")+".length",t.JavaScript.ORDER_MEMBER]},t.JavaScript.text_isEmpty=function(e){return["!"+(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"''")+".length",t.JavaScript.ORDER_LOGICAL_NOT]},t.JavaScript.text_indexOf=function(e){var o="FIRST"==e.getFieldValue("END")?"indexOf":"lastIndexOf",n=t.JavaScript.valueToCode(e,"FIND",t.JavaScript.ORDER_NONE)||"''";return o=(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"''")+"."+o+"("+n+")",e.workspace.options.oneBasedIndex?[o+" + 1",t.JavaScript.ORDER_ADDITION]:[o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_charAt=function(e){var o=e.getFieldValue("WHERE")||"FROM_START",n=t.JavaScript.valueToCode(e,"VALUE","RANDOM"==o?t.JavaScript.ORDER_NONE:t.JavaScript.ORDER_MEMBER)||"''";switch(o){case"FIRST":return[n+".charAt(0)",t.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[n+".slice(-1)",t.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return[n+".charAt("+(e=t.JavaScript.getAdjusted(e,"AT"))+")",t.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return[n+".slice("+(e=t.JavaScript.getAdjusted(e,"AT",1,!0))+").charAt(0)",t.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[t.JavaScript.provideFunction_("textRandomLetter",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+n+")",t.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},t.JavaScript.text.getIndex_=function(t,e,o){return"FIRST"==e?"0":"FROM_END"==e?t+".length - 1 - "+o:"LAST"==e?t+".length - 1":o},t.JavaScript.text_getSubstring=function(e){var o=t.JavaScript.valueToCode(e,"STRING",t.JavaScript.ORDER_FUNCTION_CALL)||"''",n=e.getFieldValue("WHERE1"),r=e.getFieldValue("WHERE2");if("FIRST"!=n||"LAST"!=r)if(o.match(/^'?\w+'?$/)||"FROM_END"!=n&&"LAST"!=n&&"FROM_END"!=r&&"LAST"!=r){switch(n){case"FROM_START":var i=t.JavaScript.getAdjusted(e,"AT1");break;case"FROM_END":i=o+".length - "+(i=t.JavaScript.getAdjusted(e,"AT1",1,!1,t.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":i="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(r){case"FROM_START":e=t.JavaScript.getAdjusted(e,"AT2",1);break;case"FROM_END":e=o+".length - "+(e=t.JavaScript.getAdjusted(e,"AT2",0,!1,t.JavaScript.ORDER_SUBTRACTION));break;case"LAST":e=o+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}o=o+".slice("+i+", "+e+")"}else{i=t.JavaScript.getAdjusted(e,"AT1"),e=t.JavaScript.getAdjusted(e,"AT2");var s=t.JavaScript.text.getIndex_,l={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};o=t.JavaScript.provideFunction_("subsequence"+l[n]+l[r],["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==n||"FROM_START"==n?", at1":"")+("FROM_END"==r||"FROM_START"==r?", at2":"")+") {","  var start = "+s("sequence",n,"at1")+";","  var end = "+s("sequence",r,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+o+("FROM_END"==n||"FROM_START"==n?", "+i:"")+("FROM_END"==r||"FROM_START"==r?", "+e:"")+")"}return[o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_changeCase=function(e){var o={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[e.getFieldValue("CASE")];return e=t.JavaScript.valueToCode(e,"TEXT",o?t.JavaScript.ORDER_MEMBER:t.JavaScript.ORDER_NONE)||"''",[o?e+o:t.JavaScript.provideFunction_("textToTitleCase",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_trim=function(e){var o={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[e.getFieldValue("MODE")];return[(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''")+o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_print=function(e){return"window.alert("+(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''")+");\n"},t.JavaScript.text_prompt_ext=function(e){var o="window.prompt("+(e.getField("TEXT")?t.JavaScript.quote_(e.getFieldValue("TEXT")):t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"==e.getFieldValue("TYPE")&&(o="parseFloat("+o+")"),[o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_prompt=t.JavaScript.text_prompt_ext,t.JavaScript.text_count=function(e){var o=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''";return e=t.JavaScript.valueToCode(e,"SUB",t.JavaScript.ORDER_NONE)||"''",[t.JavaScript.provideFunction_("textCount",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+o+", "+e+")",t.JavaScript.ORDER_SUBTRACTION]},t.JavaScript.text_replace=function(e){var o=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''",n=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_NONE)||"''";return e=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_NONE)||"''",[t.JavaScript.provideFunction_("textReplace",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+o+", "+n+", "+e+")",t.JavaScript.ORDER_MEMBER]},t.JavaScript.text_reverse=function(e){return[(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",t.JavaScript.ORDER_MEMBER]},t.JavaScript.variables={},t.JavaScript.variables_get=function(e){return[t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.variables_set=function(e){var o=t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_ASSIGNMENT)||"0";return t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE)+" = "+o+";\n"},t.JavaScript.variablesDynamic={},t.JavaScript.variables_get_dynamic=t.JavaScript.variables_get,t.JavaScript.variables_set_dynamic=t.JavaScript.variables_set,t.JavaScript})?n.apply(e,r):n)||(t.exports=i)},0:function(t,e,o){t.exports=o("zUnb")},"0TWp":function(t,e,o){var n=o("mrSG").__values;!function(){"use strict";!function(t){var e=t.performance;function o(t){e&&e.mark&&e.mark(t)}function n(t,o){e&&e.measure&&e.measure(t,o)}o("Zone");var r=!0===t.__zone_symbol__forceDuplicateZoneCheck;if(t.Zone){if(r||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}var i,s=function(){function e(t,e){this._parent=t,this._name=e?e.name||"unnamed":"<root>",this._properties=e&&e.properties||{},this._zoneDelegate=new a(this,this._parent&&this._parent._zoneDelegate,e)}return e.assertZonePatched=function(){if(t.Promise!==w.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")},Object.defineProperty(e,"root",{get:function(){for(var t=e.current;t.parent;)t=t.parent;return t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"current",{get:function(){return B.zone},enumerable:!0,configurable:!0}),Object.defineProperty(e,"currentTask",{get:function(){return I},enumerable:!0,configurable:!0}),e.__load_patch=function(i,s){if(w.hasOwnProperty(i)){if(r)throw Error("Already loaded patch: "+i)}else if(!t["__Zone_disable_"+i]){var l="Zone:"+i;o(l),w[i]=s(t,e,O),n(l,l)}},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var e=this.getZoneWith(t);if(e)return e._properties[t]},e.prototype.getZoneWith=function(t){for(var e=this;e;){if(e._properties.hasOwnProperty(t))return e;e=e._parent}return null},e.prototype.fork=function(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)},e.prototype.wrap=function(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);var o=this._zoneDelegate.intercept(this,t,e),n=this;return function(){return n.runGuarded(o,this,arguments,e)}},e.prototype.run=function(t,e,o,n){B={parent:B,zone:this};try{return this._zoneDelegate.invoke(this,t,e,o,n)}finally{B=B.parent}},e.prototype.runGuarded=function(t,e,o,n){void 0===e&&(e=null),B={parent:B,zone:this};try{try{return this._zoneDelegate.invoke(this,t,e,o,n)}catch(r){if(this._zoneDelegate.handleError(this,r))throw r}}finally{B=B.parent}},e.prototype.runTask=function(t,e,o){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||_).name+"; Execution: "+this.name+")");if(t.state!==y||t.type!==A&&t.type!==C){var n=t.state!=E;n&&t._transitionTo(E,b),t.runCount++;var r=I;I=t,B={parent:B,zone:this};try{t.type==C&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,e,o)}catch(i){if(this._zoneDelegate.handleError(this,i))throw i}}finally{t.state!==y&&t.state!==T&&(t.type==A||t.data&&t.data.isPeriodic?n&&t._transitionTo(b,E):(t.runCount=0,this._updateTaskCount(t,-1),n&&t._transitionTo(y,E,y))),B=B.parent,I=r}}},e.prototype.scheduleTask=function(t){if(t.zone&&t.zone!==this)for(var e=this;e;){if(e===t.zone)throw Error("can not reschedule task to "+this.name+" which is descendants of the original zone "+t.zone.name);e=e.parent}t._transitionTo(v,y);var o=[];t._zoneDelegates=o,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(n){throw t._transitionTo(T,v,y),this._zoneDelegate.handleError(this,n),n}return t._zoneDelegates===o&&this._updateTaskCount(t,1),t.state==v&&t._transitionTo(b,v),t},e.prototype.scheduleMicroTask=function(t,e,o,n){return this.scheduleTask(new u(S,t,e,o,n,void 0))},e.prototype.scheduleMacroTask=function(t,e,o,n,r){return this.scheduleTask(new u(C,t,e,o,n,r))},e.prototype.scheduleEventTask=function(t,e,o,n,r){return this.scheduleTask(new u(A,t,e,o,n,r))},e.prototype.cancelTask=function(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||_).name+"; Execution: "+this.name+")");t._transitionTo(k,b,E);try{this._zoneDelegate.cancelTask(this,t)}catch(e){throw t._transitionTo(T,k),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(t,-1),t._transitionTo(y,k),t.runCount=0,t},e.prototype._updateTaskCount=function(t,e){var o=t._zoneDelegates;-1==e&&(t._zoneDelegates=null);for(var n=0;n<o.length;n++)o[n]._updateTaskCount(t.type,e)},e.__symbol__=x,e}(),l={name:"",onHasTask:function(t,e,o,n){return t.hasTask(o,n)},onScheduleTask:function(t,e,o,n){return t.scheduleTask(o,n)},onInvokeTask:function(t,e,o,n,r,i){return t.invokeTask(o,n,r,i)},onCancelTask:function(t,e,o,n){return t.cancelTask(o,n)}},a=function(){function t(t,e,o){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=t,this._parentDelegate=e,this._forkZS=o&&(o&&o.onFork?o:e._forkZS),this._forkDlgt=o&&(o.onFork?e:e._forkDlgt),this._forkCurrZone=o&&(o.onFork?this.zone:e.zone),this._interceptZS=o&&(o.onIntercept?o:e._interceptZS),this._interceptDlgt=o&&(o.onIntercept?e:e._interceptDlgt),this._interceptCurrZone=o&&(o.onIntercept?this.zone:e.zone),this._invokeZS=o&&(o.onInvoke?o:e._invokeZS),this._invokeDlgt=o&&(o.onInvoke?e:e._invokeDlgt),this._invokeCurrZone=o&&(o.onInvoke?this.zone:e.zone),this._handleErrorZS=o&&(o.onHandleError?o:e._handleErrorZS),this._handleErrorDlgt=o&&(o.onHandleError?e:e._handleErrorDlgt),this._handleErrorCurrZone=o&&(o.onHandleError?this.zone:e.zone),this._scheduleTaskZS=o&&(o.onScheduleTask?o:e._scheduleTaskZS),this._scheduleTaskDlgt=o&&(o.onScheduleTask?e:e._scheduleTaskDlgt),this._scheduleTaskCurrZone=o&&(o.onScheduleTask?this.zone:e.zone),this._invokeTaskZS=o&&(o.onInvokeTask?o:e._invokeTaskZS),this._invokeTaskDlgt=o&&(o.onInvokeTask?e:e._invokeTaskDlgt),this._invokeTaskCurrZone=o&&(o.onInvokeTask?this.zone:e.zone),this._cancelTaskZS=o&&(o.onCancelTask?o:e._cancelTaskZS),this._cancelTaskDlgt=o&&(o.onCancelTask?e:e._cancelTaskDlgt),this._cancelTaskCurrZone=o&&(o.onCancelTask?this.zone:e.zone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var n=o&&o.onHasTask;(n||e&&e._hasTaskZS)&&(this._hasTaskZS=n?o:l,this._hasTaskDlgt=e,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=t,o.onScheduleTask||(this._scheduleTaskZS=l,this._scheduleTaskDlgt=e,this._scheduleTaskCurrZone=this.zone),o.onInvokeTask||(this._invokeTaskZS=l,this._invokeTaskDlgt=e,this._invokeTaskCurrZone=this.zone),o.onCancelTask||(this._cancelTaskZS=l,this._cancelTaskDlgt=e,this._cancelTaskCurrZone=this.zone))}return t.prototype.fork=function(t,e){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,t,e):new s(t,e)},t.prototype.intercept=function(t,e,o){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,t,e,o):e},t.prototype.invoke=function(t,e,o,n,r){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,t,e,o,n,r):e.apply(o,n)},t.prototype.handleError=function(t,e){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,t,e)},t.prototype.scheduleTask=function(t,e){var o=e;if(this._scheduleTaskZS)this._hasTaskZS&&o._zoneDelegates.push(this._hasTaskDlgtOwner),(o=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,t,e))||(o=e);else if(e.scheduleFn)e.scheduleFn(e);else{if(e.type!=S)throw new Error("Task is missing scheduleFn.");f(e)}return o},t.prototype.invokeTask=function(t,e,o,n){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,t,e,o,n):e.callback.apply(o,n)},t.prototype.cancelTask=function(t,e){var o;if(this._cancelTaskZS)o=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,t,e);else{if(!e.cancelFn)throw Error("Task is not cancelable");o=e.cancelFn(e)}return o},t.prototype.hasTask=function(t,e){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,e)}catch(o){this.handleError(t,o)}},t.prototype._updateTaskCount=function(t,e){var o=this._taskCounts,n=o[t],r=o[t]=n+e;if(r<0)throw new Error("More tasks executed then were scheduled.");0!=n&&0!=r||this.hasTask(this.zone,{microTask:o.microTask>0,macroTask:o.macroTask>0,eventTask:o.eventTask>0,change:t})},t}(),u=function(){function e(o,n,r,i,s,l){this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=o,this.source=n,this.data=i,this.scheduleFn=s,this.cancelFn=l,this.callback=r;var a=this;this.invoke=o===A&&i&&i.useG?e.invokeTask:function(){return e.invokeTask.call(t,a,this,arguments)}}return e.invokeTask=function(t,e,o){t||(t=this),R++;try{return t.runCount++,t.zone.runTask(t,e,o)}finally{1==R&&m(),R--}},Object.defineProperty(e.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.cancelScheduleRequest=function(){this._transitionTo(y,v)},e.prototype._transitionTo=function(t,e,o){if(this._state!==e&&this._state!==o)throw new Error(this.type+" '"+this.source+"': can not transition to '"+t+"', expecting state '"+e+"'"+(o?" or '"+o+"'":"")+", was '"+this._state+"'.");this._state=t,t==y&&(this._zoneDelegates=null)},e.prototype.toString=function(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)},e.prototype.toJSON=function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}},e}(),c=x("setTimeout"),p=x("Promise"),h=x("then"),g=[],d=!1;function f(e){if(0===R&&0===g.length)if(i||t[p]&&(i=t[p].resolve(0)),i){var o=i[h];o||(o=i.then),o.call(i,m)}else t[c](m,0);e&&g.push(e)}function m(){if(!d){for(d=!0;g.length;){var t=g;g=[];for(var e=0;e<t.length;e++){var o=t[e];try{o.zone.runTask(o,null,null)}catch(n){O.onUnhandledError(n)}}}O.microtaskDrainDone(),d=!1}}var _={name:"NO ZONE"},y="notScheduled",v="scheduling",b="scheduled",E="running",k="canceling",T="unknown",S="microTask",C="macroTask",A="eventTask",w={},O={symbol:x,currentZoneFrame:function(){return B},onUnhandledError:N,microtaskDrainDone:N,scheduleMicroTask:f,showUncaughtError:function(){return!s[x("ignoreConsoleErrorUncaughtError")]},patchEventTarget:function(){return[]},patchOnProperties:N,patchMethod:function(){return N},bindArguments:function(){return[]},patchThen:function(){return N},patchMacroTask:function(){return N},setNativePromise:function(t){t&&"function"==typeof t.resolve&&(i=t.resolve(0))},patchEventPrototype:function(){return N},isIEOrEdge:function(){return!1},getGlobalObjects:function(){},ObjectDefineProperty:function(){return N},ObjectGetOwnPropertyDescriptor:function(){},ObjectCreate:function(){},ArraySlice:function(){return[]},patchClass:function(){return N},wrapWithCurrentZone:function(){return N},filterProperties:function(){return[]},attachOriginToPatched:function(){return N},_redefineProperty:function(){return N},patchCallbacks:function(){return N}},B={parent:null,zone:new s(null,null)},I=null,R=0;function N(){}function x(t){return"__zone_symbol__"+t}n("Zone","Zone"),t.Zone=s}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global),Zone.__load_patch("ZoneAwarePromise",(function(t,e,o){var r=Object.getOwnPropertyDescriptor,i=Object.defineProperty,s=o.symbol,l=[],a=s("Promise"),u=s("then"),c="__creationTrace__";o.onUnhandledError=function(t){if(o.showUncaughtError()){var e=t&&t.rejection;e?console.error("Unhandled Promise rejection:",e instanceof Error?e.message:e,"; Zone:",t.zone.name,"; Task:",t.task&&t.task.source,"; Value:",e,e instanceof Error?e.stack:void 0):console.error(t)}},o.microtaskDrainDone=function(){for(;l.length;)for(var t=function(){var t=l.shift();try{t.zone.runGuarded((function(){throw t}))}catch(e){h(e)}};l.length;)t()};var p=s("unhandledPromiseRejectionHandler");function h(t){o.onUnhandledError(t);try{var n=e[p];n&&"function"==typeof n&&n.call(this,t)}catch(r){}}function g(t){return t&&t.then}function d(t){return t}function f(t){return D.reject(t)}var m=s("state"),_=s("value"),y=s("finally"),v=s("parentPromiseValue"),b=s("parentPromiseState"),E="Promise.then",k=null,T=!0,S=!1,C=0;function A(t,e){return function(o){try{I(t,e,o)}catch(n){I(t,!1,n)}}}var w=function(){var t=!1;return function(e){return function(){t||(t=!0,e.apply(null,arguments))}}},O="Promise resolved with itself",B=s("currentTaskTrace");function I(t,n,r){var s,a=w();if(t===r)throw new TypeError(O);if(t[m]===k){var u=null;try{"object"!=typeof r&&"function"!=typeof r||(u=r&&r.then)}catch(f){return a((function(){I(t,!1,f)}))(),t}if(n!==S&&r instanceof D&&r.hasOwnProperty(m)&&r.hasOwnProperty(_)&&r[m]!==k)N(r),I(t,r[m],r[_]);else if(n!==S&&"function"==typeof u)try{u.call(r,a(A(t,n)),a(A(t,!1)))}catch(f){a((function(){I(t,!1,f)}))()}else{t[m]=n;var p=t[_];if(t[_]=r,t[y]===y&&n===T&&(t[m]=t[b],t[_]=t[v]),n===S&&r instanceof Error){var h=e.currentTask&&e.currentTask.data&&e.currentTask.data[c];h&&i(r,B,{configurable:!0,enumerable:!1,writable:!0,value:h})}for(var g=0;g<p.length;)x(t,p[g++],p[g++],p[g++],p[g++]);if(0==p.length&&n==S){t[m]=C;try{throw new Error("Uncaught (in promise): "+((s=r)&&s.toString===Object.prototype.toString?(s.constructor&&s.constructor.name||"")+": "+JSON.stringify(s):s?s.toString():Object.prototype.toString.call(s))+(r&&r.stack?"\n"+r.stack:""))}catch(f){var d=f;d.rejection=r,d.promise=t,d.zone=e.current,d.task=e.currentTask,l.push(d),o.scheduleMicroTask()}}}}return t}var R=s("rejectionHandledHandler");function N(t){if(t[m]===C){try{var o=e[R];o&&"function"==typeof o&&o.call(this,{rejection:t[_],promise:t})}catch(r){}t[m]=S;for(var n=0;n<l.length;n++)t===l[n].promise&&l.splice(n,1)}}function x(t,e,o,n,r){N(t);var i=t[m],s=i?"function"==typeof n?n:d:"function"==typeof r?r:f;e.scheduleMicroTask(E,(function(){try{var n=t[_],r=o&&y===o[y];r&&(o[v]=n,o[b]=i);var l=e.run(s,void 0,r&&s!==f&&s!==d?[]:[n]);I(o,!0,l)}catch(a){I(o,!1,a)}}),o)}var D=function(){function t(e){if(!(this instanceof t))throw new Error("Must be an instanceof Promise.");this[m]=k,this[_]=[];try{e&&e(A(this,T),A(this,S))}catch(o){I(this,!1,o)}}return t.toString=function(){return"function ZoneAwarePromise() { [native code] }"},t.resolve=function(t){return I(new this(null),T,t)},t.reject=function(t){return I(new this(null),S,t)},t.race=function(t){var e,o,r,i,s=new this((function(t,e){r=t,i=e}));function l(t){r(t)}function a(t){i(t)}try{for(var u=n(t),c=u.next();!c.done;c=u.next()){var p=c.value;g(p)||(p=this.resolve(p)),p.then(l,a)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(e)throw e.error}}return s},t.all=function(t){var e,o,r,i,s=new this((function(t,e){r=t,i=e})),l=2,a=0,u=[],c=function(t){g(t)||(t=p.resolve(t));var e=a;t.then((function(t){u[e]=t,0==--l&&r(u)}),i),l++,a++},p=this;try{for(var h=n(t),d=h.next();!d.done;d=h.next())c(d.value)}catch(f){e={error:f}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(e)throw e.error}}return 0==(l-=2)&&r(u),s},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return"Promise"},enumerable:!0,configurable:!0}),t.prototype.then=function(t,o){var n=new this.constructor(null),r=e.current;return this[m]==k?this[_].push(r,n,t,o):x(this,r,n,t,o),n},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var o=new this.constructor(null);o[y]=y;var n=e.current;return this[m]==k?this[_].push(n,o,t,t):x(this,n,o,t,t),o},t}();D.resolve=D.resolve,D.reject=D.reject,D.race=D.race,D.all=D.all;var L=t[a]=t.Promise,M=e.__symbol__("ZoneAwarePromise"),P=r(t,"Promise");P&&!P.configurable||(P&&delete P.writable,P&&delete P.value,P||(P={configurable:!0,enumerable:!0}),P.get=function(){return t[M]?t[M]:t[a]},P.set=function(e){e===D?t[M]=e:(t[a]=e,e.prototype[u]||V(e),o.setNativePromise(e))},i(t,"Promise",P)),t.Promise=D;var F,U=s("thenPatched");function V(t){var e=t.prototype,o=r(e,"then");if(!o||!1!==o.writable&&o.configurable){var n=e.then;e[u]=n,t.prototype.then=function(t,e){var o=this;return new D((function(t,e){n.call(o,t,e)})).then(t,e)},t[U]=!0}}if(o.patchThen=V,L){V(L);var H=t.fetch;"function"==typeof H&&(t[o.symbol("fetch")]=H,t.fetch=(F=H,function(){var t=F.apply(this,arguments);if(t instanceof D)return t;var e=t.constructor;return e[U]||V(e),t}))}return Promise[e.__symbol__("uncaughtPromiseErrors")]=l,D}));var t=Object.getOwnPropertyDescriptor,e=Object.defineProperty,o=Object.getPrototypeOf,r=Object.create,i=Array.prototype.slice,s="addEventListener",l="removeEventListener",a=Zone.__symbol__(s),u=Zone.__symbol__(l),c="true",p="false",h="__zone_symbol__";function g(t,e){return Zone.current.wrap(t,e)}function d(t,e,o,n,r){return Zone.current.scheduleMacroTask(t,e,o,n,r)}var f=Zone.__symbol__,m="undefined"!=typeof window,_=m?window:void 0,y=m&&_||"object"==typeof self&&self||global,v="removeAttribute",b=[null];function E(t,e){for(var o=t.length-1;o>=0;o--)"function"==typeof t[o]&&(t[o]=g(t[o],e+"_"+o));return t}function k(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}var T="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,S=!("nw"in y)&&void 0!==y.process&&"[object process]"==={}.toString.call(y.process),C=!S&&!T&&!(!m||!_.HTMLElement),A=void 0!==y.process&&"[object process]"==={}.toString.call(y.process)&&!T&&!(!m||!_.HTMLElement),w={},O=function(t){if(t=t||y.event){var e=w[t.type];e||(e=w[t.type]=f("ON_PROPERTY"+t.type));var o,n=this||t.target||y,r=n[e];if(C&&n===_&&"error"===t.type){var i=t;!0===(o=r&&r.call(this,i.message,i.filename,i.lineno,i.colno,i.error))&&t.preventDefault()}else null==(o=r&&r.apply(this,arguments))||o||t.preventDefault();return o}};function B(o,n,r){var i=t(o,n);if(!i&&r&&t(r,n)&&(i={enumerable:!0,configurable:!0}),i&&i.configurable){var s=f("on"+n+"patched");if(!o.hasOwnProperty(s)||!o[s]){delete i.writable,delete i.value;var l=i.get,a=i.set,u=n.substr(2),c=w[u];c||(c=w[u]=f("ON_PROPERTY"+u)),i.set=function(t){var e=this;e||o!==y||(e=y),e&&(e[c]&&e.removeEventListener(u,O),a&&a.apply(e,b),"function"==typeof t?(e[c]=t,e.addEventListener(u,O,!1)):e[c]=null)},i.get=function(){var t=this;if(t||o!==y||(t=y),!t)return null;var e=t[c];if(e)return e;if(l){var r=l&&l.call(this);if(r)return i.set.call(this,r),"function"==typeof t[v]&&t.removeAttribute(n),r}return null},e(o,n,i),o[s]=!0}}}function I(t,e,o){if(e)for(var n=0;n<e.length;n++)B(t,"on"+e[n],o);else{var r=[];for(var i in t)"on"==i.substr(0,2)&&r.push(i);for(var s=0;s<r.length;s++)B(t,r[s],o)}}var R=f("originalInstance");function N(t){var o=y[t];if(o){y[f(t)]=o,y[t]=function(){var e=E(arguments,t);switch(e.length){case 0:this[R]=new o;break;case 1:this[R]=new o(e[0]);break;case 2:this[R]=new o(e[0],e[1]);break;case 3:this[R]=new o(e[0],e[1],e[2]);break;case 4:this[R]=new o(e[0],e[1],e[2],e[3]);break;default:throw new Error("Arg list too long.")}},M(y[t],o);var n,r=new o((function(){}));for(n in r)"XMLHttpRequest"===t&&"responseBlob"===n||function(o){"function"==typeof r[o]?y[t].prototype[o]=function(){return this[R][o].apply(this[R],arguments)}:e(y[t].prototype,o,{set:function(e){"function"==typeof e?(this[R][o]=g(e,t+"."+o),M(this[R][o],e)):this[R][o]=e},get:function(){return this[R][o]}})}(n);for(n in o)"prototype"!==n&&o.hasOwnProperty(n)&&(y[t][n]=o[n])}}var x=!1;function D(e,n,r){for(var i=e;i&&!i.hasOwnProperty(n);)i=o(i);!i&&e[n]&&(i=e);var s,l,a=f(n),u=null;if(i&&!(u=i[a])&&(u=i[a]=i[n],k(i&&t(i,n)))){var c=r(u,a,n);i[n]=function(){return c(this,arguments)},M(i[n],u),x&&(s=u,l=i[n],"function"==typeof Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(s).forEach((function(t){var e=Object.getOwnPropertyDescriptor(s,t);Object.defineProperty(l,t,{get:function(){return s[t]},set:function(o){(!e||e.writable&&"function"==typeof e.set)&&(s[t]=o)},enumerable:!e||e.enumerable,configurable:!e||e.configurable})})))}return u}function L(t,e,o){var n=null;function r(t){var e=t.data;return e.args[e.cbIdx]=function(){t.invoke.apply(this,arguments)},n.apply(e.target,e.args),t}n=D(t,e,(function(t){return function(e,n){var i=o(e,n);return i.cbIdx>=0&&"function"==typeof n[i.cbIdx]?d(i.name,n[i.cbIdx],i,r):t.apply(e,n)}}))}function M(t,e){t[f("OriginalDelegate")]=e}var P=!1,F=!1;function U(){try{var t=_.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(e){}return!1}function V(){if(P)return F;P=!0;try{var t=_.navigator.userAgent;-1===t.indexOf("MSIE ")&&-1===t.indexOf("Trident/")&&-1===t.indexOf("Edge/")||(F=!0)}catch(e){}return F}Zone.__load_patch("toString",(function(t){var e=Function.prototype.toString,o=f("OriginalDelegate"),n=f("Promise"),r=f("Error"),i=function(){if("function"==typeof this){var i=this[o];if(i)return"function"==typeof i?e.call(i):Object.prototype.toString.call(i);if(this===Promise){var s=t[n];if(s)return e.call(s)}if(this===Error){var l=t[r];if(l)return e.call(l)}}return e.call(this)};i[o]=e,Function.prototype.toString=i;var s=Object.prototype.toString;Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":s.call(this)}}));var H=!1;if("undefined"!=typeof window)try{var G=Object.defineProperty({},"passive",{get:function(){H=!0}});window.addEventListener("test",G,G),window.removeEventListener("test",G,G)}catch(Ct){H=!1}var W={useG:!0},j={},K={},z=/^__zone_symbol__(\w+)(true|false)$/,X="__zone_symbol__propagationStopped";function Y(t,e,n){var r=n&&n.add||s,i=n&&n.rm||l,a=n&&n.listeners||"eventListeners",u=n&&n.rmAll||"removeAllListeners",g=f(r),d="."+r+":",m="prependListener",_="."+m+":",y=function(t,e,o){if(!t.isRemoved){var n=t.callback;"object"==typeof n&&n.handleEvent&&(t.callback=function(t){return n.handleEvent(t)},t.originalDelegate=n),t.invoke(t,e,[o]);var r=t.options;r&&"object"==typeof r&&r.once&&e[i].call(e,o.type,t.originalDelegate?t.originalDelegate:t.callback,r)}},v=function(e){if(e=e||t.event){var o=this||e.target||t,n=o[j[e.type][p]];if(n)if(1===n.length)y(n[0],o,e);else for(var r=n.slice(),i=0;i<r.length&&(!e||!0!==e[X]);i++)y(r[i],o,e)}},b=function(e){if(e=e||t.event){var o=this||e.target||t,n=o[j[e.type][c]];if(n)if(1===n.length)y(n[0],o,e);else for(var r=n.slice(),i=0;i<r.length&&(!e||!0!==e[X]);i++)y(r[i],o,e)}};function E(e,n){if(!e)return!1;var s=!0;n&&void 0!==n.useG&&(s=n.useG);var l=n&&n.vh,y=!0;n&&void 0!==n.chkDup&&(y=n.chkDup);var E=!1;n&&void 0!==n.rt&&(E=n.rt);for(var k=e;k&&!k.hasOwnProperty(r);)k=o(k);if(!k&&e[r]&&(k=e),!k)return!1;if(k[g])return!1;var T,C=n&&n.eventNameToString,A={},w=k[g]=k[r],O=k[f(i)]=k[i],B=k[f(a)]=k[a],I=k[f(u)]=k[u];function R(t){H||"boolean"==typeof A.options||null==A.options||(t.options=!!A.options.capture,A.options=t.options)}n&&n.prepend&&(T=k[f(n.prepend)]=k[n.prepend]);var N=s?function(t){if(!A.isExisting)return R(t),w.call(A.target,A.eventName,A.capture?b:v,A.options)}:function(t){return R(t),w.call(A.target,A.eventName,t.invoke,A.options)},x=s?function(t){if(!t.isRemoved){var e=j[t.eventName],o=void 0;e&&(o=e[t.capture?c:p]);var n=o&&t.target[o];if(n)for(var r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1),t.isRemoved=!0,0===n.length&&(t.allRemoved=!0,t.target[o]=null);break}}if(t.allRemoved)return O.call(t.target,t.eventName,t.capture?b:v,t.options)}:function(t){return O.call(t.target,t.eventName,t.invoke,t.options)},D=n&&n.diff?n.diff:function(t,e){var o=typeof e;return"function"===o&&t.callback===e||"object"===o&&t.originalDelegate===e},L=Zone[Zone.__symbol__("BLACK_LISTED_EVENTS")],P=function(e,o,n,r,i,a){return void 0===i&&(i=!1),void 0===a&&(a=!1),function(){var u=this||t,g=arguments[0],d=arguments[1];if(!d)return e.apply(this,arguments);if(S&&"uncaughtException"===g)return e.apply(this,arguments);var f=!1;if("function"!=typeof d){if(!d.handleEvent)return e.apply(this,arguments);f=!0}if(!l||l(e,d,u,arguments)){var m,_=arguments[2];if(L)for(var v=0;v<L.length;v++)if(g===L[v])return e.apply(this,arguments);var b=!1;void 0===_?m=!1:!0===_?m=!0:!1===_?m=!1:(m=!!_&&!!_.capture,b=!!_&&!!_.once);var E,k=Zone.current,T=j[g];if(T)E=T[m?c:p];else{var w=(C?C(g):g)+p,O=(C?C(g):g)+c,B=h+w,I=h+O;j[g]={},j[g][p]=B,j[g][c]=I,E=m?I:B}var R,N=u[E],x=!1;if(N){if(x=!0,y)for(v=0;v<N.length;v++)if(D(N[v],d))return}else N=u[E]=[];var M=u.constructor.name,P=K[M];P&&(R=P[g]),R||(R=M+o+(C?C(g):g)),A.options=_,b&&(A.options.once=!1),A.target=u,A.capture=m,A.eventName=g,A.isExisting=x;var F=s?W:void 0;F&&(F.taskData=A);var U=k.scheduleEventTask(R,d,F,n,r);return A.target=null,F&&(F.taskData=null),b&&(_.once=!0),(H||"boolean"!=typeof U.options)&&(U.options=_),U.target=u,U.capture=m,U.eventName=g,f&&(U.originalDelegate=d),a?N.unshift(U):N.push(U),i?u:void 0}}};return k[r]=P(w,d,N,x,E),T&&(k[m]=P(T,_,(function(t){return T.call(A.target,A.eventName,t.invoke,A.options)}),x,E,!0)),k[i]=function(){var e,o=this||t,n=arguments[0],r=arguments[2];e=void 0!==r&&(!0===r||!1!==r&&!!r&&!!r.capture);var i=arguments[1];if(!i)return O.apply(this,arguments);if(!l||l(O,i,o,arguments)){var s,a=j[n];a&&(s=a[e?c:p]);var u=s&&o[s];if(u)for(var h=0;h<u.length;h++){var g=u[h];if(D(g,i))return u.splice(h,1),g.isRemoved=!0,0===u.length&&(g.allRemoved=!0,o[s]=null),g.zone.cancelTask(g),E?o:void 0}return O.apply(this,arguments)}},k[a]=function(){for(var e=this||t,o=arguments[0],n=[],r=J(e,C?C(o):o),i=0;i<r.length;i++){var s=r[i],l=s.originalDelegate?s.originalDelegate:s.callback;n.push(l)}return n},k[u]=function(){var e=this||t,o=arguments[0];if(o){var n=j[o];if(n){var r=n[p],s=n[c],l=e[r],a=e[s];if(l){var h=l.slice();for(f=0;f<h.length;f++)this[i].call(this,o,(g=h[f]).originalDelegate?g.originalDelegate:g.callback,g.options)}if(a)for(h=a.slice(),f=0;f<h.length;f++){var g;this[i].call(this,o,(g=h[f]).originalDelegate?g.originalDelegate:g.callback,g.options)}}}else{for(var d=Object.keys(e),f=0;f<d.length;f++){var m=d[f],_=z.exec(m),y=_&&_[1];y&&"removeListener"!==y&&this[u].call(this,y)}this[u].call(this,"removeListener")}if(E)return this},M(k[r],w),M(k[i],O),I&&M(k[u],I),B&&M(k[a],B),!0}for(var k=[],T=0;T<e.length;T++)k[T]=E(e[T],n);return k}function J(t,e){var o=[];for(var n in t){var r=z.exec(n),i=r&&r[1];if(i&&(!e||i===e)){var s=t[n];if(s)for(var l=0;l<s.length;l++)o.push(s[l])}}return o}function q(t,e){var o=t.Event;o&&o.prototype&&e.patchMethod(o.prototype,"stopImmediatePropagation",(function(t){return function(e,o){e[X]=!0,t&&t.apply(e,o)}}))}function Z(t,e,o,n,r){var i=Zone.__symbol__(n);if(!e[i]){var s=e[i]=e[n];e[n]=function(i,l,a){return l&&l.prototype&&r.forEach((function(e){var r=o+"."+n+"::"+e,i=l.prototype;if(i.hasOwnProperty(e)){var s=t.ObjectGetOwnPropertyDescriptor(i,e);s&&s.value?(s.value=t.wrapWithCurrentZone(s.value,r),t._redefineProperty(l.prototype,e,s)):i[e]&&(i[e]=t.wrapWithCurrentZone(i[e],r))}else i[e]&&(i[e]=t.wrapWithCurrentZone(i[e],r))})),s.call(e,i,l,a)},t.attachOriginToPatched(e[n],s)}}var Q=Zone.__symbol__,$=Object[Q("defineProperty")]=Object.defineProperty,tt=Object[Q("getOwnPropertyDescriptor")]=Object.getOwnPropertyDescriptor,et=Object.create,ot=Q("unconfigurables");function nt(t,e,o){var n=o.configurable;return st(t,e,o=it(t,e,o),n)}function rt(t,e){return t&&t[ot]&&t[ot][e]}function it(t,e,o){return Object.isFrozen(o)||(o.configurable=!0),o.configurable||(t[ot]||Object.isFrozen(t)||$(t,ot,{writable:!0,value:{}}),t[ot]&&(t[ot][e]=!0)),o}function st(t,e,o,n){try{return $(t,e,o)}catch(i){if(!o.configurable)throw i;void 0===n?delete o.configurable:o.configurable=n;try{return $(t,e,o)}catch(i){var r=null;try{r=JSON.stringify(o)}catch(i){r=o.toString()}console.log("Attempting to configure '"+e+"' with descriptor '"+r+"' on object '"+t+"' and got error, giving up: "+i)}}}var lt=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplyconnected","vrdisplaydisconnected","vrdisplaypresentchange"],at=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],ut=["load"],ct=["blur","error","focus","load","resize","scroll","messageerror"],pt=["bounce","finish","start"],ht=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],gt=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],dt=["close","error","open","message"],ft=["error","message"],mt=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],lt,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function _t(t,e,o){if(!o||0===o.length)return e;var n=o.filter((function(e){return e.target===t}));if(!n||0===n.length)return e;var r=n[0].ignoreProperties;return e.filter((function(t){return-1===r.indexOf(t)}))}function yt(t,e,o,n){t&&I(t,_t(t,e,o),n)}function vt(t,e){if((!S||A)&&!Zone[t.symbol("patchEvents")]){var n="undefined"!=typeof WebSocket,r=e.__Zone_ignore_on_properties;if(C){var i=window,s=U?[{target:i,ignoreProperties:["error"]}]:[];yt(i,mt.concat(["messageerror"]),r?r.concat(s):r,o(i)),yt(Document.prototype,mt,r),void 0!==i.SVGElement&&yt(i.SVGElement.prototype,mt,r),yt(Element.prototype,mt,r),yt(HTMLElement.prototype,mt,r),yt(HTMLMediaElement.prototype,at,r),yt(HTMLFrameSetElement.prototype,lt.concat(ct),r),yt(HTMLBodyElement.prototype,lt.concat(ct),r),yt(HTMLFrameElement.prototype,ut,r),yt(HTMLIFrameElement.prototype,ut,r);var l=i.HTMLMarqueeElement;l&&yt(l.prototype,pt,r);var a=i.Worker;a&&yt(a.prototype,ft,r)}var u=e.XMLHttpRequest;u&&yt(u.prototype,ht,r);var c=e.XMLHttpRequestEventTarget;c&&yt(c&&c.prototype,ht,r),"undefined"!=typeof IDBIndex&&(yt(IDBIndex.prototype,gt,r),yt(IDBRequest.prototype,gt,r),yt(IDBOpenDBRequest.prototype,gt,r),yt(IDBDatabase.prototype,gt,r),yt(IDBTransaction.prototype,gt,r),yt(IDBCursor.prototype,gt,r)),n&&yt(WebSocket.prototype,dt,r)}}function bt(t,e){var o=e.getGlobalObjects(),n=o.eventNames,r=o.globalSources,i=o.zoneSymbolEventNames,s=o.TRUE_STR,l=o.FALSE_STR,a=o.ZONE_SYMBOL_PREFIX,u="Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video",c="ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Window,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,IDBRequest,IDBOpenDBRequest,IDBDatabase,IDBTransaction,IDBCursor,DBIndex,WebSocket".split(","),p=[],h=t.wtf,g=u.split(",");h?p=g.map((function(t){return"HTML"+t+"Element"})).concat(c):t.EventTarget?p.push("EventTarget"):p=c;for(var d=t.__Zone_disable_IE_check||!1,f=t.__Zone_enable_cross_context_check||!1,m=e.isIEOrEdge(),_="function __BROWSERTOOLS_CONSOLE_SAFEFUNC() { [native code] }",y=0;y<n.length;y++){var v=a+((S=n[y])+l),b=a+(S+s);i[S]={},i[S][l]=v,i[S][s]=b}for(y=0;y<u.length;y++)for(var E=g[y],k=r[E]={},T=0;T<n.length;T++){var S;k[S=n[T]]=E+".addEventListener:"+S}var C=[];for(y=0;y<p.length;y++){var A=t[p[y]];C.push(A&&A.prototype)}return e.patchEventTarget(t,C,{vh:function(t,e,o,n){if(!d&&m){if(f)try{var r;if("[object FunctionWrapper]"===(r=e.toString())||r==_)return t.apply(o,n),!1}catch(i){return t.apply(o,n),!1}else if("[object FunctionWrapper]"===(r=e.toString())||r==_)return t.apply(o,n),!1}else if(f)try{e.toString()}catch(i){return t.apply(o,n),!1}return!0}}),Zone[e.symbol("patchEventTarget")]=!!t.EventTarget,!0}function Et(t,e){var o=t.getGlobalObjects();if((!o.isNode||o.isMix)&&!function(t,e){var o=t.getGlobalObjects();if((o.isBrowser||o.isMix)&&!t.ObjectGetOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var n=t.ObjectGetOwnPropertyDescriptor(Element.prototype,"onclick");if(n&&!n.configurable)return!1;if(n){t.ObjectDefineProperty(Element.prototype,"onclick",{enumerable:!0,configurable:!0,get:function(){return!0}});var r=!!document.createElement("div").onclick;return t.ObjectDefineProperty(Element.prototype,"onclick",n),r}}var i=e.XMLHttpRequest;if(!i)return!1;var s=i.prototype,l=t.ObjectGetOwnPropertyDescriptor(s,"onreadystatechange");if(l)return t.ObjectDefineProperty(s,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return!0}}),r=!!(u=new i).onreadystatechange,t.ObjectDefineProperty(s,"onreadystatechange",l||{}),r;var a=t.symbol("fake");t.ObjectDefineProperty(s,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return this[a]},set:function(t){this[a]=t}});var u=new i,c=function(){};return u.onreadystatechange=c,r=u[a]===c,u.onreadystatechange=null,r}(t,e)){var n="undefined"!=typeof WebSocket;!function(t){for(var e=t.getGlobalObjects().eventNames,o=t.symbol("unbound"),n=function(n){var r=e[n],i="on"+r;self.addEventListener(r,(function(e){var n,r,s=e.target;for(r=s?s.constructor.name+"."+i:"unknown."+i;s;)s[i]&&!s[i][o]&&((n=t.wrapWithCurrentZone(s[i],r))[o]=s[i],s[i]=n),s=s.parentElement}),!0)},r=0;r<e.length;r++)n(r)}(t),t.patchClass("XMLHttpRequest"),n&&function(t,e){var o=t.getGlobalObjects(),n=o.ADD_EVENT_LISTENER_STR,r=o.REMOVE_EVENT_LISTENER_STR,i=e.WebSocket;e.EventTarget||t.patchEventTarget(e,[i.prototype]),e.WebSocket=function(e,o){var s,l,a=arguments.length>1?new i(e,o):new i(e),u=t.ObjectGetOwnPropertyDescriptor(a,"onmessage");return u&&!1===u.configurable?(s=t.ObjectCreate(a),l=a,[n,r,"send","close"].forEach((function(e){s[e]=function(){var o=t.ArraySlice.call(arguments);if(e===n||e===r){var i=o.length>0?o[0]:void 0;if(i){var l=Zone.__symbol__("ON_PROPERTY"+i);a[l]=s[l]}}return a[e].apply(a,o)}}))):s=a,t.patchOnProperties(s,["close","error","message","open"],l),s};var s=e.WebSocket;for(var l in i)s[l]=i[l]}(t,e),Zone[t.symbol("patchEvents")]=!0}}Zone.__load_patch("util",(function(o,n,a){a.patchOnProperties=I,a.patchMethod=D,a.bindArguments=E,a.patchMacroTask=L;var u=n.__symbol__("BLACK_LISTED_EVENTS"),d=n.__symbol__("UNPATCHED_EVENTS");o[d]&&(o[u]=o[d]),o[u]&&(n[u]=n[d]=o[u]),a.patchEventPrototype=q,a.patchEventTarget=Y,a.isIEOrEdge=V,a.ObjectDefineProperty=e,a.ObjectGetOwnPropertyDescriptor=t,a.ObjectCreate=r,a.ArraySlice=i,a.patchClass=N,a.wrapWithCurrentZone=g,a.filterProperties=_t,a.attachOriginToPatched=M,a._redefineProperty=nt,a.patchCallbacks=Z,a.getGlobalObjects=function(){return{globalSources:K,zoneSymbolEventNames:j,eventNames:mt,isBrowser:C,isMix:A,isNode:S,TRUE_STR:c,FALSE_STR:p,ZONE_SYMBOL_PREFIX:h,ADD_EVENT_LISTENER_STR:s,REMOVE_EVENT_LISTENER_STR:l}}})),function(t){t.__zone_symbol__legacyPatch=function(){var e=t.Zone;e.__load_patch("registerElement",(function(t,e,o){!function(t,e){var o=e.getGlobalObjects();(o.isBrowser||o.isMix)&&"registerElement"in t.document&&e.patchCallbacks(e,document,"Document","registerElement",["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"])}(t,o)})),e.__load_patch("EventTargetLegacy",(function(t,e,o){bt(t,o),Et(o,t)}))}}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);var kt=f("zoneTask");function Tt(t,e,o,n){var r=null,i=null;o+=n;var s={};function l(e){var o=e.data;return o.args[0]=function(){try{e.invoke.apply(this,arguments)}finally{e.data&&e.data.isPeriodic||("number"==typeof o.handleId?delete s[o.handleId]:o.handleId&&(o.handleId[kt]=null))}},o.handleId=r.apply(t,o.args),e}function a(t){return i(t.data.handleId)}r=D(t,e+=n,(function(o){return function(r,i){if("function"==typeof i[0]){var u=d(e,i[0],{isPeriodic:"Interval"===n,delay:"Timeout"===n||"Interval"===n?i[1]||0:void 0,args:i},l,a);if(!u)return u;var c=u.data.handleId;return"number"==typeof c?s[c]=u:c&&(c[kt]=u),c&&c.ref&&c.unref&&"function"==typeof c.ref&&"function"==typeof c.unref&&(u.ref=c.ref.bind(c),u.unref=c.unref.bind(c)),"number"==typeof c||c?c:u}return o.apply(t,i)}})),i=D(t,o,(function(e){return function(o,n){var r,i=n[0];"number"==typeof i?r=s[i]:(r=i&&i[kt])||(r=i),r&&"string"==typeof r.type?"notScheduled"!==r.state&&(r.cancelFn&&r.data.isPeriodic||0===r.runCount)&&("number"==typeof i?delete s[i]:i&&(i[kt]=null),r.zone.cancelTask(r)):e.apply(t,n)}}))}function St(t,e){if(!Zone[e.symbol("patchEventTarget")]){for(var o=e.getGlobalObjects(),n=o.eventNames,r=o.zoneSymbolEventNames,i=o.TRUE_STR,s=o.FALSE_STR,l=o.ZONE_SYMBOL_PREFIX,a=0;a<n.length;a++){var u=n[a],c=l+(u+s),p=l+(u+i);r[u]={},r[u][s]=c,r[u][i]=p}var h=t.EventTarget;if(h&&h.prototype)return e.patchEventTarget(t,[h&&h.prototype]),!0}}Zone.__load_patch("legacy",(function(t){var e=t[Zone.__symbol__("legacyPatch")];e&&e()})),Zone.__load_patch("timers",(function(t){Tt(t,"set","clear","Timeout"),Tt(t,"set","clear","Interval"),Tt(t,"set","clear","Immediate")})),Zone.__load_patch("requestAnimationFrame",(function(t){Tt(t,"request","cancel","AnimationFrame"),Tt(t,"mozRequest","mozCancel","AnimationFrame"),Tt(t,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",(function(t,e){for(var o=["alert","prompt","confirm"],n=0;n<o.length;n++)D(t,o[n],(function(o,n,r){return function(n,i){return e.current.run(o,t,i,r)}}))})),Zone.__load_patch("EventTarget",(function(t,e,o){!function(t,e){e.patchEventPrototype(t,e)}(t,o),St(t,o);var n=t.XMLHttpRequestEventTarget;n&&n.prototype&&o.patchEventTarget(t,[n.prototype]),N("MutationObserver"),N("WebKitMutationObserver"),N("IntersectionObserver"),N("FileReader")})),Zone.__load_patch("on_property",(function(t,e,o){vt(o,t),Object.defineProperty=function(t,e,o){if(rt(t,e))throw new TypeError("Cannot assign to read only property '"+e+"' of "+t);var n=o.configurable;return"prototype"!==e&&(o=it(t,e,o)),st(t,e,o,n)},Object.defineProperties=function(t,e){return Object.keys(e).forEach((function(o){Object.defineProperty(t,o,e[o])})),t},Object.create=function(t,e){return"object"!=typeof e||Object.isFrozen(e)||Object.keys(e).forEach((function(o){e[o]=it(t,o,e[o])})),et(t,e)},Object.getOwnPropertyDescriptor=function(t,e){var o=tt(t,e);return o&&rt(t,e)&&(o.configurable=!1),o}})),Zone.__load_patch("customElements",(function(t,e,o){!function(t,e){var o=e.getGlobalObjects();(o.isBrowser||o.isMix)&&t.customElements&&"customElements"in t&&e.patchCallbacks(e,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,o)})),Zone.__load_patch("XHR",(function(t,e){!function(t){var c=t.XMLHttpRequest;if(c){var p=c.prototype,h=p[a],g=p[u];if(!h){var m=t.XMLHttpRequestEventTarget;if(m){var _=m.prototype;h=_[a],g=_[u]}}var y="readystatechange",v="scheduled",b=D(p,"open",(function(){return function(t,e){return t[n]=0==e[2],t[s]=e[1],b.apply(t,e)}})),E=f("fetchTaskAborting"),k=f("fetchTaskScheduling"),T=D(p,"send",(function(){return function(t,o){if(!0===e.current[k])return T.apply(t,o);if(t[n])return T.apply(t,o);var r={target:t,url:t[s],isPeriodic:!1,args:o,aborted:!1},i=d("XMLHttpRequest.send",A,r,C,w);t&&!0===t[l]&&!r.aborted&&i.state===v&&i.invoke()}})),S=D(p,"abort",(function(){return function(t,n){var r=t[o];if(r&&"string"==typeof r.type){if(null==r.cancelFn||r.data&&r.data.aborted)return;r.zone.cancelTask(r)}else if(!0===e.current[E])return S.apply(t,n)}}))}function C(t){var e=t.data,n=e.target;n[i]=!1,n[l]=!1;var s=n[r];h||(h=n[a],g=n[u]),s&&g.call(n,y,s);var c=n[r]=function(){if(n.readyState===n.DONE)if(!e.aborted&&n[i]&&t.state===v){var o=n.__zone_symbol__loadfalse;if(o&&o.length>0){var r=t.invoke;t.invoke=function(){for(var o=n.__zone_symbol__loadfalse,i=0;i<o.length;i++)o[i]===t&&o.splice(i,1);e.aborted||t.state!==v||r.call(t)},o.push(t)}else t.invoke()}else e.aborted||!1!==n[i]||(n[l]=!0)};return h.call(n,y,c),n[o]||(n[o]=t),T.apply(n,e.args),n[i]=!0,t}function A(){}function w(t){var e=t.data;return e.aborted=!0,S.apply(e.target,e.args)}}(t);var o=f("xhrTask"),n=f("xhrSync"),r=f("xhrListener"),i=f("xhrScheduled"),s=f("xhrURL"),l=f("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(function(e){e.navigator&&e.navigator.geolocation&&function(e,o){for(var n=e.constructor.name,r=function(r){var i=o[r],s=e[i];if(s){if(!k(t(e,i)))return"continue";e[i]=function(t){var e=function(){return t.apply(this,E(arguments,n+"."+i))};return M(e,t),e}(s)}},i=0;i<o.length;i++)r(i)}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",(function(t,e){function o(e){return function(o){J(t,e).forEach((function(n){var r=t.PromiseRejectionEvent;if(r){var i=new r(e,{promise:o.promise,reason:o.rejection});n.invoke(i)}}))}}t.PromiseRejectionEvent&&(e[f("unhandledPromiseRejectionHandler")]=o("unhandledrejection"),e[f("rejectionHandledHandler")]=o("rejectionhandled"))}))}()},"5urj":function(t,e){"undefined"!=typeof self&&!self.Prism||"undefined"!=typeof global&&!global.Prism||Prism.hooks.add("wrap",(function(t){"keyword"===t.type&&t.classes.push("keyword-"+t.content)}))},"9oTK":function(t,e,o){var n;n=function(){return function t(e,o,n){function r(s,l){if(!o[s]){if(!e[s]){var a="function"==typeof _dereq_&&_dereq_;if(!l&&a)return a(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=o[s]={exports:{}};e[s][0].call(c.exports,(function(t){return r(e[s][1][t]||t)}),c,c.exports,t,e,o,n)}return o[s].exports}for(var i="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,o){"use strict";e.exports=function(t){var e=t._SomePromiseArray;function o(t){var o=new e(t),n=o.promise();return o.setHowMany(1),o.setUnwrap(),o.init(),n}t.any=function(t){return o(t)},t.prototype.any=function(){return o(this)}}},{}],2:[function(t,e,o){"use strict";var r;try{throw new Error}catch(n){r=n}var i=t("./schedule"),s=t("./queue");function l(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new s(16),this._normalQueue=new s(16),this._haveDrainedQueues=!1;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=i}function a(t){for(;t.length()>0;)u(t)}function u(t){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var o=t.shift(),n=t.shift();e.call(o,n)}}l.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},l.prototype.hasCustomScheduler=function(){return this._customScheduler},l.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},l.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},l.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout((function(){t(e)}),0);else try{this._schedule((function(){t(e)}))}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},l.prototype.invokeLater=function(t,e,o){this._lateQueue.push(t,e,o),this._queueTick()},l.prototype.invoke=function(t,e,o){this._normalQueue.push(t,e,o),this._queueTick()},l.prototype.settlePromises=function(t){this._normalQueue._pushOne(t),this._queueTick()},l.prototype._drainQueues=function(){a(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,a(this._lateQueue)},l.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},l.prototype._reset=function(){this._isTickUsed=!1},e.exports=l,e.exports.firstLineError=r},{"./queue":26,"./schedule":29}],3:[function(t,e,o){"use strict";e.exports=function(t,e,o,n){var r=!1,i=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(i,i,null,this,t)},l=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},a=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(i){r||(r=!0,t.prototype._propagateFrom=n.propagateFromFunction(),t.prototype._boundValue=n.boundValueFunction());var u=o(i),c=new t(e);c._propagateFrom(this,1);var p=this._target();if(c._setBoundTo(u),u instanceof t){var h={promiseRejectionQueued:!1,promise:c,target:p,bindingPromise:u};p._then(e,s,void 0,c,h),u._then(l,a,void 0,c,h),c._setOnCancel(u)}else c._resolveCallback(p);return c},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,o){return t.resolve(o).bind(e)}}},{}],4:[function(t,e,o){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=t("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(n){}return i},e.exports=i},{"./promise":22}],5:[function(t,e,o){"use strict";var n=Object.create;if(n){var r=n(null),i=n(null);r[" size"]=i[" size"]=0}e.exports=function(e){var o=t("./util"),n=o.canEvaluate;function r(t){return function(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+o.classString(t)+" has no method '"+o.toString(n)+"'";throw new e.TypeError(i)}return r}(t,this.pop()).apply(t,this)}function i(t){return t[this]}function s(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e;if("number"==typeof t)e=s;else if(n){var o=(void 0)(t);e=null!==o?o:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,o){"use strict";e.exports=function(e,o,n,r){var i=t("./util"),s=i.tryCatch,l=i.errorObj,a=e._async;e.prototype.break=e.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var o=t._cancellationParent;if(null==o||!o._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=o}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),a.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(i.isArray(t))for(var o=0;o<t.length;++o)this._doInvokeOnCancel(t[o],e);else if(void 0!==t)if("function"==typeof t){if(!e){var n=s(t).call(this._boundValue());n===l&&(this._attachExtraTrace(n.e),a.throwLater(n.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),a.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,o){"use strict";e.exports=function(e){var o=t("./util"),n=t("./es5").keys,r=o.tryCatch,i=o.errorObj;return function(t,s,l){return function(a){var u=l._boundValue();t:for(var c=0;c<t.length;++c){var p=t[c];if(p===Error||null!=p&&p.prototype instanceof Error){if(a instanceof p)return r(s).call(u,a)}else if("function"==typeof p){var h=r(p).call(u,a);if(h===i)return h;if(h)return r(s).call(u,a)}else if(o.isObject(a)){for(var g=n(p),d=0;d<g.length;++d){var f=g[d];if(p[f]!=a[f])continue t}return r(s).call(u,a)}}return e}}}},{"./es5":13,"./util":36}],8:[function(t,e,o){"use strict";e.exports=function(t){var e=!1,o=[];function n(){this._trace=new n.CapturedTrace(r())}function r(){var t=o.length-1;if(t>=0)return o[t]}return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},n.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},n.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},n.CapturedTrace=null,n.create=function(){if(e)return new n},n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var o=t.prototype._pushContext,i=t.prototype._popContext,s=t._peekContext,l=t.prototype._peekContext,a=t.prototype._promiseCreated;n.deactivateLongStackTraces=function(){t.prototype._pushContext=o,t.prototype._popContext=i,t._peekContext=s,t.prototype._peekContext=l,t.prototype._promiseCreated=a,e=!1},e=!0,t.prototype._pushContext=n.prototype._pushContext,t.prototype._popContext=n.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},n}},{}],9:[function(t,e,o){"use strict";e.exports=function(e,o,r,i){var s,l,a,u,c=e._async,p=t("./errors").Warning,h=t("./util"),g=t("./es5"),d=h.canAttachTrace,f=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,_=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,y=null,v=null,b=!1,E=!(0==h.env("BLUEBIRD_DEBUG")),k=!(0==h.env("BLUEBIRD_WARNINGS")||!E&&!h.env("BLUEBIRD_WARNINGS")),T=!(0==h.env("BLUEBIRD_LONG_STACK_TRACES")||!E&&!h.env("BLUEBIRD_LONG_STACK_TRACES")),S=0!=h.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(k||!!h.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){var t=[];function o(){for(var e=0;e<t.length;++e)t[e]._notifyUnhandledRejection();n()}function n(){t.length=0}u="object"==typeof document&&document.createElement?function(){var e;function n(){if(document.body){var t=document.createElement("iframe");document.body.appendChild(t),t.contentWindow&&t.contentWindow.setTimeout&&(e=t.contentWindow.setTimeout),document.body.removeChild(t)}}return n(),function(r){t.push(r),e?e(o,1):n()}}():function(e){t.push(e),setTimeout(o,1)},g.defineProperty(e,"_unhandledRejectionCheck",{value:o}),g.defineProperty(e,"_unhandledRejectionClear",{value:n})}(),e.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),u(this))},e.prototype._notifyUnhandledRejectionIsHandled=function(){Y("rejectionHandled",s,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),Y("unhandledRejection",l,t,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(t,e,o){return j(t,e,o||this)},e.onPossiblyUnhandledRejection=function(t){var o=e._getContext();l=h.contextBind(o,t)},e.onUnhandledRejectionHandled=function(t){var o=e._getContext();s=h.contextBind(o,t)};var C=function(){};e.longStackTraces=function(){if(c.haveItemsQueued()&&!ot.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ot.longStackTraces&&q()){var t=e.prototype._captureStackTrace,n=e.prototype._attachExtraTrace,r=e.prototype._dereferenceTrace;ot.longStackTraces=!0,C=function(){if(c.haveItemsQueued()&&!ot.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=t,e.prototype._attachExtraTrace=n,e.prototype._dereferenceTrace=r,o.deactivateLongStackTraces(),ot.longStackTraces=!1},e.prototype._captureStackTrace=H,e.prototype._attachExtraTrace=G,e.prototype._dereferenceTrace=W,o.activateLongStackTraces()}},e.hasLongStackTraces=function(){return ot.longStackTraces&&q()};var A={unhandledrejection:{before:function(){var t=h.global.onunhandledrejection;return h.global.onunhandledrejection=null,t},after:function(t){h.global.onunhandledrejection=t}},rejectionhandled:{before:function(){var t=h.global.onrejectionhandled;return h.global.onrejectionhandled=null,t},after:function(t){h.global.onrejectionhandled=t}}},w=function(){var t=function(t,e){if(!t)return!h.global.dispatchEvent(e);var o;try{return o=t.before(),!h.global.dispatchEvent(e)}finally{t.after(o)}};try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return h.global.dispatchEvent(e),function(e,o){e=e.toLowerCase();var n=new CustomEvent(e,{detail:o,cancelable:!0});return g.defineProperty(n,"promise",{value:o.promise}),g.defineProperty(n,"reason",{value:o.reason}),t(A[e],n)}}return"function"==typeof Event?(e=new Event("CustomEvent"),h.global.dispatchEvent(e),function(e,o){e=e.toLowerCase();var n=new Event(e,{cancelable:!0});return n.detail=o,g.defineProperty(n,"promise",{value:o.promise}),g.defineProperty(n,"reason",{value:o.reason}),t(A[e],n)}):((e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),h.global.dispatchEvent(e),function(e,o){e=e.toLowerCase();var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!0,o),t(A[e],n)})}catch(n){}return function(){return!1}}(),O=h.isNode?function(){return process.emit.apply(process,arguments)}:h.global?function(t){var e="on"+t.toLowerCase(),o=h.global[e];return!!o&&(o.apply(h.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function B(t,e){return{promise:e}}var I={promiseCreated:B,promiseFulfilled:B,promiseRejected:B,promiseResolved:B,promiseCancelled:B,promiseChained:function(t,e,o){return{promise:e,child:o}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,o){return{reason:e,promise:o}},rejectionHandled:B},R=function(t){var e=!1;try{e=O.apply(null,arguments)}catch(n){c.throwLater(n),e=!0}var o=!1;try{o=w(t,I[t].apply(null,arguments))}catch(n){c.throwLater(n),o=!0}return o||e};function N(){return!1}function x(t,e,o){var r=this;try{t(e,o,(function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+h.toString(t));r._attachCancellationCallback(t)}))}catch(n){return n}}function D(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?h.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function L(){return this._onCancelField}function M(t){this._onCancelField=t}function P(){this._cancellationParent=void 0,this._onCancelField=void 0}function F(t,e){if(0!=(1&e)){this._cancellationParent=t;var o=t._branchesRemainingToCancel;void 0===o&&(o=0),t._branchesRemainingToCancel=o+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}e.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&C()),"warnings"in t){var o=t.warnings;ot.warnings=!!o,S=ot.warnings,h.isObject(o)&&"wForgottenReturn"in o&&(S=!!o.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!ot.cancellation){if(c.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=P,e.prototype._propagateFrom=F,e.prototype._onCancel=L,e.prototype._setOnCancel=M,e.prototype._attachCancellationCallback=D,e.prototype._execute=x,U=F,ot.cancellation=!0}if("monitoring"in t&&(t.monitoring&&!ot.monitoring?(ot.monitoring=!0,e.prototype._fireEvent=R):!t.monitoring&&ot.monitoring&&(ot.monitoring=!1,e.prototype._fireEvent=N)),"asyncHooks"in t&&h.nodeSupportsAsyncResource){var n=!!t.asyncHooks;ot.asyncHooks!==n&&(ot.asyncHooks=n,n?r():i())}return e},e.prototype._fireEvent=N,e.prototype._execute=function(t,e,o){try{t(e,o)}catch(n){return n}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(t){},e.prototype._attachCancellationCallback=function(t){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._dereferenceTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(t,e){};var U=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)};function V(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function H(){this._trace=new tt(this._peekContext())}function G(t,e){if(d(t)){var o=this._trace;if(void 0!==o&&e&&(o=o._parent),void 0!==o)o.attachExtraTrace(t);else if(!t.__stackCleaned__){var n=z(t);h.notEnumerableProp(t,"stack",n.message+"\n"+n.stack.join("\n")),h.notEnumerableProp(t,"__stackCleaned__",!0)}}}function W(){this._trace=void 0}function j(t,o,n){if(ot.warnings){var r,i=new p(t);if(o)n._attachExtraTrace(i);else if(ot.longStackTraces&&(r=e._peekContext()))r.attachExtraTrace(i);else{var s=z(i);i.stack=s.message+"\n"+s.stack.join("\n")}R("warning",i)||X(i,"",!0)}}function K(t){for(var e=[],o=0;o<t.length;++o){var n=t[o],r="    (No stack trace)"===n||y.test(n),i=r&&Z(n);r&&!i&&(b&&" "!==n.charAt(0)&&(n="    "+n),e.push(n))}return e}function z(t){var e=t.stack,o=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),o=0;o<e.length;++o){var n=e[o];if("    (No stack trace)"===n||y.test(n))break}return o>0&&"SyntaxError"!=t.name&&(e=e.slice(o)),e}(t):["    (No stack trace)"],{message:o,stack:"SyntaxError"==t.name?e:K(e)}}function X(t,e,o){var n;"undefined"!=typeof console&&(n=h.isObject(t)?e+v(t.stack,t):e+String(t),"function"==typeof a?a(n,o):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(n))}function Y(t,e,o,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(o,r))}catch(n){c.throwLater(n)}"unhandledRejection"===t?R(t,o,r)||i||X(o,"Unhandled rejection "):R(t,r)}function J(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t&&"function"==typeof t.toString?t.toString():h.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(n){}0===e.length&&(e="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(e)+">, no stack trace)"}function q(){return"function"==typeof et}var Z=function(){return!1},Q=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function $(t){var e=t.match(Q);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function tt(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);et(this,tt),e>32&&this.uncycle()}h.inherits(tt,Error),o.CapturedTrace=tt,tt.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],o={},n=0,r=this;void 0!==r;++n)e.push(r),r=r._parent;for(n=(t=this._length=n)-1;n>=0;--n){var i=e[n].stack;void 0===o[i]&&(o[i]=n)}for(n=0;n<t;++n){var s=o[e[n].stack];if(void 0!==s&&s!==n){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[n]._parent=void 0,e[n]._length=1;var l=n>0?e[n-1]:this;s<t-1?(l._parent=e[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var a=l._length+1,u=n-2;u>=0;--u)e[u]._length=a,a++;return}}}},tt.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=z(t),o=e.message,n=[e.stack],r=this;void 0!==r;)n.push(K(r.stack.split("\n"))),r=r._parent;!function(t){for(var e=t[0],o=1;o<t.length;++o){for(var n=t[o],r=e.length-1,i=e[r],s=-1,l=n.length-1;l>=0;--l)if(n[l]===i){s=l;break}for(l=s;l>=0&&e[r]===n[l];--l)e.pop(),r--;e=n}}(n),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(n),h.notEnumerableProp(t,"stack",function(t,e){for(var o=0;o<e.length-1;++o)e[o].push("From previous event:"),e[o]=e[o].join("\n");return o<e.length&&(e[o]=e[o].join("\n")),t+"\n"+e.join("\n")}(o,n)),h.notEnumerableProp(t,"__stackCleaned__",!0)}};var et=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():J(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,y=t,v=e;var o=Error.captureStackTrace;return Z=function(t){return f.test(t)},function(t,e){Error.stackTraceLimit+=6,o(t,e),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return y=/@/,v=e,b=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(n){r="stack"in n}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(v=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?J(e):e.toString()},null):(y=t,v=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(n){t.stack=n.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(a=function(t){console.warn(t)},h.isNode&&process.stderr.isTTY?a=function(t,e){console.warn((e?"[33m":"[31m")+t+"[0m\n")}:h.isNode||"string"!=typeof(new Error).stack||(a=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var ot={warnings:k,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return T&&e.longStackTraces(),{asyncHooks:function(){return ot.asyncHooks},longStackTraces:function(){return ot.longStackTraces},warnings:function(){return ot.warnings},cancellation:function(){return ot.cancellation},monitoring:function(){return ot.monitoring},propagateFromFunction:function(){return U},boundValueFunction:function(){return V},checkForgottenReturns:function(t,e,o,n,r){if(void 0===t&&null!==e&&S){if(void 0!==r&&r._returnedNonUndefined())return;if(0==(65535&n._bitField))return;o&&(o+=" ");var i="",s="";if(e._trace){for(var l=e._trace.stack.split("\n"),a=K(l),u=a.length-1;u>=0;--u){var c=a[u];if(!m.test(c)){var p=c.match(_);p&&(i="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(a.length>0){var h=a[0];for(u=0;u<l.length;++u)if(l[u]===h){u>0&&(s="\n"+l[u-1]);break}}}n._warn("a promise was created in a "+o+"handler "+i+"but was not returned from it, see http://goo.gl/rRqMUw"+s,!0,e)}},setBounds:function(t,e){if(q()){for(var o,n,r=(t.stack||"").split("\n"),i=(e.stack||"").split("\n"),s=-1,l=-1,a=0;a<r.length;++a)if(u=$(r[a])){o=u.fileName,s=u.line;break}for(a=0;a<i.length;++a){var u;if(u=$(i[a])){n=u.fileName,l=u.line;break}}s<0||l<0||!o||!n||o!==n||s>=l||(Z=function(t){if(f.test(t))return!0;var e=$(t);return!!(e&&e.fileName===o&&s<=e.line&&e.line<=l)})}},warn:j,deprecated:function(t,e){var o=t+" is deprecated and will be removed in a future version.";return e&&(o+=" Use "+e+" instead."),j(o)},CapturedTrace:tt,fireDomEvent:w,fireGlobalEvent:O}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,o){"use strict";e.exports=function(t){function e(){return this.value}function o(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(o){return o instanceof t&&o.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:o},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(o,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,o,void 0,{reason:t},void 0);var e=arguments[1],n=function(){throw e};return this.caught(t,n)},t.prototype.catchReturn=function(o){if(arguments.length<=1)return o instanceof t&&o.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:o},void 0);var n=arguments[1];n instanceof t&&n.suppressUnhandledRejections();var r=function(){return n};return this.caught(o,r)}}},{}],11:[function(t,e,o){"use strict";e.exports=function(t,e){var o=t.reduce,n=t.all;function r(){return n(this)}t.prototype.each=function(t){return o(this,t,e,0)._then(r,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return o(this,t,e,e)},t.each=function(t,n){return o(t,n,e,0)._then(r,void 0,void 0,t,void 0)},t.mapSeries=function(t,n){return o(t,n,e,e)}}},{}],12:[function(t,e,o){"use strict";var r,i,s=t("./es5"),l=s.freeze,a=t("./util"),u=a.inherits,c=a.notEnumerableProp;function p(t,e){function o(n){if(!(this instanceof o))return new o(n);c(this,"message","string"==typeof n?n:e),c(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(o,Error),o}var h=p("Warning","warning"),g=p("CancellationError","cancellation error"),d=p("TimeoutError","timeout error"),f=p("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(n){r=p("TypeError","type error"),i=p("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<m.length;++_)"function"==typeof Array.prototype[m[_]]&&(f.prototype[m[_]]=Array.prototype[m[_]]);s.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var y=0;function v(t){if(!(this instanceof v))return new v(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(c(this,"message",t.message),c(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}f.prototype.toString=function(){var t=Array(4*y+1).join(" "),e="\n"+t+"AggregateError of:\n";y++,t=Array(4*y+1).join(" ");for(var o=0;o<this.length;++o){for(var n=this[o]===this?"[Circular AggregateError]":this[o]+"",r=n.split("\n"),i=0;i<r.length;++i)r[i]=t+r[i];e+=(n=r.join("\n"))+"\n"}return y--,e},u(v,Error);var b=Error.__BluebirdErrorTypes__;b||(b=l({CancellationError:g,TimeoutError:d,OperationalError:v,RejectionError:v,AggregateError:f}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:r,RangeError:i,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,e,o){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var o=Object.getOwnPropertyDescriptor(t,e);return!(o&&!o.writable&&!o.set)}};else{var i={}.hasOwnProperty,s={}.toString,l={}.constructor.prototype,a=function(t){var e=[];for(var o in t)i.call(t,o)&&e.push(o);return e};e.exports={isArray:function(t){try{return"[object Array]"===s.call(t)}catch(n){return!1}},keys:a,names:a,defineProperty:function(t,e,o){return t[e]=o.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(n){return l}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,o){"use strict";e.exports=function(t,e){var o=t.map;t.prototype.filter=function(t,n){return o(this,t,n,e)},t.filter=function(t,n,r){return o(t,n,r,e)}}},{}],15:[function(t,e,o){"use strict";e.exports=function(e,o,n){var r=t("./util"),i=e.CancellationError,s=r.errorObj,l=t("./catch_filter")(n);function a(t,e,o){this.promise=t,this.type=e,this.handler=o,this.called=!1,this.cancelPromise=null}function u(t){this.finallyHandler=t}function c(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function p(){return g.call(this,this.promise._target()._settledValue())}function h(t){if(!c(this,t))return s.e=t,s}function g(t){var r=this.promise,l=this.handler;if(!this.called){this.called=!0;var a=this.isFinallyHandler()?l.call(r._boundValue()):l.call(r._boundValue(),t);if(a===n)return a;if(void 0!==a){r._setReturnedNonUndefined();var g=o(a,r);if(g instanceof e){if(null!=this.cancelPromise){if(g._isCancelled()){var d=new i("late cancellation observer");return r._attachExtraTrace(d),s.e=d,s}g.isPending()&&g._attachCancellationCallback(new u(this))}return g._then(p,h,void 0,this,void 0)}}}return r.isRejected()?(c(this),s.e=t,s):(c(this),t)}return a.prototype.isFinallyHandler=function(){return 0===this.type},u.prototype._resultCancelled=function(){c(this.finallyHandler)},e.prototype._passThrough=function(t,e,o,n){return"function"!=typeof t?this.then():this._then(o,n,void 0,new a(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,g,g)},e.prototype.tap=function(t){return this._passThrough(t,1,g)},e.prototype.tapCatch=function(t){var o=arguments.length;if(1===o)return this._passThrough(t,1,void 0,g);var n,i=new Array(o-1),s=0;for(n=0;n<o-1;++n){var a=arguments[n];if(!r.isObject(a))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+r.classString(a)));i[s++]=a}i.length=s;var u=arguments[n];return this._passThrough(l(i,u,this),1,void 0,g)},a}},{"./catch_filter":7,"./util":36}],16:[function(t,e,o){"use strict";e.exports=function(e,o,n,r,i,s){var l=t("./errors").TypeError,a=t("./util"),u=a.errorObj,c=a.tryCatch,p=[];function h(t,o,r,i){if(s.cancellation()){var l=new e(n),a=this._finallyPromise=new e(n);this._promise=l.lastly((function(){return a})),l._captureStackTrace(),l._setOnCancel(this)}else(this._promise=new e(n))._captureStackTrace();this._stack=i,this._generatorFunction=t,this._receiver=o,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}a.inherits(h,i),h.prototype._isResolved=function(){return null===this._promise},h.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=c(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var o=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=o,this._promise._attachExtraTrace(o),this._promise._pushContext(),t=c(this._generator.throw).call(this._generator,o),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},h.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=c(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},h.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=c(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(t){var o=this._promise;if(t===u)return this._cleanup(),this._cancellationPhase?o.cancel():o._rejectCallback(t.e,!1);var n=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?o.cancel():o._resolveCallback(n);var i=r(n,this._promise);if(i instanceof e||null!==(i=function(t,o,n){for(var i=0;i<o.length;++i){n._pushContext();var s=c(o[i])(t);if(n._popContext(),s===u){n._pushContext();var l=e.reject(u.e);return n._popContext(),l}var a=r(s,n);if(a instanceof e)return a}return null}(i,this._yieldHandlers,this._promise))){var s=(i=i._target())._bitField;0==(50397184&s)?(this._yieldedPromise=i,i._proxy(this,null)):0!=(33554432&s)?e._async.invoke(this._promiseFulfilled,this,i._value()):0!=(16777216&s)?e._async.invoke(this._promiseRejected,this,i._reason()):this._promiseCancelled()}else this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(n))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var o=Object(e).yieldHandler,n=h,r=(new Error).stack;return function(){var e=t.apply(this,arguments),i=new n(void 0,void 0,o,r),s=i.promise();return i._generator=e,i._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+a.classString(t));p.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return o("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=new h(t,this),r=n.promise();return n._run(e.spawn),r}}},{"./errors":12,"./util":36}],17:[function(t,e,o){"use strict";e.exports=function(e,o,n,r,i){t("./util"),e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);var n=[].slice.call(arguments);t&&n.pop();var r=new o(n).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,o){"use strict";e.exports=function(e,o,n,r,i,s){var l=t("./util"),a=l.tryCatch,u=l.errorObj,c=e._async;function p(t,o,n,r){this.constructor$(t),this._promise._captureStackTrace();var s=e._getContext();if(this._callback=l.contextBind(s,o),this._preservedValues=r===i?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],c.invoke(this._asyncInit,this,void 0),l.isArray(t))for(var a=0;a<t.length;++a){var u=t[a];u instanceof e&&u.suppressUnhandledRejections()}}function h(t,o,r,i){if("function"!=typeof o)return n("expecting a function but got "+l.classString(o));var s=0;if(void 0!==r){if("object"!=typeof r||null===r)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(r)));if("number"!=typeof r.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(r.concurrency)));s=r.concurrency}return new p(t,o,s="number"==typeof s&&isFinite(s)&&s>=1?s:0,i).promise()}l.inherits(p,o),p.prototype._asyncInit=function(){this._init$(void 0,-2)},p.prototype._init=function(){},p.prototype._promiseFulfilled=function(t,o){var n=this._values,i=this.length(),l=this._preservedValues,c=this._limit;if(o<0){if(n[o=-1*o-1]=t,c>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(c>=1&&this._inFlight>=c)return n[o]=t,this._queue.push(o),!1;null!==l&&(l[o]=t);var p=this._promise,h=this._callback,g=p._boundValue();p._pushContext();var d=a(h).call(g,t,o,i),f=p._popContext();if(s.checkForgottenReturns(d,f,null!==l?"Promise.filter":"Promise.map",p),d===u)return this._reject(d.e),!0;var m=r(d,this._promise);if(m instanceof e){var _=(m=m._target())._bitField;if(0==(50397184&_))return c>=1&&this._inFlight++,n[o]=m,m._proxy(this,-1*(o+1)),!1;if(0==(33554432&_))return 0!=(16777216&_)?(this._reject(m._reason()),!0):(this._cancel(),!0);d=m._value()}n[o]=d}return++this._totalResolved>=i&&(null!==l?this._filter(n,l):this._resolve(n),!0)},p.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,o=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var n=t.pop();this._promiseFulfilled(o[n],n)}},p.prototype._filter=function(t,e){for(var o=e.length,n=new Array(o),r=0,i=0;i<o;++i)t[i]&&(n[r++]=e[i]);n.length=r,this._resolve(n)},p.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return h(this,t,e,null)},e.map=function(t,e,o,n){return h(t,e,o,n)}}},{"./util":36}],19:[function(t,e,o){"use strict";e.exports=function(e,o,n,r,i){var s=t("./util"),l=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var n=new e(o);n._captureStackTrace(),n._pushContext();var r=l(t).apply(this,arguments),s=n._popContext();return i.checkForgottenReturns(r,s,"Promise.method",n),n._resolveFromSyncValue(r),n}},e.attempt=e.try=function(t){if("function"!=typeof t)return r("expecting a function but got "+s.classString(t));var n,a=new e(o);if(a._captureStackTrace(),a._pushContext(),arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],c=arguments[2];n=s.isArray(u)?l(t).apply(c,u):l(t).call(c,u)}else n=l(t)();var p=a._popContext();return i.checkForgottenReturns(n,p,"Promise.try",a),a._resolveFromSyncValue(n),a},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,o){"use strict";var n=t("./util"),r=n.maybeWrapAsError,i=t("./errors").OperationalError,s=t("./es5"),l=/^(?:name|message|stack|cause)$/;function a(t){var e;if(function(t){return t instanceof Error&&s.getPrototypeOf(t)===Error.prototype}(t)){(e=new i(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var o=s.keys(t),r=0;r<o.length;++r){var a=o[r];l.test(a)||(e[a]=t[a])}return e}return n.markAsOriginatingFromRejection(t),t}e.exports=function(t,e){return function(o,n){if(null!==t){if(o){var i=a(r(o));t._attachExtraTrace(i),t._reject(i)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(n);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,o){"use strict";e.exports=function(e){var o=t("./util"),n=e._async,r=o.tryCatch,i=o.errorObj;function s(t,e){if(!o.isArray(t))return l.call(this,t,e);var s=r(e).apply(this._boundValue(),[null].concat(t));s===i&&n.throwLater(s.e)}function l(t,e){var o=this._boundValue(),s=void 0===t?r(e).call(o,null):r(e).call(o,null,t);s===i&&n.throwLater(s.e)}function a(t,e){if(!t){var o=new Error(t+"");o.cause=t,t=o}var s=r(e).call(this._boundValue(),t);s===i&&n.throwLater(s.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=l;void 0!==e&&Object(e).spread&&(o=s),this._then(o,a,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,e,o){"use strict";e.exports=function(){var o=function(){return new _("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},n=function(){return new N.PromiseInspection(this._target())},r=function(t){return N.reject(new _(t))};function i(){}var s={},l=t("./util");l.setReflectHandler(n);var a=function(){var t=process.domain;return void 0===t?null:t},u=function(){return{domain:a(),async:null}},c=l.isNode&&l.nodeSupportsAsyncResource?t("async_hooks").AsyncResource:null,p=function(){return{domain:a(),async:new c("Bluebird::Promise")}},h=l.isNode?u:function(){return null};l.notEnumerableProp(N,"_getContext",h);var g=t("./es5"),d=t("./async"),f=new d;g.defineProperty(N,"_async",{value:f});var m=t("./errors"),_=N.TypeError=m.TypeError;N.RangeError=m.RangeError;var y=N.CancellationError=m.CancellationError;N.TimeoutError=m.TimeoutError,N.OperationalError=m.OperationalError,N.RejectionError=m.OperationalError,N.AggregateError=m.AggregateError;var v=function(){},b={},E={},k=t("./thenables")(N,v),T=t("./promise_array")(N,v,k,r,i),S=t("./context")(N),C=S.create,A=t("./debuggability")(N,S,(function(){h=p,l.notEnumerableProp(N,"_getContext",p)}),(function(){h=u,l.notEnumerableProp(N,"_getContext",u)})),w=t("./finally")(N,k,E),O=t("./catch_filter")(E),B=t("./nodeback"),I=l.errorObj,R=l.tryCatch;function N(t){t!==v&&function(t,e){if(null==t||t.constructor!==N)throw new _("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new _("expecting a function but got "+l.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function x(t){this.promise._resolveCallback(t)}function D(t){this.promise._rejectCallback(t,!1)}function L(t){var e=new N(v);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var e=arguments.length;if(e>1){var o,n=new Array(e-1),i=0;for(o=0;o<e-1;++o){var s=arguments[o];if(!l.isObject(s))return r("Catch statement predicate: expecting an object but got "+l.classString(s));n[i++]=s}if(n.length=i,"function"!=typeof(t=arguments[o]))throw new _("The last argument to .catch() must be a function, got "+l.toString(t));return this.then(void 0,O(n,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},N.prototype.then=function(t,e){if(A.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var o=".then() only accepts functions but was passed: "+l.classString(t);arguments.length>1&&(o+=", "+l.classString(e)),this._warn(o)}return this._then(t,e,void 0,void 0,void 0)},N.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},N.prototype.spread=function(t){return"function"!=typeof t?r("expecting a function but got "+l.classString(t)):this.all()._then(t,void 0,void 0,b,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new T(this).promise()},N.prototype.error=function(t){return this.caught(l.originatesFromRejection,t)},N.getNewLibraryCopy=e.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var e=new N(v);e._captureStackTrace();var o=arguments.length>1&&!!Object(arguments[1]).multiArgs,n=R(t)(B(e,o));return n===I&&e._rejectCallback(n.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},N.all=function(t){return new T(t).promise()},N.cast=function(t){var e=k(t);return e instanceof N||((e=new N(v))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var e=new N(v);return e._captureStackTrace(),e._rejectCallback(t,!0),e},N.setScheduler=function(t){if("function"!=typeof t)throw new _("expecting a function but got "+l.classString(t));return f.setScheduler(t)},N.prototype._then=function(t,e,o,n,r){var i=void 0!==r,s=i?r:new N(v),a=this._target(),u=a._bitField;i||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===n&&0!=(2097152&this._bitField)&&(n=0!=(50397184&u)?this._boundValue():a===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var c=h();if(0!=(50397184&u)){var p,g,d=a._settlePromiseCtx;0!=(33554432&u)?(g=a._rejectionHandler0,p=t):0!=(16777216&u)?(g=a._fulfillmentHandler0,p=e,a._unsetRejectionIsUnhandled()):(d=a._settlePromiseLateCancellationObserver,g=new y("late cancellation observer"),a._attachExtraTrace(g),p=e),f.invoke(d,a,{handler:l.contextBind(c,p),promise:s,receiver:n,value:g})}else a._addCallbacks(t,e,s,n,c);return s},N.prototype._length=function(){return 65535&this._bitField},N.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},N.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},N.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},N.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},N.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},N.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},N.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},N.prototype._isFinal=function(){return(4194304&this._bitField)>0},N.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},N.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},N.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},N.prototype._setAsyncGuaranteed=function(){if(!f.hasCustomScheduler()){var t=this._bitField;this._bitField=t|(536870912&t)>>2^134217728}},N.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},N.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==s)return void 0===e&&this._isBound()?this._boundValue():e},N.prototype._promiseAt=function(t){return this[4*t-4+2]},N.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},N.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},N.prototype._boundValue=function(){},N.prototype._migrateCallback0=function(t){var e=t._fulfillmentHandler0,o=t._rejectionHandler0,n=t._promise0,r=t._receiverAt(0);void 0===r&&(r=s),this._addCallbacks(e,o,n,r,null)},N.prototype._migrateCallbackAt=function(t,e){var o=t._fulfillmentHandlerAt(e),n=t._rejectionHandlerAt(e),r=t._promiseAt(e),i=t._receiverAt(e);void 0===i&&(i=s),this._addCallbacks(o,n,r,i,null)},N.prototype._addCallbacks=function(t,e,o,n,r){var i=this._length();if(i>=65531&&(i=0,this._setLength(0)),0===i)this._promise0=o,this._receiver0=n,"function"==typeof t&&(this._fulfillmentHandler0=l.contextBind(r,t)),"function"==typeof e&&(this._rejectionHandler0=l.contextBind(r,e));else{var s=4*i-4;this[s+2]=o,this[s+3]=n,"function"==typeof t&&(this[s+0]=l.contextBind(r,t)),"function"==typeof e&&(this[s+1]=l.contextBind(r,e))}return this._setLength(i+1),i},N.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},N.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(o(),!1);var n=k(t,this);if(!(n instanceof N))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r!==this){var i=r._bitField;if(0==(50397184&i)){var s=this._length();s>0&&r._migrateCallback0(this);for(var l=1;l<s;++l)r._migrateCallbackAt(this,l);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&i))this._fulfill(r._value());else if(0!=(16777216&i))this._reject(r._reason());else{var a=new y("late cancellation observer");r._attachExtraTrace(a),this._reject(a)}}else this._reject(o())}},N.prototype._rejectCallback=function(t,e,o){var n=l.ensureErrorObject(t),r=n===t;if(!r&&!o&&A.warnings()){var i="a promise was rejected with a non-error: "+l.classString(t);this._warn(i,!0)}this._attachExtraTrace(n,!!e&&r),this._reject(t)},N.prototype._resolveFromExecutor=function(t){if(t!==v){var e=this;this._captureStackTrace(),this._pushContext();var o=!0,n=this._execute(t,(function(t){e._resolveCallback(t)}),(function(t){e._rejectCallback(t,o)}));o=!1,this._popContext(),void 0!==n&&e._rejectCallback(n,!0)}},N.prototype._settlePromiseFromHandler=function(t,e,o,n){var r=n._bitField;if(0==(65536&r)){var i;n._pushContext(),e===b?o&&"number"==typeof o.length?i=R(t).apply(this._boundValue(),o):(i=I).e=new _("cannot .spread() a non-array: "+l.classString(o)):i=R(t).call(e,o);var s=n._popContext();0==(65536&(r=n._bitField))&&(i===E?n._reject(o):i===I?n._rejectCallback(i.e,!1):(A.checkForgottenReturns(i,s,"",n,this),n._resolveCallback(i)))}},N.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},N.prototype._followee=function(){return this._rejectionHandler0},N.prototype._setFollowee=function(t){this._rejectionHandler0=t},N.prototype._settlePromise=function(t,e,o,r){var s=t instanceof N,l=this._bitField,a=0!=(134217728&l);0!=(65536&l)?(s&&t._invokeInternalOnCancel(),o instanceof w&&o.isFinallyHandler()?(o.cancelPromise=t,R(e).call(o,r)===I&&t._reject(I.e)):e===n?t._fulfill(n.call(o)):o instanceof i?o._promiseCancelled(t):s||t instanceof T?t._cancel():o.cancel()):"function"==typeof e?s?(a&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,o,r,t)):e.call(o,r,t):o instanceof i?o._isResolved()||(0!=(33554432&l)?o._promiseFulfilled(r,t):o._promiseRejected(r,t)):s&&(a&&t._setAsyncGuaranteed(),0!=(33554432&l)?t._fulfill(r):t._reject(r))},N.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,o=t.promise,n=t.receiver,r=t.value;"function"==typeof e?o instanceof N?this._settlePromiseFromHandler(e,n,r,o):e.call(n,r,o):o instanceof N&&o._reject(r)},N.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},N.prototype._settlePromise0=function(t,e,o){var n=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(n,t,r,e)},N.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},N.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=o();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():f.settlePromises(this),this._dereferenceTrace())}},N.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return f.fatalError(t,l.isNode);(65535&e)>0?f.settlePromises(this):this._ensurePossibleRejectionHandled()}},N.prototype._fulfillPromises=function(t,e){for(var o=1;o<t;o++){var n=this._fulfillmentHandlerAt(o),r=this._promiseAt(o),i=this._receiverAt(o);this._clearCallbackDataAtIndex(o),this._settlePromise(r,n,i,e)}},N.prototype._rejectPromises=function(t,e){for(var o=1;o<t;o++){var n=this._rejectionHandlerAt(o),r=this._promiseAt(o),i=this._receiverAt(o);this._clearCallbackDataAtIndex(o),this._settlePromise(r,n,i,e)}},N.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var o=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,o,t),this._rejectPromises(e,o)}else{var n=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,n,t),this._fulfillPromises(e,n)}this._setLength(0)}this._clearCancellationData()},N.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&g.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){return A.deprecated("Promise.defer","new Promise"),{promise:new N(v),resolve:x,reject:D}},l.notEnumerableProp(N,"_makeSelfResolutionError",o),t("./method")(N,v,k,r,A),t("./bind")(N,v,k,A),t("./cancel")(N,T,r,A),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,T,k,v,f),N.Promise=N,N.version="3.7.1",t("./call_get.js")(N),t("./generators.js")(N,r,v,k,i,A),t("./map.js")(N,T,r,k,v,A),t("./nodeify.js")(N),t("./promisify.js")(N,v),t("./props.js")(N,T,k,r),t("./race.js")(N,v,k,r),t("./reduce.js")(N,T,r,k,v,A),t("./settle.js")(N,T,A),t("./some.js")(N,T,r),t("./timers.js")(N,v,A),t("./using.js")(N,r,k,C,v,A),t("./any.js")(N),t("./each.js")(N,v),t("./filter.js")(N,v),l.toFastProperties(N),l.toFastProperties(N.prototype),L({a:1}),L({b:2}),L({c:3}),L(1),L((function(){})),L(void 0),L(!1),L(new N(v)),A.setBounds(d.firstLineError,l.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(t,e,o){"use strict";e.exports=function(e,o,n,r,i){var s=t("./util");function l(t){var n=this._promise=new e(o);t instanceof e&&(n._propagateFrom(t,3),t.suppressUnhandledRejections()),n._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(l,i),l.prototype.length=function(){return this._length},l.prototype.promise=function(){return this._promise},l.prototype._init=function t(o,i){var l=n(this._values,this._promise);if(l instanceof e){var a=(l=l._target())._bitField;if(this._values=l,0==(50397184&a))return this._promise._setAsyncGuaranteed(),l._then(t,this._reject,void 0,this,i);if(0==(33554432&a))return 0!=(16777216&a)?this._reject(l._reason()):this._cancel();l=l._value()}if(null!==(l=s.asArray(l)))0!==l.length?this._iterate(l):-5===i?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(i));else{var u=r("expecting an array or an iterable object but got "+s.classString(l)).reason();this._promise._rejectCallback(u,!1)}},l.prototype._iterate=function(t){var o=this.getActualLength(t.length);this._length=o,this._values=this.shouldCopyValues()?new Array(o):this._values;for(var r=this._promise,i=!1,s=null,l=0;l<o;++l){var a=n(t[l],r);s=a instanceof e?(a=a._target())._bitField:null,i?null!==s&&a.suppressUnhandledRejections():null!==s?0==(50397184&s)?(a._proxy(this,l),this._values[l]=a):i=0!=(33554432&s)?this._promiseFulfilled(a._value(),l):0!=(16777216&s)?this._promiseRejected(a._reason(),l):this._promiseCancelled(l):i=this._promiseFulfilled(a,l)}i||r._setAsyncGuaranteed()},l.prototype._isResolved=function(){return null===this._values},l.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},l.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},l.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},l.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},l.prototype._promiseCancelled=function(){return this._cancel(),!0},l.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},l.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var o=0;o<t.length;++o)t[o]instanceof e&&t[o].cancel()}},l.prototype.shouldCopyValues=function(){return!0},l.prototype.getActualLength=function(t){return t},l}},{"./util":36}],24:[function(t,e,o){"use strict";e.exports=function(e,o){var r={},i=t("./util"),s=t("./nodeback"),l=i.withAppended,a=i.maybeWrapAsError,u=i.canEvaluate,c=t("./errors").TypeError,p={__isPromisified__:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),g=function(t){return i.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!h.test(t)}function f(t){try{return!0===t.__isPromisified__}catch(n){return!1}}function m(t,e,o){var n=i.getDataPropertyOrDefault(t,e+o,p);return!!n&&f(n)}var _=function(t){return t.replace(/([$])/,"\\$")},y=u?void 0:function(t,u,c,p,h,g){var d=function(){return this}(),f=t;function m(){var i=u;u===r&&(i=this);var c=new e(o);c._captureStackTrace();var p="string"==typeof f&&this!==d?this[f]:t,h=s(c,g);try{p.apply(i,l(arguments,h))}catch(n){c._rejectCallback(a(n),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}return"string"==typeof f&&(t=p),i.notEnumerableProp(m,"__isPromisified__",!0),m};function v(t,e,o,n,s){for(var l=new RegExp(_(e)+"$"),a=function(t,e,o,n){for(var r=i.inheritedDataKeys(t),s=[],l=0;l<r.length;++l){var a=r[l],u=t[a],p=n===g||g(a,u,t);"function"!=typeof u||f(u)||m(t,a,e)||!n(a,u,t,p)||s.push(a,u)}return function(t,e,o){for(var n=0;n<t.length;n+=2){var r=t[n];if(o.test(r))for(var i=r.replace(o,""),s=0;s<t.length;s+=2)if(t[s]===i)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(s,e,o),s}(t,e,l,o),u=0,p=a.length;u<p;u+=2){var h=a[u],d=a[u+1],v=h+e;if(n===y)t[v]=y(h,r,h,d,e,s);else{var b=n(d,(function(){return y(h,r,h,d,e,s)}));i.notEnumerableProp(b,"__isPromisified__",!0),t[v]=b}}return i.toFastProperties(t),t}e.promisify=function(t,e){if("function"!=typeof t)throw new c("expecting a function but got "+i.classString(t));if(f(t))return t;var o,n,s=(o=t,n=void 0===(e=Object(e)).context?r:e.context,y(o,n,void 0,o,null,!!e.multiArgs));return i.copyDescriptors(t,s,d),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var o=!!(e=Object(e)).multiArgs,n=e.suffix;"string"!=typeof n&&(n="Async");var r=e.filter;"function"!=typeof r&&(r=g);var s=e.promisifier;if("function"!=typeof s&&(s=y),!i.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var l=i.inheritedDataKeys(t),a=0;a<l.length;++a){var u=t[l[a]];"constructor"!==l[a]&&i.isClass(u)&&(v(u.prototype,n,r,s,o),v(u,n,r,s,o))}return v(t,n,r,s,o)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,o){"use strict";e.exports=function(e,o,n,r){var i,s=t("./util"),l=s.isObject,a=t("./es5");"function"==typeof Map&&(i=Map);var u=function(){var t=0,e=0;function o(o,n){this[t]=o,this[t+e]=n,t++}return function(n){e=n.size,t=0;var r=new Array(2*n.size);return n.forEach(o,r),r}}();function c(t){var e,o=!1;if(void 0!==i&&t instanceof i)e=u(t),o=!0;else{var n=a.keys(t),r=n.length;e=new Array(2*r);for(var s=0;s<r;++s){var l=n[s];e[s]=t[l],e[s+r]=l}}this.constructor$(e),this._isMap=o,this._init$(void 0,o?-6:-3)}function p(t){var o,i=n(t);return l(i)?(o=i instanceof e?i._then(e.props,void 0,void 0,void 0,void 0):new c(i).promise(),i instanceof e&&o._propagateFrom(i,2),o):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(c,o),c.prototype._init=function(){},c.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var o;if(this._isMap)o=function(t){for(var e=new i,o=t.length/2|0,n=0;n<o;++n)e.set(t[o+n],t[n]);return e}(this._values);else{o={};for(var n=this.length(),r=0,s=this.length();r<s;++r)o[this._values[r+n]]=this._values[r]}return this._resolve(o),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return p(this)},e.props=function(t){return p(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,o){"use strict";function n(t){this._capacity=t,this._length=0,this._front=0}n.prototype._willBeOverCapacity=function(t){return this._capacity<t},n.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},n.prototype.push=function(t,e,o){var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(t),this._pushOne(e),void this._pushOne(o);var r=this._front+n-3;this._checkCapacity(n);var i=this._capacity-1;this[r+0&i]=t,this[r+1&i]=e,this[r+2&i]=o,this._length=n},n.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},n.prototype.length=function(){return this._length},n.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},n.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,o,n,r){for(var i=0;i<r;++i)o[i+n]=t[i+0],t[i+0]=void 0}(this,0,this,e,this._front+this._length&e-1)},e.exports=n},{}],27:[function(t,e,o){"use strict";e.exports=function(e,o,n,r){var i=t("./util"),s=function(t){return t.then((function(e){return l(e,t)}))};function l(t,l){var a=n(t);if(a instanceof e)return s(a);if(null===(t=i.asArray(t)))return r("expecting an array or an iterable object but got "+i.classString(t));var u=new e(o);void 0!==l&&u._propagateFrom(l,3);for(var c=u._fulfill,p=u._reject,h=0,g=t.length;h<g;++h){var d=t[h];(void 0!==d||h in t)&&e.cast(d)._then(c,p,void 0,u,null)}return u}e.race=function(t){return l(t,void 0)},e.prototype.race=function(){return l(this,void 0)}}},{"./util":36}],28:[function(t,e,o){"use strict";e.exports=function(e,o,n,r,i,s){var l=t("./util"),a=l.tryCatch;function u(t,o,n,r){this.constructor$(t);var s=e._getContext();this._fn=l.contextBind(s,o),void 0!==n&&(n=e.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=r===i?Array(this._length):0===r?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function c(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function p(t,e,o,r){return"function"!=typeof e?n("expecting a function but got "+l.classString(e)):new u(t,e,o,r).promise()}function h(t){this.accum=t,this.array._gotAccum(t);var o=r(this.value,this.array._promise);return o instanceof e?(this.array._currentCancellable=o,o._then(g,void 0,void 0,this,void 0)):g.call(this,o)}function g(t){var o,n=this.array,r=n._promise,i=a(n._fn);r._pushContext(),(o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(n._currentCancellable=o);var l=r._popContext();return s.checkForgottenReturns(o,l,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}l.inherits(u,o),u.prototype._gotAccum=function(t){null!=this._eachValues&&t!==i&&this._eachValues.push(t)},u.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},u.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},u.prototype._iterate=function(t){var o,n;this._values=t;var r=t.length;void 0!==this._initialValue?(o=this._initialValue,n=0):(o=e.resolve(t[0]),n=1),this._currentCancellable=o;for(var i=n;i<r;++i){var s=t[i];s instanceof e&&s.suppressUnhandledRejections()}if(!o.isRejected())for(;n<r;++n)o=o._then(h,void 0,void 0,{accum:null,value:t[n],index:n,length:r,array:this},void 0),0==(127&n)&&o._setNoAsyncGuarantee();void 0!==this._eachValues&&(o=o._then(this._eachComplete,void 0,void 0,this,void 0)),o._then(c,c,void 0,o,this)},e.prototype.reduce=function(t,e){return p(this,t,e,null)},e.reduce=function(t,e,o,n){return p(t,e,o,n)}}},{"./util":36}],29:[function(t,e,o){"use strict";var n,r,i,s,l,a=t("./util"),u=a.getNativePromise();if(a.isNode&&"undefined"==typeof MutationObserver){var c=global.setImmediate,p=process.nextTick;n=a.isRecentNode?function(t){c.call(global,t)}:function(t){p.call(process,t)}}else if("function"==typeof u&&"function"==typeof u.resolve){var h=u.resolve();n=function(t){h.then(t)}}else n="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?(r=document.createElement("div"),i={attributes:!0},s=!1,l=document.createElement("div"),new MutationObserver((function(){r.classList.toggle("foo"),s=!1})).observe(l,i),function(t){var e=new MutationObserver((function(){e.disconnect(),t()}));e.observe(r,i),s||(s=!0,l.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};e.exports=n},{"./util":36}],30:[function(t,e,o){"use strict";e.exports=function(e,o,n){var r=e.PromiseInspection;function i(t){this.constructor$(t)}t("./util").inherits(i,o),i.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var o=new r;return o._bitField=33554432,o._settledValueField=t,this._promiseResolved(e,o)},i.prototype._promiseRejected=function(t,e){var o=new r;return o._bitField=16777216,o._settledValueField=t,this._promiseResolved(e,o)},e.settle=function(t){return n.deprecated(".settle()",".reflect()"),new i(t).promise()},e.allSettled=function(t){return new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,o){"use strict";e.exports=function(e,o,n){var r=t("./util"),i=t("./errors").RangeError,s=t("./errors").AggregateError,l=r.isArray,a={};function u(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function c(t,e){if((0|e)!==e||e<0)return n("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var o=new u(t),r=o.promise();return o.setHowMany(e),o.init(),r}r.inherits(u,o),u.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=l(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},u.prototype.init=function(){this._initialized=!0,this._init()},u.prototype.setUnwrap=function(){this._unwrap=!0},u.prototype.howMany=function(){return this._howMany},u.prototype.setHowMany=function(t){this._howMany=t},u.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},u.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},u.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(a),this._checkOutcome())},u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new s,e=this.length();e<this._values.length;++e)this._values[e]!==a&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},u.prototype._fulfilled=function(){return this._totalResolved},u.prototype._rejected=function(){return this._values.length-this.length()},u.prototype._addRejected=function(t){this._values.push(t)},u.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},u.prototype._getRangeError=function(t){return new i("Input array must contain at least "+this._howMany+" items but contains only "+t+" items")},u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return c(t,e)},e.prototype.some=function(t){return c(this,t)},e._SomePromiseArray=u}},{"./errors":12,"./util":36}],32:[function(t,e,o){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var o=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},i=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},l=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return i.call(this._target())},t.prototype.isFulfilled=function(){return r.call(this._target())},t.prototype.isResolved=function(){return l.call(this._target())},t.prototype.value=function(){return o.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),n.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,o){"use strict";e.exports=function(e,o){var r=t("./util"),i=r.errorObj,s=r.isObject,l={}.hasOwnProperty;return function(t,a){if(s(t)){if(t instanceof e)return t;var u=function(t){try{return function(t){return t.then}(t)}catch(n){return i.e=n,i}}(t);if(u===i){a&&a._pushContext();var c=e.reject(u.e);return a&&a._popContext(),c}if("function"==typeof u)return function(t){try{return l.call(t,"_promise0")}catch(n){return!1}}(t)?(c=new e(o),t._then(c._fulfill,c._reject,void 0,c,null),c):function(t,n,s){var l=new e(o),a=l;s&&s._pushContext(),l._captureStackTrace(),s&&s._popContext();var u=!0,c=r.tryCatch(n).call(t,(function(t){l&&(l._resolveCallback(t),l=null)}),(function(t){l&&(l._rejectCallback(t,u,!0),l=null)}));return u=!1,l&&c===i&&(l._rejectCallback(c.e,!0,!0),l=null),a}(t,u,a)}return t}}},{"./util":36}],34:[function(t,e,o){"use strict";e.exports=function(e,o,n){var r=t("./util"),i=e.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var l=function(t){return a(+this).thenReturn(t)},a=e.delay=function(t,r){var i,a;return void 0!==r?(i=e.resolve(r)._then(l,null,null,t,void 0),n.cancellation()&&r instanceof e&&i._setOnCancel(r)):(i=new e(o),a=setTimeout((function(){i._fulfill()}),+t),n.cancellation()&&i._setOnCancel(new s(a)),i._captureStackTrace()),i._setAsyncGuaranteed(),i};function u(t){return clearTimeout(this.handle),t}function c(t){throw clearTimeout(this.handle),t}e.prototype.delay=function(t){return a(t,this)},e.prototype.timeout=function(t,e){var o,l;t=+t;var a=new s(setTimeout((function(){o.isPending()&&function(t,e,o){var n;n="string"!=typeof e?e instanceof Error?e:new i("operation timed out"):new i(e),r.markAsOriginatingFromRejection(n),t._attachExtraTrace(n),t._reject(n),null!=o&&o.cancel()}(o,e,l)}),t));return n.cancellation()?(l=this.then(),(o=l._then(u,c,void 0,a,void 0))._setOnCancel(a)):o=this._then(u,c,void 0,a,void 0),o}}},{"./util":36}],35:[function(t,e,o){"use strict";e.exports=function(e,o,r,i,s,l){var a=t("./util"),u=t("./errors").TypeError,c=t("./util").inherits,p=a.errorObj,h=a.tryCatch,g={};function d(t){setTimeout((function(){throw t}),0)}function f(t,o){var i=0,l=t.length,a=new e(s);return function s(){if(i>=l)return a._fulfill();var u=function(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[i++]);if(u instanceof e&&u._isDisposable()){try{u=r(u._getDisposer().tryDispose(o),t.promise)}catch(n){return d(n)}if(u instanceof e)return u._then(s,d,null,null,null)}s()}(),a}function m(t,e,o){this._data=t,this._promise=e,this._context=o}function _(t,e,o){this.constructor$(t,e,o)}function y(t){return m.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function v(t){this.length=t,this.promise=null,this[t-1]=null}m.prototype.data=function(){return this._data},m.prototype.promise=function(){return this._promise},m.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():g},m.prototype.tryDispose=function(t){var e=this.resource(),o=this._context;void 0!==o&&o._pushContext();var n=e!==g?this.doDispose(e,t):null;return void 0!==o&&o._popContext(),this._promise._unsetDisposable(),this._data=null,n},m.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(_,m),_.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},v.prototype._resultCancelled=function(){for(var t=this.length,o=0;o<t;++o){var n=this[o];n instanceof e&&n.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return o("you must pass at least 2 arguments to Promise.using");var n,i=arguments[t-1];if("function"!=typeof i)return o("expecting a function but got "+a.classString(i));var s=!0;2===t&&Array.isArray(arguments[0])?(t=(n=arguments[0]).length,s=!1):(n=arguments,t--);for(var u=new v(t),c=0;c<t;++c){var g=n[c];if(m.isDisposer(g)){var d=g;(g=g.promise())._setDisposable(d)}else{var _=r(g);_ instanceof e&&(g=_._then(y,null,null,{resources:u,index:c},void 0))}u[c]=g}var b=new Array(u.length);for(c=0;c<b.length;++c)b[c]=e.resolve(u[c]).reflect();var E=e.all(b).then((function(t){for(var e=0;e<t.length;++e){var o=t[e];if(o.isRejected())return p.e=o.error(),p;if(!o.isFulfilled())return void E.cancel();t[e]=o.value()}k._pushContext(),i=h(i);var n=s?i.apply(void 0,t):i(t),r=k._popContext();return l.checkForgottenReturns(n,r,"Promise.using",k),n})),k=E.lastly((function(){var t=new e.PromiseInspection(E);return f(u,t)}));return u.promise=k,k._setOnCancel(u),k},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new _(t,this,i());throw new u}}},{"./errors":12,"./util":36}],36:[function(t,e,o){"use strict";var r,i=t("./es5"),s="undefined"==typeof navigator,l={e:{}},a="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null;function u(){try{var t=r;return r=null,t.apply(this,arguments)}catch(n){return l.e=n,l}}function c(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function p(t,e,o){return c(t)?t:(i.defineProperty(t,e,{value:o,configurable:!0,enumerable:!1,writable:!0}),t)}var h=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var o=0;o<t.length;++o)if(t[o]===e)return!0;return!1};if(i.isES5){var o=Object.getOwnPropertyNames;return function(t){for(var r=[],s=Object.create(null);null!=t&&!e(t);){var l;try{l=o(t)}catch(n){return r}for(var a=0;a<l.length;++a){var u=l[a];if(!s[u]){s[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}t=i.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(o){if(e(o))return[];var n=[];t:for(var i in o)if(r.call(o,i))n.push(i);else{for(var s=0;s<t.length;++s)if(r.call(t[s],i))continue t;n.push(i)}return n}}(),g=/this\s*\.\s*\S+\s*=/,d=/^[a-z$_][a-z$_0-9]*$/i;function f(t){try{return t+""}catch(n){return"[no string representation]"}}function m(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function _(t){return m(t)&&i.propertyIsWritable(t,"stack")}var y="stack"in new Error?function(t){return _(t)?t:new Error(f(t))}:function(t){if(_(t))return t;try{throw new Error(f(t))}catch(e){return e}};function v(t){return{}.toString.call(t)}var b=function(t){return i.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var E="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,o=[],n=t[Symbol.iterator]();!(e=n.next()).done;)o.push(e.value);return o};b=function(t){return i.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?E(t):null}}var k,T,S="undefined"!=typeof process&&"[object process]"===v(process).toLowerCase(),C="undefined"!=typeof process&&void 0!==process.env,A={setReflectHandler:function(t){k=t},isClass:function(t){try{if("function"==typeof t){var e=i.names(t.prototype),o=i.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),s=g.test(t+"")&&i.names(t).length>0;if(o||r||s)return!0}return!1}catch(n){return!1}},isIdentifier:function(t){return d.test(t)},inheritedDataKeys:h,getDataPropertyOrDefault:function(t,e,o){if(!i.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var n=Object.getOwnPropertyDescriptor(t,e);return null!=n?null==n.get&&null==n.set?n.value:o:void 0},thrower:function(t){throw t},isArray:i.isArray,asArray:b,notEnumerableProp:p,isPrimitive:c,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:m,canEvaluate:s,errorObj:l,tryCatch:function(t){return r=t,u},inherits:function(t,e){var o={}.hasOwnProperty;function n(){for(var n in this.constructor=t,this.constructor$=e,e.prototype)o.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}return n.prototype=e.prototype,t.prototype=new n,t.prototype},withAppended:function(t,e){var o,n=t.length,r=new Array(n+1);for(o=0;o<n;++o)r[o]=t[o];return r[o]=e,r},maybeWrapAsError:function(t){return c(t)?new Error(f(t)):t},toFastProperties:function(t){function e(){}e.prototype=t;var o=new e;function n(){return typeof o.foo}return n(),n(),t},filledRange:function(t,e,o){for(var n=new Array(t),r=0;r<t;++r)n[r]=e+r+o;return n},toString:f,canAttachTrace:_,ensureErrorObject:y,originatesFromRejection:function(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{p(t,"isOperational",!0)}catch(e){}},classString:v,copyDescriptors:function(t,e,o){for(var n=i.names(t),r=0;r<n.length;++r){var s=n[r];if(o(s))try{i.defineProperty(e,s,i.getDescriptor(t,s))}catch(l){}}},isNode:S,hasEnvVariables:C,env:function(t){return C?process.env[t]:void 0},global:a,getNativePromise:function(){if("function"==typeof Promise)try{if("[object Promise]"===v(new Promise((function(){}))))return Promise}catch(n){}},contextBind:function(t,e){if(null===t||"function"!=typeof e||e===k)return e;null!==t.domain&&(e=t.domain.bind(e));var o=t.async;if(null!==o){var n=e;e=function(){var t=new Array(2).concat([].slice.call(arguments));return t[0]=n,t[1]=this,o.runInAsyncScope.apply(o,t)}}return e}};A.isRecentNode=A.isNode&&(process.versions&&process.versions.node?T=process.versions.node.split(".").map(Number):process.version&&(T=process.version.split(".").map(Number)),0===T[0]&&T[1]>10||T[0]>0),A.nodeSupportsAsyncResource=A.isNode&&function(){var e=!1;try{e="function"==typeof t("async_hooks").AsyncResource.prototype.runInAsyncScope}catch(n){e=!1}return e}(),A.isNode&&A.toFastProperties(process);try{throw new Error}catch(n){A.lastLineError=n}e.exports=A},{"./es5":13,async_hooks:void 0}]},{},[4])(4)},t.exports=n(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)},"GSm+":function(t,e,o){var n,r;r="undefined"!=typeof window?window:this,void 0===(n=(function(){return function(t,e){var o=(void 0!==this?this:t).SVG=function(t){if(o.supported)return t=new o.Doc(t),o.parser.draw||o.prepare(),t};if(o.ns="http://www.w3.org/2000/svg",o.xmlns="http://www.w3.org/2000/xmlns/",o.xlink="http://www.w3.org/1999/xlink",o.svgjs="http://svgjs.com/svgjs",o.supported=!!e.createElementNS&&!!e.createElementNS(o.ns,"svg").createSVGRect,!o.supported)return!1;o.did=1e3,o.eid=function(t){return"Svgjs"+c(t)+o.did++},o.create=function(t){var o=e.createElementNS(this.ns,t);return o.setAttribute("id",this.eid(t)),o},o.extend=function(){var t,e,n,r;for(e=(t=[].slice.call(arguments)).pop(),r=t.length-1;r>=0;r--)if(t[r])for(n in e)t[r].prototype[n]=e[n];o.Set&&o.Set.inherit&&o.Set.inherit()},o.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,o.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&o.extend(e,t.extend),t.construct&&o.extend(t.parent||o.Container,t.construct),e},o.adopt=function(e){return e?e.instance?e.instance:((n="svg"==e.nodeName?e.parentNode instanceof t.SVGElement?new o.Nested:new o.Doc:"linearGradient"==e.nodeName?new o.Gradient("linear"):"radialGradient"==e.nodeName?new o.Gradient("radial"):o[c(e.nodeName)]?new(o[c(e.nodeName)]):new o.Element(e)).type=e.nodeName,n.node=e,e.instance=n,n instanceof o.Doc&&n.namespace().defs(),n.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),n):null;var n},o.prepare=function(){var t=e.getElementsByTagName("body")[0],n=(t?new o.Doc(t):o.adopt(e.documentElement).nested()).size(2,0);o.parser={body:t||e.documentElement,draw:n.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:n.polyline().node,path:n.path().node,native:o.create("svg")}},o.parser={native:o.create("svg")},e.addEventListener("DOMContentLoaded",(function(){o.parser.draw||o.prepare()}),!1),o.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},o.utils={map:function(t,e){var o,n=t.length,r=[];for(o=0;o<n;o++)r.push(e(t[o]));return r},filter:function(t,e){var o,n=t.length,r=[];for(o=0;o<n;o++)e(t[o])&&r.push(t[o]);return r},radians:function(t){return t%360*Math.PI/180},degrees:function(t){return 180*t/Math.PI%360},filterSVGElements:function(e){return this.filter(e,(function(e){return e instanceof t.SVGElement}))}},o.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},o.Color=function(t){var e,n;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?o.regex.isRgb.test(t)?(e=o.regex.rgb.exec(t.replace(o.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):o.regex.isHex.test(t)&&(e=o.regex.hex.exec(4==(n=t).length?["#",n.substring(1,2),n.substring(1,2),n.substring(2,3),n.substring(2,3),n.substring(3,4),n.substring(3,4)].join(""):n),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"==typeof t&&(this.r=t.r,this.g=t.g,this.b=t.b))},o.extend(o.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+p(this.r)+p(this.g)+p(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new o.Color(t),this},at:function(t){return this.destination?new o.Color({r:~~(this.r+(this.destination.r-this.r)*(t=t<0?0:t>1?1:t)),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)}):this}}),o.Color.test=function(t){return o.regex.isHex.test(t+="")||o.regex.isRgb.test(t)},o.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},o.Color.isColor=function(t){return o.Color.isRgb(t)||o.Color.test(t)},o.Array=function(t,e){0==(t=(t||[]).valueOf()).length&&e&&(t=e.valueOf()),this.value=this.parse(t)},o.extend(o.Array,{morph:function(t){if(this.destination=this.parse(t),this.value.length!=this.destination.length){for(var e=this.value[this.value.length-1],o=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(o);for(;this.value.length<this.destination.length;)this.value.push(e)}return this},settle:function(){for(var t=0,e=this.value.length,o=[];t<e;t++)-1==o.indexOf(this.value[t])&&o.push(this.value[t]);return this.value=o},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,r=[];e<n;e++)r.push(this.value[e]+(this.destination[e]-this.value[e])*t);return new o.Array(r)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)},split:function(t){return t.trim().split(o.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var t=new this.constructor;return t.value=function t(e){for(var o=e.slice(0),n=o.length;n--;)Array.isArray(o[n])&&(o[n]=t(o[n]));return o}(this.value),t}}),o.PointArray=function(t,e){o.Array.call(this,t,e||[[0,0]])},o.PointArray.prototype=new o.Array,o.PointArray.prototype.constructor=o.PointArray,o.extend(o.PointArray,{toString:function(){for(var t=0,e=this.value.length,o=[];t<e;t++)o.push(this.value[t].join(","));return o.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,r=[];e<n;e++)r.push([this.value[e][0]+(this.destination[e][0]-this.value[e][0])*t,this.value[e][1]+(this.destination[e][1]-this.value[e][1])*t]);return new o.PointArray(r)},parse:function(t){var e=[];if(t=t.valueOf(),Array.isArray(t)){if(Array.isArray(t[0]))return t.map((function(t){return t.slice()}));if(null!=t[0].x)return t.map((function(t){return[t.x,t.y]}))}else t=t.trim().split(o.regex.delimiter).map(parseFloat);t.length%2!=0&&t.pop();for(var n=0,r=t.length;n<r;n+=2)e.push([t[n],t[n+1]]);return e},move:function(t,e){var o=this.bbox();if(t-=o.x,e-=o.y,!isNaN(t)&&!isNaN(e))for(var n=this.value.length-1;n>=0;n--)this.value[n]=[this.value[n][0]+t,this.value[n][1]+e];return this},size:function(t,e){var o,n=this.bbox();for(o=this.value.length-1;o>=0;o--)n.width&&(this.value[o][0]=(this.value[o][0]-n.x)*t/n.width+n.x),n.height&&(this.value[o][1]=(this.value[o][1]-n.y)*e/n.height+n.y);return this},bbox:function(){return o.parser.poly.setAttribute("points",this.toString()),o.parser.poly.getBBox()}});for(var n={M:function(t,e,o){return e.x=o.x=t[0],e.y=o.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,o){return e.x=o.x,e.y=o.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},r="mlhvqtcsaz".split(""),i=0,s=r.length;i<s;++i)n[r[i]]=function(t){return function(e,o,r){if("H"==t)e[0]=e[0]+o.x;else if("V"==t)e[0]=e[0]+o.y;else if("A"==t)e[5]=e[5]+o.x,e[6]=e[6]+o.y;else for(var i=0,s=e.length;i<s;++i)e[i]=e[i]+(i%2?o.y:o.x);return n[t](e,o,r)}}(r[i].toUpperCase());o.PathArray=function(t,e){o.Array.call(this,t,e||[["M",0,0]])},o.PathArray.prototype=new o.Array,o.PathArray.prototype.constructor=o.PathArray,o.extend(o.PathArray,{toString:function(){return function(t){for(var e=0,o=t.length,n="";e<o;e++)n+=t[e][0],null!=t[e][1]&&(n+=t[e][1],null!=t[e][2]&&(n+=" ",n+=t[e][2],null!=t[e][3]&&(n+=" ",n+=t[e][3],n+=" ",n+=t[e][4],null!=t[e][5]&&(n+=" ",n+=t[e][5],n+=" ",n+=t[e][6],null!=t[e][7]&&(n+=" ",n+=t[e][7])))));return n+" "}(this.value)},move:function(t,e){var o=this.bbox();if(t-=o.x,e-=o.y,!isNaN(t)&&!isNaN(e))for(var n,r=this.value.length-1;r>=0;r--)"M"==(n=this.value[r][0])||"L"==n||"T"==n?(this.value[r][1]+=t,this.value[r][2]+=e):"H"==n?this.value[r][1]+=t:"V"==n?this.value[r][1]+=e:"C"==n||"S"==n||"Q"==n?(this.value[r][1]+=t,this.value[r][2]+=e,this.value[r][3]+=t,this.value[r][4]+=e,"C"==n&&(this.value[r][5]+=t,this.value[r][6]+=e)):"A"==n&&(this.value[r][6]+=t,this.value[r][7]+=e);return this},size:function(t,e){var o,n,r=this.bbox();for(o=this.value.length-1;o>=0;o--)"M"==(n=this.value[o][0])||"L"==n||"T"==n?(this.value[o][1]=(this.value[o][1]-r.x)*t/r.width+r.x,this.value[o][2]=(this.value[o][2]-r.y)*e/r.height+r.y):"H"==n?this.value[o][1]=(this.value[o][1]-r.x)*t/r.width+r.x:"V"==n?this.value[o][1]=(this.value[o][1]-r.y)*e/r.height+r.y:"C"==n||"S"==n||"Q"==n?(this.value[o][1]=(this.value[o][1]-r.x)*t/r.width+r.x,this.value[o][2]=(this.value[o][2]-r.y)*e/r.height+r.y,this.value[o][3]=(this.value[o][3]-r.x)*t/r.width+r.x,this.value[o][4]=(this.value[o][4]-r.y)*e/r.height+r.y,"C"==n&&(this.value[o][5]=(this.value[o][5]-r.x)*t/r.width+r.x,this.value[o][6]=(this.value[o][6]-r.y)*e/r.height+r.y)):"A"==n&&(this.value[o][1]=this.value[o][1]*t/r.width,this.value[o][2]=this.value[o][2]*e/r.height,this.value[o][6]=(this.value[o][6]-r.x)*t/r.width+r.x,this.value[o][7]=(this.value[o][7]-r.y)*e/r.height+r.y);return this},equalCommands:function(t){var e,n,r;for(t=new o.PathArray(t),r=this.value.length===t.value.length,e=0,n=this.value.length;r&&e<n;e++)r=this.value[e][0]===t.value[e][0];return r},morph:function(t){return t=new o.PathArray(t),this.destination=this.equalCommands(t)?t:null,this},at:function(t){if(!this.destination)return this;var e,n,r,i,s=this.value,l=this.destination.value,a=[],u=new o.PathArray;for(e=0,n=s.length;e<n;e++){for(a[e]=[s[e][0]],r=1,i=s[e].length;r<i;r++)a[e][r]=s[e][r]+(l[e][r]-s[e][r])*t;"A"===a[e][0]&&(a[e][4]=+(0!=a[e][4]),a[e][5]=+(0!=a[e][5]))}return u.value=a,u},parse:function(t){if(t instanceof o.PathArray)return t.valueOf();var e,r={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};t="string"==typeof t?t.replace(o.regex.numbersWithDots,a).replace(o.regex.pathLetters," $& ").replace(o.regex.hyphen,"$1 -").trim().split(o.regex.delimiter):t.reduce((function(t,e){return[].concat.call(t,e)}),[]);var i=[],s=new o.Point,l=new o.Point,u=0,c=t.length;do{o.regex.isPathLetter.test(t[u])?(e=t[u],++u):"M"==e?e="L":"m"==e&&(e="l"),i.push(n[e].call(null,t.slice(u,u+=r[e.toUpperCase()]).map(parseFloat),s,l))}while(c>u);return i},bbox:function(){return o.parser.path.setAttribute("d",this.toString()),o.parser.path.getBBox()}}),o.Number=o.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:"string"==typeof t?(e=t.match(o.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof o.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new o.Number(t),new o.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new o.Number(t),new o.Number(this-t,this.unit||t.unit)},times:function(t){return t=new o.Number(t),new o.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new o.Number(t),new o.Number(this/t,this.unit||t.unit)},to:function(t){var e=new o.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new o.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new o.Number(this.destination).minus(this).times(t).plus(this):this}}}),o.Element=o.invent({create:function(t){this._stroke=o.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._events=t._events||{},this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var n=h(this,t,e);return this.width(new o.Number(n.width)).height(new o.Number(n.height))},clone:function(t){this.writeDataToDom();var e=m(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},inside:function(t,e){var o=this.bbox();return t>o.x&&e>o.y&&t<o.x+o.width&&e<o.y+o.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(o.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter((function(e){return e!=t})).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return o.get(this.attr(t))},parent:function(e){var n=this;if(!n.node.parentNode)return null;if(n=o.adopt(n.node.parentNode),!e)return n;for(;n&&n.node instanceof t.SVGElement;){if("string"==typeof e?n.matches(e):n instanceof e)return n;if(!n.node.parentNode||"#document"==n.node.parentNode.nodeName||"#document-fragment"==n.node.parentNode.nodeName)return null;n=o.adopt(n.node.parentNode)}},doc:function(){return this instanceof o.Doc?this:this.parent(o.Doc)},parents:function(t){var e=[],o=this;do{if(!(o=o.parent(t))||!o.node)break;e.push(o)}while(o.parent);return e},matches:function(t){return function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}(this.node,t)},native:function(){return this.node},svg:function(t){var n=e.createElement("svg");if(!(t&&this instanceof o.Parent))return n.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),n.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");n.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var r=0,i=n.firstChild.childNodes.length;r<i;r++)this.node.appendChild(n.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each((function(){this.writeDataToDom()})),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return function(t,e){return t instanceof e}(this,t)}}}),o.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},o.morph=function(t){return function(e,n){return new o.MorphObj(e,n).at(t)}},o.Situation=o.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new o.Number(t.duration).valueOf(),this.delay=new o.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),o.FX=o.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,n){"object"==typeof t&&(e=t.ease,n=t.delay,t=t.duration);var r=new o.Situation({duration:t||1e3,delay:n||0,ease:o.easing[e||"-"]||e});return this.queue(r),this},delay:function(t){var e=new o.Situation({duration:t,delay:0,ease:o.easing["-"]});return this.queue(e)},target:function(t){return t&&t instanceof o.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=t.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof o.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof o.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e,n,r=this.situation;if(r.init)return this;for(t in r.animations)for(n=this.target()[t](),Array.isArray(n)||(n=[n]),Array.isArray(r.animations[t])||(r.animations[t]=[r.animations[t]]),e=n.length;e--;)r.animations[t][e]instanceof o.Number&&(n[e]=new o.Number(n[e])),r.animations[t][e]=n[e].morph(r.animations[t][e]);for(t in r.attrs)r.attrs[t]=new o.MorphObj(this.target().attr(t),r.attrs[t]);for(t in r.styles)r.styles[t]=new o.MorphObj(this.target().style(t),r.styles[t]);return r.initialTransformation=this.target().matrixify(),r.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var o=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!o&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var t=this.situation;this.stop(),this.situation=t,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return!0===this.situation.loops&&(this.situation.loops=this.situation.loop+1),this.at("number"==typeof this.situation.loops?this.situation.loops:1,!0)},at:function(t,e){var o=this.situation.duration/this._speed;return this.absPos=t,e||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*o,this.situation.finish=this.situation.start+o,this.step(!0)},speed:function(t){return 0===t?this.pause():t?(this._speed=t,this.at(this.absPos,!0)):this._speed},loop:function(t,e){var o=this.last();return o.loops=null==t||t,o.loop=0,e&&(o.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(t){var e=this.last();return e.reversed=void 0===t?!e.reversed:t,this},progress:function(t){return t?this.situation.ease(this.pos):this.pos},after:function(t){var e=this.last();return this.target().on("finished.fx",(function o(n){n.detail.situation==e&&(t.call(this,e),this.off("finished.fx",o))})),this._callStart()},during:function(t){var e=this.last(),n=function(n){n.detail.situation==e&&t.call(this,n.detail.pos,o.morph(n.detail.pos),n.detail.eased,e)};return this.target().off("during.fx",n).on("during.fx",n),this.after((function(){this.off("during.fx",n)})),this._callStart()},afterAll:function(t){var e=function e(o){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},duringAll:function(t){var e=function(e){t.call(this,e.detail.pos,o.morph(e.detail.pos),e.detail.eased,e.detail.situation)};return this.target().off("during.fx",e).on("during.fx",e),this.afterAll((function(){this.off("during.fx",e)})),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,o){return this.last()[o||"animations"][t]=e,this._callStart()},step:function(t){var e,o,n;t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(e=Math.max(this.absPos,0),o=Math.floor(e),!0===this.situation.loops||o<this.situation.loops?(this.pos=e-o,n=this.situation.loop,this.situation.loop=o):(this.absPos=this.situation.loops,this.pos=1,n=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-n)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var i in this.situation.once)i>this.lastPos&&i<=r&&(this.situation.once[i].call(this.target(),this.pos,r),delete this.situation.once[i]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r,this):this},eachAt:function(){var t,e,n,r=this,i=this.target(),s=this.situation;for(t in s.animations)n=[].concat(s.animations[t]).map((function(t){return"string"!=typeof t&&t.at?t.at(s.ease(r.pos),r.pos):t})),i[t].apply(i,n);for(t in s.attrs)n=[t].concat(s.attrs[t]).map((function(t){return"string"!=typeof t&&t.at?t.at(s.ease(r.pos),r.pos):t})),i.attr.apply(i,n);for(t in s.styles)n=[t].concat(s.styles[t]).map((function(t){return"string"!=typeof t&&t.at?t.at(s.ease(r.pos),r.pos):t})),i.style.apply(i,n);if(s.transforms.length){for(n=s.initialTransformation,t=0,e=s.transforms.length;t<e;t++){var l=s.transforms[t];l instanceof o.Matrix?n=l.relative?n.multiply((new o.Matrix).morph(l).at(s.ease(this.pos))):n.morph(l).at(s.ease(this.pos)):(l.relative||l.undo(n.extract()),n=n.multiply(l.at(s.ease(this.pos))))}i.matrix(n)}return this},once:function(t,e,o){var n=this.last();return o||(t=n.ease(t)),n.once[t]=e,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:o.Element,construct:{animate:function(t,e,n){return(this.fx||(this.fx=new o.FX(this))).animate(t,e,n)},delay:function(t){return(this.fx||(this.fx=new o.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(t){if(this.fx){if(null==t)return this.fx.speed();this.fx.speed(t)}return this}}}),o.MorphObj=o.invent({create:function(t,e){return o.Color.isColor(e)?new o.Color(t).morph(e):o.regex.delimiter.test(t)?o.regex.pathLetters.test(t)?new o.PathArray(t).morph(e):new o.Array(t).morph(e):o.regex.numberAndUnit.test(e)?new o.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),o.extend(o.FX,{attr:function(t,e,o){if("object"==typeof t)for(var n in t)this.attr(n,t[n]);else this.add(t,e,"attrs");return this},style:function(t,e){if("object"==typeof t)for(var o in t)this.style(o,t[o]);else this.add(t,e,"styles");return this},x:function(t,e){if(this.target()instanceof o.G)return this.transform({x:t},e),this;var n=new o.Number(t);return n.relative=e,this.add("x",n)},y:function(t,e){if(this.target()instanceof o.G)return this.transform({y:t},e),this;var n=new o.Number(t);return n.relative=e,this.add("y",n)},cx:function(t){return this.add("cx",new o.Number(t))},cy:function(t){return this.add("cy",new o.Number(t))},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){var n;return this.target()instanceof o.Text?this.attr("font-size",t):(t&&e||(n=this.target().bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.add("width",new o.Number(t)).add("height",new o.Number(e))),this},width:function(t){return this.add("width",new o.Number(t))},height:function(t){return this.add("height",new o.Number(t))},plot:function(t,e,o,n){return 4==arguments.length?this.plot([t,e,o,n]):this.add("plot",new(this.target().morphArray)(t))},leading:function(t){return this.target().leading?this.add("leading",new o.Number(t)):this},viewbox:function(t,e,n,r){return this.target()instanceof o.Container&&this.add("viewbox",new o.ViewBox(t,e,n,r)),this},update:function(t){if(this.target()instanceof o.Stop){if("number"==typeof t||t instanceof o.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset)}return this}}),o.Box=o.invent({create:function(t,e,n,r){if(!("object"!=typeof t||t instanceof o.Element))return o.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=n,this.height=r),_(this)},extend:{merge:function(t){var e=new this.constructor;return e.x=Math.min(this.x,t.x),e.y=Math.min(this.y,t.y),e.width=Math.max(this.x+this.width,t.x+t.width)-e.x,e.height=Math.max(this.y+this.height,t.y+t.height)-e.y,_(e)},transform:function(t){var e,n=1/0,r=-1/0,i=1/0,s=-1/0;return[new o.Point(this.x,this.y),new o.Point(this.x2,this.y),new o.Point(this.x,this.y2),new o.Point(this.x2,this.y2)].forEach((function(e){e=e.transform(t),n=Math.min(n,e.x),r=Math.max(r,e.x),i=Math.min(i,e.y),s=Math.max(s,e.y)})),(e=new this.constructor).x=n,e.width=r-n,e.y=i,e.height=s-i,_(e),e}}}),o.BBox=o.invent({create:function(t){if(o.Box.apply(this,[].slice.call(arguments)),t instanceof o.Element){var n;try{if(e.documentElement.contains){if(!e.documentElement.contains(t.node))throw new Exception("Element not in the dom")}else{for(var r=t.node;r.parentNode;)r=r.parentNode;if(r!=e)throw new Exception("Element not in the dom")}n=t.node.getBBox()}catch(s){if(t instanceof o.Shape){var i=t.clone(o.parser.draw.instance).show();n=i.node.getBBox(),i.remove()}else n={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}o.Box.call(this,n)}},inherit:o.Box,parent:o.Element,construct:{bbox:function(){return new o.BBox(this)}}}),o.BBox.prototype.constructor=o.BBox,o.extend(o.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),o.RBox=o.invent({create:function(t){o.Box.apply(this,[].slice.call(arguments)),t instanceof o.Element&&o.Box.call(this,t.node.getBoundingClientRect())},inherit:o.Box,parent:o.Element,extend:{addOffset:function(){return this.x+=t.pageXOffset,this.y+=t.pageYOffset,this}},construct:{rbox:function(t){return t?new o.RBox(this).transform(t.screenCTM().inverse()):new o.RBox(this).addOffset()}}}),o.RBox.prototype.constructor=o.RBox,o.Matrix=o.invent({create:function(t){var e,n=d([1,0,0,1,0,0]);for(t=t instanceof o.Element?t.matrixify():"string"==typeof t?d(t.split(o.regex.delimiter).map(parseFloat)):6==arguments.length?d([].slice.call(arguments)):Array.isArray(t)?d(t):"object"==typeof t?t:n,e=v.length-1;e>=0;--e)this[v[e]]=null!=t[v[e]]?t[v[e]]:n[v[e]]},extend:{extract:function(){var t=g(this,0,1),e=g(this,1,0),n=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(n*Math.PI/180)+this.f*Math.sin(n*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(n*Math.PI/180)+this.e*Math.sin(-n*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-n,skewY:180/Math.PI*Math.atan2(e.y,e.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new o.Matrix(this)}},clone:function(){return new o.Matrix(this)},morph:function(t){return this.destination=new o.Matrix(t),this},at:function(t){return this.destination?new o.Matrix({a:this.a+(this.destination.a-this.a)*t,b:this.b+(this.destination.b-this.b)*t,c:this.c+(this.destination.c-this.c)*t,d:this.d+(this.destination.d-this.d)*t,e:this.e+(this.destination.e-this.e)*t,f:this.f+(this.destination.f-this.f)*t}):this},multiply:function(t){return new o.Matrix(this.native().multiply(function(t){return t instanceof o.Matrix||(t=new o.Matrix(t)),t}(t).native()))},inverse:function(){return new o.Matrix(this.native().inverse())},translate:function(t,e){return new o.Matrix(this.native().translate(t||0,e||0))},scale:function(t,e,n,r){return 1==arguments.length?e=t:3==arguments.length&&(r=n,n=e,e=t),this.around(n,r,new o.Matrix(t,0,0,e,0,0))},rotate:function(t,e,n){return t=o.utils.radians(t),this.around(e,n,new o.Matrix(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0))},flip:function(t,e){return"x"==t?this.scale(-1,1,e,0):"y"==t?this.scale(1,-1,0,e):this.scale(-1,-1,t,null!=e?e:t)},skew:function(t,e,n,r){return 1==arguments.length?e=t:3==arguments.length&&(r=n,n=e,e=t),t=o.utils.radians(t),e=o.utils.radians(e),this.around(n,r,new o.Matrix(1,Math.tan(e),Math.tan(t),1,0,0))},skewX:function(t,e,o){return this.skew(t,0,e,o)},skewY:function(t,e,o){return this.skew(0,t,e,o)},around:function(t,e,n){return this.multiply(new o.Matrix(1,0,0,1,t||0,e||0)).multiply(n).multiply(new o.Matrix(1,0,0,1,-t||0,-e||0))},native:function(){for(var t=o.parser.native.createSVGMatrix(),e=v.length-1;e>=0;e--)t[v[e]]=this[v[e]];return t},toString:function(){return"matrix("+y(this.a)+","+y(this.b)+","+y(this.c)+","+y(this.d)+","+y(this.e)+","+y(this.f)+")"}},parent:o.Element,construct:{ctm:function(){return new o.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof o.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new o.Matrix(e)}return new o.Matrix(this.node.getScreenCTM())}}}),o.Point=o.invent({create:function(t,e){var o;o=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:{x:0,y:0},this.x=o.x,this.y=o.y},extend:{clone:function(){return new o.Point(this)},morph:function(t,e){return this.destination=new o.Point(t,e),this},at:function(t){return this.destination?new o.Point({x:this.x+(this.destination.x-this.x)*t,y:this.y+(this.destination.y-this.y)*t}):this},native:function(){var t=o.parser.native.createSVGPoint();return t.x=this.x,t.y=this.y,t},transform:function(t){return new o.Point(this.native().matrixTransform(t.native()))}}}),o.extend(o.Element,{point:function(t,e){return new o.Point(t,e).transform(this.screenCTM().inverse())}}),o.extend(o.Element,{attr:function(t,e,n){if(null==t){for(t={},n=(e=this.node.attributes).length-1;n>=0;n--)t[e[n].nodeName]=o.regex.isNumber.test(e[n].nodeValue)?parseFloat(e[n].nodeValue):e[n].nodeValue;return t}if("object"==typeof t)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return null==(e=this.node.getAttribute(t))?o.defaults.attrs[t]:o.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(o.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof o.Image&&(e=this.doc().defs().pattern(0,0,(function(){this.add(e)})))),"number"==typeof e?e=new o.Number(e):o.Color.isColor(e)?e=new o.Color(e):Array.isArray(e)&&(e=new o.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),o.extend(o.Element,{transform:function(t,e){var n,r;if("object"!=typeof t)return n=new o.Matrix(this).extract(),"string"==typeof t?n[t]:n;if(n=new o.Matrix(this),e=!!e||!!t.relative,null!=t.a)n=e?n.multiply(new o.Matrix(t)):new o.Matrix(t);else if(null!=t.rotation)f(t,this),n=n.rotate(e?t.rotation:t.rotation-n.extract().rotation,t.cx,t.cy);else if(null!=t.scale||null!=t.scaleX||null!=t.scaleY){if(f(t,this),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,!e){var i=n.extract();t.scaleX=1*t.scaleX/i.scaleX,t.scaleY=1*t.scaleY/i.scaleY}n=n.scale(t.scaleX,t.scaleY,t.cx,t.cy)}else null!=t.skew||null!=t.skewX||null!=t.skewY?(f(t,this),t.skewX=null!=t.skew?t.skew:null!=t.skewX?t.skewX:0,t.skewY=null!=t.skew?t.skew:null!=t.skewY?t.skewY:0,e||(i=n.extract(),n=n.multiply((new o.Matrix).skew(i.skewX,i.skewY,t.cx,t.cy).inverse())),n=n.skew(t.skewX,t.skewY,t.cx,t.cy)):t.flip?("x"==t.flip||"y"==t.flip?t.offset=null==t.offset?this.bbox()["c"+t.flip]:t.offset:null==t.offset?(r=this.bbox(),t.flip=r.cx,t.offset=r.cy):t.flip=t.offset,n=(new o.Matrix).flip(t.flip,t.offset)):null==t.x&&null==t.y||(e?n=n.translate(t.x,t.y):(null!=t.x&&(n.e=t.x),null!=t.y&&(n.f=t.y)));return this.attr("transform",n)}}),o.extend(o.FX,{transform:function(t,e){var n,r,i=this.target();return"object"!=typeof t?(n=new o.Matrix(i).extract(),"string"==typeof t?n[t]:n):(e=!!e||!!t.relative,null!=t.a?n=new o.Matrix(t):null!=t.rotation?(f(t,i),n=new o.Rotate(t.rotation,t.cx,t.cy)):null!=t.scale||null!=t.scaleX||null!=t.scaleY?(f(t,i),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,n=new o.Scale(t.scaleX,t.scaleY,t.cx,t.cy)):null!=t.skewX||null!=t.skewY?(f(t,i),t.skewX=null!=t.skewX?t.skewX:0,t.skewY=null!=t.skewY?t.skewY:0,n=new o.Skew(t.skewX,t.skewY,t.cx,t.cy)):t.flip?("x"==t.flip||"y"==t.flip?t.offset=null==t.offset?i.bbox()["c"+t.flip]:t.offset:null==t.offset?(r=i.bbox(),t.flip=r.cx,t.offset=r.cy):t.flip=t.offset,n=(new o.Matrix).flip(t.flip,t.offset)):null==t.x&&null==t.y||(n=new o.Translate(t.x,t.y)),n?(n.relative=e,this.last().transforms.push(n),this._callStart()):this)}}),o.extend(o.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(o.regex.transforms).slice(0,-1).map((function(t){var e=t.trim().split("(");return[e[0],e[1].split(o.regex.delimiter).map((function(t){return parseFloat(t)}))]})).reduce((function(t,e){return"matrix"==e[0]?t.multiply(d(e[1])):t[e[0]].apply(t,e[1])}),new o.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),o=t.screenCTM().inverse();return this.addTo(t).untransform().transform(o.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),o.Transformation=o.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var o=0,n=this.arguments.length;o<n;++o)this[this.arguments[o]]=t[o];else if("object"==typeof t)for(o=0,n=this.arguments.length;o<n;++o)this[this.arguments[o]]=t[this.arguments[o]];this.inversed=!1,!0===e&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(t){for(var e=[],n=0,r=this.arguments.length;n<r;++n)e.push(this[this.arguments[n]]);var i=this._undo||new o.Matrix;return i=(new o.Matrix).morph(o.Matrix.prototype[this.method].apply(i,e)).at(t),this.inversed?i.inverse():i},undo:function(t){for(var e=0,n=this.arguments.length;e<n;++e)t[this.arguments[e]]=void 0===this[this.arguments[e]]?0:t[this.arguments[e]];return t.cx=this.cx,t.cy=this.cy,this._undo=new(o[c(this.method)])(t,!0).at(1),this}}}),o.Translate=o.invent({parent:o.Matrix,inherit:o.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),o.Rotate=o.invent({parent:o.Matrix,inherit:o.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(t){var e=(new o.Matrix).rotate((new o.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(t),this.cx,this.cy);return this.inversed?e.inverse():e},undo:function(t){return this._undo=t,this}}}),o.Scale=o.invent({parent:o.Matrix,inherit:o.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),o.Skew=o.invent({parent:o.Matrix,inherit:o.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),o.extend(o.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof t)for(e in t)this.style(e,t[e]);else{if(!o.regex.isCss.test(t))return this.node.style[u(t)];for(t=t.split(/\s*;\s*/).filter((function(t){return!!t})).map((function(t){return t.split(/\s*:\s*/)}));e=t.pop();)this.style(e[0],e[1])}else this.node.style[u(t)]=null===e||o.regex.isBlank.test(e)?"":e;return this}}),o.Parent=o.invent({create:function(t){this.constructor.call(this,t)},inherit:o.Element,extend:{children:function(){return o.utils.map(o.utils.filterSVGElements(this.node.childNodes),(function(t){return o.adopt(t)}))},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return o.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){var n,r,i=this.children();for(n=0,r=i.length;n<r;n++)i[n]instanceof o.Element&&t.apply(i[n],[n,i]),e&&i[n]instanceof o.Container&&i[n].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),o.extend(o.Parent,{ungroup:function(t,e){return 0===e||this instanceof o.Defs||this.node==o.parser.draw?this:(t=t||(this instanceof o.Doc?this:this.parent(o.Parent)),e=e||1/0,this.each((function(){return this instanceof o.Defs?this:this instanceof o.Parent?this.ungroup(t,e-1):this.toParent(t)})),this.node.firstChild||this.remove(),this)},flatten:function(t,e){return this.ungroup(t,e)}}),o.Container=o.invent({create:function(t){this.constructor.call(this,t)},inherit:o.Parent}),o.ViewBox=o.invent({create:function(t){var e,n,r,i,s,l,a,u=[0,0,0,0],c=1,p=1,h=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(t instanceof o.Element){for(l=t,a=t,s=(t.attr("viewBox")||"").match(h),r=new o.Number(t.width()),i=new o.Number(t.height());"%"==r.unit;)c*=r.value,r=new o.Number(l instanceof o.Doc?l.parent().offsetWidth:l.parent().width()),l=l.parent();for(;"%"==i.unit;)p*=i.value,i=new o.Number(a instanceof o.Doc?a.parent().offsetHeight:a.parent().height()),a=a.parent();this.x=0,this.y=0,this.width=r*c,this.height=i*p,this.zoom=1,s&&(e=parseFloat(s[0]),n=parseFloat(s[1]),r=parseFloat(s[2]),i=parseFloat(s[3]),this.zoom=this.width/this.height>r/i?this.height/i:this.width/r,this.x=e,this.y=n,this.width=r,this.height=i)}else t="string"==typeof t?t.match(h).map((function(t){return parseFloat(t)})):Array.isArray(t)?t:"object"==typeof t?[t.x,t.y,t.width,t.height]:4==arguments.length?[].slice.call(arguments):u,this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(t,e,n,r){return this.destination=new o.ViewBox(t,e,n,r),this},at:function(t){return this.destination?new o.ViewBox([this.x+(this.destination.x-this.x)*t,this.y+(this.destination.y-this.y)*t,this.width+(this.destination.width-this.width)*t,this.height+(this.destination.height-this.height)*t]):this}},parent:o.Container,construct:{viewbox:function(t,e,n,r){return 0==arguments.length?new o.ViewBox(this):this.attr("viewBox",new o.ViewBox(t,e,n,r))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach((function(t){o.Element.prototype[t]=function(e){return null==e?o.off(this,t):o.on(this,t,e),this}})),o.listenerId=0,o.on=function(t,e,n,r,i){var s=n.bind(r||t),l=t instanceof o.Element?t.node:t;l.instance=l.instance||{_events:{}};var a=l.instance._events;n._svgjsListenerId||(n._svgjsListenerId=++o.listenerId),e.split(o.regex.delimiter).forEach((function(t){var e=t.split(".")[0],o=t.split(".")[1]||"*";a[e]=a[e]||{},a[e][o]=a[e][o]||{},a[e][o][n._svgjsListenerId]=s,l.addEventListener(e,s,i||!1)}))},o.off=function(t,e,n,r){var i=t instanceof o.Element?t.node:t;if(i.instance&&("function"!=typeof n||(n=n._svgjsListenerId))){var s=i.instance._events;(e||"").split(o.regex.delimiter).forEach((function(t){var e,l,a=t&&t.split(".")[0],u=t&&t.split(".")[1];if(n)s[a]&&s[a][u||"*"]&&(i.removeEventListener(a,s[a][u||"*"][n],r||!1),delete s[a][u||"*"][n]);else if(a&&u){if(s[a]&&s[a][u]){for(l in s[a][u])o.off(i,[a,u].join("."),l);delete s[a][u]}}else if(u)for(t in s)for(e in s[t])u===e&&o.off(i,[t,u].join("."));else if(a){if(s[a]){for(e in s[a])o.off(i,[a,e].join("."));delete s[a]}}else{for(t in s)o.off(i,t);i.instance._events={}}}))}},o.extend(o.Element,{on:function(t,e,n,r){return o.on(this,t,e,n,r),this},off:function(t,e){return o.off(this.node,t,e),this},fire:function(e,n){return this.node.dispatchEvent(e instanceof t.Event?e:e=new o.CustomEvent(e,{detail:n,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),o.Defs=o.invent({create:"defs",inherit:o.Container}),o.G=o.invent({create:"g",inherit:o.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)},y:function(t){return null==t?this.transform("y"):this.transform({y:t-this.y()},!0)},cx:function(t){return null==t?this.gbox().cx:this.x(t-this.gbox().width/2)},cy:function(t){return null==t?this.gbox().cy:this.y(t-this.gbox().height/2)},gbox:function(){var t=this.bbox(),e=this.transform();return t.x+=e.x,t.x2+=e.x,t.cx+=e.x,t.y+=e.y,t.y2+=e.y,t.cy+=e.y,t}},construct:{group:function(){return this.put(new o.G)}}}),o.Doc=o.invent({create:function(t){t&&("svg"==(t="string"==typeof t?e.getElementById(t):t).nodeName?this.constructor.call(this,t):(this.constructor.call(this,o.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:o.Container,extend:{namespace:function(){return this.attr({xmlns:o.ns,version:"1.1"}).attr("xmlns:xlink",o.xlink,o.xmlns).attr("xmlns:svgjs",o.svgjs,o.xmlns)},defs:function(){var t;return this._defs||(this._defs=(t=this.node.getElementsByTagName("defs")[0])?o.adopt(t):new o.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName&&"#document-fragment"!=this.node.parentNode.nodeName?this.node.parentNode:null},spof:function(){var t=this.node.getScreenCTM();return t&&this.style("left",-t.e%1+"px").style("top",-t.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,o.parser.draw.parentNode||this.node.appendChild(o.parser.draw),this},clone:function(t){this.writeDataToDom();var e=this.node,o=m(e.cloneNode(!0));return t?(t.node||t).appendChild(o.node):e.parentNode.insertBefore(o.node,e.nextSibling),o}}}),o.extend(o.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position()+1,e=this.parent();return e.removeElement(this).add(this,t),e instanceof o.Doc&&e.node.appendChild(e.defs().node),this},backward:function(){var t=this.position();return t>0&&this.parent().removeElement(this).add(this,t-1),this},front:function(){var t=this.parent();return t.node.appendChild(this.node),t instanceof o.Doc&&t.node.appendChild(t.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(t){t.remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){t.remove();var e=this.position();return this.parent().add(t,e+1),this}}),o.Mask=o.invent({create:function(){this.constructor.call(this,o.create("mask")),this.targets=[]},inherit:o.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unmask();return this.targets=[],o.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new o.Mask)}}}),o.extend(o.Element,{maskWith:function(t){return this.masker=t instanceof o.Mask?t:this.parent().mask().add(t),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),o.ClipPath=o.invent({create:function(){this.constructor.call(this,o.create("clipPath")),this.targets=[]},inherit:o.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new o.ClipPath)}}}),o.extend(o.Element,{clipWith:function(t){return this.clipper=t instanceof o.ClipPath?t:this.parent().clip().add(t),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),o.Gradient=o.invent({create:function(t){this.constructor.call(this,o.create(t+"Gradient")),this.type=t},inherit:o.Container,extend:{at:function(t,e,n){return this.put(new o.Stop).update(t,e,n)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,n){return"transform"==t&&(t="gradientTransform"),o.Container.prototype.attr.call(this,t,e,n)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),o.extend(o.Gradient,o.FX,{from:function(t,e){return this.attr("radial"==(this._target||this).type?{fx:new o.Number(t),fy:new o.Number(e)}:{x1:new o.Number(t),y1:new o.Number(e)})},to:function(t,e){return this.attr("radial"==(this._target||this).type?{cx:new o.Number(t),cy:new o.Number(e)}:{x2:new o.Number(t),y2:new o.Number(e)})}}),o.extend(o.Defs,{gradient:function(t,e){return this.put(new o.Gradient(t)).update(e)}}),o.Stop=o.invent({create:"stop",inherit:o.Element,extend:{update:function(t){return("number"==typeof t||t instanceof o.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new o.Number(t.offset)),this}}}),o.Pattern=o.invent({create:"pattern",inherit:o.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,n){return"transform"==t&&(t="patternTransform"),o.Container.prototype.attr.call(this,t,e,n)}},construct:{pattern:function(t,e,o){return this.defs().pattern(t,e,o)}}}),o.extend(o.Defs,{pattern:function(t,e,n){return this.put(new o.Pattern).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),o.Shape=o.invent({create:function(t){this.constructor.call(this,t)},inherit:o.Element}),o.Bare=o.invent({create:function(t,e){if(this.constructor.call(this,o.create(t)),e)for(var n in e.prototype)"function"==typeof e.prototype[n]&&(this[n]=e.prototype[n])},inherit:o.Element,extend:{words:function(t){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(e.createTextNode(t)),this}}}),o.extend(o.Parent,{element:function(t,e){return this.put(new o.Bare(t,e))}}),o.Symbol=o.invent({create:"symbol",inherit:o.Container,construct:{symbol:function(){return this.put(new o.Symbol)}}}),o.Use=o.invent({create:"use",inherit:o.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,o.xlink)}},construct:{use:function(t,e){return this.put(new o.Use).element(t,e)}}}),o.Rect=o.invent({create:"rect",inherit:o.Shape,construct:{rect:function(t,e){return this.put(new o.Rect).size(t,e)}}}),o.Circle=o.invent({create:"circle",inherit:o.Shape,construct:{circle:function(t){return this.put(new o.Circle).rx(new o.Number(t).divide(2)).move(0,0)}}}),o.extend(o.Circle,o.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),o.Ellipse=o.invent({create:"ellipse",inherit:o.Shape,construct:{ellipse:function(t,e){return this.put(new o.Ellipse).size(t,e).move(0,0)}}}),o.extend(o.Ellipse,o.Rect,o.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),o.extend(o.Circle,o.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new o.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new o.Number(t).divide(2))},size:function(t,e){var n=h(this,t,e);return this.rx(new o.Number(n.width).divide(2)).ry(new o.Number(n.height).divide(2))}}),o.Line=o.invent({create:"line",inherit:o.Shape,extend:{array:function(){return new o.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,n,r){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:n,y2:r}:new o.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var o=h(this,t,e);return this.attr(this.array().size(o.width,o.height).toLine())}},construct:{line:function(t,e,n,r){return o.Line.prototype.plot.apply(this.put(new o.Line),null!=t?[t,e,n,r]:[0,0,0,0])}}}),o.Polyline=o.invent({create:"polyline",inherit:o.Shape,construct:{polyline:function(t){return this.put(new o.Polyline).plot(t||new o.PointArray)}}}),o.Polygon=o.invent({create:"polygon",inherit:o.Shape,construct:{polygon:function(t){return this.put(new o.Polygon).plot(t||new o.PointArray)}}}),o.extend(o.Polyline,o.Polygon,{array:function(){return this._array||(this._array=new o.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new o.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var o=h(this,t,e);return this.attr("points",this.array().size(o.width,o.height))}}),o.extend(o.Line,o.Polyline,o.Polygon,{morphArray:o.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),o.Path=o.invent({create:"path",inherit:o.Shape,extend:{morphArray:o.PathArray,array:function(){return this._array||(this._array=new o.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new o.PathArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("d",this.array().move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},size:function(t,e){var o=h(this,t,e);return this.attr("d",this.array().size(o.width,o.height))},width:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)},height:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},construct:{path:function(t){return this.put(new o.Path).plot(t||new o.PathArray)}}}),o.Image=o.invent({create:"image",inherit:o.Shape,extend:{load:function(e){if(!e)return this;var n=this,r=new t.Image;return o.on(r,"load",(function(){o.off(r);var t=n.parent(o.Pattern);null!==t&&(0==n.width()&&0==n.height()&&n.size(r.width,r.height),t&&0==t.width()&&0==t.height()&&t.size(n.width(),n.height()),"function"==typeof n._loaded&&n._loaded.call(n,{width:r.width,height:r.height,ratio:r.width/r.height,url:e}))})),o.on(r,"error",(function(t){o.off(r),"function"==typeof n._error&&n._error.call(n,t)})),this.attr("href",r.src=this.src=e,o.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,n){return this.put(new o.Image).load(t).size(e||0,n||e||0)}}}),o.Text=o.invent({create:function(){this.constructor.call(this,o.create("text")),this.dom.leading=new o.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",o.defaults.attrs["font-family"])},inherit:o.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},y:function(t){var e=this.attr("y"),o="number"==typeof e?e-this.bbox().y:0;return null==t?"number"==typeof e?e-o:e:this.attr("y","number"==typeof t.valueOf()?t+o:t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)},text:function(t){if(void 0===t){t="";for(var e=this.node.childNodes,n=0,r=e.length;n<r;++n)0!=n&&3!=e[n].nodeType&&1==o.adopt(e[n]).dom.newLined&&(t+="\n"),t+=e[n].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{n=0;for(var i=(t=t.split("\n")).length;n<i;n++)this.tspan(t[n]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new o.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=o.utils.map(o.utils.filterSVGElements(t.childNodes),(function(t){return o.adopt(t)}));return new o.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,n=0,r=this.dom.leading*new o.Number(this.attr("font-size"));this.lines().each((function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?n+=r:(this.attr("dy",r+n),n=0))})),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new o.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new o.Text).text(t)},plain:function(t){return this.put(new o.Text).plain(t)}}}),o.Tspan=o.invent({create:"tspan",inherit:o.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(o.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),o.extend(o.Text,o.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,n=new o.Tspan;return!1===this._build&&this.clear(),e.appendChild(n.node),n.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),o.TextPath=o.invent({create:"textPath",inherit:o.Parent,parent:o.Text,construct:{morphArray:o.PathArray,path:function(t){for(var e=new o.TextPath,n=this.doc().defs().path(t);this.node.hasChildNodes();)e.node.appendChild(this.node.firstChild);return this.node.appendChild(e.node),e.attr("href","#"+n,o.xlink),this},array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),o=null;return e&&(o=e.plot(t)),null==t?o:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return o.adopt(this.node.firstChild)}}}),o.Nested=o.invent({create:function(){this.constructor.call(this,o.create("svg")),this.style("overflow","visible")},inherit:o.Container,construct:{nested:function(){return this.put(new o.Nested)}}}),o.A=o.invent({create:"a",inherit:o.Container,extend:{to:function(t){return this.attr("href",t,o.xlink)},show:function(t){return this.attr("show",t,o.xlink)},target:function(t){return this.attr("target",t)}},construct:{link:function(t){return this.put(new o.A).to(t)}}}),o.extend(o.Element,{linkTo:function(t){var e=new o.A;return"function"==typeof t?t.call(e,e):e.to(t),this.parent().put(e).put(this)}}),o.Marker=o.invent({create:"marker",inherit:o.Container,extend:{width:function(t){return this.attr("markerWidth",t)},height:function(t){return this.attr("markerHeight",t)},ref:function(t,e){return this.attr("refX",t).attr("refY",e)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(t,e,o){return this.defs().marker(t,e,o)}}}),o.extend(o.Defs,{marker:function(t,e,n){return this.put(new o.Marker).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)}}),o.extend(o.Line,o.Polyline,o.Polygon,o.Path,{marker:function(t,e,n,r){var i=["marker"];return"all"!=t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof o.Marker?arguments[1]:this.doc().marker(e,n,r),this.attr(i,t)}});var l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};function a(t,e,n,r){return n+r.replace(o.regex.dots," .")}function u(t){return t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}function c(t){return t.charAt(0).toUpperCase()+t.slice(1)}function p(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function h(t,e,o){if(null==e||null==o){var n=t.bbox();null==e?e=n.width/n.height*o:null==o&&(o=n.height/n.width*e)}return{width:e,height:o}}function g(t,e,o){return{x:e*t.a+o*t.c+0,y:e*t.b+o*t.d+0}}function d(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function f(t,e){t.cx=null==t.cx?e.bbox().cx:t.cx,t.cy=null==t.cy?e.bbox().cy:t.cy}function m(e){for(var n=e.childNodes.length-1;n>=0;n--)e.childNodes[n]instanceof t.SVGElement&&m(e.childNodes[n]);return o.adopt(e).id(o.eid(e.nodeName))}function _(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function y(t){return Math.abs(t)>1e-37?t:0}["fill","stroke"].forEach((function(t){var e,n={};n[t]=function(n){if(void 0===n)return this;if("string"==typeof n||o.Color.isRgb(n)||n&&"function"==typeof n.fill)this.attr(t,n);else for(e=l[t].length-1;e>=0;e--)null!=n[l[t][e]]&&this.attr(l.prefix(t,l[t][e]),n[l[t][e]]);return this},o.extend(o.Element,o.FX,n)})),o.extend(o.Element,o.FX,{rotate:function(t,e,o){return this.transform({rotation:t,cx:e,cy:o})},skew:function(t,e,o,n){return this.transform(1==arguments.length||3==arguments.length?{skew:t,cx:e,cy:o}:{skewX:t,skewY:e,cx:o,cy:n})},scale:function(t,e,o,n){return this.transform(1==arguments.length||3==arguments.length?{scale:t,cx:e,cy:o}:{scaleX:t,scaleY:e,cx:o,cy:n})},translate:function(t,e){return this.transform({x:t,y:e})},flip:function(t,e){return this.transform({flip:t||"both",offset:e="number"==typeof t?t:e})},matrix:function(t){return this.attr("transform",new o.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new o.Number(t).plus(this instanceof o.FX?0:this.x()),!0)},dy:function(t){return this.y(new o.Number(t).plus(this instanceof o.FX?0:this.y()),!0)},dmove:function(t,e){return this.dx(t).dy(e)}}),o.extend(o.Rect,o.Ellipse,o.Circle,o.Gradient,o.FX,{radius:function(t,e){var n=(this._target||this).type;return"radial"==n||"circle"==n?this.attr("r",new o.Number(t)):this.rx(t).ry(null==e?t:e)}}),o.extend(o.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),o.extend(o.Parent,o.Text,o.Tspan,o.FX,{font:function(t,e){if("object"==typeof t)for(e in t)this.font(e,t[e]);return"leading"==t?this.leading(e):this.attr("anchor"==t?"text-anchor":"size"==t||"family"==t||"weight"==t||"stretch"==t||"variant"==t||"style"==t?"font-"+t:t,e)}}),o.Set=o.invent({create:function(t){t instanceof o.Set?this.members=t.members.slice():Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){var t,e,o=[].slice.call(arguments);for(t=0,e=o.length;t<e;t++)this.members.push(o[t]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,o=this.members.length;e<o;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(0==this.members.length)return new o.RBox;var t=this.members[0].rbox(this.members[0].doc());return this.each((function(){t=t.merge(this.rbox(this.doc()))})),t}},construct:{set:function(t){return new o.Set(t)}}}),o.FX.Set=o.invent({create:function(t){this.set=t}}),o.Set.inherit=function(){var t=[];for(var e in o.Shape.prototype)"function"==typeof o.Shape.prototype[e]&&"function"!=typeof o.Set.prototype[e]&&t.push(e);for(var e in t.forEach((function(t){o.Set.prototype[t]=function(){for(var e=0,n=this.members.length;e<n;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new o.FX.Set(this)):this}})),t=[],o.FX.prototype)"function"==typeof o.FX.prototype[e]&&"function"!=typeof o.FX.Set.prototype[e]&&t.push(e);t.forEach((function(t){o.FX.Set.prototype[t]=function(){for(var e=0,o=this.set.members.length;e<o;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}}))},o.extend(o.Element,{data:function(t,e,o){if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(n){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===o||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),o.extend(o.Element,{remember:function(t,e){if("object"==typeof arguments[0])for(var e in t)this.remember(e,t[e]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),o.get=function(t){var n=e.getElementById(function(t){var e=(t||"").toString().match(o.regex.reference);if(e)return e[1]}(t)||t);return o.adopt(n)},o.select=function(t,n){return new o.Set(o.utils.map((n||e).querySelectorAll(t),(function(t){return o.adopt(t)})))},o.extend(o.Parent,{select:function(t){return o.select(t,this.node)}});var v="abcdef".split("");if("function"!=typeof t.CustomEvent){var b=function(t,o){o=o||{bubbles:!1,cancelable:!1,detail:void 0};var n=e.createEvent("CustomEvent");return n.initCustomEvent(t,o.bubbles,o.cancelable,o.detail),n};b.prototype=t.Event.prototype,o.CustomEvent=b}else o.CustomEvent=t.CustomEvent;return function(e){for(var o=0,n=["moz","webkit"],r=0;r<n.length&&!t.requestAnimationFrame;++r)e.requestAnimationFrame=e[n[r]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n[r]+"CancelAnimationFrame"]||e[n[r]+"CancelRequestAnimationFrame"];e.requestAnimationFrame=e.requestAnimationFrame||function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-o)),i=e.setTimeout((function(){t(n+r)}),r);return o=n+r,i},e.cancelAnimationFrame=e.cancelAnimationFrame||e.clearTimeout}(t),o}(r,r.document)}).call(e,o,e,t))||(t.exports=n)},Gf7V:function(t,e,o){t.exports&&(t.exports={core:{meta:{path:"components/prism-core.js",option:"mandatory"},core:"Core"},themes:{meta:{path:"themes/{id}.css",link:"index.html?theme={id}",exclusive:!0},prism:{title:"Default",option:"default"},"prism-dark":"Dark","prism-funky":"Funky","prism-okaidia":{title:"Okaidia",owner:"ocodia"},"prism-twilight":{title:"Twilight",owner:"remybach"},"prism-coy":{title:"Coy",owner:"tshedor"},"prism-solarizedlight":{title:"Solarized Light",owner:"hectormatos2011 "},"prism-tomorrow":{title:"Tomorrow Night",owner:"Rosey"}},languages:{meta:{path:"components/prism-{id}",noCSS:!0,examplesPath:"examples/prism-{id}",addCheckAll:!0},markup:{title:"Markup",alias:["html","xml","svg","mathml"],aliasTitles:{html:"HTML",xml:"XML",svg:"SVG",mathml:"MathML"},option:"default"},css:{title:"CSS",option:"default",peerDependencies:"markup"},clike:{title:"C-like",option:"default",overrideExampleHeader:!0},javascript:{title:"JavaScript",require:"clike",peerDependencies:"markup",alias:"js",option:"default"},abap:{title:"ABAP",owner:"dellagustin"},abnf:{title:"Augmented BackusNaur form",owner:"RunDevelopment"},actionscript:{title:"ActionScript",require:"javascript",peerDependencies:"markup",owner:"Golmote"},ada:{title:"Ada",owner:"Lucretia"},apacheconf:{title:"Apache Configuration",owner:"GuiTeK"},apl:{title:"APL",owner:"ngn"},applescript:{title:"AppleScript",owner:"Golmote"},arduino:{title:"Arduino",require:"cpp",owner:"eisbehr-"},arff:{title:"ARFF",owner:"Golmote"},asciidoc:{alias:"adoc",title:"AsciiDoc",owner:"Golmote"},asm6502:{title:"6502 Assembly",owner:"kzurawel"},aspnet:{title:"ASP.NET (C#)",require:["markup","csharp"],owner:"nauzilus"},autohotkey:{title:"AutoHotkey",owner:"aviaryan"},autoit:{title:"AutoIt",owner:"Golmote"},bash:{title:"Bash",alias:"shell",aliasTitles:{shell:"Shell"},owner:"zeitgeist87"},basic:{title:"BASIC",owner:"Golmote"},batch:{title:"Batch",owner:"Golmote"},bison:{title:"Bison",require:"c",owner:"Golmote"},bnf:{title:"BackusNaur form",alias:"rbnf",aliasTitles:{rbnf:"Routing BackusNaur form"},owner:"RunDevelopment"},brainfuck:{title:"Brainfuck",owner:"Golmote"},bro:{title:"Bro",owner:"wayward710"},c:{title:"C",require:"clike",owner:"zeitgeist87"},csharp:{title:"C#",require:"clike",alias:["cs","dotnet"],owner:"mvalipour"},cpp:{title:"C++",require:"c",owner:"zeitgeist87"},cil:{title:"CIL",owner:"sbrl"},coffeescript:{title:"CoffeeScript",require:"javascript",alias:"coffee",owner:"R-osey"},cmake:{title:"CMake",owner:"mjrogozinski"},clojure:{title:"Clojure",owner:"troglotit"},crystal:{title:"Crystal",require:"ruby",owner:"MakeNowJust"},csp:{title:"Content-Security-Policy",owner:"ScottHelme"},"css-extras":{title:"CSS Extras",require:"css",owner:"milesj"},d:{title:"D",require:"clike",owner:"Golmote"},dart:{title:"Dart",require:"clike",owner:"Golmote"},diff:{title:"Diff",owner:"uranusjr"},django:{title:"Django/Jinja2",require:"markup-templating",alias:"jinja2",owner:"romanvm"},"dns-zone-file":{title:"DNS zone file",owner:"RunDevelopment",alias:"dns-zone"},docker:{title:"Docker",alias:"dockerfile",owner:"JustinBeckwith"},ebnf:{title:"Extended BackusNaur form",owner:"RunDevelopment"},eiffel:{title:"Eiffel",owner:"Conaclos"},ejs:{title:"EJS",require:["javascript","markup-templating"],owner:"RunDevelopment"},elixir:{title:"Elixir",owner:"Golmote"},elm:{title:"Elm",owner:"zwilias"},erb:{title:"ERB",require:["ruby","markup-templating"],owner:"Golmote"},erlang:{title:"Erlang",owner:"Golmote"},fsharp:{title:"F#",require:"clike",owner:"simonreynolds7"},flow:{title:"Flow",require:"javascript",owner:"Golmote"},fortran:{title:"Fortran",owner:"Golmote"},gcode:{title:"G-code",owner:"RunDevelopment"},gedcom:{title:"GEDCOM",owner:"Golmote"},gherkin:{title:"Gherkin",owner:"hason"},git:{title:"Git",owner:"lgiraudel"},glsl:{title:"GLSL",require:"clike",owner:"Golmote"},gml:{title:"GameMaker Language",alias:"gamemakerlanguage",require:"clike",owner:"LiarOnce"},go:{title:"Go",require:"clike",owner:"arnehormann"},graphql:{title:"GraphQL",owner:"Golmote"},groovy:{title:"Groovy",require:"clike",owner:"robfletcher"},haml:{title:"Haml",require:"ruby",peerDependencies:["css","coffeescript","erb","javascript","less","markdown","ruby","scss","textile"],owner:"Golmote"},handlebars:{title:"Handlebars",require:"markup-templating",owner:"Golmote"},haskell:{title:"Haskell",alias:"hs",owner:"bholst"},haxe:{title:"Haxe",require:"clike",owner:"Golmote"},hcl:{title:"HCL",owner:"outsideris"},http:{title:"HTTP",peerDependencies:["javascript","markup"],owner:"danielgtaylor"},hpkp:{title:"HTTP Public-Key-Pins",owner:"ScottHelme"},hsts:{title:"HTTP Strict-Transport-Security",owner:"ScottHelme"},ichigojam:{title:"IchigoJam",owner:"BlueCocoa"},icon:{title:"Icon",owner:"Golmote"},inform7:{title:"Inform 7",owner:"Golmote"},ini:{title:"Ini",owner:"aviaryan"},io:{title:"Io",owner:"AlesTsurko"},j:{title:"J",owner:"Golmote"},java:{title:"Java",require:"clike",owner:"sherblot"},javadoc:{title:"JavaDoc",require:["markup","java","javadoclike"],peerDependencies:["scala"],owner:"RunDevelopment"},javadoclike:{title:"JavaDoc-like",peerDependencies:["java","javascript","php"],owner:"RunDevelopment"},javastacktrace:{title:"Java stack trace",owner:"RunDevelopment"},jolie:{title:"Jolie",require:"clike",owner:"thesave"},jq:{title:"JQ",owner:"RunDevelopment"},jsdoc:{title:"JSDoc",require:["javascript","javadoclike"],peerDependencies:["actionscript","coffeescript"],owner:"RunDevelopment"},"js-extras":{title:"JS Extras",require:"javascript",peerDependencies:["actionscript","coffeescript","flow","n4js","typescript"],owner:"RunDevelopment"},"js-templates":{title:"JS Templates",require:"javascript",peerDependencies:["css","css-extras","graphql","markdown","markup"],owner:"RunDevelopment"},json:{title:"JSON",owner:"CupOfTea696"},jsonp:{title:"JSONP",require:"json",owner:"RunDevelopment"},json5:{title:"JSON5",require:"json",owner:"RunDevelopment"},julia:{title:"Julia",owner:"cdagnino"},keyman:{title:"Keyman",owner:"mcdurdin"},kotlin:{title:"Kotlin",require:"clike",owner:"Golmote"},latex:{title:"LaTeX",alias:["tex","context"],aliasTitles:{tex:"TeX",context:"ConTeXt"},owner:"japborst"},less:{title:"Less",require:"css",owner:"Golmote"},lilypond:{title:"LilyPond",require:"scheme",alias:"ly",owner:"RunDevelopment"},liquid:{title:"Liquid",owner:"cinhtau"},lisp:{title:"Lisp",alias:["emacs","elisp","emacs-lisp"],owner:"JuanCaicedo"},livescript:{title:"LiveScript",owner:"Golmote"},lolcode:{title:"LOLCODE",owner:"Golmote"},lua:{title:"Lua",owner:"Golmote"},makefile:{title:"Makefile",owner:"Golmote"},markdown:{title:"Markdown",require:"markup",alias:"md",owner:"Golmote"},"markup-templating":{title:"Markup templating",require:"markup",owner:"Golmote"},matlab:{title:"MATLAB",owner:"Golmote"},mel:{title:"MEL",owner:"Golmote"},mizar:{title:"Mizar",owner:"Golmote"},monkey:{title:"Monkey",owner:"Golmote"},n1ql:{title:"N1QL",owner:"TMWilds"},n4js:{title:"N4JS",require:"javascript",peerDependencies:["jsdoc"],alias:"n4jsd",owner:"bsmith-n4"},"nand2tetris-hdl":{title:"Nand To Tetris HDL",owner:"stephanmax"},nasm:{title:"NASM",owner:"rbmj"},nginx:{title:"nginx",owner:"westonganger",require:"clike"},nim:{title:"Nim",owner:"Golmote"},nix:{title:"Nix",owner:"Golmote"},nsis:{title:"NSIS",owner:"idleberg"},objectivec:{title:"Objective-C",require:"c",owner:"uranusjr"},ocaml:{title:"OCaml",owner:"Golmote"},opencl:{title:"OpenCL",require:"cpp",peerDependencies:["c","cpp"],overrideExampleHeader:!0,owner:"Milania1"},oz:{title:"Oz",owner:"Golmote"},parigp:{title:"PARI/GP",owner:"Golmote"},parser:{title:"Parser",require:"markup",owner:"Golmote"},pascal:{title:"Pascal",alias:"objectpascal",aliasTitles:{objectpascal:"Object Pascal"},owner:"Golmote"},pascaligo:{title:"Pascaligo",owner:"DefinitelyNotAGoat"},pcaxis:{title:"PC-Axis",alias:"px",owner:"RunDevelopment"},perl:{title:"Perl",owner:"Golmote"},php:{title:"PHP",require:["clike","markup-templating"],owner:"milesj"},phpdoc:{title:"PHPDoc",require:["php","javadoclike"],owner:"RunDevelopment"},"php-extras":{title:"PHP Extras",require:"php",owner:"milesj"},plsql:{title:"PL/SQL",require:"sql",owner:"Golmote"},powershell:{title:"PowerShell",owner:"nauzilus"},processing:{title:"Processing",require:"clike",owner:"Golmote"},prolog:{title:"Prolog",owner:"Golmote"},properties:{title:".properties",owner:"Golmote"},protobuf:{title:"Protocol Buffers",require:"clike",owner:"just-boris"},pug:{title:"Pug",require:["markup","javascript"],peerDependencies:["coffeescript","ejs","handlebars","less","livescript","markdown","scss","stylus","twig"],owner:"Golmote"},puppet:{title:"Puppet",owner:"Golmote"},pure:{title:"Pure",peerDependencies:["c","cpp","fortran"],owner:"Golmote"},python:{title:"Python",alias:"py",owner:"multipetros"},q:{title:"Q (kdb+ database)",owner:"Golmote"},qore:{title:"Qore",require:"clike",owner:"temnroegg"},r:{title:"R",owner:"Golmote"},jsx:{title:"React JSX",require:["markup","javascript"],peerDependencies:["jsdoc","js-extras","js-templates"],owner:"vkbansal"},tsx:{title:"React TSX",require:["jsx","typescript"]},renpy:{title:"Ren'py",owner:"HyuchiaDiego"},reason:{title:"Reason",require:"clike",owner:"Golmote"},regex:{title:"Regex",peerDependencies:["actionscript","coffeescript","flow","javascript","typescript","vala"],owner:"RunDevelopment"},rest:{title:"reST (reStructuredText)",owner:"Golmote"},rip:{title:"Rip",owner:"ravinggenius"},roboconf:{title:"Roboconf",owner:"Golmote"},ruby:{title:"Ruby",require:"clike",alias:"rb",owner:"samflores"},rust:{title:"Rust",owner:"Golmote"},sas:{title:"SAS",owner:"Golmote"},sass:{title:"Sass (Sass)",require:"css",owner:"Golmote"},scss:{title:"Sass (Scss)",require:"css",owner:"MoOx"},scala:{title:"Scala",require:"java",owner:"jozic"},scheme:{title:"Scheme",owner:"bacchus123"},"shell-session":{title:"Shell session",require:"bash",owner:"RunDevelopment"},smalltalk:{title:"Smalltalk",owner:"Golmote"},smarty:{title:"Smarty",require:"markup-templating",owner:"Golmote"},soy:{title:"Soy (Closure Template)",require:"markup-templating",owner:"Golmote"},"splunk-spl":{title:"Splunk SPL",owner:"RunDevelopment"},sql:{title:"SQL",owner:"multipetros"},stylus:{title:"Stylus",owner:"vkbansal"},swift:{title:"Swift",require:"clike",owner:"chrischares"},tap:{title:"TAP",owner:"isaacs",require:"yaml"},tcl:{title:"Tcl",owner:"PeterChaplin"},textile:{title:"Textile",require:"markup",peerDependencies:"css",owner:"Golmote"},toml:{title:"TOML",owner:"RunDevelopment"},tt2:{title:"Template Toolkit 2",require:["clike","markup-templating"],owner:"gflohr"},twig:{title:"Twig",require:"markup",owner:"brandonkelly"},typescript:{title:"TypeScript",require:"javascript",peerDependencies:"js-templates",alias:"ts",owner:"vkbansal"},"t4-cs":{title:"T4 Text Templates (C#)",require:["t4-templating","csharp"],alias:"t4",owner:"RunDevelopment"},"t4-vb":{title:"T4 Text Templates (VB)",require:["t4-templating","visual-basic"],owner:"RunDevelopment"},"t4-templating":{title:"T4 templating",owner:"RunDevelopment"},vala:{title:"Vala",require:"clike",owner:"TemplarVolk"},vbnet:{title:"VB.Net",require:"basic",owner:"Bigsby"},velocity:{title:"Velocity",require:"markup",owner:"Golmote"},verilog:{title:"Verilog",owner:"a-rey"},vhdl:{title:"VHDL",owner:"a-rey"},vim:{title:"vim",owner:"westonganger"},"visual-basic":{title:"Visual Basic",alias:"vb",owner:"Golmote"},wasm:{title:"WebAssembly",owner:"Golmote"},wiki:{title:"Wiki markup",require:"markup",owner:"Golmote"},xeora:{title:"Xeora",require:"markup",alias:"xeoracube",aliasTitles:{xeoracube:"XeoraCube"},owner:"freakmaxi"},xojo:{title:"Xojo (REALbasic)",owner:"Golmote"},xquery:{title:"XQuery",require:"markup",owner:"Golmote"},yaml:{title:"YAML",alias:"yml",owner:"hason"}},plugins:{meta:{path:"plugins/{id}/prism-{id}",link:"plugins/{id}/"},"line-highlight":"Line Highlight","line-numbers":{title:"Line Numbers",owner:"kuba-kubula"},"show-invisibles":{title:"Show Invisibles",after:["autolinker","data-uri-highlight"]},autolinker:"Autolinker",wpd:"WebPlatform Docs","custom-class":{title:"Custom Class",owner:"dvkndn",noCSS:!0},"file-highlight":{title:"File Highlight",noCSS:!0},"show-language":{title:"Show Language",owner:"nauzilus",noCSS:!0,require:"toolbar"},"jsonp-highlight":{title:"JSONP Highlight",noCSS:!0,owner:"nauzilus"},"highlight-keywords":{title:"Highlight Keywords",owner:"vkbansal",noCSS:!0},"remove-initial-line-feed":{title:"Remove initial line feed",owner:"Golmote",noCSS:!0},previewers:{title:"Previewers",owner:"Golmote"},autoloader:{title:"Autoloader",owner:"Golmote",noCSS:!0},"keep-markup":{title:"Keep Markup",owner:"Golmote",after:"normalize-whitespace",noCSS:!0},"command-line":{title:"Command Line",owner:"chriswells0"},"unescaped-markup":"Unescaped Markup","normalize-whitespace":{title:"Normalize Whitespace",owner:"zeitgeist87",after:"unescaped-markup",noCSS:!0},"data-uri-highlight":{title:"Data-URI Highlight",owner:"Golmote",noCSS:!0},toolbar:{title:"Toolbar",owner:"mAAdhaTTah"},"copy-to-clipboard":{title:"Copy to Clipboard Button",owner:"mAAdhaTTah",require:"toolbar",noCSS:!0},"diff-highlight":{title:"Diff Highlight",owner:"RunDevelopment",require:"diff"}}})},Iab2:function(t,e,o){var n,r;void 0===(r="function"==typeof(n=function(){"use strict";function e(t,e,o){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){i(n.response,e,o)},n.onerror=function(){console.error("could not download file")},n.send()}function o(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(o)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,i=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(t,i,s){var l=r.URL||r.webkitURL,a=document.createElement("a");a.download=i=i||t.name||"download",a.rel="noopener","string"==typeof t?(a.href=t,a.origin===location.origin?n(a):o(a.href)?e(t,i,s):n(a,a.target="_blank")):(a.href=l.createObjectURL(t),setTimeout((function(){l.revokeObjectURL(a.href)}),4e4),setTimeout((function(){n(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,r,i){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,i),r);else if(o(t))e(t,r,i);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){n(s)}))}}:function(t,o,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,o,n);var s="application/octet-stream"===t.type,l=/constructor/i.test(r.HTMLElement)||r.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&l)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},u.readAsDataURL(t)}else{var c=r.URL||r.webkitURL,p=c.createObjectURL(t);i?i.location=p:location.href=p,i=null,setTimeout((function(){c.revokeObjectURL(p)}),4e4)}});r.saveAs=i.saveAs=i,t.exports=i})?n.apply(e,[]):n)||(t.exports=r)},LauQ:function(t,e){(function(){var t="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";SVG.extend(SVG.Element,{panZoom:function(e){var o=this;function n(t,e,n){return i.pan.iPos=i.pan.fPos,i.transform=o.transform(),i.transform.x=t,i.transform.y=e,"number"==typeof n?i.zoom(n):a(),i}function r(t,r,s,l){if(!(t>e.zoom[1]||t<e.zoom[0])){if(1===arguments.length)return i.transform=i.transform||o.transform(),i.transform.scaleY=i.transform.scaleX=t,a(),i;var u=i.transform||o.transform(),c=t/u.scaleX;n(c*(u.x-r)+r,c*(u.y-s)+s,t),l&&o.node.dispatchEvent(new CustomEvent("zoom",{detail:{e:l,tr:u}}))}}var i={pan:{},elm:o,setPosition:n,zoom:r};(e=Object(e)).zoom=e.zoom||[],e.zoomSpeed="number"==typeof e.zoomSpeed?e.zoomSpeed:-1;for(var s=o;"SVG"!==(s=o.parent()).node.tagName.toUpperCase(););var l=new SVG(document.createDocumentFragment()).rect().attr({width:s.width(),height:s.height(),fill:"none"}).style("pointer-events","all");function a(){o.attr("transform","matrix("+[i.transform.scaleX,0,0,i.transform.scaleY,i.transform.x,i.transform.y].join(",")+")")}function u(t){if(i.pan.mousedown){var e=i.transform=o.transform();i.setPosition(e.x+(i.pan.fPos.x-i.pan.iPos.x),e.y+(i.pan.fPos.y-i.pan.iPos.y)),o.node.dispatchEvent(new CustomEvent("pan",{detail:{e:t,tr:e}}))}}function c(t,e){var n=o.parent().node.getBoundingClientRect(),r={x:t.clientX||t.touches[0].pageX,y:t.clientY||t.touches[0].pageY};return e?{x:r.x-n.left,y:r.y-n.top}:r}function p(t){var n=c(t,!0),s=n.x,l=n.y;t.deltaY=t.deltaY||t.wheelDeltaY||-t.wheelDelta;var a=e.zoomSpeed*t.deltaY/1e3,u=i.transform=o.transform();r(u.scaleX+u.scaleX*a,s,l,t),t.preventDefault()}o.parent().node.insertBefore(l.node,o.node);var h=function(t){i.pan.mousedown=!0,i.pan.iPos=c(t)},g=function(t){i.pan.mousedown=!1,i.pan.fPos=c(t),u()},d=function(t){i.pan.mousedown&&(i.pan.fPos=c(t),u())};return l.on(t,p).on("mousedown",h).on("touchstart",h).on("mousemove",d).on("touchmove",d).on("mouseup",g).on("touchup",g).on("mouseleave",(function(t){i.pan.mousedown=!1})),o.on(t,p),i}})}).call(this)},LdxB:function(t,e,o){var n,r,i;r=[o("t/1s"),o("qIRt"),o("SdJ3"),o("/AaG")],void 0===(i="function"==typeof(n=function(t,e,o,n){"use strict";return t.setLocale(e),t.Blocks=Object.assign(t.Blocks,o),t.JavaScript=n,t})?n.apply(e,r):n)||(t.exports=i)},LvDl:function(t,e,o){(function(t){var n;(function(){var r,i=200,s="Expected a function",l="__lodash_placeholder__",a=1,u=2,c=4,p=1,h=2,g=1,d=2,f=4,m=8,_=16,y=32,v=64,b=128,E=256,k=512,T=800,S=16,C=1/0,A=9007199254740991,w=17976931348623157e292,O=NaN,B=4294967295,I=B-1,R=B>>>1,N=[["ary",b],["bind",g],["bindKey",d],["curry",m],["curryRight",_],["flip",k],["partial",y],["partialRight",v],["rearg",E]],x="[object Arguments]",D="[object Array]",L="[object AsyncFunction]",M="[object Boolean]",P="[object Date]",F="[object DOMException]",U="[object Error]",V="[object Function]",H="[object GeneratorFunction]",G="[object Map]",W="[object Number]",j="[object Null]",K="[object Object]",z="[object Proxy]",X="[object RegExp]",Y="[object Set]",J="[object String]",q="[object Symbol]",Z="[object Undefined]",Q="[object WeakMap]",$="[object ArrayBuffer]",tt="[object DataView]",et="[object Float32Array]",ot="[object Float64Array]",nt="[object Int8Array]",rt="[object Int16Array]",it="[object Int32Array]",st="[object Uint8Array]",lt="[object Uint8ClampedArray]",at="[object Uint16Array]",ut="[object Uint32Array]",ct=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,ht=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gt=/&(?:amp|lt|gt|quot|#39);/g,dt=/[&<>"']/g,ft=RegExp(gt.source),mt=RegExp(dt.source),_t=/<%-([\s\S]+?)%>/g,yt=/<%([\s\S]+?)%>/g,vt=/<%=([\s\S]+?)%>/g,bt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Et=/^\w*$/,kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tt=/[\\^$.*+?()[\]{}|]/g,St=RegExp(Tt.source),Ct=/^\s+|\s+$/g,At=/^\s+/,wt=/\s+$/,Ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bt=/\{\n\/\* \[wrapped with (.+)\] \*/,It=/,? & /,Rt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nt=/\\(\\)?/g,xt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dt=/\w*$/,Lt=/^[-+]0x[0-9a-f]+$/i,Mt=/^0b[01]+$/i,Pt=/^\[object .+?Constructor\]$/,Ft=/^0o[0-7]+$/i,Ut=/^(?:0|[1-9]\d*)$/,Vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ht=/($^)/,Gt=/['\n\r\u2028\u2029\\]/g,Wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kt="["+jt+"]",zt="["+Wt+"]",Xt="\\d+",Yt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Jt="[^\\ud800-\\udfff"+jt+Xt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",qt="\\ud83c[\\udffb-\\udfff]",Zt="[^\\ud800-\\udfff]",Qt="(?:\\ud83c[\\udde6-\\uddff]){2}",$t="[\\ud800-\\udbff][\\udc00-\\udfff]",te="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ee="(?:"+Yt+"|"+Jt+")",oe="(?:"+te+"|"+Jt+")",ne="(?:"+zt+"|"+qt+")?",re="[\\ufe0e\\ufe0f]?"+ne+"(?:\\u200d(?:"+[Zt,Qt,$t].join("|")+")[\\ufe0e\\ufe0f]?"+ne+")*",ie="(?:"+["[\\u2700-\\u27bf]",Qt,$t].join("|")+")"+re,se="(?:"+[Zt+zt+"?",zt,Qt,$t,"[\\ud800-\\udfff]"].join("|")+")",le=RegExp("[']","g"),ae=RegExp(zt,"g"),ue=RegExp(qt+"(?="+qt+")|"+se+re,"g"),ce=RegExp([te+"?"+Yt+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[Kt,te,"$"].join("|")+")",oe+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[Kt,te+ee,"$"].join("|")+")",te+"?"+ee+"+(?:['](?:d|ll|m|re|s|t|ve))?",te+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xt,ie].join("|"),"g"),pe=RegExp("[\\u200d\\ud800-\\udfff"+Wt+"\\ufe0e\\ufe0f]"),he=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ge=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],de=-1,fe={};fe[et]=fe[ot]=fe[nt]=fe[rt]=fe[it]=fe[st]=fe[lt]=fe[at]=fe[ut]=!0,fe[x]=fe[D]=fe[$]=fe[M]=fe[tt]=fe[P]=fe[U]=fe[V]=fe[G]=fe[W]=fe[K]=fe[X]=fe[Y]=fe[J]=fe[Q]=!1;var me={};me[x]=me[D]=me[$]=me[tt]=me[M]=me[P]=me[et]=me[ot]=me[nt]=me[rt]=me[it]=me[G]=me[W]=me[K]=me[X]=me[Y]=me[J]=me[q]=me[st]=me[lt]=me[at]=me[ut]=!0,me[U]=me[V]=me[Q]=!1;var _e={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ye=parseFloat,ve=parseInt,be="object"==typeof global&&global&&global.Object===Object&&global,Ee="object"==typeof self&&self&&self.Object===Object&&self,ke=be||Ee||Function("return this")(),Te=e&&!e.nodeType&&e,Se=Te&&"object"==typeof t&&t&&!t.nodeType&&t,Ce=Se&&Se.exports===Te,Ae=Ce&&be.process,we=function(){try{return Se&&Se.require&&Se.require("util").types||Ae&&Ae.binding&&Ae.binding("util")}catch(t){}}(),Oe=we&&we.isArrayBuffer,Be=we&&we.isDate,Ie=we&&we.isMap,Re=we&&we.isRegExp,Ne=we&&we.isSet,xe=we&&we.isTypedArray;function De(t,e,o){switch(o.length){case 0:return t.call(e);case 1:return t.call(e,o[0]);case 2:return t.call(e,o[0],o[1]);case 3:return t.call(e,o[0],o[1],o[2])}return t.apply(e,o)}function Le(t,e,o,n){for(var r=-1,i=null==t?0:t.length;++r<i;){var s=t[r];e(n,s,o(s),t)}return n}function Me(t,e){for(var o=-1,n=null==t?0:t.length;++o<n&&!1!==e(t[o],o,t););return t}function Pe(t,e){for(var o=null==t?0:t.length;o--&&!1!==e(t[o],o,t););return t}function Fe(t,e){for(var o=-1,n=null==t?0:t.length;++o<n;)if(!e(t[o],o,t))return!1;return!0}function Ue(t,e){for(var o=-1,n=null==t?0:t.length,r=0,i=[];++o<n;){var s=t[o];e(s,o,t)&&(i[r++]=s)}return i}function Ve(t,e){return!(null==t||!t.length)&&qe(t,e,0)>-1}function He(t,e,o){for(var n=-1,r=null==t?0:t.length;++n<r;)if(o(e,t[n]))return!0;return!1}function Ge(t,e){for(var o=-1,n=null==t?0:t.length,r=Array(n);++o<n;)r[o]=e(t[o],o,t);return r}function We(t,e){for(var o=-1,n=e.length,r=t.length;++o<n;)t[r+o]=e[o];return t}function je(t,e,o,n){var r=-1,i=null==t?0:t.length;for(n&&i&&(o=t[++r]);++r<i;)o=e(o,t[r],r,t);return o}function Ke(t,e,o,n){var r=null==t?0:t.length;for(n&&r&&(o=t[--r]);r--;)o=e(o,t[r],r,t);return o}function ze(t,e){for(var o=-1,n=null==t?0:t.length;++o<n;)if(e(t[o],o,t))return!0;return!1}var Xe=to("length");function Ye(t,e,o){var n;return o(t,(function(t,o,r){if(e(t,o,r))return n=o,!1})),n}function Je(t,e,o,n){for(var r=t.length,i=o+(n?1:-1);n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function qe(t,e,o){return e==e?function(t,e,o){for(var n=o-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}(t,e,o):Je(t,Qe,o)}function Ze(t,e,o,n){for(var r=o-1,i=t.length;++r<i;)if(n(t[r],e))return r;return-1}function Qe(t){return t!=t}function $e(t,e){var o=null==t?0:t.length;return o?no(t,e)/o:O}function to(t){return function(e){return null==e?r:e[t]}}function eo(t){return function(e){return null==t?r:t[e]}}function oo(t,e,o,n,r){return r(t,(function(t,r,i){o=n?(n=!1,t):e(o,t,r,i)})),o}function no(t,e){for(var o,n=-1,i=t.length;++n<i;){var s=e(t[n]);s!==r&&(o=o===r?s:o+s)}return o}function ro(t,e){for(var o=-1,n=Array(t);++o<t;)n[o]=e(o);return n}function io(t){return function(e){return t(e)}}function so(t,e){return Ge(e,(function(e){return t[e]}))}function lo(t,e){return t.has(e)}function ao(t,e){for(var o=-1,n=t.length;++o<n&&qe(e,t[o],0)>-1;);return o}function uo(t,e){for(var o=t.length;o--&&qe(e,t[o],0)>-1;);return o}var co=eo({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),po=eo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ho(t){return"\\"+_e[t]}function go(t){return pe.test(t)}function fo(t){var e=-1,o=Array(t.size);return t.forEach((function(t,n){o[++e]=[n,t]})),o}function mo(t,e){return function(o){return t(e(o))}}function _o(t,e){for(var o=-1,n=t.length,r=0,i=[];++o<n;){var s=t[o];s!==e&&s!==l||(t[o]=l,i[r++]=o)}return i}function yo(t){var e=-1,o=Array(t.size);return t.forEach((function(t){o[++e]=t})),o}function vo(t){var e=-1,o=Array(t.size);return t.forEach((function(t){o[++e]=[t,t]})),o}function bo(t){return go(t)?function(t){for(var e=ue.lastIndex=0;ue.test(t);)++e;return e}(t):Xe(t)}function Eo(t){return go(t)?function(t){return t.match(ue)||[]}(t):function(t){return t.split("")}(t)}var ko=eo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),To=function t(e){var o,n=(e=null==e?ke:To.defaults(ke.Object(),e,To.pick(ke,ge))).Array,Wt=e.Date,jt=e.Error,Kt=e.Function,zt=e.Math,Xt=e.Object,Yt=e.RegExp,Jt=e.String,qt=e.TypeError,Zt=n.prototype,Qt=Xt.prototype,$t=e["__core-js_shared__"],te=Kt.prototype.toString,ee=Qt.hasOwnProperty,oe=0,ne=(o=/[^.]+$/.exec($t&&$t.keys&&$t.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"",re=Qt.toString,ie=te.call(Xt),se=ke._,ue=Yt("^"+te.call(ee).replace(Tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pe=Ce?e.Buffer:r,_e=e.Symbol,be=e.Uint8Array,Ee=pe?pe.allocUnsafe:r,Te=mo(Xt.getPrototypeOf,Xt),Se=Xt.create,Ae=Qt.propertyIsEnumerable,we=Zt.splice,Xe=_e?_e.isConcatSpreadable:r,eo=_e?_e.iterator:r,So=_e?_e.toStringTag:r,Co=function(){try{var t=Bi(Xt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ao=e.clearTimeout!==ke.clearTimeout&&e.clearTimeout,wo=Wt&&Wt.now!==ke.Date.now&&Wt.now,Oo=e.setTimeout!==ke.setTimeout&&e.setTimeout,Bo=zt.ceil,Io=zt.floor,Ro=Xt.getOwnPropertySymbols,No=pe?pe.isBuffer:r,xo=e.isFinite,Do=Zt.join,Lo=mo(Xt.keys,Xt),Mo=zt.max,Po=zt.min,Fo=Wt.now,Uo=e.parseInt,Vo=zt.random,Ho=Zt.reverse,Go=Bi(e,"DataView"),Wo=Bi(e,"Map"),jo=Bi(e,"Promise"),Ko=Bi(e,"Set"),zo=Bi(e,"WeakMap"),Xo=Bi(Xt,"create"),Yo=zo&&new zo,Jo={},qo=ns(Go),Zo=ns(Wo),Qo=ns(jo),$o=ns(Ko),tn=ns(zo),en=_e?_e.prototype:r,on=en?en.valueOf:r,nn=en?en.toString:r;function rn(t){if(bl(t)&&!ul(t)&&!(t instanceof un)){if(t instanceof an)return t;if(ee.call(t,"__wrapped__"))return rs(t)}return new an(t)}var sn=function(){function t(){}return function(e){if(!vl(e))return{};if(Se)return Se(e);t.prototype=e;var o=new t;return t.prototype=r,o}}();function ln(){}function an(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function un(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function cn(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}function pn(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}function hn(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}function gn(t){var e=-1,o=null==t?0:t.length;for(this.__data__=new hn;++e<o;)this.add(t[e])}function dn(t){var e=this.__data__=new pn(t);this.size=e.size}function fn(t,e){var o=ul(t),n=!o&&al(t),r=!o&&!n&&gl(t),i=!o&&!n&&!r&&Ol(t),s=o||n||r||i,l=s?ro(t.length,Jt):[],a=l.length;for(var u in t)!e&&!ee.call(t,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Mi(u,a))||l.push(u);return l}function mn(t){var e=t.length;return e?t[hr(0,e-1)]:r}function _n(t,e){return Qi(Xr(t),An(e,0,t.length))}function yn(t){return Qi(Xr(t))}function vn(t,e,o){(o===r||il(t[e],o))&&(o!==r||e in t)||Sn(t,e,o)}function bn(t,e,o){var n=t[e];ee.call(t,e)&&il(n,o)&&(o!==r||e in t)||Sn(t,e,o)}function En(t,e){for(var o=t.length;o--;)if(il(t[o][0],e))return o;return-1}function kn(t,e,o,n){return Rn(t,(function(t,r,i){e(n,t,o(t),i)})),n}function Tn(t,e){return t&&Yr(e,ql(e),t)}function Sn(t,e,o){"__proto__"==e&&Co?Co(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o}function Cn(t,e){for(var o=-1,i=e.length,s=n(i),l=null==t;++o<i;)s[o]=l?r:Kl(t,e[o]);return s}function An(t,e,o){return t==t&&(o!==r&&(t=t<=o?t:o),e!==r&&(t=t>=e?t:e)),t}function wn(t,e,o,n,i,s){var l,p=e&a,h=e&u,g=e&c;if(o&&(l=i?o(t,n,i,s):o(t)),l!==r)return l;if(!vl(t))return t;var d=ul(t);if(d){if(l=function(t){var e=t.length,o=new t.constructor(e);return e&&"string"==typeof t[0]&&ee.call(t,"index")&&(o.index=t.index,o.input=t.input),o}(t),!p)return Xr(t,l)}else{var f=Ni(t),m=f==V||f==H;if(gl(t))return Hr(t,p);if(f==K||f==x||m&&!i){if(l=h||m?{}:Di(t),!p)return h?function(t,e){return Yr(t,Ri(t),e)}(t,function(t,e){return t&&Yr(e,Zl(e),t)}(l,t)):function(t,e){return Yr(t,Ii(t),e)}(t,Tn(l,t))}else{if(!me[f])return i?t:{};l=function(t,e,o){var n=t.constructor;switch(e){case $:return Gr(t);case M:case P:return new n(+t);case tt:return function(t,e){var o=e?Gr(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}(t,o);case et:case ot:case nt:case rt:case it:case st:case lt:case at:case ut:return Wr(t,o);case G:return new n;case W:case J:return new n(t);case X:return function(t){var e=new t.constructor(t.source,Dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case Y:return new n;case q:return on?Xt(on.call(t)):{}}}(t,f,p)}}s||(s=new dn);var _=s.get(t);if(_)return _;s.set(t,l),Cl(t)?t.forEach((function(n){l.add(wn(n,e,o,n,t,s))})):El(t)&&t.forEach((function(n,r){l.set(r,wn(n,e,o,r,t,s))}));var y=d?r:(g?h?ki:Ei:h?Zl:ql)(t);return Me(y||t,(function(n,r){y&&(n=t[r=n]),bn(l,r,wn(n,e,o,r,t,s))})),l}function On(t,e,o){var n=o.length;if(null==t)return!n;for(t=Xt(t);n--;){var i=o[n],s=t[i];if(s===r&&!(i in t)||!(0,e[i])(s))return!1}return!0}function Bn(t,e,o){if("function"!=typeof t)throw new qt(s);return Yi((function(){t.apply(r,o)}),e)}function In(t,e,o,n){var r=-1,s=Ve,l=!0,a=t.length,u=[],c=e.length;if(!a)return u;o&&(e=Ge(e,io(o))),n?(s=He,l=!1):e.length>=i&&(s=lo,l=!1,e=new gn(e));t:for(;++r<a;){var p=t[r],h=null==o?p:o(p);if(p=n||0!==p?p:0,l&&h==h){for(var g=c;g--;)if(e[g]===h)continue t;u.push(p)}else s(e,h,n)||u.push(p)}return u}rn.templateSettings={escape:_t,evaluate:yt,interpolate:vt,variable:"",imports:{_:rn}},(rn.prototype=ln.prototype).constructor=rn,(an.prototype=sn(ln.prototype)).constructor=an,(un.prototype=sn(ln.prototype)).constructor=un,cn.prototype.clear=function(){this.__data__=Xo?Xo(null):{},this.size=0},cn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},cn.prototype.get=function(t){var e=this.__data__;if(Xo){var o=e[t];return"__lodash_hash_undefined__"===o?r:o}return ee.call(e,t)?e[t]:r},cn.prototype.has=function(t){var e=this.__data__;return Xo?e[t]!==r:ee.call(e,t)},cn.prototype.set=function(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Xo&&e===r?"__lodash_hash_undefined__":e,this},pn.prototype.clear=function(){this.__data__=[],this.size=0},pn.prototype.delete=function(t){var e=this.__data__,o=En(e,t);return!(o<0||(o==e.length-1?e.pop():we.call(e,o,1),--this.size,0))},pn.prototype.get=function(t){var e=this.__data__,o=En(e,t);return o<0?r:e[o][1]},pn.prototype.has=function(t){return En(this.__data__,t)>-1},pn.prototype.set=function(t,e){var o=this.__data__,n=En(o,t);return n<0?(++this.size,o.push([t,e])):o[n][1]=e,this},hn.prototype.clear=function(){this.size=0,this.__data__={hash:new cn,map:new(Wo||pn),string:new cn}},hn.prototype.delete=function(t){var e=wi(this,t).delete(t);return this.size-=e?1:0,e},hn.prototype.get=function(t){return wi(this,t).get(t)},hn.prototype.has=function(t){return wi(this,t).has(t)},hn.prototype.set=function(t,e){var o=wi(this,t),n=o.size;return o.set(t,e),this.size+=o.size==n?0:1,this},gn.prototype.add=gn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},gn.prototype.has=function(t){return this.__data__.has(t)},dn.prototype.clear=function(){this.__data__=new pn,this.size=0},dn.prototype.delete=function(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o},dn.prototype.get=function(t){return this.__data__.get(t)},dn.prototype.has=function(t){return this.__data__.has(t)},dn.prototype.set=function(t,e){var o=this.__data__;if(o instanceof pn){var n=o.__data__;if(!Wo||n.length<i-1)return n.push([t,e]),this.size=++o.size,this;o=this.__data__=new hn(n)}return o.set(t,e),this.size=o.size,this};var Rn=Zr(Un),Nn=Zr(Vn,!0);function xn(t,e){var o=!0;return Rn(t,(function(t,n,r){return o=!!e(t,n,r)})),o}function Dn(t,e,o){for(var n=-1,i=t.length;++n<i;){var s=t[n],l=e(s);if(null!=l&&(a===r?l==l&&!wl(l):o(l,a)))var a=l,u=s}return u}function Ln(t,e){var o=[];return Rn(t,(function(t,n,r){e(t,n,r)&&o.push(t)})),o}function Mn(t,e,o,n,r){var i=-1,s=t.length;for(o||(o=Li),r||(r=[]);++i<s;){var l=t[i];e>0&&o(l)?e>1?Mn(l,e-1,o,n,r):We(r,l):n||(r[r.length]=l)}return r}var Pn=Qr(),Fn=Qr(!0);function Un(t,e){return t&&Pn(t,e,ql)}function Vn(t,e){return t&&Fn(t,e,ql)}function Hn(t,e){return Ue(e,(function(e){return ml(t[e])}))}function Gn(t,e){for(var o=0,n=(e=Pr(e,t)).length;null!=t&&o<n;)t=t[os(e[o++])];return o&&o==n?t:r}function Wn(t,e,o){var n=e(t);return ul(t)?n:We(n,o(t))}function jn(t){return null==t?t===r?Z:j:So&&So in Xt(t)?function(t){var e=ee.call(t,So),o=t[So];try{t[So]=r;var n=!0}catch(s){}var i=re.call(t);return n&&(e?t[So]=o:delete t[So]),i}(t):function(t){return re.call(t)}(t)}function Kn(t,e){return t>e}function zn(t,e){return null!=t&&ee.call(t,e)}function Xn(t,e){return null!=t&&e in Xt(t)}function Yn(t,e,o){for(var i=o?He:Ve,s=t[0].length,l=t.length,a=l,u=n(l),c=1/0,p=[];a--;){var h=t[a];a&&e&&(h=Ge(h,io(e))),c=Po(h.length,c),u[a]=!o&&(e||s>=120&&h.length>=120)?new gn(a&&h):r}h=t[0];var g=-1,d=u[0];t:for(;++g<s&&p.length<c;){var f=h[g],m=e?e(f):f;if(f=o||0!==f?f:0,!(d?lo(d,m):i(p,m,o))){for(a=l;--a;){var _=u[a];if(!(_?lo(_,m):i(t[a],m,o)))continue t}d&&d.push(m),p.push(f)}}return p}function Jn(t,e,o){var n=null==(t=Ki(t,e=Pr(e,t)))?t:t[os(fs(e))];return null==n?r:De(n,t,o)}function qn(t){return bl(t)&&jn(t)==x}function Zn(t,e,o,n,i){return t===e||(null==t||null==e||!bl(t)&&!bl(e)?t!=t&&e!=e:function(t,e,o,n,i,s){var l=ul(t),a=ul(e),u=l?D:Ni(t),c=a?D:Ni(e),g=(u=u==x?K:u)==K,d=(c=c==x?K:c)==K,f=u==c;if(f&&gl(t)){if(!gl(e))return!1;l=!0,g=!1}if(f&&!g)return s||(s=new dn),l||Ol(t)?vi(t,e,o,n,i,s):function(t,e,o,n,r,i,s){switch(o){case tt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $:return!(t.byteLength!=e.byteLength||!i(new be(t),new be(e)));case M:case P:case W:return il(+t,+e);case U:return t.name==e.name&&t.message==e.message;case X:case J:return t==e+"";case G:var l=fo;case Y:if(l||(l=yo),t.size!=e.size&&!(n&p))return!1;var a=s.get(t);if(a)return a==e;n|=h,s.set(t,e);var u=vi(l(t),l(e),n,r,i,s);return s.delete(t),u;case q:if(on)return on.call(t)==on.call(e)}return!1}(t,e,u,o,n,i,s);if(!(o&p)){var m=g&&ee.call(t,"__wrapped__"),_=d&&ee.call(e,"__wrapped__");if(m||_){var y=m?t.value():t,v=_?e.value():e;return s||(s=new dn),i(y,v,o,n,s)}}return!!f&&(s||(s=new dn),function(t,e,o,n,i,s){var l=o&p,a=Ei(t),u=a.length;if(u!=Ei(e).length&&!l)return!1;for(var c=u;c--;){var h=a[c];if(!(l?h in e:ee.call(e,h)))return!1}var g=s.get(t);if(g&&s.get(e))return g==e;var d=!0;s.set(t,e),s.set(e,t);for(var f=l;++c<u;){var m=t[h=a[c]],_=e[h];if(n)var y=l?n(_,m,h,e,t,s):n(m,_,h,t,e,s);if(!(y===r?m===_||i(m,_,o,n,s):y)){d=!1;break}f||(f="constructor"==h)}if(d&&!f){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(d=!1)}return s.delete(t),s.delete(e),d}(t,e,o,n,i,s))}(t,e,o,n,Zn,i))}function Qn(t,e,o,n){var i=o.length,s=i,l=!n;if(null==t)return!s;for(t=Xt(t);i--;){var a=o[i];if(l&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){var u=(a=o[i])[0],c=t[u],g=a[1];if(l&&a[2]){if(c===r&&!(u in t))return!1}else{var d=new dn;if(n)var f=n(c,g,u,t,e,d);if(!(f===r?Zn(g,c,p|h,n,d):f))return!1}}return!0}function $n(t){return!(!vl(t)||(e=t,ne&&ne in e))&&(ml(t)?ue:Pt).test(ns(t));var e}function tr(t){return"function"==typeof t?t:null==t?ka:"object"==typeof t?ul(t)?ir(t[0],t[1]):rr(t):Ra(t)}function er(t){if(!Hi(t))return Lo(t);var e=[];for(var o in Xt(t))ee.call(t,o)&&"constructor"!=o&&e.push(o);return e}function or(t,e){return t<e}function nr(t,e){var o=-1,r=pl(t)?n(t.length):[];return Rn(t,(function(t,n,i){r[++o]=e(t,n,i)})),r}function rr(t){var e=Oi(t);return 1==e.length&&e[0][2]?Wi(e[0][0],e[0][1]):function(o){return o===t||Qn(o,t,e)}}function ir(t,e){return Fi(t)&&Gi(e)?Wi(os(t),e):function(o){var n=Kl(o,t);return n===r&&n===e?zl(o,t):Zn(e,n,p|h)}}function sr(t,e,o,n,i){t!==e&&Pn(e,(function(s,l){if(i||(i=new dn),vl(s))!function(t,e,o,n,i,s,l){var a=zi(t,o),u=zi(e,o),c=l.get(u);if(c)vn(t,o,c);else{var p=s?s(a,u,o+"",t,e,l):r,h=p===r;if(h){var g=ul(u),d=!g&&gl(u),f=!g&&!d&&Ol(u);p=u,g||d||f?ul(a)?p=a:hl(a)?p=Xr(a):d?(h=!1,p=Hr(u,!0)):f?(h=!1,p=Wr(u,!0)):p=[]:Tl(u)||al(u)?(p=a,al(a)?p=Ml(a):vl(a)&&!ml(a)||(p=Di(u))):h=!1}h&&(l.set(u,p),i(p,u,n,s,l),l.delete(u)),vn(t,o,p)}}(t,e,l,o,sr,n,i);else{var a=n?n(zi(t,l),s,l+"",t,e,i):r;a===r&&(a=s),vn(t,l,a)}}),Zl)}function lr(t,e){var o=t.length;if(o)return Mi(e+=e<0?o:0,o)?t[e]:r}function ar(t,e,o){var n=-1;return e=Ge(e.length?e:[ka],io(Ai())),function(t,e){var n=t.length;for(t.sort((function(t,e){return function(t,e,o){for(var n=-1,r=t.criteria,i=e.criteria,s=r.length,l=o.length;++n<s;){var a=jr(r[n],i[n]);if(a)return n>=l?a:a*("desc"==o[n]?-1:1)}return t.index-e.index}(t,e,o)}));n--;)t[n]=t[n].value;return t}(nr(t,(function(t,o,r){return{criteria:Ge(e,(function(e){return e(t)})),index:++n,value:t}})))}function ur(t,e,o){for(var n=-1,r=e.length,i={};++n<r;){var s=e[n],l=Gn(t,s);o(l,s)&&_r(i,Pr(s,t),l)}return i}function cr(t,e,o,n){var r=n?Ze:qe,i=-1,s=e.length,l=t;for(t===e&&(e=Xr(e)),o&&(l=Ge(t,io(o)));++i<s;)for(var a=0,u=e[i],c=o?o(u):u;(a=r(l,c,a,n))>-1;)l!==t&&we.call(l,a,1),we.call(t,a,1);return t}function pr(t,e){for(var o=t?e.length:0,n=o-1;o--;){var r=e[o];if(o==n||r!==i){var i=r;Mi(r)?we.call(t,r,1):Br(t,r)}}return t}function hr(t,e){return t+Io(Vo()*(e-t+1))}function gr(t,e){var o="";if(!t||e<1||e>A)return o;do{e%2&&(o+=t),(e=Io(e/2))&&(t+=t)}while(e);return o}function dr(t,e){return Ji(ji(t,e,ka),t+"")}function fr(t){return mn(ia(t))}function mr(t,e){var o=ia(t);return Qi(o,An(e,0,o.length))}function _r(t,e,o,n){if(!vl(t))return t;for(var i=-1,s=(e=Pr(e,t)).length,l=s-1,a=t;null!=a&&++i<s;){var u=os(e[i]),c=o;if(i!=l){var p=a[u];(c=n?n(p,u,a):r)===r&&(c=vl(p)?p:Mi(e[i+1])?[]:{})}bn(a,u,c),a=a[u]}return t}var yr=Yo?function(t,e){return Yo.set(t,e),t}:ka,vr=Co?function(t,e){return Co(t,"toString",{configurable:!0,enumerable:!1,value:va(e),writable:!0})}:ka;function br(t){return Qi(ia(t))}function Er(t,e,o){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(o=o>i?i:o)<0&&(o+=i),i=e>o?0:o-e>>>0,e>>>=0;for(var s=n(i);++r<i;)s[r]=t[r+e];return s}function kr(t,e){var o;return Rn(t,(function(t,n,r){return!(o=e(t,n,r))})),!!o}function Tr(t,e,o){var n=0,r=null==t?n:t.length;if("number"==typeof e&&e==e&&r<=R){for(;n<r;){var i=n+r>>>1,s=t[i];null!==s&&!wl(s)&&(o?s<=e:s<e)?n=i+1:r=i}return r}return Sr(t,e,ka,o)}function Sr(t,e,o,n){e=o(e);for(var i=0,s=null==t?0:t.length,l=e!=e,a=null===e,u=wl(e),c=e===r;i<s;){var p=Io((i+s)/2),h=o(t[p]),g=h!==r,d=null===h,f=h==h,m=wl(h);if(l)var _=n||f;else _=c?f&&(n||g):a?f&&g&&(n||!d):u?f&&g&&!d&&(n||!m):!d&&!m&&(n?h<=e:h<e);_?i=p+1:s=p}return Po(s,I)}function Cr(t,e){for(var o=-1,n=t.length,r=0,i=[];++o<n;){var s=t[o],l=e?e(s):s;if(!o||!il(l,a)){var a=l;i[r++]=0===s?0:s}}return i}function Ar(t){return"number"==typeof t?t:wl(t)?O:+t}function wr(t){if("string"==typeof t)return t;if(ul(t))return Ge(t,wr)+"";if(wl(t))return nn?nn.call(t):"";var e=t+"";return"0"==e&&1/t==-C?"-0":e}function Or(t,e,o){var n=-1,r=Ve,s=t.length,l=!0,a=[],u=a;if(o)l=!1,r=He;else if(s>=i){var c=e?null:gi(t);if(c)return yo(c);l=!1,r=lo,u=new gn}else u=e?[]:a;t:for(;++n<s;){var p=t[n],h=e?e(p):p;if(p=o||0!==p?p:0,l&&h==h){for(var g=u.length;g--;)if(u[g]===h)continue t;e&&u.push(h),a.push(p)}else r(u,h,o)||(u!==a&&u.push(h),a.push(p))}return a}function Br(t,e){return null==(t=Ki(t,e=Pr(e,t)))||delete t[os(fs(e))]}function Ir(t,e,o,n){return _r(t,e,o(Gn(t,e)),n)}function Rr(t,e,o,n){for(var r=t.length,i=n?r:-1;(n?i--:++i<r)&&e(t[i],i,t););return o?Er(t,n?0:i,n?i+1:r):Er(t,n?i+1:0,n?r:i)}function Nr(t,e){var o=t;return o instanceof un&&(o=o.value()),je(e,(function(t,e){return e.func.apply(e.thisArg,We([t],e.args))}),o)}function xr(t,e,o){var r=t.length;if(r<2)return r?Or(t[0]):[];for(var i=-1,s=n(r);++i<r;)for(var l=t[i],a=-1;++a<r;)a!=i&&(s[i]=In(s[i]||l,t[a],e,o));return Or(Mn(s,1),e,o)}function Dr(t,e,o){for(var n=-1,i=t.length,s=e.length,l={};++n<i;)o(l,t[n],n<s?e[n]:r);return l}function Lr(t){return hl(t)?t:[]}function Mr(t){return"function"==typeof t?t:ka}function Pr(t,e){return ul(t)?t:Fi(t,e)?[t]:es(Pl(t))}var Fr=dr;function Ur(t,e,o){var n=t.length;return o=o===r?n:o,!e&&o>=n?t:Er(t,e,o)}var Vr=Ao||function(t){return ke.clearTimeout(t)};function Hr(t,e){if(e)return t.slice();var o=t.length,n=Ee?Ee(o):new t.constructor(o);return t.copy(n),n}function Gr(t){var e=new t.constructor(t.byteLength);return new be(e).set(new be(t)),e}function Wr(t,e){var o=e?Gr(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}function jr(t,e){if(t!==e){var o=t!==r,n=null===t,i=t==t,s=wl(t),l=e!==r,a=null===e,u=e==e,c=wl(e);if(!a&&!c&&!s&&t>e||s&&l&&u&&!a&&!c||n&&l&&u||!o&&u||!i)return 1;if(!n&&!s&&!c&&t<e||c&&o&&i&&!n&&!s||a&&o&&i||!l&&i||!u)return-1}return 0}function Kr(t,e,o,r){for(var i=-1,s=t.length,l=o.length,a=-1,u=e.length,c=Mo(s-l,0),p=n(u+c),h=!r;++a<u;)p[a]=e[a];for(;++i<l;)(h||i<s)&&(p[o[i]]=t[i]);for(;c--;)p[a++]=t[i++];return p}function zr(t,e,o,r){for(var i=-1,s=t.length,l=-1,a=o.length,u=-1,c=e.length,p=Mo(s-a,0),h=n(p+c),g=!r;++i<p;)h[i]=t[i];for(var d=i;++u<c;)h[d+u]=e[u];for(;++l<a;)(g||i<s)&&(h[d+o[l]]=t[i++]);return h}function Xr(t,e){var o=-1,r=t.length;for(e||(e=n(r));++o<r;)e[o]=t[o];return e}function Yr(t,e,o,n){var i=!o;o||(o={});for(var s=-1,l=e.length;++s<l;){var a=e[s],u=n?n(o[a],t[a],a,o,t):r;u===r&&(u=t[a]),i?Sn(o,a,u):bn(o,a,u)}return o}function Jr(t,e){return function(o,n){var r=ul(o)?Le:kn,i=e?e():{};return r(o,t,Ai(n,2),i)}}function qr(t){return dr((function(e,o){var n=-1,i=o.length,s=i>1?o[i-1]:r,l=i>2?o[2]:r;for(s=t.length>3&&"function"==typeof s?(i--,s):r,l&&Pi(o[0],o[1],l)&&(s=i<3?r:s,i=1),e=Xt(e);++n<i;){var a=o[n];a&&t(e,a,n,s)}return e}))}function Zr(t,e){return function(o,n){if(null==o)return o;if(!pl(o))return t(o,n);for(var r=o.length,i=e?r:-1,s=Xt(o);(e?i--:++i<r)&&!1!==n(s[i],i,s););return o}}function Qr(t){return function(e,o,n){for(var r=-1,i=Xt(e),s=n(e),l=s.length;l--;){var a=s[t?l:++r];if(!1===o(i[a],a,i))break}return e}}function $r(t){return function(e){var o=go(e=Pl(e))?Eo(e):r,n=o?o[0]:e.charAt(0),i=o?Ur(o,1).join(""):e.slice(1);return n[t]()+i}}function ti(t){return function(e){return je(ma(aa(e).replace(le,"")),t,"")}}function ei(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var o=sn(t.prototype),n=t.apply(o,e);return vl(n)?n:o}}function oi(t){return function(e,o,n){var i=Xt(e);if(!pl(e)){var s=Ai(o,3);e=ql(e),o=function(t){return s(i[t],t,i)}}var l=t(e,o,n);return l>-1?i[s?e[l]:l]:r}}function ni(t){return bi((function(e){var o=e.length,n=o,i=an.prototype.thru;for(t&&e.reverse();n--;){var l=e[n];if("function"!=typeof l)throw new qt(s);if(i&&!a&&"wrapper"==Si(l))var a=new an([],!0)}for(n=a?n:o;++n<o;){var u=Si(l=e[n]),c="wrapper"==u?Ti(l):r;a=c&&Ui(c[0])&&c[1]==(b|m|y|E)&&!c[4].length&&1==c[9]?a[Si(c[0])].apply(a,c[3]):1==l.length&&Ui(l)?a[u]():a.thru(l)}return function(){var t=arguments,n=t[0];if(a&&1==t.length&&ul(n))return a.plant(n).value();for(var r=0,i=o?e[r].apply(this,t):n;++r<o;)i=e[r].call(this,i);return i}}))}function ri(t,e,o,i,s,l,a,u,c,p){var h=e&b,f=e&g,y=e&d,v=e&(m|_),E=e&k,T=y?r:ei(t);return function g(){for(var d=arguments.length,m=n(d),_=d;_--;)m[_]=arguments[_];if(v)var b=Ci(g),k=function(t,e){for(var o=t.length,n=0;o--;)t[o]===e&&++n;return n}(m,b);if(i&&(m=Kr(m,i,s,v)),l&&(m=zr(m,l,a,v)),d-=k,v&&d<p){var S=_o(m,b);return pi(t,e,ri,g.placeholder,o,m,S,u,c,p-d)}var C=f?o:this,A=y?C[t]:t;return d=m.length,u?m=function(t,e){for(var o=t.length,n=Po(e.length,o),i=Xr(t);n--;){var s=e[n];t[n]=Mi(s,o)?i[s]:r}return t}(m,u):E&&d>1&&m.reverse(),h&&c<d&&(m.length=c),this&&this!==ke&&this instanceof g&&(A=T||ei(A)),A.apply(C,m)}}function ii(t,e){return function(o,n){return function(t,e,o,n){return Un(t,(function(t,r,i){e(n,o(t),r,i)})),n}(o,t,e(n),{})}}function si(t,e){return function(o,n){var i;if(o===r&&n===r)return e;if(o!==r&&(i=o),n!==r){if(i===r)return n;"string"==typeof o||"string"==typeof n?(o=wr(o),n=wr(n)):(o=Ar(o),n=Ar(n)),i=t(o,n)}return i}}function li(t){return bi((function(e){return e=Ge(e,io(Ai())),dr((function(o){var n=this;return t(e,(function(t){return De(t,n,o)}))}))}))}function ai(t,e){var o=(e=e===r?" ":wr(e)).length;if(o<2)return o?gr(e,t):e;var n=gr(e,Bo(t/bo(e)));return go(e)?Ur(Eo(n),0,t).join(""):n.slice(0,t)}function ui(t){return function(e,o,i){return i&&"number"!=typeof i&&Pi(e,o,i)&&(o=i=r),e=Nl(e),o===r?(o=e,e=0):o=Nl(o),function(t,e,o,r){for(var i=-1,s=Mo(Bo((e-t)/(o||1)),0),l=n(s);s--;)l[r?s:++i]=t,t+=o;return l}(e,o,i=i===r?e<o?1:-1:Nl(i),t)}}function ci(t){return function(e,o){return"string"==typeof e&&"string"==typeof o||(e=Ll(e),o=Ll(o)),t(e,o)}}function pi(t,e,o,n,i,s,l,a,u,c){var p=e&m;e|=p?y:v,(e&=~(p?v:y))&f||(e&=~(g|d));var h=[t,e,i,p?s:r,p?l:r,p?r:s,p?r:l,a,u,c],_=o.apply(r,h);return Ui(t)&&Xi(_,h),_.placeholder=n,qi(_,t,e)}function hi(t){var e=zt[t];return function(t,o){if(t=Ll(t),(o=null==o?0:Po(xl(o),292))&&xo(t)){var n=(Pl(t)+"e").split("e");return+((n=(Pl(e(n[0]+"e"+(+n[1]+o)))+"e").split("e"))[0]+"e"+(+n[1]-o))}return e(t)}}var gi=Ko&&1/yo(new Ko([,-0]))[1]==C?function(t){return new Ko(t)}:wa;function di(t){return function(e){var o=Ni(e);return o==G?fo(e):o==Y?vo(e):function(t,e){return Ge(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function fi(t,e,o,i,a,u,c,p){var h=e&d;if(!h&&"function"!=typeof t)throw new qt(s);var k=i?i.length:0;if(k||(e&=~(y|v),i=a=r),c=c===r?c:Mo(xl(c),0),p=p===r?p:xl(p),k-=a?a.length:0,e&v){var T=i,S=a;i=a=r}var C=h?r:Ti(t),A=[t,e,o,i,a,T,S,u,c,p];if(C&&function(t,e){var o=t[1],n=e[1],r=o|n;if(!(r<(g|d|b)||n==b&&o==m||n==b&&o==E&&t[7].length<=e[8]||n==(b|E)&&e[7].length<=e[8]&&o==m))return t;n&g&&(t[2]=e[2],r|=o&g?0:f);var i=e[3];if(i){var s=t[3];t[3]=s?Kr(s,i,e[4]):i,t[4]=s?_o(t[3],l):e[4]}(i=e[5])&&(t[5]=(s=t[5])?zr(s,i,e[6]):i,t[6]=s?_o(t[5],l):e[6]),(i=e[7])&&(t[7]=i),n&b&&(t[8]=null==t[8]?e[8]:Po(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(A,C),t=A[0],e=A[1],o=A[2],i=A[3],a=A[4],!(p=A[9]=A[9]===r?h?0:t.length:Mo(A[9]-k,0))&&e&(m|_)&&(e&=~(m|_)),e&&e!=g)w=e==m||e==_?function(t,e,o){var i=ei(t);return function s(){for(var l=arguments.length,a=n(l),u=l,c=Ci(s);u--;)a[u]=arguments[u];var p=l<3&&a[0]!==c&&a[l-1]!==c?[]:_o(a,c);return(l-=p.length)<o?pi(t,e,ri,s.placeholder,r,a,p,r,r,o-l):De(this&&this!==ke&&this instanceof s?i:t,this,a)}}(t,e,p):e!=y&&e!=(g|y)||a.length?ri.apply(r,A):function(t,e,o,r){var i=e&g,s=ei(t);return function e(){for(var l=-1,a=arguments.length,u=-1,c=r.length,p=n(c+a),h=this&&this!==ke&&this instanceof e?s:t;++u<c;)p[u]=r[u];for(;a--;)p[u++]=arguments[++l];return De(h,i?o:this,p)}}(t,e,o,i);else var w=function(t,e,o){var n=e&g,r=ei(t);return function e(){return(this&&this!==ke&&this instanceof e?r:t).apply(n?o:this,arguments)}}(t,e,o);return qi((C?yr:Xi)(w,A),t,e)}function mi(t,e,o,n){return t===r||il(t,Qt[o])&&!ee.call(n,o)?e:t}function _i(t,e,o,n,i,s){return vl(t)&&vl(e)&&(s.set(e,t),sr(t,e,r,_i,s),s.delete(e)),t}function yi(t){return Tl(t)?r:t}function vi(t,e,o,n,i,s){var l=o&p,a=t.length,u=e.length;if(a!=u&&!(l&&u>a))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var g=-1,d=!0,f=o&h?new gn:r;for(s.set(t,e),s.set(e,t);++g<a;){var m=t[g],_=e[g];if(n)var y=l?n(_,m,g,e,t,s):n(m,_,g,t,e,s);if(y!==r){if(y)continue;d=!1;break}if(f){if(!ze(e,(function(t,e){if(!lo(f,e)&&(m===t||i(m,t,o,n,s)))return f.push(e)}))){d=!1;break}}else if(m!==_&&!i(m,_,o,n,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function bi(t){return Ji(ji(t,r,cs),t+"")}function Ei(t){return Wn(t,ql,Ii)}function ki(t){return Wn(t,Zl,Ri)}var Ti=Yo?function(t){return Yo.get(t)}:wa;function Si(t){for(var e=t.name+"",o=Jo[e],n=ee.call(Jo,e)?o.length:0;n--;){var r=o[n],i=r.func;if(null==i||i==t)return r.name}return e}function Ci(t){return(ee.call(rn,"placeholder")?rn:t).placeholder}function Ai(){var t=rn.iteratee||Ta;return t=t===Ta?tr:t,arguments.length?t(arguments[0],arguments[1]):t}function wi(t,e){var o,n,r=t.__data__;return("string"==(n=typeof(o=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==o:null===o)?r["string"==typeof e?"string":"hash"]:r.map}function Oi(t){for(var e=ql(t),o=e.length;o--;){var n=e[o],r=t[n];e[o]=[n,r,Gi(r)]}return e}function Bi(t,e){var o=function(t,e){return null==t?r:t[e]}(t,e);return $n(o)?o:r}var Ii=Ro?function(t){return null==t?[]:(t=Xt(t),Ue(Ro(t),(function(e){return Ae.call(t,e)})))}:Da,Ri=Ro?function(t){for(var e=[];t;)We(e,Ii(t)),t=Te(t);return e}:Da,Ni=jn;function xi(t,e,o){for(var n=-1,r=(e=Pr(e,t)).length,i=!1;++n<r;){var s=os(e[n]);if(!(i=null!=t&&o(t,s)))break;t=t[s]}return i||++n!=r?i:!!(r=null==t?0:t.length)&&yl(r)&&Mi(s,r)&&(ul(t)||al(t))}function Di(t){return"function"!=typeof t.constructor||Hi(t)?{}:sn(Te(t))}function Li(t){return ul(t)||al(t)||!!(Xe&&t&&t[Xe])}function Mi(t,e){var o=typeof t;return!!(e=null==e?A:e)&&("number"==o||"symbol"!=o&&Ut.test(t))&&t>-1&&t%1==0&&t<e}function Pi(t,e,o){if(!vl(o))return!1;var n=typeof e;return!!("number"==n?pl(o)&&Mi(e,o.length):"string"==n&&e in o)&&il(o[e],t)}function Fi(t,e){if(ul(t))return!1;var o=typeof t;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=t&&!wl(t))||Et.test(t)||!bt.test(t)||null!=e&&t in Xt(e)}function Ui(t){var e=Si(t),o=rn[e];if("function"!=typeof o||!(e in un.prototype))return!1;if(t===o)return!0;var n=Ti(o);return!!n&&t===n[0]}(Go&&Ni(new Go(new ArrayBuffer(1)))!=tt||Wo&&Ni(new Wo)!=G||jo&&"[object Promise]"!=Ni(jo.resolve())||Ko&&Ni(new Ko)!=Y||zo&&Ni(new zo)!=Q)&&(Ni=function(t){var e=jn(t),o=e==K?t.constructor:r,n=o?ns(o):"";if(n)switch(n){case qo:return tt;case Zo:return G;case Qo:return"[object Promise]";case $o:return Y;case tn:return Q}return e});var Vi=$t?ml:La;function Hi(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Qt)}function Gi(t){return t==t&&!vl(t)}function Wi(t,e){return function(o){return null!=o&&o[t]===e&&(e!==r||t in Xt(o))}}function ji(t,e,o){return e=Mo(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Mo(r.length-e,0),l=n(s);++i<s;)l[i]=r[e+i];i=-1;for(var a=n(e+1);++i<e;)a[i]=r[i];return a[e]=o(l),De(t,this,a)}}function Ki(t,e){return e.length<2?t:Gn(t,Er(e,0,-1))}function zi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Xi=Zi(yr),Yi=Oo||function(t,e){return ke.setTimeout(t,e)},Ji=Zi(vr);function qi(t,e,o){var n=e+"";return Ji(t,function(t,e){var o=e.length;if(!o)return t;var n=o-1;return e[n]=(o>1?"& ":"")+e[n],e=e.join(o>2?", ":" "),t.replace(Ot,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Me(N,(function(o){var n="_."+o[0];e&o[1]&&!Ve(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(Bt);return e?e[1].split(It):[]}(n),o)))}function Zi(t){var e=0,o=0;return function(){var n=Fo(),i=S-(n-o);if(o=n,i>0){if(++e>=T)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Qi(t,e){var o=-1,n=t.length,i=n-1;for(e=e===r?n:e;++o<e;){var s=hr(o,i),l=t[s];t[s]=t[o],t[o]=l}return t.length=e,t}var $i,ts,es=($i=$s((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(kt,(function(t,o,n,r){e.push(n?r.replace(Nt,"$1"):o||t)})),e}),(function(t){return 500===ts.size&&ts.clear(),t})),ts=$i.cache,$i);function os(t){if("string"==typeof t||wl(t))return t;var e=t+"";return"0"==e&&1/t==-C?"-0":e}function ns(t){if(null!=t){try{return te.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function rs(t){if(t instanceof un)return t.clone();var e=new an(t.__wrapped__,t.__chain__);return e.__actions__=Xr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var is=dr((function(t,e){return hl(t)?In(t,Mn(e,1,hl,!0)):[]})),ss=dr((function(t,e){var o=fs(e);return hl(o)&&(o=r),hl(t)?In(t,Mn(e,1,hl,!0),Ai(o,2)):[]})),ls=dr((function(t,e){var o=fs(e);return hl(o)&&(o=r),hl(t)?In(t,Mn(e,1,hl,!0),r,o):[]}));function as(t,e,o){var n=null==t?0:t.length;if(!n)return-1;var r=null==o?0:xl(o);return r<0&&(r=Mo(n+r,0)),Je(t,Ai(e,3),r)}function us(t,e,o){var n=null==t?0:t.length;if(!n)return-1;var i=n-1;return o!==r&&(i=xl(o),i=o<0?Mo(n+i,0):Po(i,n-1)),Je(t,Ai(e,3),i,!0)}function cs(t){return null!=t&&t.length?Mn(t,1):[]}function ps(t){return t&&t.length?t[0]:r}var hs=dr((function(t){var e=Ge(t,Lr);return e.length&&e[0]===t[0]?Yn(e):[]})),gs=dr((function(t){var e=fs(t),o=Ge(t,Lr);return e===fs(o)?e=r:o.pop(),o.length&&o[0]===t[0]?Yn(o,Ai(e,2)):[]})),ds=dr((function(t){var e=fs(t),o=Ge(t,Lr);return(e="function"==typeof e?e:r)&&o.pop(),o.length&&o[0]===t[0]?Yn(o,r,e):[]}));function fs(t){var e=null==t?0:t.length;return e?t[e-1]:r}var ms=dr(_s);function _s(t,e){return t&&t.length&&e&&e.length?cr(t,e):t}var ys=bi((function(t,e){var o=null==t?0:t.length,n=Cn(t,e);return pr(t,Ge(e,(function(t){return Mi(t,o)?+t:t})).sort(jr)),n}));function vs(t){return null==t?t:Ho.call(t)}var bs=dr((function(t){return Or(Mn(t,1,hl,!0))})),Es=dr((function(t){var e=fs(t);return hl(e)&&(e=r),Or(Mn(t,1,hl,!0),Ai(e,2))})),ks=dr((function(t){var e=fs(t);return e="function"==typeof e?e:r,Or(Mn(t,1,hl,!0),r,e)}));function Ts(t){if(!t||!t.length)return[];var e=0;return t=Ue(t,(function(t){if(hl(t))return e=Mo(t.length,e),!0})),ro(e,(function(e){return Ge(t,to(e))}))}function Ss(t,e){if(!t||!t.length)return[];var o=Ts(t);return null==e?o:Ge(o,(function(t){return De(e,r,t)}))}var Cs=dr((function(t,e){return hl(t)?In(t,e):[]})),As=dr((function(t){return xr(Ue(t,hl))})),ws=dr((function(t){var e=fs(t);return hl(e)&&(e=r),xr(Ue(t,hl),Ai(e,2))})),Os=dr((function(t){var e=fs(t);return e="function"==typeof e?e:r,xr(Ue(t,hl),r,e)})),Bs=dr(Ts),Is=dr((function(t){var e=t.length,o=e>1?t[e-1]:r;return o="function"==typeof o?(t.pop(),o):r,Ss(t,o)}));function Rs(t){var e=rn(t);return e.__chain__=!0,e}function Ns(t,e){return e(t)}var xs=bi((function(t){var e=t.length,o=e?t[0]:0,n=this.__wrapped__,i=function(e){return Cn(e,t)};return!(e>1||this.__actions__.length)&&n instanceof un&&Mi(o)?((n=n.slice(o,+o+(e?1:0))).__actions__.push({func:Ns,args:[i],thisArg:r}),new an(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(i)})),Ds=Jr((function(t,e,o){ee.call(t,o)?++t[o]:Sn(t,o,1)})),Ls=oi(as),Ms=oi(us);function Ps(t,e){return(ul(t)?Me:Rn)(t,Ai(e,3))}function Fs(t,e){return(ul(t)?Pe:Nn)(t,Ai(e,3))}var Us=Jr((function(t,e,o){ee.call(t,o)?t[o].push(e):Sn(t,o,[e])})),Vs=dr((function(t,e,o){var r=-1,i="function"==typeof e,s=pl(t)?n(t.length):[];return Rn(t,(function(t){s[++r]=i?De(e,t,o):Jn(t,e,o)})),s})),Hs=Jr((function(t,e,o){Sn(t,o,e)}));function Gs(t,e){return(ul(t)?Ge:nr)(t,Ai(e,3))}var Ws=Jr((function(t,e,o){t[o?0:1].push(e)}),(function(){return[[],[]]})),js=dr((function(t,e){if(null==t)return[];var o=e.length;return o>1&&Pi(t,e[0],e[1])?e=[]:o>2&&Pi(e[0],e[1],e[2])&&(e=[e[0]]),ar(t,Mn(e,1),[])})),Ks=wo||function(){return ke.Date.now()};function zs(t,e,o){return e=o?r:e,fi(t,b,r,r,r,r,e=t&&null==e?t.length:e)}function Xs(t,e){var o;if("function"!=typeof e)throw new qt(s);return t=xl(t),function(){return--t>0&&(o=e.apply(this,arguments)),t<=1&&(e=r),o}}var Ys=dr((function(t,e,o){var n=g;if(o.length){var r=_o(o,Ci(Ys));n|=y}return fi(t,n,e,o,r)})),Js=dr((function(t,e,o){var n=g|d;if(o.length){var r=_o(o,Ci(Js));n|=y}return fi(e,n,t,o,r)}));function qs(t,e,o){var n,i,l,a,u,c,p=0,h=!1,g=!1,d=!0;if("function"!=typeof t)throw new qt(s);function f(e){var o=n,s=i;return n=i=r,p=e,a=t.apply(s,o)}function m(t){var o=t-c;return c===r||o>=e||o<0||g&&t-p>=l}function _(){var t=Ks();if(m(t))return y(t);u=Yi(_,function(t){var o=e-(t-c);return g?Po(o,l-(t-p)):o}(t))}function y(t){return u=r,d&&n?f(t):(n=i=r,a)}function v(){var t=Ks(),o=m(t);if(n=arguments,i=this,c=t,o){if(u===r)return function(t){return p=t,u=Yi(_,e),h?f(t):a}(c);if(g)return Vr(u),u=Yi(_,e),f(c)}return u===r&&(u=Yi(_,e)),a}return e=Ll(e)||0,vl(o)&&(h=!!o.leading,l=(g="maxWait"in o)?Mo(Ll(o.maxWait)||0,e):l,d="trailing"in o?!!o.trailing:d),v.cancel=function(){u!==r&&Vr(u),p=0,n=c=i=u=r},v.flush=function(){return u===r?a:y(Ks())},v}var Zs=dr((function(t,e){return Bn(t,1,e)})),Qs=dr((function(t,e,o){return Bn(t,Ll(e)||0,o)}));function $s(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new qt(s);var o=function(){var n=arguments,r=e?e.apply(this,n):n[0],i=o.cache;if(i.has(r))return i.get(r);var s=t.apply(this,n);return o.cache=i.set(r,s)||i,s};return o.cache=new($s.Cache||hn),o}function tl(t){if("function"!=typeof t)throw new qt(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}$s.Cache=hn;var el=Fr((function(t,e){var o=(e=1==e.length&&ul(e[0])?Ge(e[0],io(Ai())):Ge(Mn(e,1),io(Ai()))).length;return dr((function(n){for(var r=-1,i=Po(n.length,o);++r<i;)n[r]=e[r].call(this,n[r]);return De(t,this,n)}))})),ol=dr((function(t,e){var o=_o(e,Ci(ol));return fi(t,y,r,e,o)})),nl=dr((function(t,e){var o=_o(e,Ci(nl));return fi(t,v,r,e,o)})),rl=bi((function(t,e){return fi(t,E,r,r,r,e)}));function il(t,e){return t===e||t!=t&&e!=e}var sl=ci(Kn),ll=ci((function(t,e){return t>=e})),al=qn(function(){return arguments}())?qn:function(t){return bl(t)&&ee.call(t,"callee")&&!Ae.call(t,"callee")},ul=n.isArray,cl=Oe?io(Oe):function(t){return bl(t)&&jn(t)==$};function pl(t){return null!=t&&yl(t.length)&&!ml(t)}function hl(t){return bl(t)&&pl(t)}var gl=No||La,dl=Be?io(Be):function(t){return bl(t)&&jn(t)==P};function fl(t){if(!bl(t))return!1;var e=jn(t);return e==U||e==F||"string"==typeof t.message&&"string"==typeof t.name&&!Tl(t)}function ml(t){if(!vl(t))return!1;var e=jn(t);return e==V||e==H||e==L||e==z}function _l(t){return"number"==typeof t&&t==xl(t)}function yl(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=A}function vl(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function bl(t){return null!=t&&"object"==typeof t}var El=Ie?io(Ie):function(t){return bl(t)&&Ni(t)==G};function kl(t){return"number"==typeof t||bl(t)&&jn(t)==W}function Tl(t){if(!bl(t)||jn(t)!=K)return!1;var e=Te(t);if(null===e)return!0;var o=ee.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&te.call(o)==ie}var Sl=Re?io(Re):function(t){return bl(t)&&jn(t)==X},Cl=Ne?io(Ne):function(t){return bl(t)&&Ni(t)==Y};function Al(t){return"string"==typeof t||!ul(t)&&bl(t)&&jn(t)==J}function wl(t){return"symbol"==typeof t||bl(t)&&jn(t)==q}var Ol=xe?io(xe):function(t){return bl(t)&&yl(t.length)&&!!fe[jn(t)]},Bl=ci(or),Il=ci((function(t,e){return t<=e}));function Rl(t){if(!t)return[];if(pl(t))return Al(t)?Eo(t):Xr(t);if(eo&&t[eo])return function(t){for(var e,o=[];!(e=t.next()).done;)o.push(e.value);return o}(t[eo]());var e=Ni(t);return(e==G?fo:e==Y?yo:ia)(t)}function Nl(t){return t?(t=Ll(t))===C||t===-C?(t<0?-1:1)*w:t==t?t:0:0===t?t:0}function xl(t){var e=Nl(t),o=e%1;return e==e?o?e-o:e:0}function Dl(t){return t?An(xl(t),0,B):0}function Ll(t){if("number"==typeof t)return t;if(wl(t))return O;if(vl(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=vl(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ct,"");var o=Mt.test(t);return o||Ft.test(t)?ve(t.slice(2),o?2:8):Lt.test(t)?O:+t}function Ml(t){return Yr(t,Zl(t))}function Pl(t){return null==t?"":wr(t)}var Fl=qr((function(t,e){if(Hi(e)||pl(e))Yr(e,ql(e),t);else for(var o in e)ee.call(e,o)&&bn(t,o,e[o])})),Ul=qr((function(t,e){Yr(e,Zl(e),t)})),Vl=qr((function(t,e,o,n){Yr(e,Zl(e),t,n)})),Hl=qr((function(t,e,o,n){Yr(e,ql(e),t,n)})),Gl=bi(Cn),Wl=dr((function(t,e){t=Xt(t);var o=-1,n=e.length,i=n>2?e[2]:r;for(i&&Pi(e[0],e[1],i)&&(n=1);++o<n;)for(var s=e[o],l=Zl(s),a=-1,u=l.length;++a<u;){var c=l[a],p=t[c];(p===r||il(p,Qt[c])&&!ee.call(t,c))&&(t[c]=s[c])}return t})),jl=dr((function(t){return t.push(r,_i),De($l,r,t)}));function Kl(t,e,o){var n=null==t?r:Gn(t,e);return n===r?o:n}function zl(t,e){return null!=t&&xi(t,e,Xn)}var Xl=ii((function(t,e,o){null!=e&&"function"!=typeof e.toString&&(e=re.call(e)),t[e]=o}),va(ka)),Yl=ii((function(t,e,o){null!=e&&"function"!=typeof e.toString&&(e=re.call(e)),ee.call(t,e)?t[e].push(o):t[e]=[o]}),Ai),Jl=dr(Jn);function ql(t){return pl(t)?fn(t):er(t)}function Zl(t){return pl(t)?fn(t,!0):function(t){if(!vl(t))return function(t){var e=[];if(null!=t)for(var o in Xt(t))e.push(o);return e}(t);var e=Hi(t),o=[];for(var n in t)("constructor"!=n||!e&&ee.call(t,n))&&o.push(n);return o}(t)}var Ql=qr((function(t,e,o){sr(t,e,o)})),$l=qr((function(t,e,o,n){sr(t,e,o,n)})),ta=bi((function(t,e){var o={};if(null==t)return o;var n=!1;e=Ge(e,(function(e){return e=Pr(e,t),n||(n=e.length>1),e})),Yr(t,ki(t),o),n&&(o=wn(o,a|u|c,yi));for(var r=e.length;r--;)Br(o,e[r]);return o})),ea=bi((function(t,e){return null==t?{}:function(t,e){return ur(t,e,(function(e,o){return zl(t,o)}))}(t,e)}));function oa(t,e){if(null==t)return{};var o=Ge(ki(t),(function(t){return[t]}));return e=Ai(e),ur(t,o,(function(t,o){return e(t,o[0])}))}var na=di(ql),ra=di(Zl);function ia(t){return null==t?[]:so(t,ql(t))}var sa=ti((function(t,e,o){return e=e.toLowerCase(),t+(o?la(e):e)}));function la(t){return fa(Pl(t).toLowerCase())}function aa(t){return(t=Pl(t))&&t.replace(Vt,co).replace(ae,"")}var ua=ti((function(t,e,o){return t+(o?"-":"")+e.toLowerCase()})),ca=ti((function(t,e,o){return t+(o?" ":"")+e.toLowerCase()})),pa=$r("toLowerCase"),ha=ti((function(t,e,o){return t+(o?"_":"")+e.toLowerCase()})),ga=ti((function(t,e,o){return t+(o?" ":"")+fa(e)})),da=ti((function(t,e,o){return t+(o?" ":"")+e.toUpperCase()})),fa=$r("toUpperCase");function ma(t,e,o){return t=Pl(t),(e=o?r:e)===r?function(t){return he.test(t)}(t)?function(t){return t.match(ce)||[]}(t):function(t){return t.match(Rt)||[]}(t):t.match(e)||[]}var _a=dr((function(t,e){try{return De(t,r,e)}catch(o){return fl(o)?o:new jt(o)}})),ya=bi((function(t,e){return Me(e,(function(e){e=os(e),Sn(t,e,Ys(t[e],t))})),t}));function va(t){return function(){return t}}var ba=ni(),Ea=ni(!0);function ka(t){return t}function Ta(t){return tr("function"==typeof t?t:wn(t,a))}var Sa=dr((function(t,e){return function(o){return Jn(o,t,e)}})),Ca=dr((function(t,e){return function(o){return Jn(t,o,e)}}));function Aa(t,e,o){var n=ql(e),r=Hn(e,n);null!=o||vl(e)&&(r.length||!n.length)||(o=e,e=t,t=this,r=Hn(e,ql(e)));var i=!(vl(o)&&"chain"in o&&!o.chain),s=ml(t);return Me(r,(function(o){var n=e[o];t[o]=n,s&&(t.prototype[o]=function(){var e=this.__chain__;if(i||e){var o=t(this.__wrapped__),r=o.__actions__=Xr(this.__actions__);return r.push({func:n,args:arguments,thisArg:t}),o.__chain__=e,o}return n.apply(t,We([this.value()],arguments))})})),t}function wa(){}var Oa=li(Ge),Ba=li(Fe),Ia=li(ze);function Ra(t){return Fi(t)?to(os(t)):function(t){return function(e){return Gn(e,t)}}(t)}var Na=ui(),xa=ui(!0);function Da(){return[]}function La(){return!1}var Ma,Pa=si((function(t,e){return t+e}),0),Fa=hi("ceil"),Ua=si((function(t,e){return t/e}),1),Va=hi("floor"),Ha=si((function(t,e){return t*e}),1),Ga=hi("round"),Wa=si((function(t,e){return t-e}),0);return rn.after=function(t,e){if("function"!=typeof e)throw new qt(s);return t=xl(t),function(){if(--t<1)return e.apply(this,arguments)}},rn.ary=zs,rn.assign=Fl,rn.assignIn=Ul,rn.assignInWith=Vl,rn.assignWith=Hl,rn.at=Gl,rn.before=Xs,rn.bind=Ys,rn.bindAll=ya,rn.bindKey=Js,rn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ul(t)?t:[t]},rn.chain=Rs,rn.chunk=function(t,e,o){e=(o?Pi(t,e,o):e===r)?1:Mo(xl(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,l=0,a=n(Bo(i/e));s<i;)a[l++]=Er(t,s,s+=e);return a},rn.compact=function(t){for(var e=-1,o=null==t?0:t.length,n=0,r=[];++e<o;){var i=t[e];i&&(r[n++]=i)}return r},rn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),o=arguments[0],r=t;r--;)e[r-1]=arguments[r];return We(ul(o)?Xr(o):[o],Mn(e,1))},rn.cond=function(t){var e=null==t?0:t.length,o=Ai();return t=e?Ge(t,(function(t){if("function"!=typeof t[1])throw new qt(s);return[o(t[0]),t[1]]})):[],dr((function(o){for(var n=-1;++n<e;){var r=t[n];if(De(r[0],this,o))return De(r[1],this,o)}}))},rn.conforms=function(t){return function(t){var e=ql(t);return function(o){return On(o,t,e)}}(wn(t,a))},rn.constant=va,rn.countBy=Ds,rn.create=function(t,e){var o=sn(t);return null==e?o:Tn(o,e)},rn.curry=function t(e,o,n){var i=fi(e,m,r,r,r,r,r,o=n?r:o);return i.placeholder=t.placeholder,i},rn.curryRight=function t(e,o,n){var i=fi(e,_,r,r,r,r,r,o=n?r:o);return i.placeholder=t.placeholder,i},rn.debounce=qs,rn.defaults=Wl,rn.defaultsDeep=jl,rn.defer=Zs,rn.delay=Qs,rn.difference=is,rn.differenceBy=ss,rn.differenceWith=ls,rn.drop=function(t,e,o){var n=null==t?0:t.length;return n?Er(t,(e=o||e===r?1:xl(e))<0?0:e,n):[]},rn.dropRight=function(t,e,o){var n=null==t?0:t.length;return n?Er(t,0,(e=n-(e=o||e===r?1:xl(e)))<0?0:e):[]},rn.dropRightWhile=function(t,e){return t&&t.length?Rr(t,Ai(e,3),!0,!0):[]},rn.dropWhile=function(t,e){return t&&t.length?Rr(t,Ai(e,3),!0):[]},rn.fill=function(t,e,o,n){var i=null==t?0:t.length;return i?(o&&"number"!=typeof o&&Pi(t,e,o)&&(o=0,n=i),function(t,e,o,n){var i=t.length;for((o=xl(o))<0&&(o=-o>i?0:i+o),(n=n===r||n>i?i:xl(n))<0&&(n+=i),n=o>n?0:Dl(n);o<n;)t[o++]=e;return t}(t,e,o,n)):[]},rn.filter=function(t,e){return(ul(t)?Ue:Ln)(t,Ai(e,3))},rn.flatMap=function(t,e){return Mn(Gs(t,e),1)},rn.flatMapDeep=function(t,e){return Mn(Gs(t,e),C)},rn.flatMapDepth=function(t,e,o){return o=o===r?1:xl(o),Mn(Gs(t,e),o)},rn.flatten=cs,rn.flattenDeep=function(t){return null!=t&&t.length?Mn(t,C):[]},rn.flattenDepth=function(t,e){return null!=t&&t.length?Mn(t,e=e===r?1:xl(e)):[]},rn.flip=function(t){return fi(t,k)},rn.flow=ba,rn.flowRight=Ea,rn.fromPairs=function(t){for(var e=-1,o=null==t?0:t.length,n={};++e<o;){var r=t[e];n[r[0]]=r[1]}return n},rn.functions=function(t){return null==t?[]:Hn(t,ql(t))},rn.functionsIn=function(t){return null==t?[]:Hn(t,Zl(t))},rn.groupBy=Us,rn.initial=function(t){return null!=t&&t.length?Er(t,0,-1):[]},rn.intersection=hs,rn.intersectionBy=gs,rn.intersectionWith=ds,rn.invert=Xl,rn.invertBy=Yl,rn.invokeMap=Vs,rn.iteratee=Ta,rn.keyBy=Hs,rn.keys=ql,rn.keysIn=Zl,rn.map=Gs,rn.mapKeys=function(t,e){var o={};return e=Ai(e,3),Un(t,(function(t,n,r){Sn(o,e(t,n,r),t)})),o},rn.mapValues=function(t,e){var o={};return e=Ai(e,3),Un(t,(function(t,n,r){Sn(o,n,e(t,n,r))})),o},rn.matches=function(t){return rr(wn(t,a))},rn.matchesProperty=function(t,e){return ir(t,wn(e,a))},rn.memoize=$s,rn.merge=Ql,rn.mergeWith=$l,rn.method=Sa,rn.methodOf=Ca,rn.mixin=Aa,rn.negate=tl,rn.nthArg=function(t){return t=xl(t),dr((function(e){return lr(e,t)}))},rn.omit=ta,rn.omitBy=function(t,e){return oa(t,tl(Ai(e)))},rn.once=function(t){return Xs(2,t)},rn.orderBy=function(t,e,o,n){return null==t?[]:(ul(e)||(e=null==e?[]:[e]),ul(o=n?r:o)||(o=null==o?[]:[o]),ar(t,e,o))},rn.over=Oa,rn.overArgs=el,rn.overEvery=Ba,rn.overSome=Ia,rn.partial=ol,rn.partialRight=nl,rn.partition=Ws,rn.pick=ea,rn.pickBy=oa,rn.property=Ra,rn.propertyOf=function(t){return function(e){return null==t?r:Gn(t,e)}},rn.pull=ms,rn.pullAll=_s,rn.pullAllBy=function(t,e,o){return t&&t.length&&e&&e.length?cr(t,e,Ai(o,2)):t},rn.pullAllWith=function(t,e,o){return t&&t.length&&e&&e.length?cr(t,e,r,o):t},rn.pullAt=ys,rn.range=Na,rn.rangeRight=xa,rn.rearg=rl,rn.reject=function(t,e){return(ul(t)?Ue:Ln)(t,tl(Ai(e,3)))},rn.remove=function(t,e){var o=[];if(!t||!t.length)return o;var n=-1,r=[],i=t.length;for(e=Ai(e,3);++n<i;){var s=t[n];e(s,n,t)&&(o.push(s),r.push(n))}return pr(t,r),o},rn.rest=function(t,e){if("function"!=typeof t)throw new qt(s);return dr(t,e=e===r?e:xl(e))},rn.reverse=vs,rn.sampleSize=function(t,e,o){return e=(o?Pi(t,e,o):e===r)?1:xl(e),(ul(t)?_n:mr)(t,e)},rn.set=function(t,e,o){return null==t?t:_r(t,e,o)},rn.setWith=function(t,e,o,n){return n="function"==typeof n?n:r,null==t?t:_r(t,e,o,n)},rn.shuffle=function(t){return(ul(t)?yn:br)(t)},rn.slice=function(t,e,o){var n=null==t?0:t.length;return n?(o&&"number"!=typeof o&&Pi(t,e,o)?(e=0,o=n):(e=null==e?0:xl(e),o=o===r?n:xl(o)),Er(t,e,o)):[]},rn.sortBy=js,rn.sortedUniq=function(t){return t&&t.length?Cr(t):[]},rn.sortedUniqBy=function(t,e){return t&&t.length?Cr(t,Ai(e,2)):[]},rn.split=function(t,e,o){return o&&"number"!=typeof o&&Pi(t,e,o)&&(e=o=r),(o=o===r?B:o>>>0)?(t=Pl(t))&&("string"==typeof e||null!=e&&!Sl(e))&&!(e=wr(e))&&go(t)?Ur(Eo(t),0,o):t.split(e,o):[]},rn.spread=function(t,e){if("function"!=typeof t)throw new qt(s);return e=null==e?0:Mo(xl(e),0),dr((function(o){var n=o[e],r=Ur(o,0,e);return n&&We(r,n),De(t,this,r)}))},rn.tail=function(t){var e=null==t?0:t.length;return e?Er(t,1,e):[]},rn.take=function(t,e,o){return t&&t.length?Er(t,0,(e=o||e===r?1:xl(e))<0?0:e):[]},rn.takeRight=function(t,e,o){var n=null==t?0:t.length;return n?Er(t,(e=n-(e=o||e===r?1:xl(e)))<0?0:e,n):[]},rn.takeRightWhile=function(t,e){return t&&t.length?Rr(t,Ai(e,3),!1,!0):[]},rn.takeWhile=function(t,e){return t&&t.length?Rr(t,Ai(e,3)):[]},rn.tap=function(t,e){return e(t),t},rn.throttle=function(t,e,o){var n=!0,r=!0;if("function"!=typeof t)throw new qt(s);return vl(o)&&(n="leading"in o?!!o.leading:n,r="trailing"in o?!!o.trailing:r),qs(t,e,{leading:n,maxWait:e,trailing:r})},rn.thru=Ns,rn.toArray=Rl,rn.toPairs=na,rn.toPairsIn=ra,rn.toPath=function(t){return ul(t)?Ge(t,os):wl(t)?[t]:Xr(es(Pl(t)))},rn.toPlainObject=Ml,rn.transform=function(t,e,o){var n=ul(t),r=n||gl(t)||Ol(t);if(e=Ai(e,4),null==o){var i=t&&t.constructor;o=r?n?new i:[]:vl(t)&&ml(i)?sn(Te(t)):{}}return(r?Me:Un)(t,(function(t,n,r){return e(o,t,n,r)})),o},rn.unary=function(t){return zs(t,1)},rn.union=bs,rn.unionBy=Es,rn.unionWith=ks,rn.uniq=function(t){return t&&t.length?Or(t):[]},rn.uniqBy=function(t,e){return t&&t.length?Or(t,Ai(e,2)):[]},rn.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?Or(t,r,e):[]},rn.unset=function(t,e){return null==t||Br(t,e)},rn.unzip=Ts,rn.unzipWith=Ss,rn.update=function(t,e,o){return null==t?t:Ir(t,e,Mr(o))},rn.updateWith=function(t,e,o,n){return n="function"==typeof n?n:r,null==t?t:Ir(t,e,Mr(o),n)},rn.values=ia,rn.valuesIn=function(t){return null==t?[]:so(t,Zl(t))},rn.without=Cs,rn.words=ma,rn.wrap=function(t,e){return ol(Mr(e),t)},rn.xor=As,rn.xorBy=ws,rn.xorWith=Os,rn.zip=Bs,rn.zipObject=function(t,e){return Dr(t||[],e||[],bn)},rn.zipObjectDeep=function(t,e){return Dr(t||[],e||[],_r)},rn.zipWith=Is,rn.entries=na,rn.entriesIn=ra,rn.extend=Ul,rn.extendWith=Vl,Aa(rn,rn),rn.add=Pa,rn.attempt=_a,rn.camelCase=sa,rn.capitalize=la,rn.ceil=Fa,rn.clamp=function(t,e,o){return o===r&&(o=e,e=r),o!==r&&(o=(o=Ll(o))==o?o:0),e!==r&&(e=(e=Ll(e))==e?e:0),An(Ll(t),e,o)},rn.clone=function(t){return wn(t,c)},rn.cloneDeep=function(t){return wn(t,a|c)},rn.cloneDeepWith=function(t,e){return wn(t,a|c,e="function"==typeof e?e:r)},rn.cloneWith=function(t,e){return wn(t,c,e="function"==typeof e?e:r)},rn.conformsTo=function(t,e){return null==e||On(t,e,ql(e))},rn.deburr=aa,rn.defaultTo=function(t,e){return null==t||t!=t?e:t},rn.divide=Ua,rn.endsWith=function(t,e,o){t=Pl(t),e=wr(e);var n=t.length,i=o=o===r?n:An(xl(o),0,n);return(o-=e.length)>=0&&t.slice(o,i)==e},rn.eq=il,rn.escape=function(t){return(t=Pl(t))&&mt.test(t)?t.replace(dt,po):t},rn.escapeRegExp=function(t){return(t=Pl(t))&&St.test(t)?t.replace(Tt,"\\$&"):t},rn.every=function(t,e,o){var n=ul(t)?Fe:xn;return o&&Pi(t,e,o)&&(e=r),n(t,Ai(e,3))},rn.find=Ls,rn.findIndex=as,rn.findKey=function(t,e){return Ye(t,Ai(e,3),Un)},rn.findLast=Ms,rn.findLastIndex=us,rn.findLastKey=function(t,e){return Ye(t,Ai(e,3),Vn)},rn.floor=Va,rn.forEach=Ps,rn.forEachRight=Fs,rn.forIn=function(t,e){return null==t?t:Pn(t,Ai(e,3),Zl)},rn.forInRight=function(t,e){return null==t?t:Fn(t,Ai(e,3),Zl)},rn.forOwn=function(t,e){return t&&Un(t,Ai(e,3))},rn.forOwnRight=function(t,e){return t&&Vn(t,Ai(e,3))},rn.get=Kl,rn.gt=sl,rn.gte=ll,rn.has=function(t,e){return null!=t&&xi(t,e,zn)},rn.hasIn=zl,rn.head=ps,rn.identity=ka,rn.includes=function(t,e,o,n){t=pl(t)?t:ia(t),o=o&&!n?xl(o):0;var r=t.length;return o<0&&(o=Mo(r+o,0)),Al(t)?o<=r&&t.indexOf(e,o)>-1:!!r&&qe(t,e,o)>-1},rn.indexOf=function(t,e,o){var n=null==t?0:t.length;if(!n)return-1;var r=null==o?0:xl(o);return r<0&&(r=Mo(n+r,0)),qe(t,e,r)},rn.inRange=function(t,e,o){return e=Nl(e),o===r?(o=e,e=0):o=Nl(o),function(t,e,o){return t>=Po(e,o)&&t<Mo(e,o)}(t=Ll(t),e,o)},rn.invoke=Jl,rn.isArguments=al,rn.isArray=ul,rn.isArrayBuffer=cl,rn.isArrayLike=pl,rn.isArrayLikeObject=hl,rn.isBoolean=function(t){return!0===t||!1===t||bl(t)&&jn(t)==M},rn.isBuffer=gl,rn.isDate=dl,rn.isElement=function(t){return bl(t)&&1===t.nodeType&&!Tl(t)},rn.isEmpty=function(t){if(null==t)return!0;if(pl(t)&&(ul(t)||"string"==typeof t||"function"==typeof t.splice||gl(t)||Ol(t)||al(t)))return!t.length;var e=Ni(t);if(e==G||e==Y)return!t.size;if(Hi(t))return!er(t).length;for(var o in t)if(ee.call(t,o))return!1;return!0},rn.isEqual=function(t,e){return Zn(t,e)},rn.isEqualWith=function(t,e,o){var n=(o="function"==typeof o?o:r)?o(t,e):r;return n===r?Zn(t,e,r,o):!!n},rn.isError=fl,rn.isFinite=function(t){return"number"==typeof t&&xo(t)},rn.isFunction=ml,rn.isInteger=_l,rn.isLength=yl,rn.isMap=El,rn.isMatch=function(t,e){return t===e||Qn(t,e,Oi(e))},rn.isMatchWith=function(t,e,o){return o="function"==typeof o?o:r,Qn(t,e,Oi(e),o)},rn.isNaN=function(t){return kl(t)&&t!=+t},rn.isNative=function(t){if(Vi(t))throw new jt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return $n(t)},rn.isNil=function(t){return null==t},rn.isNull=function(t){return null===t},rn.isNumber=kl,rn.isObject=vl,rn.isObjectLike=bl,rn.isPlainObject=Tl,rn.isRegExp=Sl,rn.isSafeInteger=function(t){return _l(t)&&t>=-A&&t<=A},rn.isSet=Cl,rn.isString=Al,rn.isSymbol=wl,rn.isTypedArray=Ol,rn.isUndefined=function(t){return t===r},rn.isWeakMap=function(t){return bl(t)&&Ni(t)==Q},rn.isWeakSet=function(t){return bl(t)&&"[object WeakSet]"==jn(t)},rn.join=function(t,e){return null==t?"":Do.call(t,e)},rn.kebabCase=ua,rn.last=fs,rn.lastIndexOf=function(t,e,o){var n=null==t?0:t.length;if(!n)return-1;var i=n;return o!==r&&(i=(i=xl(o))<0?Mo(n+i,0):Po(i,n-1)),e==e?function(t,e,o){for(var n=o+1;n--;)if(t[n]===e)return n;return n}(t,e,i):Je(t,Qe,i,!0)},rn.lowerCase=ca,rn.lowerFirst=pa,rn.lt=Bl,rn.lte=Il,rn.max=function(t){return t&&t.length?Dn(t,ka,Kn):r},rn.maxBy=function(t,e){return t&&t.length?Dn(t,Ai(e,2),Kn):r},rn.mean=function(t){return $e(t,ka)},rn.meanBy=function(t,e){return $e(t,Ai(e,2))},rn.min=function(t){return t&&t.length?Dn(t,ka,or):r},rn.minBy=function(t,e){return t&&t.length?Dn(t,Ai(e,2),or):r},rn.stubArray=Da,rn.stubFalse=La,rn.stubObject=function(){return{}},rn.stubString=function(){return""},rn.stubTrue=function(){return!0},rn.multiply=Ha,rn.nth=function(t,e){return t&&t.length?lr(t,xl(e)):r},rn.noConflict=function(){return ke._===this&&(ke._=se),this},rn.noop=wa,rn.now=Ks,rn.pad=function(t,e,o){t=Pl(t);var n=(e=xl(e))?bo(t):0;if(!e||n>=e)return t;var r=(e-n)/2;return ai(Io(r),o)+t+ai(Bo(r),o)},rn.padEnd=function(t,e,o){t=Pl(t);var n=(e=xl(e))?bo(t):0;return e&&n<e?t+ai(e-n,o):t},rn.padStart=function(t,e,o){t=Pl(t);var n=(e=xl(e))?bo(t):0;return e&&n<e?ai(e-n,o)+t:t},rn.parseInt=function(t,e,o){return o||null==e?e=0:e&&(e=+e),Uo(Pl(t).replace(At,""),e||0)},rn.random=function(t,e,o){if(o&&"boolean"!=typeof o&&Pi(t,e,o)&&(e=o=r),o===r&&("boolean"==typeof e?(o=e,e=r):"boolean"==typeof t&&(o=t,t=r)),t===r&&e===r?(t=0,e=1):(t=Nl(t),e===r?(e=t,t=0):e=Nl(e)),t>e){var n=t;t=e,e=n}if(o||t%1||e%1){var i=Vo();return Po(t+i*(e-t+ye("1e-"+((i+"").length-1))),e)}return hr(t,e)},rn.reduce=function(t,e,o){var n=ul(t)?je:oo,r=arguments.length<3;return n(t,Ai(e,4),o,r,Rn)},rn.reduceRight=function(t,e,o){var n=ul(t)?Ke:oo,r=arguments.length<3;return n(t,Ai(e,4),o,r,Nn)},rn.repeat=function(t,e,o){return e=(o?Pi(t,e,o):e===r)?1:xl(e),gr(Pl(t),e)},rn.replace=function(){var t=arguments,e=Pl(t[0]);return t.length<3?e:e.replace(t[1],t[2])},rn.result=function(t,e,o){var n=-1,i=(e=Pr(e,t)).length;for(i||(i=1,t=r);++n<i;){var s=null==t?r:t[os(e[n])];s===r&&(n=i,s=o),t=ml(s)?s.call(t):s}return t},rn.round=Ga,rn.runInContext=t,rn.sample=function(t){return(ul(t)?mn:fr)(t)},rn.size=function(t){if(null==t)return 0;if(pl(t))return Al(t)?bo(t):t.length;var e=Ni(t);return e==G||e==Y?t.size:er(t).length},rn.snakeCase=ha,rn.some=function(t,e,o){var n=ul(t)?ze:kr;return o&&Pi(t,e,o)&&(e=r),n(t,Ai(e,3))},rn.sortedIndex=function(t,e){return Tr(t,e)},rn.sortedIndexBy=function(t,e,o){return Sr(t,e,Ai(o,2))},rn.sortedIndexOf=function(t,e){var o=null==t?0:t.length;if(o){var n=Tr(t,e);if(n<o&&il(t[n],e))return n}return-1},rn.sortedLastIndex=function(t,e){return Tr(t,e,!0)},rn.sortedLastIndexBy=function(t,e,o){return Sr(t,e,Ai(o,2),!0)},rn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var o=Tr(t,e,!0)-1;if(il(t[o],e))return o}return-1},rn.startCase=ga,rn.startsWith=function(t,e,o){return t=Pl(t),o=null==o?0:An(xl(o),0,t.length),e=wr(e),t.slice(o,o+e.length)==e},rn.subtract=Wa,rn.sum=function(t){return t&&t.length?no(t,ka):0},rn.sumBy=function(t,e){return t&&t.length?no(t,Ai(e,2)):0},rn.template=function(t,e,o){var n=rn.templateSettings;o&&Pi(t,e,o)&&(e=r),t=Pl(t),e=Vl({},e,n,mi);var i,s,l=Vl({},e.imports,n.imports,mi),a=ql(l),u=so(l,a),c=0,p=e.interpolate||Ht,h="__p += '",g=Yt((e.escape||Ht).source+"|"+p.source+"|"+(p===vt?xt:Ht).source+"|"+(e.evaluate||Ht).source+"|$","g"),d="//# sourceURL="+(ee.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++de+"]")+"\n";t.replace(g,(function(e,o,n,r,l,a){return n||(n=r),h+=t.slice(c,a).replace(Gt,ho),o&&(i=!0,h+="' +\n__e("+o+") +\n'"),l&&(s=!0,h+="';\n"+l+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=a+e.length,e})),h+="';\n";var f=ee.call(e,"variable")&&e.variable;f||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(ct,""):h).replace(pt,"$1").replace(ht,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=_a((function(){return Kt(a,d+"return "+h).apply(r,u)}));if(m.source=h,fl(m))throw m;return m},rn.times=function(t,e){if((t=xl(t))<1||t>A)return[];var o=B,n=Po(t,B);e=Ai(e),t-=B;for(var r=ro(n,e);++o<t;)e(o);return r},rn.toFinite=Nl,rn.toInteger=xl,rn.toLength=Dl,rn.toLower=function(t){return Pl(t).toLowerCase()},rn.toNumber=Ll,rn.toSafeInteger=function(t){return t?An(xl(t),-A,A):0===t?t:0},rn.toString=Pl,rn.toUpper=function(t){return Pl(t).toUpperCase()},rn.trim=function(t,e,o){if((t=Pl(t))&&(o||e===r))return t.replace(Ct,"");if(!t||!(e=wr(e)))return t;var n=Eo(t),i=Eo(e);return Ur(n,ao(n,i),uo(n,i)+1).join("")},rn.trimEnd=function(t,e,o){if((t=Pl(t))&&(o||e===r))return t.replace(wt,"");if(!t||!(e=wr(e)))return t;var n=Eo(t);return Ur(n,0,uo(n,Eo(e))+1).join("")},rn.trimStart=function(t,e,o){if((t=Pl(t))&&(o||e===r))return t.replace(At,"");if(!t||!(e=wr(e)))return t;var n=Eo(t);return Ur(n,ao(n,Eo(e))).join("")},rn.truncate=function(t,e){var o=30,n="...";if(vl(e)){var i="separator"in e?e.separator:i;o="length"in e?xl(e.length):o,n="omission"in e?wr(e.omission):n}var s=(t=Pl(t)).length;if(go(t)){var l=Eo(t);s=l.length}if(o>=s)return t;var a=o-bo(n);if(a<1)return n;var u=l?Ur(l,0,a).join(""):t.slice(0,a);if(i===r)return u+n;if(l&&(a+=u.length-a),Sl(i)){if(t.slice(a).search(i)){var c,p=u;for(i.global||(i=Yt(i.source,Pl(Dt.exec(i))+"g")),i.lastIndex=0;c=i.exec(p);)var h=c.index;u=u.slice(0,h===r?a:h)}}else if(t.indexOf(wr(i),a)!=a){var g=u.lastIndexOf(i);g>-1&&(u=u.slice(0,g))}return u+n},rn.unescape=function(t){return(t=Pl(t))&&ft.test(t)?t.replace(gt,ko):t},rn.uniqueId=function(t){var e=++oe;return Pl(t)+e},rn.upperCase=da,rn.upperFirst=fa,rn.each=Ps,rn.eachRight=Fs,rn.first=ps,Aa(rn,(Ma={},Un(rn,(function(t,e){ee.call(rn.prototype,e)||(Ma[e]=t)})),Ma),{chain:!1}),rn.VERSION="4.17.15",Me(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){rn[t].placeholder=rn})),Me(["drop","take"],(function(t,e){un.prototype[t]=function(o){o=o===r?1:Mo(xl(o),0);var n=this.__filtered__&&!e?new un(this):this.clone();return n.__filtered__?n.__takeCount__=Po(o,n.__takeCount__):n.__views__.push({size:Po(o,B),type:t+(n.__dir__<0?"Right":"")}),n},un.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Me(["filter","map","takeWhile"],(function(t,e){var o=e+1,n=1==o||3==o;un.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ai(t,3),type:o}),e.__filtered__=e.__filtered__||n,e}})),Me(["head","last"],(function(t,e){var o="take"+(e?"Right":"");un.prototype[t]=function(){return this[o](1).value()[0]}})),Me(["initial","tail"],(function(t,e){var o="drop"+(e?"":"Right");un.prototype[t]=function(){return this.__filtered__?new un(this):this[o](1)}})),un.prototype.compact=function(){return this.filter(ka)},un.prototype.find=function(t){return this.filter(t).head()},un.prototype.findLast=function(t){return this.reverse().find(t)},un.prototype.invokeMap=dr((function(t,e){return"function"==typeof t?new un(this):this.map((function(o){return Jn(o,t,e)}))})),un.prototype.reject=function(t){return this.filter(tl(Ai(t)))},un.prototype.slice=function(t,e){t=xl(t);var o=this;return o.__filtered__&&(t>0||e<0)?new un(o):(t<0?o=o.takeRight(-t):t&&(o=o.drop(t)),e!==r&&(o=(e=xl(e))<0?o.dropRight(-e):o.take(e-t)),o)},un.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},un.prototype.toArray=function(){return this.take(B)},Un(un.prototype,(function(t,e){var o=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),i=rn[n?"take"+("last"==e?"Right":""):e],s=n||/^find/.test(e);i&&(rn.prototype[e]=function(){var e=this.__wrapped__,l=n?[1]:arguments,a=e instanceof un,u=l[0],c=a||ul(e),p=function(t){var e=i.apply(rn,We([t],l));return n&&h?e[0]:e};c&&o&&"function"==typeof u&&1!=u.length&&(a=c=!1);var h=this.__chain__,g=!!this.__actions__.length,d=s&&!h,f=a&&!g;if(!s&&c){e=f?e:new un(this);var m=t.apply(e,l);return m.__actions__.push({func:Ns,args:[p],thisArg:r}),new an(m,h)}return d&&f?t.apply(this,l):(m=this.thru(p),d?n?m.value()[0]:m.value():m)})})),Me(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Zt[t],o=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);rn.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var r=this.value();return e.apply(ul(r)?r:[],t)}return this[o]((function(o){return e.apply(ul(o)?o:[],t)}))}})),Un(un.prototype,(function(t,e){var o=rn[e];if(o){var n=o.name+"";ee.call(Jo,n)||(Jo[n]=[]),Jo[n].push({name:e,func:o})}})),Jo[ri(r,d).name]=[{name:"wrapper",func:r}],un.prototype.clone=function(){var t=new un(this.__wrapped__);return t.__actions__=Xr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Xr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Xr(this.__views__),t},un.prototype.reverse=function(){if(this.__filtered__){var t=new un(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},un.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,o=ul(t),n=e<0,r=o?t.length:0,i=function(t,e,o){for(var n=-1,r=o.length;++n<r;){var i=o[n],s=i.size;switch(i.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Po(e,t+s);break;case"takeRight":t=Mo(t,e-s)}}return{start:t,end:e}}(0,r,this.__views__),s=i.start,l=i.end,a=l-s,u=n?l:s-1,c=this.__iteratees__,p=c.length,h=0,g=Po(a,this.__takeCount__);if(!o||!n&&r==a&&g==a)return Nr(t,this.__actions__);var d=[];t:for(;a--&&h<g;){for(var f=-1,m=t[u+=e];++f<p;){var _=c[f],y=_.type,v=(0,_.iteratee)(m);if(2==y)m=v;else if(!v){if(1==y)continue t;break t}}d[h++]=m}return d},rn.prototype.at=xs,rn.prototype.chain=function(){return Rs(this)},rn.prototype.commit=function(){return new an(this.value(),this.__chain__)},rn.prototype.next=function(){this.__values__===r&&(this.__values__=Rl(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},rn.prototype.plant=function(t){for(var e,o=this;o instanceof ln;){var n=rs(o);n.__index__=0,n.__values__=r,e?i.__wrapped__=n:e=n;var i=n;o=o.__wrapped__}return i.__wrapped__=t,e},rn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof un){var e=t;return this.__actions__.length&&(e=new un(this)),(e=e.reverse()).__actions__.push({func:Ns,args:[vs],thisArg:r}),new an(e,this.__chain__)}return this.thru(vs)},rn.prototype.toJSON=rn.prototype.valueOf=rn.prototype.value=function(){return Nr(this.__wrapped__,this.__actions__)},rn.prototype.first=rn.prototype.head,eo&&(rn.prototype[eo]=function(){return this}),rn}();ke._=To,(n=(function(){return To}).call(e,o,e,t))===r||(t.exports=n)}).call(this)}).call(this,o("YuTi")(t))},SdJ3:function(t,e,o){var n,r,i;r=[o("t/1s")],void 0===(i="function"==typeof(n=function(t){return t.Blocks={},t.Blocks.colour={},t.Constants={},t.Constants.Colour={},t.Constants.Colour.HUE=20,t.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),t.Blocks.lists={},t.Constants.Lists={},t.Constants.Lists.HUE=260,t.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),t.Blocks.lists_create_with={init:function(){this.setHelpUrl(t.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new t.Mutator(["lists_create_with_item"])),this.setTooltip(t.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(t){this.itemCount_=parseInt(t.getAttribute("items"),10),this.updateShape_()},decompose:function(t){var e=t.newBlock("lists_create_with_container");e.initSvg();for(var o=e.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var r=t.newBlock("lists_create_with_item");r.initSvg(),o.connect(r.previousConnection),o=r.nextConnection}return e},compose:function(e){var o=e.getInputTargetBlock("STACK");for(e=[];o;)e.push(o.valueConnection_),o=o.nextConnection&&o.nextConnection.targetBlock();for(o=0;o<this.itemCount_;o++){var n=this.getInput("ADD"+o).connection.targetConnection;n&&-1==e.indexOf(n)&&n.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),o=0;o<this.itemCount_;o++)t.Mutator.reconnect(e[o],this,"ADD"+o)},saveConnections:function(t){t=t.getInputTargetBlock("STACK");for(var e=0;t;){var o=this.getInput("ADD"+e);t.valueConnection_=o&&o.connection.targetConnection,e++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(t.Msg.LISTS_CREATE_EMPTY_TITLE);for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var o=this.appendValueInput("ADD"+e);0==e&&o.appendField(t.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++}},t.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(t.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},t.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},t.Blocks.lists_indexOf={init:function(){var e=[[t.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[t.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(t.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new t.FieldDropdown(e),"END"),this.setInputsInline(!0);var o=this;this.setTooltip((function(){return t.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",o.workspace.options.oneBasedIndex?"0":"-1")}))}},t.Blocks.lists_getIndex={init:function(){var e=[[t.Msg.LISTS_GET_INDEX_GET,"GET"],[t.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[t.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[t.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),e=new t.FieldDropdown(e,(function(t){t="REMOVE"==t,this.getSourceBlock().updateStatement_(t)})),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(e,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),t.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var o=this;this.setTooltip((function(){var e=o.getFieldValue("MODE"),n=o.getFieldValue("WHERE"),r="";switch(e+" "+n){case"GET FROM_START":case"GET FROM_END":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":r=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!=n&&"FROM_END"!=n||(r+="  "+("FROM_START"==n?t.Msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",o.workspace.options.oneBasedIndex?"#1":"#0")),r}))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");e.setAttribute("statement",!this.outputConnection);var o=this.getInput("AT").type==t.INPUT_VALUE;return e.setAttribute("at",o),e},domToMutation:function(t){var e="true"==t.getAttribute("statement");this.updateStatement_(e),t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateStatement_:function(t){t!=!this.outputConnection&&(this.unplug(!0,!0),t?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var o=new t.FieldDropdown(this.WHERE_OPTIONS,(function(t){var o="FROM_START"==t||"FROM_END"==t;if(o!=e){var n=this.getSourceBlock();return n.updateAt_(o),n.setFieldValue(t,"WHERE"),null}}));this.getInput("AT").appendField(o,"WHERE"),t.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},t.Blocks.lists_setIndex={init:function(){var e=[[t.Msg.LISTS_SET_INDEX_SET,"SET"],[t.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[t.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new t.FieldDropdown(e),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(t.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var o=this;this.setTooltip((function(){var e=o.getFieldValue("MODE"),n=o.getFieldValue("WHERE"),r="";switch(e+" "+n){case"SET FROM_START":case"SET FROM_END":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":r=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!=n&&"FROM_END"!=n||(r+="  "+t.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",o.workspace.options.oneBasedIndex?"#1":"#0")),r}))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),o=this.getInput("AT").type==t.INPUT_VALUE;return e.setAttribute("at",o),e},domToMutation:function(t){t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var o=new t.FieldDropdown(this.WHERE_OPTIONS,(function(t){var o="FROM_START"==t||"FROM_END"==t;if(o!=e){var n=this.getSourceBlock();return n.updateAt_(o),n.setFieldValue(t,"WHERE"),null}}));this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(o,"WHERE")}},t.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[t.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(t.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),o=this.getInput("AT1").type==t.INPUT_VALUE;return e.setAttribute("at1",o),o=this.getInput("AT2").type==t.INPUT_VALUE,e.setAttribute("at2",o),e},domToMutation:function(t){var e="true"==t.getAttribute("at1");t="true"==t.getAttribute("at2"),this.updateAt_(1,e),this.updateAt_(2,t)},updateAt_:function(e,o){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),o?(this.appendValueInput("AT"+e).setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e);var n=new t.FieldDropdown(this["WHERE_OPTIONS_"+e],(function(t){var n="FROM_START"==t||"FROM_END"==t;if(n!=o){var r=this.getSourceBlock();return r.updateAt_(e,n),r.setFieldValue(t,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(n,"WHERE"+e),1==e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),t.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},t.Blocks.lists_sort={init:function(){this.jsonInit({message0:t.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[t.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[t.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[t.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[t.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[t.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:t.Msg.LISTS_SORT_TOOLTIP,helpUrl:t.Msg.LISTS_SORT_HELPURL})}},t.Blocks.lists_split={init:function(){var e=this,o=new t.FieldDropdown([[t.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[t.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],(function(t){e.updateType_(t)}));this.setHelpUrl(t.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(o,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(t.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip((function(){var o=e.getFieldValue("MODE");if("SPLIT"==o)return t.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==o)return t.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+o)}))},updateType_:function(t){if(this.getFieldValue("MODE")!=t){var e=this.getInput("INPUT").connection;e.setShadowDom(null);var o=e.targetBlock();o&&(e.disconnect(),o.isShadow()?o.dispose():this.bumpNeighbours_())}"SPLIT"==t?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("mode",this.getFieldValue("MODE")),e},domToMutation:function(t){this.updateType_(t.getAttribute("mode"))}},t.Blocks.logic={},t.Constants.Logic={},t.Constants.Logic.HUE=210,t.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["","NEQ"],["<","LT"],["","LTE"],[">","GT"],["","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]),t.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),t.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"},t.Extensions.register("logic_op_tooltip",t.Extensions.buildTooltipForDropdown("OP",t.Constants.Logic.TOOLTIPS_BY_OP)),t.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,suppressPrefixSuffix:!0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var e=t.utils.xml.createElement("mutation");return this.elseifCount_&&e.setAttribute("elseif",this.elseifCount_),this.elseCount_&&e.setAttribute("else",1),e},domToMutation:function(t){this.elseifCount_=parseInt(t.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(t.getAttribute("else"),10)||0,this.rebuildShape_()},decompose:function(t){var e=t.newBlock("controls_if_if");e.initSvg();for(var o=e.nextConnection,n=1;n<=this.elseifCount_;n++){var r=t.newBlock("controls_if_elseif");r.initSvg(),o.connect(r.previousConnection),o=r.nextConnection}return this.elseCount_&&((t=t.newBlock("controls_if_else")).initSvg(),o.connect(t.previousConnection)),e},compose:function(t){t=t.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var e=[null],o=[null],n=null;t;){switch(t.type){case"controls_if_elseif":this.elseifCount_++,e.push(t.valueConnection_),o.push(t.statementConnection_);break;case"controls_if_else":this.elseCount_++,n=t.statementConnection_;break;default:throw TypeError("Unknown block type: "+t.type)}t=t.nextConnection&&t.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(e,o,n)},saveConnections:function(t){t=t.nextConnection.targetBlock();for(var e=1;t;){switch(t.type){case"controls_if_elseif":var o=this.getInput("IF"+e),n=this.getInput("DO"+e);t.valueConnection_=o&&o.connection.targetConnection,t.statementConnection_=n&&n.connection.targetConnection,e++;break;case"controls_if_else":n=this.getInput("ELSE"),t.statementConnection_=n&&n.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+t.type)}t=t.nextConnection&&t.nextConnection.targetBlock()}},rebuildShape_:function(){var t=[null],e=[null],o=null;this.getInput("ELSE")&&(o=this.getInput("ELSE").connection.targetConnection);for(var n=1;this.getInput("IF"+n);){var r=this.getInput("IF"+n),i=this.getInput("DO"+n);t.push(r.connection.targetConnection),e.push(i.connection.targetConnection),n++}this.updateShape_(),this.reconnectChildBlocks_(t,e,o)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var e=1;this.getInput("IF"+e);)this.removeInput("IF"+e),this.removeInput("DO"+e),e++;for(e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).setCheck("Boolean").appendField(t.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+e).appendField(t.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(t.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(e,o,n){for(var r=1;r<=this.elseifCount_;r++)t.Mutator.reconnect(e[r],this,"IF"+r),t.Mutator.reconnect(o[r],this,"DO"+r);t.Mutator.reconnect(n,this,"ELSE")}},t.Extensions.registerMutator("controls_if_mutator",t.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]),t.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip((function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?t.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?t.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?t.Msg.CONTROLS_IF_TOOLTIP_4:"":t.Msg.CONTROLS_IF_TOOLTIP_1}).bind(this))},t.Extensions.register("controls_if_tooltip",t.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION),t.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(e){this.prevBlocks_||(this.prevBlocks_=[null,null]);var o=this.getInputTargetBlock("A"),n=this.getInputTargetBlock("B");o&&n&&!o.outputConnection.checkType_(n.outputConnection)&&(t.Events.setGroup(e.group),(e=this.prevBlocks_[0])!==o&&(o.unplug(),e&&!e.isShadow()&&this.getInput("A").connection.connect(e.outputConnection)),(o=this.prevBlocks_[1])!==n&&(n.unplug(),o&&!o.isShadow()&&this.getInput("B").connection.connect(o.outputConnection)),this.bumpNeighbours_(),t.Events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},t.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(t.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)},t.Extensions.register("logic_compare",t.Constants.Logic.LOGIC_COMPARE_EXTENSION),t.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(e){var o=this.getInputTargetBlock("THEN"),n=this.getInputTargetBlock("ELSE"),r=this.outputConnection.targetConnection;if((o||n)&&r)for(var i=0;2>i;i++){var s=1==i?o:n;s&&!s.outputConnection.checkType_(r)&&(t.Events.setGroup(e.group),r===this.prevParentConnection_?(this.unplug(),r.getSourceBlock().bumpNeighbours_()):(s.unplug(),s.bumpNeighbours_()),t.Events.setGroup(!1))}this.prevParentConnection_=r}},t.Extensions.registerMixin("logic_ternary",t.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN),t.Blocks.loops={},t.Constants.Loops={},t.Constants.Loops.HUE=120,t.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),t.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"},t.Extensions.register("controls_whileUntil_tooltip",t.Extensions.buildTooltipForDropdown("MODE",t.Constants.Loops.WHILE_UNTIL_TOOLTIPS)),t.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"},t.Extensions.register("controls_flow_tooltip",t.Extensions.buildTooltipForDropdown("FLOW",t.Constants.Loops.BREAK_CONTINUE_TOOLTIPS)),t.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(e){if(!this.isInFlyout){var o=this.getField("VAR").getVariable(),n=o.name;if(!this.isCollapsed()&&null!=n){var r={enabled:!0};r.text=t.Msg.VARIABLES_SET_CREATE_GET.replace("%1",n),o=t.Variables.generateVariableFieldDom(o),(n=t.utils.xml.createElement("block")).setAttribute("type","variables_get"),n.appendChild(o),r.callback=t.ContextMenu.callbackFactory(this,n),e.push(r)}}}},t.Extensions.registerMixin("contextMenu_newGetVariableBlock",t.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),t.Extensions.register("controls_for_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),t.Extensions.register("controls_forEach_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],suppressPrefixSuffix:!0,getSurroundLoop:function(e){do{if(-1!=t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(e.type))return e;e=e.getSurroundParent()}while(e);return null},onchange:function(e){this.workspace.isDragging&&!this.workspace.isDragging()&&(t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this)?(this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(t.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1)))}},t.Extensions.registerMixin("controls_flow_in_loop_check",t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),t.Blocks.math={},t.Constants.Math={},t.Constants.Math.HUE=230,t.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["","PI"],["e","E"],["","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt()","SQRT1_2"],["","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),t.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"},t.Extensions.register("math_op_tooltip",t.Extensions.buildTooltipForDropdown("OP",t.Constants.Math.TOOLTIPS_BY_OP)),t.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),o="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return e.setAttribute("divisor_input",o),e},domToMutation:function(t){t="true"==t.getAttribute("divisor_input"),this.updateShape_(t)},updateShape_:function(t){var e=this.getInput("DIVISOR");t?e||this.appendValueInput("DIVISOR").setCheck("Number"):e&&this.removeInput("DIVISOR")}},t.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator((function(t){t="DIVISIBLE_BY"==t,this.getSourceBlock().updateShape_(t)}))},t.Extensions.registerMutator("math_is_divisibleby_mutator",t.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,t.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION),t.Extensions.register("math_change_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),t.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(t){this.outputConnection.setCheck("MODE"==t?"Array":"Number")},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("op",this.getFieldValue("OP")),e},domToMutation:function(t){this.updateType_(t.getAttribute("op"))}},t.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator((function(t){this.updateType_(t)}).bind(this))},t.Extensions.registerMutator("math_modes_of_list_mutator",t.Constants.Math.LIST_MODES_MUTATOR_MIXIN,t.Constants.Math.LIST_MODES_MUTATOR_EXTENSION),t.Blocks.procedures={},t.Blocks.procedures_defnoreturn={init:function(){var e=new t.FieldTextInput("",t.Procedures.rename);e.setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.setMutator(new t.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(t.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(e){this.hasStatements_!==e&&(e?(this.appendStatementInput("STACK").appendField(t.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=e)},updateParams_:function(){var e="";this.arguments_.length&&(e=t.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),t.Events.disable();try{this.setFieldValue(e,"PARAMS")}finally{t.Events.enable()}},mutationToDom:function(e){var o=t.utils.xml.createElement("mutation");e&&o.setAttribute("name",this.getFieldValue("NAME"));for(var n=0;n<this.argumentVarModels_.length;n++){var r=t.utils.xml.createElement("arg"),i=this.argumentVarModels_[n];r.setAttribute("name",i.name),r.setAttribute("varid",i.getId()),e&&this.paramIds_&&r.setAttribute("paramId",this.paramIds_[n]),o.appendChild(r)}return this.hasStatements_||o.setAttribute("statements","false"),o},domToMutation:function(e){this.arguments_=[],this.argumentVarModels_=[];for(var o,n=0;o=e.childNodes[n];n++)if("arg"==o.nodeName.toLowerCase()){var r=o.getAttribute("name");o=o.getAttribute("varid")||o.getAttribute("varId"),this.arguments_.push(r),null!=(o=t.Variables.getOrCreateVariablePackage(this.workspace,o,r,""))?this.argumentVarModels_.push(o):console.log("Failed to create a variable with name "+r+", ignoring.")}this.updateParams_(),t.Procedures.mutateCallers(this),this.setStatements_("false"!==e.getAttribute("statements"))},decompose:function(e){var o=t.utils.xml.createElement("block");o.setAttribute("type","procedures_mutatorcontainer");var n=t.utils.xml.createElement("statement");n.setAttribute("name","STACK"),o.appendChild(n);for(var r=0;r<this.arguments_.length;r++){var i=t.utils.xml.createElement("block");i.setAttribute("type","procedures_mutatorarg");var s=t.utils.xml.createElement("field");s.setAttribute("name","NAME");var l=t.utils.xml.createTextNode(this.arguments_[r]);s.appendChild(l),i.appendChild(s),s=t.utils.xml.createElement("next"),i.appendChild(s),n.appendChild(i),n=s}return e=t.Xml.domToBlock(o,e),"procedures_defreturn"==this.type?e.setFieldValue(this.hasStatements_,"STATEMENTS"):e.removeInput("STATEMENT_INPUT"),t.Procedures.mutateCallers(this),e},compose:function(e){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var o=e.getInputTargetBlock("STACK");o;){var n=o.getFieldValue("NAME");this.arguments_.push(n),n=this.workspace.getVariable(n,""),this.argumentVarModels_.push(n),this.paramIds_.push(o.id),o=o.nextConnection&&o.nextConnection.targetBlock()}this.updateParams_(),t.Procedures.mutateCallers(this),null!==(e=e.getFieldValue("STATEMENTS"))&&this.hasStatements_!=(e="TRUE"==e)&&(e?(this.setStatements_(!0),t.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(e=this.getInput("STACK").connection,(this.statementConnection_=e.targetConnection)&&((e=e.targetBlock()).unplug(),e.bumpNeighbours_()),this.setStatements_(!1)))},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(e,o){var n=this.workspace.getVariableById(e);if(""==n.type){n=n.name;for(var r=this.workspace.getVariableById(o),i=!1,s=0;s<this.argumentVarModels_.length;s++)this.argumentVarModels_[s].getId()==e&&(this.arguments_[s]=r.name,this.argumentVarModels_[s]=r,i=!0);i&&(this.displayRenamedVar_(n,r.name),t.Procedures.mutateCallers(this))}},updateVarName:function(e){for(var o=e.name,n=!1,r=0;r<this.argumentVarModels_.length;r++)if(this.argumentVarModels_[r].getId()==e.getId()){var i=this.arguments_[r];this.arguments_[r]=o,n=!0}n&&(this.displayRenamedVar_(i,o),t.Procedures.mutateCallers(this))},displayRenamedVar_:function(e,o){if(this.updateParams_(),this.mutator.isVisible())for(var n,r=this.mutator.workspace_.getAllBlocks(!1),i=0;n=r[i];i++)"procedures_mutatorarg"==n.type&&t.Names.equals(e,n.getFieldValue("NAME"))&&n.setFieldValue(o,"NAME")},customContextMenu:function(e){if(!this.isInFlyout){var o={enabled:!0},n=this.getFieldValue("NAME");o.text=t.Msg.PROCEDURES_CREATE_DO.replace("%1",n);var r=t.utils.xml.createElement("mutation");for(r.setAttribute("name",n),n=0;n<this.arguments_.length;n++){var i=t.utils.xml.createElement("arg");i.setAttribute("name",this.arguments_[n]),r.appendChild(i)}if((n=t.utils.xml.createElement("block")).setAttribute("type",this.callType_),n.appendChild(r),o.callback=t.ContextMenu.callbackFactory(this,n),e.push(o),!this.isCollapsed())for(n=0;n<this.argumentVarModels_.length;n++)(o={enabled:!0}).text=t.Msg.VARIABLES_SET_CREATE_GET.replace("%1",(r=this.argumentVarModels_[n]).name),r=t.Variables.generateVariableFieldDom(r),(i=t.utils.xml.createElement("block")).setAttribute("type","variables_get"),i.appendChild(r),o.callback=t.ContextMenu.callbackFactory(this,i),e.push(o)}},callType_:"procedures_callnoreturn"},t.Blocks.procedures_defreturn={init:function(){var e=new t.FieldTextInput("",t.Procedures.rename);e.setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(t.ALIGN_RIGHT).appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new t.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(t.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:t.Blocks.procedures_defnoreturn.setStatements_,updateParams_:t.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:t.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:t.Blocks.procedures_defnoreturn.domToMutation,decompose:t.Blocks.procedures_defnoreturn.decompose,compose:t.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:t.Blocks.procedures_defnoreturn.getVars,getVarModels:t.Blocks.procedures_defnoreturn.getVarModels,renameVarById:t.Blocks.procedures_defnoreturn.renameVarById,updateVarName:t.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:t.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:t.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},t.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(t.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(t.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new t.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1},onchange:function(e){if(this.workspace&&!this.workspace.isFlyout&&(e.type==t.Events.BLOCK_DELETE||e.type==t.Events.BLOCK_CREATE)){var o=this.workspace.getAllBlocks(),n=this.workspace.getAllVariables();if(e.type==t.Events.BLOCK_DELETE){e=[];for(var r=0;r<o.length;r+=1)o[r].getFieldValue("NAME")&&e.push(o[r].getFieldValue("NAME"));for(o=0;o<n.length;o+=1)-1==e.indexOf(n[o].name)&&this.workspace.deleteVariableById(n[o].getId())}else if(e.type==t.Events.BLOCK_CREATE&&(n=this.workspace.getBlockById(e.blockId)).getField("NAME")&&(r=n.getFieldValue("NAME"),(e=this.workspace.getVariable(r))||(e=this.workspace.createVariable(r)),!n.previousConnection.isConnected()&&!n.nextConnection.isConnected()))for(r=0;r<o.length;r+=1)if(n.id!=o[r].id&&o[r].getFieldValue("NAME")==e.name){r=t.Variables.generateUniqueName(this.workspace),e=this.workspace.createVariable(r),n.setFieldValue(e.name,"NAME");break}}}},t.Blocks.procedures_mutatorarg={init:function(){var e=new t.FieldTextInput("x",this.validator_);e.oldShowEditorFn_=e.showEditor_,e.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(t.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(e,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,e.onFinishEditing_=this.deleteIntermediateVars_,e.createdVariables_=[],e.onFinishEditing_("x")},validator_:function(e){var o=t.Mutator.findParentWs(this.getSourceBlock().workspace);if(!(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;for(var n=this.getSourceBlock().workspace.getAllBlocks(),r=0;r<n.length;r+=1)if(n[r].id!=this.getSourceBlock().id&&n[r].getFieldValue("NAME")==e)return null;return(n=o.getVariable(e,""))&&n.name!=e&&o.renameVarById(n.getId(),e),n||(n=o.createVariable(e,""))&&this.createdVariables_&&this.createdVariables_.push(n),e},deleteIntermediateVars_:function(e){var o=t.Mutator.findParentWs(this.getSourceBlock().workspace);if(o)for(var n=0;n<this.createdVariables_.length;n++){var r=this.createdVariables_[n];r.name!=e&&o.deleteVariableById(r.getId())}}},t.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField(this.id,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(e,o){t.Names.equals(e,this.getProcedureCall())&&(this.setFieldValue(o,"NAME"),this.setTooltip((this.outputConnection?t.Msg.PROCEDURES_CALLRETURN_TOOLTIP:t.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",o)))},setProcedureParameters_:function(e,o){var n=t.Procedures.getDefinition(this.getProcedureCall(),this.workspace),r=n&&n.mutator&&n.mutator.isVisible();if(r||(this.quarkConnections_={},this.quarkIds_=null),o)if(e.join("\n")==this.arguments_.join("\n"))this.quarkIds_=o;else{if(o.length!=e.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),n=this.rendered,this.rendered=!1;for(var i=0;i<this.arguments_.length;i++){var s=this.getInput("ARG"+i);s&&(this.quarkConnections_[this.quarkIds_[i]]=s=s.connection.targetConnection,r&&s&&-1==o.indexOf(this.quarkIds_[i])&&(s.disconnect(),s.getSourceBlock().bumpNeighbours_()))}for(this.arguments_=[].concat(e),this.argumentVarModels_=[],i=0;i<this.arguments_.length;i++)r=t.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[i],""),this.argumentVarModels_.push(r);if(this.updateShape_(),this.quarkIds_=o)for(i=0;i<this.arguments_.length;i++)(r=this.quarkIds_[i])in this.quarkConnections_&&(t.Mutator.reconnect(s=this.quarkConnections_[r],this,"ARG"+i)||delete this.quarkConnections_[r]);(this.rendered=n)&&this.render()}},updateShape_:function(){for(var e=0;e<this.arguments_.length;e++){var o=this.getField("ARGNAME"+e);if(o){t.Events.disable();try{o.setValue(this.arguments_[e])}finally{t.Events.enable()}}else o=new t.FieldLabel(this.arguments_[e]),this.appendValueInput("ARG"+e).setAlign(t.ALIGN_RIGHT).appendField(o,"ARGNAME"+e).init()}for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;(e=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(e.appendField(t.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),e.init()):this.getField("WITH")&&e.removeField("WITH"))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");e.setAttribute("name",this.getProcedureCall());for(var o=0;o<this.arguments_.length;o++){var n=t.utils.xml.createElement("arg");n.setAttribute("name",this.arguments_[o]),e.appendChild(n)}return e},domToMutation:function(t){var e=t.getAttribute("name");this.renameProcedure(this.getProcedureCall(),e),e=[];for(var o,n=[],r=0;o=t.childNodes[r];r++)"arg"==o.nodeName.toLowerCase()&&(e.push(o.getAttribute("name")),n.push(o.getAttribute("paramId")));this.setProcedureParameters_(e,n)},getVarModels:function(){return this.argumentVarModels_},onchange:function(e){if(this.workspace&&!this.workspace.isFlyout&&e.recordUndo)if(e.type==t.Events.BLOCK_CREATE&&-1!=e.ids.indexOf(this.id)){var o=this.getProcedureCall();if(!(o=t.Procedures.getDefinition(o,this.workspace))||o.type==this.defType_&&JSON.stringify(o.arguments_)==JSON.stringify(this.arguments_)||(o=null),!o){t.Events.setGroup(e.group),e=t.utils.xml.createElement("xml"),(o=t.utils.xml.createElement("block")).setAttribute("type",this.defType_);var n=this.getRelativeToSurfaceXY(),r=n.y+2*t.SNAP_RADIUS;o.setAttribute("x",n.x+t.SNAP_RADIUS*(this.RTL?-1:1)),o.setAttribute("y",r),n=this.mutationToDom(),o.appendChild(n),(n=t.utils.xml.createElement("field")).setAttribute("name","NAME"),n.appendChild(t.utils.xml.createTextNode(this.getProcedureCall())),o.appendChild(n),e.appendChild(o),t.Xml.domToWorkspace(e,this.workspace),t.Events.setGroup(!1)}}else e.type==t.Events.BLOCK_DELETE?(o=this.getProcedureCall(),(o=t.Procedures.getDefinition(o,this.workspace))||(t.Events.setGroup(e.group),this.dispose(!0,!1),t.Events.setGroup(!1))):e.type==t.Events.CHANGE&&"disabled"==e.element&&(o=this.getProcedureCall(),(o=t.Procedures.getDefinition(o,this.workspace))&&o.id==e.blockId&&((o=t.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),t.Events.setGroup(e.group),e.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),t.Events.setGroup(o)))},customContextMenu:function(e){if(this.workspace.isMovable()){var o={enabled:!0};o.text=t.Msg.PROCEDURES_HIGHLIGHT_DEF;var n=this.getProcedureCall(),r=this.workspace;o.callback=function(){var e=t.Procedures.getDefinition(n,r);e&&(r.centerOnBlock(e.id),e.select())},e.push(o)}},defType_:"procedures_defnoreturn"},t.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:t.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:t.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:t.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:t.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:t.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:t.Blocks.procedures_callnoreturn.domToMutation,getVarModels:t.Blocks.procedures_callnoreturn.getVarModels,onchange:t.Blocks.procedures_callnoreturn.onchange,customContextMenu:t.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},t.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(t.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("value",Number(this.hasReturnValue_)),e},domToMutation:function(e){this.hasReturnValue_=1==e.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(e){if(this.workspace.isDragging&&!this.workspace.isDragging()){e=!1;var o=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(o.type)){e=!0;break}o=o.getSurroundParent()}while(o);e?("procedures_defnoreturn"==o.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=o.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(t.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},t.Blocks.texts={},t.Constants.Text={},t.Constants.Text.HUE=160,t.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),t.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[t.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[t.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[t.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[t.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[t.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(t.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(t.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),o=this.getInput("AT1").type==t.INPUT_VALUE;return e.setAttribute("at1",o),o=this.getInput("AT2").type==t.INPUT_VALUE,e.setAttribute("at2",o),e},domToMutation:function(t){var e="true"==t.getAttribute("at1");t="true"==t.getAttribute("at2"),this.updateAt_(1,e),this.updateAt_(2,t)},updateAt_:function(e,o){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),o?(this.appendValueInput("AT"+e).setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e),2==e&&t.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_GET_SUBSTRING_TAIL));var n=new t.FieldDropdown(this["WHERE_OPTIONS_"+e],(function(t){var n="FROM_START"==t||"FROM_END"==t;if(n!=o){var r=this.getSourceBlock();return r.updateAt_(e,n),r.setFieldValue(t,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(n,"WHERE"+e),1==e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},t.Blocks.text_changeCase={init:function(){var e=[[t.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[t.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[t.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(t.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new t.FieldDropdown(e),"CASE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg.TEXT_CHANGECASE_TOOLTIP)}},t.Blocks.text_trim={init:function(){var e=[[t.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[t.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[t.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(t.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new t.FieldDropdown(e),"MODE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg.TEXT_TRIM_TOOLTIP)}},t.Blocks.text_print={init:function(){this.jsonInit({message0:t.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:t.Msg.TEXT_PRINT_TOOLTIP,helpUrl:t.Msg.TEXT_PRINT_HELPURL})}},t.Blocks.text_prompt_ext={init:function(){var e=[[t.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(t.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var o=this;e=new t.FieldDropdown(e,(function(t){o.updateType_(t)})),this.appendValueInput("TEXT").appendField(e,"TYPE"),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==o.getFieldValue("TYPE")?t.Msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:function(t){this.outputConnection.setCheck("NUMBER"==t?"Number":"String")},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("type",this.getFieldValue("TYPE")),e},domToMutation:function(t){this.updateType_(t.getAttribute("type"))}},t.Blocks.text_prompt={init:function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN);var e=[[t.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],o=this;this.setHelpUrl(t.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),e=new t.FieldDropdown(e,(function(t){o.updateType_(t)})),this.appendDummyInput().appendField(e,"TYPE").appendField(this.newQuote_(!0)).appendField(new t.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==o.getFieldValue("TYPE")?t.Msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:t.Blocks.text_prompt_ext.updateType_,mutationToDom:t.Blocks.text_prompt_ext.mutationToDom,domToMutation:t.Blocks.text_prompt_ext.domToMutation},t.Blocks.text_count={init:function(){this.jsonInit({message0:t.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_COUNT_TOOLTIP,helpUrl:t.Msg.TEXT_COUNT_HELPURL})}},t.Blocks.text_replace={init:function(){this.jsonInit({message0:t.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:t.Msg.TEXT_REPLACE_HELPURL})}},t.Blocks.text_reverse={init:function(){this.jsonInit({message0:t.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:t.Msg.TEXT_REVERSE_HELPURL})}},t.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(t){for(var e,o=0;e=this.inputList[o];o++)for(var n,r=0;n=e.fieldRow[r];r++)if(t==n.name)return e.insertFieldAt(r,this.newQuote_(!0)),void e.insertFieldAt(r+2,this.newQuote_(!1));console.warn('field named "'+t+'" not found in '+this.toDevString())},newQuote_:function(e){return new t.FieldImage((e=this.RTL?!e:e)?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,e?"":"")}},t.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},t.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(t){this.itemCount_=parseInt(t.getAttribute("items"),10),this.updateShape_()},decompose:function(t){var e=t.newBlock("text_create_join_container");e.initSvg();for(var o=e.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var r=t.newBlock("text_create_join_item");r.initSvg(),o.connect(r.previousConnection),o=r.nextConnection}return e},compose:function(e){var o=e.getInputTargetBlock("STACK");for(e=[];o;)e.push(o.valueConnection_),o=o.nextConnection&&o.nextConnection.targetBlock();for(o=0;o<this.itemCount_;o++){var n=this.getInput("ADD"+o).connection.targetConnection;n&&-1==e.indexOf(n)&&n.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),o=0;o<this.itemCount_;o++)t.Mutator.reconnect(e[o],this,"ADD"+o)},saveConnections:function(t){t=t.getInputTargetBlock("STACK");for(var e=0;t;){var o=this.getInput("ADD"+e);t.valueConnection_=o&&o.connection.targetConnection,e++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var o=this.appendValueInput("ADD"+e);0==e&&o.appendField(t.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++}},t.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new t.Mutator(["text_create_join_item"]))},t.Extensions.register("text_append_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),t.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var e=this;this.setTooltip((function(){return t.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",e.workspace.options.oneBasedIndex?"0":"-1")}))},t.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("at",!!this.isAt_),e},domToMutation:function(t){t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateAt_:function(e){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),e&&(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)),t.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_CHARAT_TAIL)),this.isAt_=e}},t.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator((function(t){(t="FROM_START"==t||"FROM_END"==t)!=this.isAt_&&this.getSourceBlock().updateAt_(t)})),this.updateAt_(!0);var e=this;this.setTooltip((function(){var o=e.getFieldValue("WHERE"),n=t.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"==o||"FROM_END"==o)&&(o="FROM_START"==o?t.Msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(n+="  "+o.replace("%1",e.workspace.options.oneBasedIndex?"#1":"#0")),n}))},t.Extensions.register("text_indexOf_tooltip",t.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION),t.Extensions.register("text_quotes",t.Constants.Text.TEXT_QUOTES_EXTENSION),t.Extensions.registerMutator("text_join_mutator",t.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,t.Constants.Text.TEXT_JOIN_EXTENSION),t.Extensions.registerMutator("text_charAt_mutator",t.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,t.Constants.Text.TEXT_CHARAT_EXTENSION),t.Blocks.variables={},t.Constants.Variables={},t.Constants.Variables.HUE=330,t.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),t.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(e){if(this.isInFlyout)"variables_get"!=this.type&&"variables_get_reporter"!=this.type||(o={text:t.Msg.RENAME_VARIABLE,enabled:!0,callback:t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},i=this.getField("VAR").getText(),r={text:t.Msg.DELETE_VARIABLE.replace("%1",i),enabled:!0,callback:t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},e.unshift(o),e.unshift(r));else{if("variables_get"==this.type)var o="variables_set",n=t.Msg.VARIABLES_GET_CREATE_SET;else o="variables_get",n=t.Msg.VARIABLES_SET_CREATE_GET;var r={enabled:0<this.workspace.remainingCapacity()},i=this.getField("VAR").getText();r.text=n.replace("%1",i),(n=t.utils.xml.createElement("field")).setAttribute("name","VAR"),n.appendChild(t.utils.xml.createTextNode(i)),(i=t.utils.xml.createElement("block")).setAttribute("type",o),i.appendChild(n),r.callback=t.ContextMenu.callbackFactory(this,i),e.push(r)}}},t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=function(e){return function(){var o=e.workspace,n=e.getField("VAR").getVariable();t.Variables.renameVariable(o,n)}},t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=function(t){return function(){var e=t.workspace,o=t.getField("VAR").getVariable();e.deleteVariableById(o.getId()),e.refreshToolboxSelection()}},t.Extensions.registerMixin("contextMenu_variableSetterGetter",t.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),t.Constants.VariablesDynamic={},t.Constants.VariablesDynamic.HUE=310,t.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),t.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(e){if(this.isInFlyout)"variables_get_dynamic"!=this.type&&"variables_get_reporter_dynamic"!=this.type||(o={text:t.Msg.RENAME_VARIABLE,enabled:!0,callback:t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},s=this.getField("VAR").getText(),i={text:t.Msg.DELETE_VARIABLE.replace("%1",s),enabled:!0,callback:t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},e.unshift(o),e.unshift(i));else{var o=this.getFieldValue("VAR"),n=this.workspace.getVariableById(o).type;if("variables_get_dynamic"==this.type){o="variables_set_dynamic";var r=t.Msg.VARIABLES_GET_CREATE_SET}else o="variables_get_dynamic",r=t.Msg.VARIABLES_SET_CREATE_GET;var i={enabled:0<this.workspace.remainingCapacity()},s=this.getField("VAR").getText();i.text=r.replace("%1",s),(r=t.utils.xml.createElement("field")).setAttribute("name","VAR"),r.setAttribute("variabletype",n),r.appendChild(t.utils.xml.createTextNode(s)),(s=t.utils.xml.createElement("block")).setAttribute("type",o),s.appendChild(r),i.callback=t.ContextMenu.callbackFactory(this,s),e.push(i)}},onchange:function(e){e=this.getFieldValue("VAR"),e=t.Variables.getVariable(this.workspace,e),"variables_get_dynamic"==this.type?this.outputConnection.setCheck(e.type):this.getInput("VALUE").connection.setCheck(e.type)}},t.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(e){return function(){var o=e.workspace,n=e.getField("VAR").getVariable();t.Variables.renameVariable(o,n)}},t.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(t){return function(){var e=t.workspace,o=t.getField("VAR").getVariable();e.deleteVariableById(o.getId()),e.refreshToolboxSelection()}},t.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",t.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),t.Blocks})?n.apply(e,r):n)||(t.exports=i)},VMpS:function(t,e,o){var n,r,i;r=[o("LdxB")],void 0===(i="function"==typeof(n=function(t){"use strict";return t})?n.apply(e,r):n)||(t.exports=i)},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},crnd:function(t,e){function o(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}o.keys=function(){return[]},o.resolve=o,t.exports=o,o.id="crnd"},"hN/g":function(t,e,o){"use strict";o.r(e),o("0TWp")},huE1:function(t,e){Prism.languages.c=Prism.languages.extend("clike",{"class-name":{pattern:/(\b(?:enum|struct)\s+)\w+/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/,number:/(?:\b0x(?:[\da-f]+\.?[\da-f]*|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?)[ful]*/i}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+(?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(?:<.+?>|("|')(?:\\?.)+?\2)/,lookbehind:!0},directive:{pattern:/(#\s*)\b(?:define|defined|elif|else|endif|error|ifdef|ifndef|if|import|include|line|pragma|undef|using)\b/,lookbehind:!0,alias:"keyword"}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean},jB0H:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;factory=function(){var self=this,$jscomp=$jscomp||{};$jscomp.scope={};var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(t){return void 0!==t},goog.isString=function(t){return"string"==typeof t},goog.isBoolean=function(t){return"boolean"==typeof t},goog.isNumber=function(t){return"number"==typeof t},goog.exportPath_=function(t,e,o){(t=t.split("."))[0]in(o=o||goog.global)||void 0===o.execScript||o.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)!t.length&&goog.isDef(e)?o[n]=e:o=o[n]&&o[n]!==Object.prototype[n]?o[n]:o[n]={}},goog.define=function(t,e){var o=e;if(!COMPILED){var n=goog.global.CLOSURE_UNCOMPILED_DEFINES,r=goog.global.CLOSURE_DEFINES;n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,t)?o=n[t]:r&&void 0===r.nodeType&&Object.prototype.hasOwnProperty.call(r,t)&&(o=r[t])}return o},goog.FEATURESET_YEAR=2012,goog.DEBUG=!1,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(t){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');goog.constructNamespace_(t)},goog.constructNamespace_=function(t,e){if(!COMPILED){delete goog.implicitNamespaces_[t];for(var o=t;(o=o.substring(0,o.lastIndexOf(".")))&&!goog.getObjectByName(o);)goog.implicitNamespaces_[o]=!0}goog.exportPath_(t,e)},goog.getScriptNonce=function(t){return t&&t!=goog.global?goog.getScriptNonce_(t.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(t)?t:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(t){if(!goog.isString(t)||!t||-1==t.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+t+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=t,!COMPILED){if(goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');delete goog.implicitNamespaces_[t]}},goog.module.get=function(t){return goog.module.getInternal_(t)},goog.module.getInternal_=function(t){if(!COMPILED){if(t in goog.loadedModules_)return goog.loadedModules_[t].exports;if(!goog.implicitNamespaces_[t])return null!=(t=goog.getObjectByName(t))?t:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var t=goog.global.$jscomp;return!!t&&"function"==typeof t.getCurrentModulePath&&!!t.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(t){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(t in goog.loadedModules_)throw Error('Module with namespace "'+t+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=t;else{var e=goog.global.$jscomp;if(!e||"function"!=typeof e.getCurrentModulePath)throw Error('Module with namespace "'+t+'" has been loaded incorrectly.');e=e.require(e.getCurrentModulePath()),goog.loadedModules_[t]={exports:e,type:goog.ModuleType.ES6,moduleId:t}}},goog.setTestOnly=function(t){if(goog.DISALLOW_TEST_ONLY_CODE)throw t=t||"",Error("Importing test-only code into non-debug environment"+(t?": "+t:"."))},goog.forwardDeclare=function(t){},COMPILED||(goog.isProvided_=function(t){return t in goog.loadedModules_||!goog.implicitNamespaces_[t]&&goog.isDefAndNotNull(goog.getObjectByName(t))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(t,e){for(var o=t.split("."),n=e||goog.global,r=0;r<o.length;r++)if(!goog.isDefAndNotNull(n=n[o[r]]))return null;return n},goog.globalize=function(t,e){var o,n=e||goog.global;for(o in t)n[o]=t[o]},goog.addDependency=function(t,e,o,n){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(t,e,o,n)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(t){goog.global.console&&goog.global.console.error(t)},goog.require=function(t){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(t),goog.isProvided_(t)){if(goog.isInModuleLoader_())return goog.module.getInternal_(t)}else if(goog.ENABLE_DEBUG_LOADER){var e=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(t)}finally{goog.moduleLoaderState_=e}}return null}},goog.requireType=function(t){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(t){t.instance_=void 0,t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(t){return"(function(){"+t+"\n;})();\n"},goog.loadModule=function(t){var e=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(t))var o=t.call(void 0,{});else{if(!goog.isString(t))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(t=goog.workaroundSafari10EvalBug(t)),o=goog.loadModuleFromSource_.call(void 0,t)}var n=goog.moduleLoaderState_.moduleName;if(!goog.isString(n)||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,o):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof o&&null!=o&&Object.seal(o),goog.loadedModules_[n]={exports:o,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=e}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(t){t=t.split("/");for(var e=0;e<t.length;)"."==t[e]?t.splice(e,1):e&&".."==t[e]&&t[e-1]&&".."!=t[e-1]?t.splice(--e,2):e++;return t.join("/")},goog.loadFileSync_=function(t){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(t);try{var e=new goog.global.XMLHttpRequest;return e.open("get",t,!1),e.send(),0==e.status||200==e.status?e.responseText:null}catch(o){return null}},goog.transpile_=function(t,e,o){var n=goog.global.$jscomp;n||(goog.global.$jscomp=n={});var r=n.transpile;if(!r){var i=goog.basePath+goog.TRANSPILER,s=goog.loadFileSync_(i);if(s){if((function(){(0,eval)(s+"\n//# sourceURL="+i)}).call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,r=(n=goog.global.$jscomp).transpile}}return r||(r=n.transpile=function(t,e){return goog.logToConsole_(e+" requires transpilation but no transpiler was found."),t}),r(t,e,o)},goog.typeOf=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var o=Object.prototype.toString.call(t);if("[object Window]"==o)return"object";if("[object Array]"==o||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==o||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},goog.isNull=function(t){return null===t},goog.isDefAndNotNull=function(t){return null!=t},goog.isArray=function(t){return"array"==goog.typeOf(t)},goog.isArrayLike=function(t){var e=goog.typeOf(t);return"array"==e||"object"==e&&"number"==typeof t.length},goog.isDateLike=function(t){return goog.isObject(t)&&"function"==typeof t.getFullYear},goog.isFunction=function(t){return"function"==goog.typeOf(t)},goog.isObject=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},goog.getUid=function(t){return t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]},goog.removeUid=function(t){null!==t&&"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_);try{delete t[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(t){var e=goog.typeOf(t);if("object"==e||"array"==e){if("function"==typeof t.clone)return t.clone();for(var o in e="array"==e?[]:{},t)e[o]=goog.cloneObject(t[o]);return e}return t},goog.bindNative_=function(t,e,o){return t.call.apply(t.bind,arguments)},goog.bindJs_=function(t,e,o){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,n),t.apply(e,o)}}return function(){return t.apply(e,arguments)}},goog.bind=function(t,e,o){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var o=Array.prototype.slice.call(arguments,1);return function(){var e=o.slice();return e.push.apply(e,arguments),t.apply(this,e)}},goog.mixin=function(t,e){for(var o in e)t[o]=e[o]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(t){if(goog.global.execScript)goog.global.execScript(t,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(n){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(n){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(t);else{var e=goog.global.document,o=e.createElement("SCRIPT");o.type="text/javascript",o.defer=!1,o.appendChild(e.createTextNode(t)),e.head.appendChild(o),e.head.removeChild(o)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(t,e){if("."==String(t).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+t);var o=function(t){return goog.cssNameMapping_[t]||t},n=function(t){t=t.split("-");for(var e=[],n=0;n<t.length;n++)e.push(o(t[n]));return e.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?o:n:function(t){return t},n=e?t+"-"+n(e):n(t),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(n):n},goog.setCssNameMapping=function(t,e){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=e},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(t,e){return e&&(t=t.replace(/\{\$([^}]+)}/g,(function(t,o){return null!=e&&o in e?e[o]:t}))),t},goog.getMsgWithFallback=function(t,e){return t},goog.exportSymbol=function(t,e,o){goog.exportPath_(t,e,o)},goog.exportProperty=function(t,e,o){t[e]=o},goog.inherits=function(t,e){function o(){}o.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new o,t.prototype.constructor=t,t.base=function(t,o,n){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return e.prototype[o].apply(t,r)}},goog.base=function(t,e,o){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(void 0!==n.superClass_){for(var r=Array(arguments.length-1),i=1;i<arguments.length;i++)r[i-1]=arguments[i];return n.superClass_.constructor.apply(t,r)}if("string"!=typeof e&&"symbol"!=typeof e)throw Error("method names provided to goog.base must be a string or a symbol");for(r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];i=!1;for(var s=t.constructor.prototype;s;s=Object.getPrototypeOf(s))if(s[e]===n)i=!0;else if(i)return s[e].apply(t,r);if(t[e]===n)return t.constructor.prototype[e].apply(t,r);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(t){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");t.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(t,e){var o=e.constructor,n=e.statics;return o&&o!=Object.prototype.constructor||(o=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),o=goog.defineClass.createSealingConstructor_(o,t),t&&goog.inherits(o,t),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(o.prototype,e),null!=n&&(n instanceof Function?n(o):goog.defineClass.applyProperties_(o,n)),o},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(t,e){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return t;var o=!goog.defineClass.isUnsealable_(e),n=function(){var e=t.apply(this,arguments)||this;return e[goog.UID_PROPERTY_]=e[goog.UID_PROPERTY_],this.constructor===n&&o&&Object.seal instanceof Function&&Object.seal(e),e};return n},goog.defineClass.isUnsealable_=function(t){return t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)o=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},goog.tagUnsealableClass=function(t){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var t=goog.global.document;return null!=t&&"write"in t},goog.isDocumentLoading_=function(){var t=goog.global.document;return t.attachEvent?"complete"!=t.readyState:"loading"==t.readyState},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var t=goog.global.document,e=t.currentScript;for(e=(t=e?[e]:t.getElementsByTagName("SCRIPT")).length-1;0<=e;--e){var o=t[e].src,n=o.lastIndexOf("?");if("base.js"==o.substr((n=-1==n?o.length:n)-7,7)){goog.basePath=o.substr(0,n-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,o){e?d[t]=!0:o()?(c=t,d[t]=!1):e=d[t]=!0}function b(a){try{return!!eval(a)}catch(h){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",(function(){return b("[1,].length==1")})),a("es6",(function(){return!f.match(/Edge\/(\d+)(\.\d)*/i)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')})),a("es7",(function(){return b("2 ** 2 == 4")})),a("es8",(function(){return b("async () => 1, true")})),a("es9",(function(){return b("({...rest} = {}), true")})),a("es_next",(function(){return!1})),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(t,e){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var o=this.createRequiresTranspilation_();this.requiresTranspilation_=o.map,this.transpilationTarget_=this.transpilationTarget_||o.target}if(t in this.requiresTranspilation_)return!!this.requiresTranspilation_[t]||!(!goog.inHtmlDocument_()||"es6"!=e||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+t)},goog.Transpiler.prototype.transpile=function(t,e){return goog.transpile_(t,e,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(t){return t.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(t,e){function o(){n&&(goog.global.setTimeout(n,0),n=null)}var n=e;if(t.length){for(var r=[],i=0;i<t.length;i++){var s=this.getPathFromDeps_(t[i]);if(!s)throw Error("Unregonized namespace: "+t[i]);r.push(this.dependencies_[s])}s=goog.require;var l=0;for(i=0;i<t.length;i++)s(t[i]),r[i].onLoad((function(){++l==t.length&&o()}))}else o()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(t,e){var o=this.getPathFromDeps_(t);if(o&&(e||this.areDepsLoaded_(this.dependencies_[o].requires))){var n=this.deferredCallbacks_[o];n&&(delete this.deferredCallbacks_[o],n())}},goog.DebugLoader_.prototype.setDependencyFactory=function(t){this.factory_=t},goog.DebugLoader_.prototype.load_=function(t){if(!this.getPathFromDeps_(t))throw goog.logToConsole_(t="goog.require could not find: "+t),Error(t);var e=this,o=[],n=function(t){var r=e.getPathFromDeps_(t);if(!r)throw Error("Bad dependency path or symbol: "+t);if(!e.written_[r]){for(e.written_[r]=!0,t=e.dependencies_[r],r=0;r<t.requires.length;r++)goog.isProvided_(t.requires[r])||n(t.requires[r]);o.push(t)}};n(t),t=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(o),this.paused_||t||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var t=this,e=this.paused_;this.depsToLoad_.length&&!e;)!function(){var o=!1,n=t.depsToLoad_.shift(),r=!1;t.loading_(n);var i={pause:function(){if(o)throw Error("Cannot call pause after the call to load.");e=!0},resume:function(){o?t.resume_():e=!1},loaded:function(){if(r)throw Error("Double call to loaded.");r=!0,t.loaded_(n)},pending:function(){for(var e=[],o=0;o<t.loadingDeps_.length;o++)e.push(t.loadingDeps_[o]);return e},setModuleState:function(t){goog.moduleLoaderState_={type:t,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(t,e,o){o&&(goog.loadedModules_[o]={exports:e,type:goog.ModuleType.ES6,moduleId:o||""})},registerGoogModuleExports:function(t,e){goog.loadedModules_[t]={exports:e,type:goog.ModuleType.GOOG,moduleId:t}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(e){if(o)throw Error("Cannot register with defer after the call to load.");t.defer_(n,e)},areDepsLoaded:function(){return t.areDepsLoaded_(n.requires)}};try{n.load(i)}finally{o=!0}}();e&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(t){this.loadingDeps_.push(t)},goog.DebugLoader_.prototype.loaded_=function(t){for(var e=0;e<this.loadingDeps_.length;e++)if(this.loadingDeps_[e]==t){this.loadingDeps_.splice(e,1);break}for(e=0;e<this.deferredQueue_.length;e++)if(this.deferredQueue_[e]==t.path){this.deferredQueue_.splice(e,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);t.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(t){for(var e=0;e<t.length;e++){var o=this.getPathFromDeps_(t[e]);if(!o||!(o in this.deferredCallbacks_||goog.isProvided_(t[e])))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(t){return t in this.idToPath_?this.idToPath_[t]:t in this.dependencies_?t:null},goog.DebugLoader_.prototype.defer_=function(t,e){this.deferredCallbacks_[t.path]=e,this.deferredQueue_.push(t.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(t,e,o){},goog.LoadController.prototype.setModuleState=function(t){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(t){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(t,e,o,n,r){this.path=t,this.relativePath=e,this.provides=o,this.requires=n,this.loadFlags=r,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var t=this.path,e=t.indexOf("://");return 0<=e&&0<=(e=(t=t.substring(e+3)).indexOf("/"))&&(t=t.substring(e+1)),t},goog.Dependency.prototype.onLoad=function(t){this.loaded_?t():this.loadCallbacks_.push(t)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var t=this.loadCallbacks_;this.loadCallbacks_=[];for(var e=0;e<t.length;e++)t[e]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(t){var e=Math.random().toString(32);return goog.Dependency.callbackMap_[e]=t,e},goog.Dependency.unregisterCallback_=function(t){delete goog.Dependency.callbackMap_[t]},goog.Dependency.callback_=function(t,e){if(!(t in goog.Dependency.callbackMap_))throw Error("Callback key "+t+" does not exist (was base.js loaded more than once?).");for(var o=goog.Dependency.callbackMap_[t],n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);o.apply(void 0,n)},goog.Dependency.prototype.load=function(t){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?t.loaded():t.pause();else if(goog.inHtmlDocument_()){var e=goog.global.document;if("complete"==e.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void t.loaded();throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var o=goog.Dependency.registerCallback_((function(e){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=e.readyState||(goog.Dependency.unregisterCallback_(o),t.loaded())})),n=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";n='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+o+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+n+"><\/script>",e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}else{var r=e.createElement("script");r.defer=goog.Dependency.defer_,r.async=!1,r.type="text/javascript",(n=goog.getScriptNonce())&&r.setAttribute("nonce",n),goog.DebugLoader_.IS_OLD_IE_?(t.pause(),r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(t.loaded(),t.resume())}):r.onload=function(){r.onload=null,t.loaded()},r.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,e.head.appendChild(r)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),t.loaded()):t.pause()},goog.Es6ModuleDependency=function(t,e,o,n,r){goog.Dependency.call(this,t,e,o,n,r)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(t){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?t.loaded():t.pause();else if(goog.inHtmlDocument_()){var e=goog.global.document,o=this;if(goog.isDocumentLoading_()){var n=function(t,o){var n=o?'<script type="module" crossorigin>'+o+"<\/script>":'<script type="module" crossorigin src="'+t+'"><\/script>';e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)};goog.Dependency.defer_=!0}else n=function(t,o){var n=e.createElement("script");n.defer=!0,n.async=!1,n.type="module",n.setAttribute("crossorigin",!0);var r=goog.getScriptNonce();r&&n.setAttribute("nonce",r),o?n.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(o):o:n.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(t):t,e.head.appendChild(n)};var r=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(r),t.setModuleState(goog.ModuleType.ES6)}));n(void 0,'goog.Dependency.callback_("'+r+'")'),n(this.path,void 0);var i=goog.Dependency.registerCallback_((function(e){goog.Dependency.unregisterCallback_(i),t.registerEs6ModuleExports(o.path,e,goog.moduleLoaderState_.moduleName)}));n(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+i+'", m)');var s=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(s),t.clearModuleState(),t.loaded()}));n(void 0,'goog.Dependency.callback_("'+s+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),t.pause()},goog.TransformedDependency=function(t,e,o,n,r){goog.Dependency.call(this,t,e,o,n,r),this.contents_=null,this.lazyFetch_=!(goog.inHtmlDocument_()&&"noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(t){function e(){n.contents_=goog.loadFileSync_(n.path),n.contents_&&(n.contents_=n.transform(n.contents_),n.contents_&&(n.contents_+="\n//# sourceURL="+n.path))}function o(){if(n.lazyFetch_&&e(),n.contents_){r&&t.setModuleState(goog.ModuleType.ES6);try{var o=n.contents_;if(n.contents_=null,goog.globalEval(o),r)var i=goog.moduleLoaderState_.moduleName}finally{r&&t.clearModuleState()}r&&goog.global.$jscomp.require.ensure([n.getPathName()],(function(){t.registerEs6ModuleExports(n.path,goog.global.$jscomp.require(n.getPathName()),i)})),t.loaded()}}var n=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)e(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,t.loaded()):t.pause();else{var r=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||e();var i=1<t.pending().length,s=i&&goog.DebugLoader_.IS_OLD_IE_;if(i=goog.Dependency.defer_&&(i||goog.isDocumentLoading_()),s||i)t.defer((function(){o()}));else{var l=goog.global.document;if(s=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,r&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!s){goog.Dependency.defer_=!0,t.pause();var a=l.onreadystatechange;l.onreadystatechange=function(){"interactive"==l.readyState&&(l.onreadystatechange=a,o(),t.resume()),goog.isFunction(a)&&a.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?function(){var t=goog.global.document,e=goog.Dependency.registerCallback_((function(){goog.Dependency.unregisterCallback_(e),o()})),n='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+e+'");')+"<\/script>";t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}():o()}}},goog.TransformedDependency.prototype.transform=function(t){},goog.TranspiledDependency=function(t,e,o,n,r,i){goog.TransformedDependency.call(this,t,e,o,n,r),this.transpiler=i},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(t){return this.transpiler.transpile(t,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(t,e,o,n,r){goog.TransformedDependency.call(this,t,e,o,n,r)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(t){return t},goog.GoogModuleDependency=function(t,e,o,n,r,i,s){goog.TransformedDependency.call(this,t,e,o,n,r),this.needsTranspile_=i,this.transpiler_=s},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(t){return this.needsTranspile_&&(t=this.transpiler_.transpile(t,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+t+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(t,e,o,n){e=e||[],t=t.replace(/\\/g,"/");var r=goog.normalizePath_(goog.basePath+t);for(n&&"boolean"!=typeof n||(n=n?{module:goog.ModuleType.GOOG}:{}),o=this.factory_.createDependency(r,t,e,o,n,goog.transpiler_.needsTranspile(n.lang||"es3",n.module)),this.dependencies_[r]=o,o=0;o<e.length;o++)this.idToPath_[e[o]]=r;this.idToPath_[t]=r},goog.DependencyFactory=function(t){this.transpiler=t},goog.DependencyFactory.prototype.createDependency=function(t,e,o,n,r,i){return r.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(t,e,o,n,r,i,this.transpiler):i?new goog.TranspiledDependency(t,e,o,n,r,this.transpiler):r.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(t,e,o,n,r):new goog.Es6ModuleDependency(t,e,o,n,r):new goog.Dependency(t,e,o,n,r)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(t){goog.debugLoader_.setDependencyFactory(t)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(t,e){goog.debugLoader_.bootstrap(t,e)}),goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(t){return t},goog.createTrustedTypesPolicy=function(t){var e=null;if("undefined"==typeof TrustedTypes||!TrustedTypes.createPolicy)return e;try{e=TrustedTypes.createPolicy(t,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(o){goog.logToConsole_(o.message)}return e},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null,goog.debug={},goog.debug.Error=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(t,e){goog.debug.Error.call(this,goog.asserts.subs_(t,e)),this.messagePattern=t},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(t){throw t},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(t,e){for(var o=t.split("%s"),n="",r=o.length-1,i=0;i<r;i++)n+=o[i]+(i<e.length?e[i]:"%s");return n+o[r]},goog.asserts.doAssertFailure_=function(t,e,o,n){var r="Assertion failed";if(o){r+=": "+o;var i=n}else t&&(r+=": "+t,i=e);t=new goog.asserts.AssertionError(""+r,i||[]),goog.asserts.errorHandler_(t)},goog.asserts.setErrorHandler=function(t){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=t)},goog.asserts.assert=function(t,e,o){return goog.asserts.ENABLE_ASSERTS&&!t&&goog.asserts.doAssertFailure_("",null,e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertExists=function(t,e,o){return goog.asserts.ENABLE_ASSERTS&&null==t&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.fail=function(t,e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(t,e,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(t)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertString=function(t,e,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(t)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertFunction=function(t,e,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(t)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObject=function(t,e,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(t)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertArray=function(t,e,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(t)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertBoolean=function(t,e,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(t)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertElement=function(t,e,o){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(t)&&t.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertInstanceof=function(t,e,o,n){return!goog.asserts.ENABLE_ASSERTS||t instanceof e||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(e),goog.asserts.getType_(t)],o,Array.prototype.slice.call(arguments,3)),t},goog.asserts.assertFinite=function(t,e,o){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof t&&isFinite(t)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var t in Object.prototype)goog.asserts.fail(t+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):null===t?"null":typeof t},goog.debug.entryPointRegistry={},goog.debug.EntryPointMonitor=function(){},goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(t){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=t,goog.debug.entryPointRegistry.monitorsMayExist_)for(var e=goog.debug.entryPointRegistry.monitors_,o=0;o<e.length;o++)t(goog.bind(e[o].wrap,e[o]))},goog.debug.entryPointRegistry.monitorAll=function(t){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var e=goog.bind(t.wrap,t),o=0;o<goog.debug.entryPointRegistry.refList_.length;o++)goog.debug.entryPointRegistry.refList_[o](e);goog.debug.entryPointRegistry.monitors_.push(t)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(t){var e=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(t==e[e.length-1],"Only the most recent monitor can be unwrapped."),t=goog.bind(t.unwrap,t);for(var o=0;o<goog.debug.entryPointRegistry.refList_.length;o++)goog.debug.entryPointRegistry.refList_[o](t);e.length--},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=!1,goog.array.peek=function(t){return t[t.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(t,e,o){return goog.asserts.assert(null!=t.length),Array.prototype.indexOf.call(t,e,o)}:function(t,e,o){if(o=null==o?0:0>o?Math.max(0,t.length+o):o,goog.isString(t))return goog.isString(e)&&1==e.length?t.indexOf(e,o):-1;for(;o<t.length;o++)if(o in t&&t[o]===e)return o;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(t,e,o){return goog.asserts.assert(null!=t.length),Array.prototype.lastIndexOf.call(t,e,null==o?t.length-1:o)}:function(t,e,o){if(0>(o=null==o?t.length-1:o)&&(o=Math.max(0,t.length+o)),goog.isString(t))return goog.isString(e)&&1==e.length?t.lastIndexOf(e,o):-1;for(;0<=o;o--)if(o in t&&t[o]===e)return o;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(t,e,o){goog.asserts.assert(null!=t.length),Array.prototype.forEach.call(t,e,o)}:function(t,e,o){for(var n=t.length,r=goog.isString(t)?t.split(""):t,i=0;i<n;i++)i in r&&e.call(o,r[i],i,t)},goog.array.forEachRight=function(t,e,o){var n=t.length,r=goog.isString(t)?t.split(""):t;for(--n;0<=n;--n)n in r&&e.call(o,r[n],n,t)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(t,e,o){return goog.asserts.assert(null!=t.length),Array.prototype.filter.call(t,e,o)}:function(t,e,o){for(var n=t.length,r=[],i=0,s=goog.isString(t)?t.split(""):t,l=0;l<n;l++)if(l in s){var a=s[l];e.call(o,a,l,t)&&(r[i++]=a)}return r},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(t,e,o){return goog.asserts.assert(null!=t.length),Array.prototype.map.call(t,e,o)}:function(t,e,o){for(var n=t.length,r=Array(n),i=goog.isString(t)?t.split(""):t,s=0;s<n;s++)s in i&&(r[s]=e.call(o,i[s],s,t));return r},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(t,e,o,n){return goog.asserts.assert(null!=t.length),n&&(e=goog.bind(e,n)),Array.prototype.reduce.call(t,e,o)}:function(t,e,o,n){var r=o;return goog.array.forEach(t,(function(o,i){r=e.call(n,r,o,i,t)})),r},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(t,e,o,n){return goog.asserts.assert(null!=t.length),goog.asserts.assert(null!=e),n&&(e=goog.bind(e,n)),Array.prototype.reduceRight.call(t,e,o)}:function(t,e,o,n){var r=o;return goog.array.forEachRight(t,(function(o,i){r=e.call(n,r,o,i,t)})),r},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(t,e,o){return goog.asserts.assert(null!=t.length),Array.prototype.some.call(t,e,o)}:function(t,e,o){for(var n=t.length,r=goog.isString(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(o,r[i],i,t))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(t,e,o){return goog.asserts.assert(null!=t.length),Array.prototype.every.call(t,e,o)}:function(t,e,o){for(var n=t.length,r=goog.isString(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&!e.call(o,r[i],i,t))return!1;return!0},goog.array.count=function(t,e,o){var n=0;return goog.array.forEach(t,(function(t,r,i){e.call(o,t,r,i)&&++n}),o),n},goog.array.find=function(t,e,o){return 0>(e=goog.array.findIndex(t,e,o))?null:goog.isString(t)?t.charAt(e):t[e]},goog.array.findIndex=function(t,e,o){for(var n=t.length,r=goog.isString(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(o,r[i],i,t))return i;return-1},goog.array.findRight=function(t,e,o){return 0>(e=goog.array.findIndexRight(t,e,o))?null:goog.isString(t)?t.charAt(e):t[e]},goog.array.findIndexRight=function(t,e,o){var n=t.length,r=goog.isString(t)?t.split(""):t;for(--n;0<=n;n--)if(n in r&&e.call(o,r[n],n,t))return n;return-1},goog.array.contains=function(t,e){return 0<=goog.array.indexOf(t,e)},goog.array.isEmpty=function(t){return 0==t.length},goog.array.clear=function(t){if(!goog.isArray(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0},goog.array.insert=function(t,e){goog.array.contains(t,e)||t.push(e)},goog.array.insertAt=function(t,e,o){goog.array.splice(t,o,0,e)},goog.array.insertArrayAt=function(t,e,o){goog.partial(goog.array.splice,t,o,0).apply(null,e)},goog.array.insertBefore=function(t,e,o){var n;2==arguments.length||0>(n=goog.array.indexOf(t,o))?t.push(e):goog.array.insertAt(t,e,n)},goog.array.remove=function(t,e){var o,n=goog.array.indexOf(t,e);return(o=0<=n)&&goog.array.removeAt(t,n),o},goog.array.removeLast=function(t,e){var o=goog.array.lastIndexOf(t,e);return 0<=o&&(goog.array.removeAt(t,o),!0)},goog.array.removeAt=function(t,e){return goog.asserts.assert(null!=t.length),1==Array.prototype.splice.call(t,e,1).length},goog.array.removeIf=function(t,e,o){return 0<=(e=goog.array.findIndex(t,e,o))&&(goog.array.removeAt(t,e),!0)},goog.array.removeAllIf=function(t,e,o){var n=0;return goog.array.forEachRight(t,(function(r,i){e.call(o,r,i,t)&&goog.array.removeAt(t,i)&&n++})),n},goog.array.concat=function(t){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(t){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(t){var e=t.length;if(0<e){for(var o=Array(e),n=0;n<e;n++)o[n]=t[n];return o}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(t,e){for(var o=1;o<arguments.length;o++){var n=arguments[o];if(goog.isArrayLike(n)){var r=t.length||0,i=n.length||0;t.length=r+i;for(var s=0;s<i;s++)t[r+s]=n[s]}else t.push(n)}},goog.array.splice=function(t,e,o,n){return goog.asserts.assert(null!=t.length),Array.prototype.splice.apply(t,goog.array.slice(arguments,1))},goog.array.slice=function(t,e,o){return goog.asserts.assert(null!=t.length),2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,o)},goog.array.removeDuplicates=function(t,e,o){e=e||t;var n=function(t){return goog.isObject(t)?"o"+goog.getUid(t):(typeof t).charAt(0)+t};o=o||n,n={};for(var r=0,i=0;i<t.length;){var s=t[i++],l=o(s);Object.prototype.hasOwnProperty.call(n,l)||(n[l]=!0,e[r++]=s)}e.length=r},goog.array.binarySearch=function(t,e,o){return goog.array.binarySearch_(t,o||goog.array.defaultCompare,!1,e)},goog.array.binarySelect=function(t,e,o){return goog.array.binarySearch_(t,e,!0,void 0,o)},goog.array.binarySearch_=function(t,e,o,n,r){for(var i,s=0,l=t.length;s<l;){var a=s+l>>1,u=o?e.call(r,t[a],a,t):e(n,t[a]);0<u?s=a+1:(l=a,i=!u)}return i?s:~s},goog.array.sort=function(t,e){t.sort(e||goog.array.defaultCompare)},goog.array.stableSort=function(t,e){for(var o=Array(t.length),n=0;n<t.length;n++)o[n]={index:n,value:t[n]};var r=e||goog.array.defaultCompare;for(goog.array.sort(o,(function(t,e){return r(t.value,e.value)||t.index-e.index})),n=0;n<t.length;n++)t[n]=o[n].value},goog.array.sortByKey=function(t,e,o){var n=o||goog.array.defaultCompare;goog.array.sort(t,(function(t,o){return n(e(t),e(o))}))},goog.array.sortObjectsByKey=function(t,e,o){goog.array.sortByKey(t,(function(t){return t[e]}),o)},goog.array.isSorted=function(t,e,o){e=e||goog.array.defaultCompare;for(var n=1;n<t.length;n++){var r=e(t[n-1],t[n]);if(0<r||0==r&&o)return!1}return!0},goog.array.equals=function(t,e,o){if(!goog.isArrayLike(t)||!goog.isArrayLike(e)||t.length!=e.length)return!1;var n=t.length;o=o||goog.array.defaultCompareEquality;for(var r=0;r<n;r++)if(!o(t[r],e[r]))return!1;return!0},goog.array.compare3=function(t,e,o){o=o||goog.array.defaultCompare;for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=o(t[r],e[r]);if(0!=i)return i}return goog.array.defaultCompare(t.length,e.length)},goog.array.defaultCompare=function(t,e){return t>e?1:t<e?-1:0},goog.array.inverseDefaultCompare=function(t,e){return-goog.array.defaultCompare(t,e)},goog.array.defaultCompareEquality=function(t,e){return t===e},goog.array.binaryInsert=function(t,e,o){return 0>(o=goog.array.binarySearch(t,e,o))&&(goog.array.insertAt(t,e,-(o+1)),!0)},goog.array.binaryRemove=function(t,e,o){return 0<=(e=goog.array.binarySearch(t,e,o))&&goog.array.removeAt(t,e)},goog.array.bucket=function(t,e,o){for(var n={},r=0;r<t.length;r++){var i=t[r],s=e.call(o,i,r,t);goog.isDef(s)&&(n[s]||(n[s]=[])).push(i)}return n},goog.array.toObject=function(t,e,o){var n={};return goog.array.forEach(t,(function(r,i){n[e.call(o,r,i,t)]=r})),n},goog.array.range=function(t,e,o){var n=[],r=0,i=t;if(void 0!==e&&(r=t,i=e),0>(o=o||1)*(i-r))return[];if(0<o)for(t=r;t<i;t+=o)n.push(t);else for(t=r;t>i;t+=o)n.push(t);return n},goog.array.repeat=function(t,e){for(var o=[],n=0;n<e;n++)o[n]=t;return o},goog.array.flatten=function(t){for(var e=[],o=0;o<arguments.length;o++){var n=arguments[o];if(goog.isArray(n))for(var r=0;r<n.length;r+=8192){var i=goog.array.slice(n,r,r+8192);i=goog.array.flatten.apply(null,i);for(var s=0;s<i.length;s++)e.push(i[s])}else e.push(n)}return e},goog.array.rotate=function(t,e){return goog.asserts.assert(null!=t.length),t.length&&(0<(e%=t.length)?Array.prototype.unshift.apply(t,t.splice(-e,e)):0>e&&Array.prototype.push.apply(t,t.splice(0,-e))),t},goog.array.moveItem=function(t,e,o){goog.asserts.assert(0<=e&&e<t.length),goog.asserts.assert(0<=o&&o<t.length),e=Array.prototype.splice.call(t,e,1),Array.prototype.splice.call(t,o,0,e[0])},goog.array.zip=function(t){if(!arguments.length)return[];for(var e=[],o=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<o&&(o=arguments[n].length);for(n=0;n<o;n++){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i][n]);e.push(r)}return e},goog.array.shuffle=function(t,e){for(var o=e||Math.random,n=t.length-1;0<n;n--){var r=Math.floor(o()*(n+1)),i=t[n];t[n]=t[r],t[r]=i}},goog.array.copyByIndex=function(t,e){var o=[];return goog.array.forEach(e,(function(e){o.push(t[e])})),o},goog.array.concatMap=function(t,e,o){return goog.array.concat.apply([],goog.array.map(t,e,o))},goog.debug.errorcontext={},goog.debug.errorcontext.addErrorContext=function(t,e,o){t[goog.debug.errorcontext.CONTEXT_KEY_]||(t[goog.debug.errorcontext.CONTEXT_KEY_]={}),t[goog.debug.errorcontext.CONTEXT_KEY_][e]=o},goog.debug.errorcontext.getErrorContext=function(t){return t[goog.debug.errorcontext.CONTEXT_KEY_]||{}},goog.debug.errorcontext.CONTEXT_KEY_="__closure__error__context__984382",goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(t,e){return 0==t.lastIndexOf(e,0)},goog.string.internal.endsWith=function(t,e){var o=t.length-e.length;return 0<=o&&t.indexOf(e,o)==o},goog.string.internal.caseInsensitiveStartsWith=function(t,e){return 0==goog.string.internal.caseInsensitiveCompare(e,t.substr(0,e.length))},goog.string.internal.caseInsensitiveEndsWith=function(t,e){return 0==goog.string.internal.caseInsensitiveCompare(e,t.substr(t.length-e.length,e.length))},goog.string.internal.caseInsensitiveEquals=function(t,e){return t.toLowerCase()==e.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(t){return/^[\s\xa0]*$/.test(t)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},goog.string.internal.caseInsensitiveCompare=function(t,e){var o=String(t).toLowerCase(),n=String(e).toLowerCase();return o<n?-1:o==n?0:1},goog.string.internal.newLineToBr=function(t,e){return t.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>")},goog.string.internal.htmlEscape=function(t,e){if(e)t=t.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(t))return t;-1!=t.indexOf("&")&&(t=t.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(goog.string.internal.NULL_RE_,"&#0;"))}return t},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(t,e){return goog.string.internal.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.internal.contains=function(t,e){return-1!=t.indexOf(e)},goog.string.internal.caseInsensitiveContains=function(t,e){return goog.string.internal.contains(t.toLowerCase(),e.toLowerCase())},goog.string.internal.compareVersions=function(t,e){for(var o=0,n=goog.string.internal.trim(String(t)).split("."),r=goog.string.internal.trim(String(e)).split("."),i=Math.max(n.length,r.length),s=0;0==o&&s<i;s++){var l=n[s]||"",a=r[s]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==l[0].length&&0==a[0].length)break;o=0==l[1].length?0:parseInt(l[1],10);var u=0==a[1].length?0:parseInt(a[1],10);o=goog.string.internal.compareElements_(o,u)||goog.string.internal.compareElements_(0==l[2].length,0==a[2].length)||goog.string.internal.compareElements_(l[2],a[2]),l=l[3],a=a[3]}while(0==o)}return o},goog.string.internal.compareElements_=function(t,e){return t<e?-1:t>e?1:0},goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var t=goog.labs.userAgent.util.getNavigator_();return t&&(t=t.userAgent)?t:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(t){goog.labs.userAgent.util.userAgent_=t||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(t){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(e,t)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(t){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(e,t)},goog.labs.userAgent.util.extractVersionTuples=function(t){for(var e,o=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),n=[];e=o.exec(t);)n.push([e[1],e[2],e[3]||void 0]);return n},goog.object={},goog.object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},goog.object.forEach=function(t,e,o){for(var n in t)e.call(o,t[n],n,t)},goog.object.filter=function(t,e,o){var n,r={};for(n in t)e.call(o,t[n],n,t)&&(r[n]=t[n]);return r},goog.object.map=function(t,e,o){var n,r={};for(n in t)r[n]=e.call(o,t[n],n,t);return r},goog.object.some=function(t,e,o){for(var n in t)if(e.call(o,t[n],n,t))return!0;return!1},goog.object.every=function(t,e,o){for(var n in t)if(!e.call(o,t[n],n,t))return!1;return!0},goog.object.getCount=function(t){var e,o=0;for(e in t)o++;return o},goog.object.getAnyKey=function(t){for(var e in t)return e},goog.object.getAnyValue=function(t){for(var e in t)return t[e]},goog.object.contains=function(t,e){return goog.object.containsValue(t,e)},goog.object.getValues=function(t){var e,o=[],n=0;for(e in t)o[n++]=t[e];return o},goog.object.getKeys=function(t){var e,o=[],n=0;for(e in t)o[n++]=e;return o},goog.object.getValueByKeys=function(t,e){var o=goog.isArrayLike(e),n=o?e:arguments;for(o=o?0:1;o<n.length;o++){if(null==t)return;t=t[n[o]]}return t},goog.object.containsKey=function(t,e){return null!==t&&e in t},goog.object.containsValue=function(t,e){for(var o in t)if(t[o]==e)return!0;return!1},goog.object.findKey=function(t,e,o){for(var n in t)if(e.call(o,t[n],n,t))return n},goog.object.findValue=function(t,e,o){return(e=goog.object.findKey(t,e,o))&&t[e]},goog.object.isEmpty=function(t){for(var e in t)return!1;return!0},goog.object.clear=function(t){for(var e in t)delete t[e]},goog.object.remove=function(t,e){var o;return(o=e in t)&&delete t[e],o},goog.object.add=function(t,e,o){if(null!==t&&e in t)throw Error('The object already contains the key "'+e+'"');goog.object.set(t,e,o)},goog.object.get=function(t,e,o){return null!==t&&e in t?t[e]:o},goog.object.set=function(t,e,o){t[e]=o},goog.object.setIfUndefined=function(t,e,o){return e in t?t[e]:t[e]=o},goog.object.setWithReturnValueIfNotSet=function(t,e,o){return e in t?t[e]:(o=o(),t[e]=o)},goog.object.equals=function(t,e){for(var o in t)if(!(o in e)||t[o]!==e[o])return!1;for(o in e)if(!(o in t))return!1;return!0},goog.object.clone=function(t){var e,o={};for(e in t)o[e]=t[e];return o},goog.object.unsafeClone=function(t){var e=goog.typeOf(t);if("object"==e||"array"==e){if(goog.isFunction(t.clone))return t.clone();for(var o in e="array"==e?[]:{},t)e[o]=goog.object.unsafeClone(t[o]);return e}return t},goog.object.transpose=function(t){var e,o={};for(e in t)o[t[e]]=e;return o},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(t,e){for(var o,n,r=1;r<arguments.length;r++){for(o in n=arguments[r])t[o]=n[o];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)o=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}},goog.object.create=function(t){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var o={},n=0;n<e;n+=2)o[arguments[n]]=arguments[n+1];return o},goog.object.createSet=function(t){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var o={},n=0;n<e;n++)o[arguments[n]]=!0;return o},goog.object.createImmutableView=function(t){var e=t;return Object.isFrozen&&!Object.isFrozen(t)&&(e=Object.create(t),Object.freeze(e)),e},goog.object.isImmutableView=function(t){return!!Object.isFrozen&&Object.isFrozen(t)},goog.object.getAllPropertyNames=function(t,e,o){if(!t)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(t);for(var n={};t&&(t!==Object.prototype||e)&&(t!==Function.prototype||o);){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++)n[r[i]]=!0;t=Object.getPrototypeOf(t)}return goog.object.getKeys(n)},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function t(t){return t=goog.array.find(t,n),o[t]||""}var e=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(e);e=goog.labs.userAgent.util.extractVersionTuples(e);var o={};goog.array.forEach(e,(function(t){o[t[0]]=t[1]}));var n=goog.partial(goog.object.containsKey,o);return goog.labs.userAgent.browser.isOpera()?t(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?t(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?t(["Edg"]):goog.labs.userAgent.browser.isChrome()?t(["Chrome","CriOS"]):(e=e[2])&&e[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(t){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),t)},goog.labs.userAgent.browser.getIEVersion_=function(t){var e=/rv: *([\d\.]*)/.exec(t);if(e&&e[1])return e[1];e="";var o=/MSIE +([\d\.]+)/.exec(t);if(o&&o[1])if(t=/Trident\/(\d.\d)/.exec(t),"7.0"==o[1])if(t&&t[1])switch(t[1]){case"4.0":e="8.0";break;case"5.0":e="9.0";break;case"6.0":e="10.0";break;case"7.0":e="11.0"}else e="7.0";else e=o[1];return e},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(t){if(goog.asserts.ENABLE_ASSERTS){var e=goog.dom.asserts.getWindow_(t);e&&(!t||!(t instanceof e.Location)&&t instanceof e.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(t))}return t},goog.dom.asserts.assertIsElementType_=function(t,e){if(goog.asserts.ENABLE_ASSERTS){var o=goog.dom.asserts.getWindow_(t);o&&void 0!==o[e]&&(t&&(t instanceof o[e]||!(t instanceof o.Location||t instanceof o.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,goog.dom.asserts.debugStringForType_(t)))}return t},goog.dom.asserts.assertIsHTMLAnchorElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(t){if(!goog.isObject(t))return void 0===t?"undefined":null===t?"null":typeof t;try{return t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(e){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(t){try{var e=t&&t.ownerDocument,o=e&&(e.defaultView||e.parentWindow);if((o=o||goog.global).Element&&o.Location)return o}catch(n){}return null},goog.functions={},goog.functions.constant=function(t){return function(){return t}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(t,e){return t},goog.functions.error=function(t){return function(){throw Error(t)}},goog.functions.fail=function(t){return function(){throw t}},goog.functions.lock=function(t,e){return e=e||0,function(){return t.apply(this,Array.prototype.slice.call(arguments,0,e))}},goog.functions.nth=function(t){return function(){return arguments[t]}},goog.functions.partialRight=function(t,e){var o=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);return e.push.apply(e,o),t.apply(this,e)}},goog.functions.withReturnValue=function(t,e){return goog.functions.sequence(t,goog.functions.constant(e))},goog.functions.equalTo=function(t,e){return function(o){return e?t==o:t===o}},goog.functions.compose=function(t,e){var o=arguments,n=o.length;return function(){var t;n&&(t=o[n-1].apply(this,arguments));for(var e=n-2;0<=e;e--)t=o[e].call(this,t);return t}},goog.functions.sequence=function(t){var e=arguments,o=e.length;return function(){for(var t,n=0;n<o;n++)t=e[n].apply(this,arguments);return t}},goog.functions.and=function(t){var e=arguments,o=e.length;return function(){for(var t=0;t<o;t++)if(!e[t].apply(this,arguments))return!1;return!0}},goog.functions.or=function(t){var e=arguments,o=e.length;return function(){for(var t=0;t<o;t++)if(e[t].apply(this,arguments))return!0;return!1}},goog.functions.not=function(t){return function(){return!t.apply(this,arguments)}},goog.functions.create=function(t,e){var o=function(){};return o.prototype=t.prototype,o=new o,t.apply(o,Array.prototype.slice.call(arguments,1)),o},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(t){var e,o=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(o||(e=t(),o=!0),e):t()}},goog.functions.once=function(t){var e=t;return function(){if(e){var t=e;e=null,t()}}},goog.functions.debounce=function(t,e,o){var n=0;return function(r){goog.global.clearTimeout(n);var i=arguments;n=goog.global.setTimeout((function(){t.apply(o,i)}),e)}},goog.functions.throttle=function(t,e,o){var n=0,r=!1,i=[],s=function(){n=0,r&&(r=!1,l())},l=function(){n=goog.global.setTimeout(s,e),t.apply(o,i)};return function(t){i=arguments,n?r=!0:l()}},goog.functions.rateLimit=function(t,e,o){var n=0,r=function(){n=0};return function(i){n||(n=goog.global.setTimeout(r,e),t.apply(o,arguments))}},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(t){this.tagName_=t},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(t){return!0===goog.dom.tags.VOID_TAGS_[t]},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.string.TypedString=function(){},goog.string.Const=function(t,e){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=t===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(t){return t instanceof goog.string.Const&&t.constructor===goog.string.Const&&t.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?t.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+t+"'"),"type_error:Const")},goog.string.Const.from=function(t){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(t){return 0===(t=goog.string.Const.unwrap(t)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeScript.fromConstantAndArgs=function(t,e){for(var o=[],n=1;n<arguments.length;n++)o.push(goog.html.SafeScript.stringify_(arguments[n]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(t)+")("+o.join(", ")+");")},goog.html.SafeScript.fromJson=function(t){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(t))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(t){return goog.html.SafeScript.unwrapTrustedScript(t).toString()},goog.html.SafeScript.unwrapTrustedScript=function(t){return t instanceof goog.html.SafeScript&&t.constructor===goog.html.SafeScript&&t.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(t){return JSON.stringify(t).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(t){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(t):t,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(t){return goog.fs.url.getUrlObject_().createObjectURL(t)},goog.fs.url.revokeObjectUrl=function(t){goog.fs.url.getUrlObject_().revokeObjectURL(t)},goog.fs.url.getUrlObject_=function(){var t=goog.fs.url.findUrlObject_();if(null!=t)return t;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"",RLE:"",PDF:"",LRM:"",RLM:""},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(t,e){return"number"==typeof t?0<t?goog.i18n.bidi.Dir.LTR:0>t?goog.i18n.bidi.Dir.RTL:e?null:goog.i18n.bidi.Dir.NEUTRAL:null==t?null:t?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z------\ud801\ud804-\ud839\ud83c-\udbff---",goog.i18n.bidi.rtlChars_="--\ud802-\ud803\ud83a-\ud83b--",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(t,e){return e?t.replace(goog.i18n.bidi.htmlSkipReg_,""):t},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(t,e){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(t,e){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(t){return goog.i18n.bidi.rtlRe_.test(t)},goog.i18n.bidi.isLtrChar=function(t){return goog.i18n.bidi.ltrRe_.test(t)},goog.i18n.bidi.isNeutralChar=function(t){return!goog.i18n.bidi.isLtrChar(t)&&!goog.i18n.bidi.isRtlChar(t)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(t,e){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(t,e){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(t,e){return t=goog.i18n.bidi.stripHtmlIfNeeded_(t,e),goog.i18n.bidi.isRequiredLtrRe_.test(t)||!goog.i18n.bidi.hasAnyLtr(t)&&!goog.i18n.bidi.hasAnyRtl(t)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(t,e){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(t,e){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(t){return goog.i18n.bidi.rtlLocalesRe_.test(t)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(t,e){var o=(void 0===e?goog.i18n.bidi.hasAnyRtl(t):e)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return t.replace(goog.i18n.bidi.bracketGuardTextRe_,o+"$&"+o)},goog.i18n.bidi.enforceRtlInHtml=function(t){return"<"==t.charAt(0)?t.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+t+"</span>"},goog.i18n.bidi.enforceRtlInText=function(t){return goog.i18n.bidi.Format.RLE+t+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(t){return"<"==t.charAt(0)?t.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+t+"</span>"},goog.i18n.bidi.enforceLtrInText=function(t){return goog.i18n.bidi.Format.LRE+t+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(t){return t.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(t){return t.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(t,e){for(var o=0,n=0,r=!1,i=goog.i18n.bidi.stripHtmlIfNeeded_(t,e).split(goog.i18n.bidi.wordSeparatorRe_),s=0;s<i.length;s++){var l=i[s];goog.i18n.bidi.startsWithRtl(l)?(o++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(l)?r=!0:goog.i18n.bidi.hasAnyLtr(l)?n++:goog.i18n.bidi.hasNumeralsRe_.test(l)&&(r=!0)}return 0==n?r?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:o/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(t,e){return goog.i18n.bidi.estimateDirection(t,e)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(t,e){t&&(e=goog.i18n.bidi.toDir(e))&&(t.style.textAlign=e==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,t.dir=e==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(t,e){switch(goog.i18n.bidi.estimateDirection(e)){case goog.i18n.bidi.Dir.LTR:t.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:t.dir="rtl";break;default:t.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(t,e){var o=goog.html.TrustedResourceUrl.unwrap(this),n=(o=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(o))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",o[2]||"",t)+goog.html.TrustedResourceUrl.stringifyParams_("#",n,e))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(t){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(t){return t instanceof goog.html.TrustedResourceUrl&&t.constructor===goog.html.TrustedResourceUrl&&t.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+t+"' of type "+goog.typeOf(t)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(t){return t.trustedURL_?t.trustedURL_:goog.html.TrustedResourceUrl.unwrap(t)},goog.html.TrustedResourceUrl.format=function(t,e){var o=goog.string.Const.unwrap(t);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(o))throw Error("Invalid TrustedResourceUrl format: "+o);var n=o.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,(function(t,n){if(!Object.prototype.hasOwnProperty.call(e,n))throw Error('Found marker, "'+n+'", in format string, "'+o+'", but no valid label mapping found in args: '+JSON.stringify(e));var r=e[n];return r instanceof goog.string.Const?goog.string.Const.unwrap(r):encodeURIComponent(String(r))}));return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(n)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(t,e,o,n){return goog.html.TrustedResourceUrl.format(t,e).cloneWithParams(o,n)},goog.html.TrustedResourceUrl.fromConstant=function(t){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(t))},goog.html.TrustedResourceUrl.fromConstants=function(t){for(var e="",o=0;o<t.length;o++)e+=goog.string.Const.unwrap(t[o]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(t){var e=new goog.html.TrustedResourceUrl;return e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(t):t,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(e.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(t)),e},goog.html.TrustedResourceUrl.stringifyParams_=function(t,e,o){if(null==o)return e;if(goog.isString(o))return o?t+encodeURIComponent(o):"";for(var n in o){var r=o[n];r=goog.isArray(r)?r:[r];for(var i=0;i<r.length;i++){var s=r[i];null!=s&&(e||(e=t),e+=(e.length>t.length?"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(String(s)))}}return e},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(t){return goog.html.SafeUrl.unwrapTrustedURL(t).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(t){return t instanceof goog.html.SafeUrl&&t.constructor===goog.html.SafeUrl&&t.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(t){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(t))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(t){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(t)},goog.html.SafeUrl.fromBlob=function(t){return t=goog.html.SAFE_MIME_TYPE_PATTERN_.test(t.type)?goog.fs.url.createObjectUrl(t):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(t){var e=(t=t.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return e=e&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(e[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e?t:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"tel:")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(t){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(t))||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"fb-messenger://share")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromWhatsAppUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"whatsapp://send")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromSmsUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(t){var e=t.indexOf("#");if(0<e&&(t=t.substring(0,e)),!(e=t.match(/[?&]body=/gi)))return!0;if(1<e.length)return!1;if(!(t=t.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(t)}catch(o){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(t)},goog.html.SafeUrl.fromSshUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"ssh://")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(t,e,o){return(t=t.exec(e))?(t=t[1],-1==(o instanceof goog.string.Const?[goog.string.Const.unwrap(o)]:o.map((function(t){return goog.string.Const.unwrap(t)}))).indexOf(t)&&(e=goog.html.SafeUrl.INNOCUOUS_STRING)):e=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromTrustedResourceUrl=function(t){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(t))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(t){return t instanceof goog.html.SafeUrl?t:(t="object"==typeof t&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),goog.html.SAFE_URL_PATTERN_.test(t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(t,e){if(t instanceof goog.html.SafeUrl)return t;if(t="object"==typeof t&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),e&&/^data:/i.test(t)){var o=goog.html.SafeUrl.fromDataUrl(t);if(o.getTypedStringValue()==t)return o}return goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(t),"%s does not match the safe URL pattern",t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(t){var e=new goog.html.SafeUrl;return e.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(t):t,e},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(t){return 0===(t=goog.string.Const.unwrap(t)).length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(t,";"),"Last character of style string is not ';': "+t),goog.asserts.assert(goog.string.internal.contains(t,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+t),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(t){return t instanceof goog.html.SafeStyle&&t.constructor===goog.html.SafeStyle&&t.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(t){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=t,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(t){var e,o="";for(e in t){if(!/^[-_a-zA-Z0-9]+$/.test(e))throw Error("Name allows only [-_a-zA-Z0-9], got: "+e);var n=t[e];null!=n&&(o+=e+":"+(n=goog.isArray(n)?goog.array.map(n,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(n))+";")}return o?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(t){if(t instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(t).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(t=t instanceof goog.string.Const?goog.string.Const.unwrap(t):goog.html.SafeStyle.sanitizePropertyValueString_(String(t)),/[{;}]/.test(t))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[t]);return t},goog.html.SafeStyle.sanitizePropertyValueString_=function(t){var e=t.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(e)?goog.html.SafeStyle.COMMENT_RE_.test(t)?(goog.asserts.fail("String value disallows comments, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(t)?goog.html.SafeStyle.hasBalancedSquareBrackets_(t)?goog.html.SafeStyle.sanitizeUrl_(t):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(t){for(var e=!0,o=!0,n=0;n<t.length;n++){var r=t.charAt(n);"'"==r&&o?e=!e:'"'==r&&e&&(o=!o)}return e&&o},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(t){for(var e=!0,o=/^[-_a-zA-Z0-9]$/,n=0;n<t.length;n++){var r=t.charAt(n);if("]"==r){if(e)return!1;e=!0}else if("["==r){if(!e)return!1;e=!1}else if(!e&&!o.test(r))return!1}return e},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=RegExp("\\b(url\\([ \t\n]*)('[ -&(-\\[\\]-~]*'|\"[ !#-\\[\\]-~]*\"|[!#-&*-\\[\\]-~]*)([ \t\n]*\\))","g"),goog.html.SafeStyle.FUNCTIONS_RE_=RegExp("\\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\\([-+*/0-9a-z.%\\[\\], ]+\\)","g"),goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(t){return t.replace(goog.html.SafeStyle.URL_RE_,(function(t,e,o,n){var r="";return o=o.replace(/^(['"])(.*)\1$/,(function(t,e,o){return r=e,o})),t=goog.html.SafeUrl.sanitize(o).getTypedStringValue(),e+r+t+r+n}))},goog.html.SafeStyle.concat=function(t){var e="",o=function(t){goog.isArray(t)?goog.array.forEach(t,o):e+=goog.html.SafeStyle.unwrap(t)};return goog.array.forEach(arguments,o),e?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(t,e){if(goog.string.internal.contains(t,"<"))throw Error("Selector does not allow '<', got: "+t);var o=t.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(o))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+t);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(o))throw Error("() and [] in selector must be balanced, got: "+t);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),o=t+"{"+goog.html.SafeStyle.unwrap(e).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(t){for(var e={"(":")","[":"]"},o=[],n=0;n<t.length;n++){var r=t[n];if(e[r])o.push(e[r]);else if(goog.object.contains(e,r)&&o.pop()!=r)return!1}return 0==o.length},goog.html.SafeStyleSheet.concat=function(t){var e="",o=function(t){goog.isArray(t)?goog.array.forEach(t,o):e+=goog.html.SafeStyleSheet.unwrap(t)};return goog.array.forEach(arguments,o),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.fromConstant=function(t){return 0===(t=goog.string.Const.unwrap(t)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(t,"<"),"Forbidden '<' character in style sheet string: "+t),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(t){return t instanceof goog.html.SafeStyleSheet&&t.constructor===goog.html.SafeStyleSheet&&t.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(t){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=t,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(t){return goog.html.SafeHtml.unwrapTrustedHTML(t).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(t){return t instanceof goog.html.SafeHtml&&t.constructor===goog.html.SafeHtml&&t.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(t){if(t instanceof goog.html.SafeHtml)return t;var e="object"==typeof t,o=null;return e&&t.implementsGoogI18nBidiDirectionalString&&(o=t.getDirection()),t=e&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(t),o)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(t){return t instanceof goog.html.SafeHtml?t:(t=goog.html.SafeHtml.htmlEscape(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(t)),t.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(t){return t instanceof goog.html.SafeHtml?t:(t=goog.html.SafeHtml.htmlEscape(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(t)),t.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(t,e,o){return goog.html.SafeHtml.verifyTagName(String(t)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(t),e,o)},goog.html.SafeHtml.verifyTagName=function(t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(t))throw Error("Invalid tag name <"+t+">.");if(t.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+t+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(t,e,o,n){t&&goog.html.TrustedResourceUrl.unwrap(t);var r={};return r.src=t||null,r.srcdoc=e&&goog.html.SafeHtml.unwrap(e),t=goog.html.SafeHtml.combineAttributes(r,{sandbox:""},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",t,n)},goog.html.SafeHtml.createSandboxIframe=function(t,e,o,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var r={};return r.src=t?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(t)):null,r.srcdoc=e||null,r.sandbox="",t=goog.html.SafeHtml.combineAttributes(r,{},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",t,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(t,e){goog.html.TrustedResourceUrl.unwrap(t);var o=goog.html.SafeHtml.combineAttributes({src:t},{},e);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",o)},goog.html.SafeHtml.createScript=function(t,e){for(var o in e){var n=o.toLowerCase();if("language"==n||"src"==n||"text"==n||"type"==n)throw Error('Cannot set "'+n+'" attribute')}for(o="",t=goog.array.concat(t),n=0;n<t.length;n++)o+=goog.html.SafeScript.unwrap(t[n]);return o=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e,o)},goog.html.SafeHtml.createStyle=function(t,e){var o=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},e),n="";t=goog.array.concat(t);for(var r=0;r<t.length;r++)n+=goog.html.SafeStyleSheet.unwrap(t[r]);return n=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",o,n)},goog.html.SafeHtml.createMetaRefresh=function(t,e){var o=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(t));return(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(e||0)+"; url="+o})},goog.html.SafeHtml.getAttrNameAndValue_=function(t,e,o){if(o instanceof goog.string.Const)o=goog.string.Const.unwrap(o);else if("style"==e.toLowerCase())o=goog.html.SafeHtml.getStyleValue_(o);else{if(/^on/i.test(e))throw Error('Attribute "'+e+'" requires goog.string.Const value, "'+o+'" given.');if(e.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(o instanceof goog.html.TrustedResourceUrl)o=goog.html.TrustedResourceUrl.unwrap(o);else if(o instanceof goog.html.SafeUrl)o=goog.html.SafeUrl.unwrap(o);else{if(!goog.isString(o))throw Error('Attribute "'+e+'" on tag "'+t+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+o+'" given.');o=goog.html.SafeUrl.sanitize(o).getTypedStringValue()}}return o.implementsGoogStringTypedString&&(o=o.getTypedStringValue()),goog.asserts.assert(goog.isString(o)||goog.isNumber(o),"String or number value expected, got "+typeof o+" with value: "+o),e+'="'+goog.string.internal.htmlEscape(String(o))+'"'},goog.html.SafeHtml.getStyleValue_=function(t){if(!goog.isObject(t))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof t+" given: "+t);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),goog.html.SafeStyle.unwrap(t)},goog.html.SafeHtml.createWithDir=function(t,e,o,n){return(e=goog.html.SafeHtml.create(e,o,n)).dir_=t,e},goog.html.SafeHtml.join=function(t,e){var o=goog.html.SafeHtml.htmlEscape(t),n=o.getDirection(),r=[],i=function(t){goog.isArray(t)?goog.array.forEach(t,i):(t=goog.html.SafeHtml.htmlEscape(t),r.push(goog.html.SafeHtml.unwrap(t)),t=t.getDirection(),n==goog.i18n.bidi.Dir.NEUTRAL?n=t:t!=goog.i18n.bidi.Dir.NEUTRAL&&n!=t&&(n=null))};return goog.array.forEach(e,i),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r.join(goog.html.SafeHtml.unwrap(o)),n)},goog.html.SafeHtml.concat=function(t){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(t,e){var o=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return o.dir_=t,o},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(t,e){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(t,e)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t,e){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(t):t,this.dir_=e,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(t,e,o){var n=null,r="<"+t+goog.html.SafeHtml.stringifyAttributes(t,e);return goog.isDefAndNotNull(o)?goog.isArray(o)||(o=[o]):o=[],goog.dom.tags.isVoidTag(t.toLowerCase())?(goog.asserts.assert(!o.length,"Void tag <"+t+"> does not allow content."),r+=">"):(n=goog.html.SafeHtml.concat(o),r+=">"+goog.html.SafeHtml.unwrap(n)+"</"+t+">",n=n.getDirection()),(t=e&&e.dir)&&(n=/^(ltr|rtl|auto)$/i.test(t)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,n)},goog.html.SafeHtml.stringifyAttributes=function(t,e){var o="";if(e)for(var n in e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error('Invalid attribute name "'+n+'".');var r=e[n];goog.isDefAndNotNull(r)&&(o+=" "+goog.html.SafeHtml.getAttrNameAndValue_(t,n,r))}return o},goog.html.SafeHtml.combineAttributes=function(t,e,o){var n,r={};for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),r[n]=t[n];for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),r[n]=e[n];for(n in o){var i=n.toLowerCase();if(i in t)throw Error('Cannot override "'+i+'" attribute, got "'+n+'" with value "'+o[n]+'"');i in e&&delete r[i],r[n]=o[n]}return r},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(t,e,o){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,o||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(t,e,o){t.insertAdjacentHTML(e,goog.html.SafeHtml.unwrapTrustedHTML(o))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue((function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),!(goog.DEBUG&&!t.firstChild||(e=t.firstChild.firstChild,t.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),e.parentElement))})),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(t,e){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;t.lastChild;)t.removeChild(t.lastChild);t.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setInnerHtml=function(t,e){if(goog.asserts.ENABLE_ASSERTS){var o=t.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[o])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+t.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(t,e)},goog.dom.safe.setOuterHtml=function(t,e){t.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setFormElementAction=function(t,e){var o=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e);goog.dom.asserts.assertIsHTMLFormElement(t).action=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setButtonFormAction=function(t,e){var o=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e);goog.dom.asserts.assertIsHTMLButtonElement(t).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setInputFormAction=function(t,e){var o=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e);goog.dom.asserts.assertIsHTMLInputElement(t).formAction=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setStyle=function(t,e){t.style.cssText=goog.html.SafeStyle.unwrap(e)},goog.dom.safe.documentWrite=function(t,e){t.write(goog.html.SafeHtml.unwrapTrustedHTML(e))},goog.dom.safe.setAnchorHref=function(t,e){goog.dom.asserts.assertIsHTMLAnchorElement(t);var o=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e);t.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setImageSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLImageElement(t),e instanceof goog.html.SafeUrl)var o=e;else o=/^data:image\//i.test(e),o=goog.html.SafeUrl.sanitizeAssertUnchanged(e,o);t.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setAudioSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLAudioElement(t),e instanceof goog.html.SafeUrl)var o=e;else o=/^data:audio\//i.test(e),o=goog.html.SafeUrl.sanitizeAssertUnchanged(e,o);t.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setVideoSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLVideoElement(t),e instanceof goog.html.SafeUrl)var o=e;else o=/^data:video\//i.test(e),o=goog.html.SafeUrl.sanitizeAssertUnchanged(e,o);t.src=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.setEmbedSrc=function(t,e){goog.dom.asserts.assertIsHTMLEmbedElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setFrameSrc=function(t,e){goog.dom.asserts.assertIsHTMLFrameElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(e)},goog.dom.safe.setIframeSrc=function(t,e){goog.dom.asserts.assertIsHTMLIFrameElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(e)},goog.dom.safe.setIframeSrcdoc=function(t,e){goog.dom.asserts.assertIsHTMLIFrameElement(t),t.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setLinkHrefAndRel=function(t,e,o){goog.dom.asserts.assertIsHTMLLinkElement(t),t.rel=o,goog.string.internal.caseInsensitiveContains(o,"stylesheet")?(goog.asserts.assert(e instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),t.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(e)):t.href=e instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(e):goog.html.SafeUrl.unwrapTrustedURL(e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e))},goog.dom.safe.setObjectData=function(t,e){goog.dom.asserts.assertIsHTMLObjectElement(t),t.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setScriptSrc=function(t,e){goog.dom.asserts.assertIsHTMLScriptElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e);var o=goog.getScriptNonce();o&&t.setAttribute("nonce",o)},goog.dom.safe.setScriptContent=function(t,e){goog.dom.asserts.assertIsHTMLScriptElement(t),t.text=goog.html.SafeScript.unwrapTrustedScript(e);var o=goog.getScriptNonce();o&&t.setAttribute("nonce",o)},goog.dom.safe.setLocationHref=function(t,e){goog.dom.asserts.assertIsLocation(t);var o=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e);t.href=goog.html.SafeUrl.unwrapTrustedURL(o)},goog.dom.safe.assignLocation=function(t,e){goog.dom.asserts.assertIsLocation(t);var o=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e);t.assign(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.replaceLocation=function(t,e){goog.dom.asserts.assertIsLocation(t);var o=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e);t.replace(goog.html.SafeUrl.unwrapTrustedURL(o))},goog.dom.safe.openInWindow=function(t,e,o,n,r){return t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),(e||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(t),o?goog.string.Const.unwrap(o):"",n,r)},goog.dom.safe.parseFromStringHtml=function(t,e){return goog.dom.safe.parseFromString(t,e,"text/html")},goog.dom.safe.parseFromString=function(t,e,o){return t.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(e),o)},goog.dom.safe.createImageFromBlob=function(t){if(!/^image\/.*/g.test(t.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var e=goog.global.URL.createObjectURL(t);return(t=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(e)},goog.dom.safe.setImageSrc(t,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),e)),t},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:""},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(t,e){for(var o=t.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<o.length;)n+=o.shift()+r.shift();return n+o.join("%s")},goog.string.collapseWhitespace=function(t){return t.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(t){return 0==t.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(t){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(t){return!/[^\t\n\r ]/.test(t)},goog.string.isAlpha=function(t){return!/[^a-zA-Z]/.test(t)},goog.string.isNumeric=function(t){return!/[^0-9]/.test(t)},goog.string.isAlphaNumeric=function(t){return!/[^a-zA-Z0-9]/.test(t)},goog.string.isSpace=function(t){return" "==t},goog.string.isUnicodeChar=function(t){return 1==t.length&&" "<=t&&"~">=t||""<=t&&"">=t},goog.string.stripNewlines=function(t){return t.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(t){return t.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(t){return t.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(t){return t.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(t){return t.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(t){return t.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(t){return t.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(t,e,o){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=t.toLowerCase().match(o),r=e.toLowerCase().match(o),i=Math.min(n.length,r.length),s=0;s<i;s++){var l=r[s];if((o=n[s])!=l)return t=parseInt(o,10),!isNaN(t)&&(e=parseInt(l,10),!isNaN(e)&&t-e)?t-e:o<l?-1:1}return n.length!=r.length?n.length-r.length:t<e?-1:1},goog.string.intAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\D+/g)},goog.string.floatAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(t){return encodeURIComponent(String(t))},goog.string.urlDecode=function(t){return decodeURIComponent(t.replace(/\+/g," "))};goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(t,e){return t=goog.string.internal.htmlEscape(t,e),goog.string.DETECT_DOUBLE_ESCAPING&&(t=t.replace(goog.string.E_RE_,"&#101;")),t},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(t){return goog.string.contains(t,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(t):goog.string.unescapePureXmlEntities_(t):t},goog.string.unescapeEntitiesWithDocument=function(t,e){return goog.string.contains(t,"&")?goog.string.unescapeEntitiesUsingDom_(t,e):t},goog.string.unescapeEntitiesUsingDom_=function(t,e){var o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=e?e.createElement("div"):goog.global.document.createElement("div");return t.replace(goog.string.HTML_ENTITY_PATTERN_,(function(t,e){var r=o[t];if(r)return r;if("#"==e.charAt(0)){var i=Number("0"+e.substr(1));isNaN(i)||(r=String.fromCharCode(i))}return r||(goog.dom.safe.setInnerHtml(n,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),t+" ")),r=n.firstChild.nodeValue.slice(0,-1)),o[t]=r}))},goog.string.unescapePureXmlEntities_=function(t){return t.replace(/&([^;]+);/g,(function(t,e){switch(e){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==e.charAt(0)){var o=Number("0"+e.substr(1));if(!isNaN(o))return String.fromCharCode(o)}return t}}))},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(t,e){return goog.string.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.preserveSpaces=function(t){return t.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(t,e){for(var o=e.length,n=0;n<o;n++){var r=1==o?e:e.charAt(n);if(t.charAt(0)==r&&t.charAt(t.length-1)==r)return t.substring(1,t.length-1)}return t},goog.string.truncate=function(t,e,o){return o&&(t=goog.string.unescapeEntities(t)),t.length>e&&(t=t.substring(0,e-3)+"..."),o&&(t=goog.string.htmlEscape(t)),t},goog.string.truncateMiddle=function(t,e,o,n){if(o&&(t=goog.string.unescapeEntities(t)),n&&t.length>e){n>e&&(n=e);var r=t.length-n;t=t.substring(0,e-n)+"..."+t.substring(r)}else t.length>e&&(n=Math.floor(e/2),r=t.length-n,t=t.substring(0,n+e%2)+"..."+t.substring(r));return o&&(t=goog.string.htmlEscape(t)),t},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(t){t=String(t);for(var e=['"'],o=0;o<t.length;o++){var n=t.charAt(o),r=n.charCodeAt(0);e[o+1]=goog.string.specialEscapeChars_[n]||(31<r&&127>r?n:goog.string.escapeChar(n))}return e.push('"'),e.join("")},goog.string.escapeString=function(t){for(var e=[],o=0;o<t.length;o++)e[o]=goog.string.escapeChar(t.charAt(o));return e.join("")},goog.string.escapeChar=function(t){if(t in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[t];if(t in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[t]=goog.string.specialEscapeChars_[t];var e=t.charCodeAt(0);if(31<e&&127>e)var o=t;else 256>e?(o="\\x",(16>e||256<e)&&(o+="0")):(o="\\u",4096>e&&(o+="0")),o+=e.toString(16).toUpperCase();return goog.string.jsEscapeCache_[t]=o},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(t,e){return t&&e?t.split(e).length-1:0},goog.string.removeAt=function(t,e,o){var n=t;return 0<=e&&e<t.length&&0<o&&(n=t.substr(0,e)+t.substr(e+o,t.length-e-o)),n},goog.string.remove=function(t,e){return t.replace(e,"")},goog.string.removeAll=function(t,e){var o=new RegExp(goog.string.regExpEscape(e),"g");return t.replace(o,"")},goog.string.replaceAll=function(t,e,o){return e=new RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,o.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(t){return String(t).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(t,e){return t.repeat(e)}:function(t,e){return Array(e+1).join(t)},goog.string.padNumber=function(t,e,o){return-1==(o=(t=goog.isDef(o)?t.toFixed(o):String(t)).indexOf("."))&&(o=t.length),goog.string.repeat("0",Math.max(0,e-o))+t},goog.string.makeSafe=function(t){return null==t?"":String(t)},goog.string.buildString=function(t){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(t){for(var e=0,o=0;o<t.length;++o)e=31*e+t.charCodeAt(o)>>>0;return e},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(t){var e=Number(t);return 0==e&&goog.string.isEmptyOrWhitespace(t)?NaN:e},goog.string.isLowerCamelCase=function(t){return/^[a-z]+([A-Z][a-z]*)*$/.test(t)},goog.string.isUpperCamelCase=function(t){return/^([A-Z][a-z]*)+$/.test(t)},goog.string.toCamelCase=function(t){return String(t).replace(/\-([a-z])/g,(function(t,e){return e.toUpperCase()}))},goog.string.toSelectorCase=function(t){return String(t).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(t,e){var o=goog.isString(e)?goog.string.regExpEscape(e):"\\s";return t.replace(new RegExp("(^"+(o?"|["+o+"]+":"")+")([a-z])","g"),(function(t,e,o){return e+o.toUpperCase()}))},goog.string.capitalize=function(t){return String(t.charAt(0)).toUpperCase()+String(t.substr(1)).toLowerCase()},goog.string.parseInt=function(t){return isFinite(t)&&(t=String(t)),goog.isString(t)?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN},goog.string.splitLimit=function(t,e,o){t=t.split(e);for(var n=[];0<o&&t.length;)n.push(t.shift()),o--;return t.length&&n.push(t.join(e)),n},goog.string.lastComponent=function(t,e){if(!e)return t;"string"==typeof e&&(e=[e]);for(var o=-1,n=0;n<e.length;n++)if(""!=e[n]){var r=t.lastIndexOf(e[n]);r>o&&(o=r)}return-1==o?t:t.slice(o+1)},goog.string.editDistance=function(t,e){var o=[],n=[];if(t==e)return 0;if(!t.length||!e.length)return Math.max(t.length,e.length);for(var r=0;r<e.length+1;r++)o[r]=r;for(r=0;r<t.length;r++){n[0]=r+1;for(var i=0;i<e.length;i++)n[i+1]=Math.min(n[i]+1,o[i+1]+1,o[i]+Number(t[r]!=e[i]));for(i=0;i<o.length;i++)o[i]=n[i]}return n[e.length]},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var t=goog.labs.userAgent.util.getUserAgent();if(t){t=goog.labs.userAgent.util.extractVersionTuples(t);var e,o=goog.labs.userAgent.engine.getEngineTuple_(t);if(o)return"Gecko"==o[0]?goog.labs.userAgent.engine.getVersionForKey_(t,"Firefox"):o[1];if((t=t[0])&&(e=t[2])&&(e=/Trident\/([^\s;]+)/.exec(e)))return e[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(t){if(!goog.labs.userAgent.engine.isEdge())return t[1];for(var e=0;e<t.length;e++){var o=t[e];if("Edge"==o[0])return o}},goog.labs.userAgent.engine.isVersionOrHigher=function(t){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),t)},goog.labs.userAgent.engine.getVersionForKey_=function(t,e){var o=goog.array.find(t,(function(t){return e==t[0]}));return o&&o[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var t=goog.labs.userAgent.util.getUserAgent(),e="";return goog.labs.userAgent.platform.isWindows()?e=(t=(e=/Windows (?:NT|Phone) ([0-9.]+)/).exec(t))?t[1]:"0.0":goog.labs.userAgent.platform.isIos()?e=(t=(e=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(t))&&t[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?e=(t=(e=/Mac OS X ([0-9_.]+)/).exec(t))?t[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?e=(t=(e=/(?:KaiOS)\/(\S+)/i).exec(t))&&t[1]:goog.labs.userAgent.platform.isAndroid()?e=(t=(e=/Android\s+([^\);]+)(\)|;)/).exec(t))&&t[1]:goog.labs.userAgent.platform.isChromeOS()&&(e=(t=(e=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(t))&&t[1]),e||""},goog.labs.userAgent.platform.isVersionOrHigher=function(t){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),t)},goog.reflect={},goog.reflect.object=function(t,e){return e},goog.reflect.objectProperty=function(t,e){return t},goog.reflect.sinkValue=function(t){return goog.reflect.sinkValue[" "](t),t},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(t,e){try{return goog.reflect.sinkValue(t[e]),!0}catch(o){}return!1},goog.reflect.cache=function(t,e,o,n){return n=n?n(e):e,Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=o(e)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var t=goog.userAgent.getNavigatorTyped();return t&&t.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var t=goog.userAgent.getNavigatorTyped();return!!t&&goog.string.contains(t.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var t="",e=goog.userAgent.getVersionRegexResult_();return e&&(t=e?e[1]:""),goog.userAgent.IE&&null!=(e=goog.userAgent.getDocumentMode_())&&e>parseFloat(t)?String(e):t},goog.userAgent.getVersionRegexResult_=function(){var t=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(t):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(t):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(t):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(t):void 0},goog.userAgent.getDocumentMode_=function(){var t=goog.global.document;return t?t.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(t,e){return goog.string.compareVersions(t,e)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(t){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,t,(function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,t)}))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(t){return Number(goog.userAgent.DOCUMENT_MODE)>=t},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.debug.LOGGING_ENABLED=goog.DEBUG,goog.debug.FORCE_SLOPPY_STACKS=!1,goog.debug.catchErrors=function(t,e,o){var n=(o=o||goog.global).onerror,r=!!e;goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("535.3")&&(r=!r),o.onerror=function(e,o,i,s,l){return n&&n(e,o,i,s,l),t({message:e,fileName:o,line:i,lineNumber:i,col:s,error:l}),r}},goog.debug.expose=function(t,e){if(void 0===t)return"undefined";if(null==t)return"NULL";var o,n=[];for(o in t)if(e||!goog.isFunction(t[o])){var r=o+" = ";try{r+=t[o]}catch(i){r+="*** "+i+" ***"}n.push(r)}return n.join("\n")},goog.debug.deepExpose=function(t,e){var o=[],n=[],r={},i=function(t,s){var l=s+"  ";try{if(goog.isDef(t))if(goog.isNull(t))o.push("NULL");else if(goog.isString(t))o.push('"'+t.replace(/\n/g,"\n"+s)+'"');else if(goog.isFunction(t))o.push(String(t).replace(/\n/g,"\n"+s));else if(goog.isObject(t)){goog.hasUid(t)||n.push(t);var a=goog.getUid(t);if(r[a])o.push("*** reference loop detected (id="+a+") ***");else{for(var u in r[a]=!0,o.push("{"),t)!e&&goog.isFunction(t[u])||(o.push("\n"),o.push(l),o.push(u+" = "),i(t[u],l));o.push("\n"+s+"}"),delete r[a]}}else o.push(t);else o.push("undefined")}catch(c){o.push("*** "+c+" ***")}};i(t,"");for(var s=0;s<n.length;s++)goog.removeUid(n[s]);return o.join("")},goog.debug.exposeArray=function(t){for(var e=[],o=0;o<t.length;o++)goog.isArray(t[o])?e.push(goog.debug.exposeArray(t[o])):e.push(t[o]);return"[ "+e.join(", ")+" ]"},goog.debug.normalizeErrorObject=function(t){var e=goog.getObjectByName("window.location.href");if(null==t&&(t='Unknown Error of type "null/undefined"'),goog.isString(t))return{message:t,name:"Unknown error",lineNumber:"Not available",fileName:e,stack:"Not available"};var o=!1;try{var n=t.lineNumber||t.line||"Not available"}catch(i){n="Not available",o=!0}try{var r=t.fileName||t.filename||t.sourceURL||goog.global.$googDebugFname||e}catch(i){r="Not available",o=!0}return!o&&t.lineNumber&&t.fileName&&t.stack&&t.message&&t.name?t:(null==(e=t.message)&&(e=t.constructor&&t.constructor instanceof Function?'Unknown Error of type "'+(t.constructor.name?t.constructor.name:goog.debug.getFunctionName(t.constructor))+'"':"Unknown Error of unknown type"),{message:e,name:t.name||"UnknownError",lineNumber:n,fileName:r,stack:t.stack||"Not available"})},goog.debug.enhanceError=function(t,e){if(t instanceof Error)var o=t;else o=Error(t),Error.captureStackTrace&&Error.captureStackTrace(o,goog.debug.enhanceError);if(o.stack||(o.stack=goog.debug.getStacktrace(goog.debug.enhanceError)),e){for(var n=0;o["message"+n];)++n;o["message"+n]=String(e)}return o},goog.debug.enhanceErrorWithContext=function(t,e){var o=goog.debug.enhanceError(t);if(e)for(var n in e)goog.debug.errorcontext.addErrorContext(o,n,e[n]);return o},goog.debug.getStacktraceSimple=function(t){if(!goog.debug.FORCE_SLOPPY_STACKS){var e=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(e)return e}e=[];for(var o=arguments.callee.caller,n=0;o&&(!t||n<t);){e.push(goog.debug.getFunctionName(o)),e.push("()\n");try{o=o.caller}catch(r){e.push("[exception trying to get caller]\n");break}if(++n>=goog.debug.MAX_STACK_DEPTH){e.push("[...long stack...]");break}}return e.push(t&&n>=t?"[...reached max depth limit...]":"[end]"),e.join("")},goog.debug.MAX_STACK_DEPTH=50,goog.debug.getNativeStackTrace_=function(t){var e=Error();if(Error.captureStackTrace)return Error.captureStackTrace(e,t),String(e.stack);try{throw e}catch(o){e=o}return(t=e.stack)?String(t):null},goog.debug.getStacktrace=function(t){var e;return goog.debug.FORCE_SLOPPY_STACKS||(e=goog.debug.getNativeStackTrace_(t||goog.debug.getStacktrace)),e||(e=goog.debug.getStacktraceHelper_(t||arguments.callee.caller,[])),e},goog.debug.getStacktraceHelper_=function(t,e){var o=[];if(goog.array.contains(e,t))o.push("[...circular reference...]");else if(t&&e.length<goog.debug.MAX_STACK_DEPTH){o.push(goog.debug.getFunctionName(t)+"(");for(var n=t.arguments,r=0;n&&r<n.length;r++){0<r&&o.push(", ");var i=n[r];switch(typeof i){case"object":i=i?"object":"null";break;case"string":break;case"number":i=String(i);break;case"boolean":i=i?"true":"false";break;case"function":i=(i=goog.debug.getFunctionName(i))?i:"[fn]";break;default:i=typeof i}40<i.length&&(i=i.substr(0,40)+"..."),o.push(i)}e.push(t),o.push(")\n");try{o.push(goog.debug.getStacktraceHelper_(t.caller,e))}catch(s){o.push("[exception trying to get caller]\n")}}else o.push(t?"[...long stack...]":"[end]");return o.join("")},goog.debug.getFunctionName=function(t){if(goog.debug.fnNameCache_[t])return goog.debug.fnNameCache_[t];if(t=String(t),!goog.debug.fnNameCache_[t]){var e=/function\s+([^\(]+)/m.exec(t);goog.debug.fnNameCache_[t]=e?e[1]:"[Anonymous]"}return goog.debug.fnNameCache_[t]},goog.debug.makeWhitespaceVisible=function(t){return t.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")},goog.debug.runtimeType=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):null===t?"null":typeof t},goog.debug.fnNameCache_={},goog.debug.freezeInternal_=goog.DEBUG&&Object.freeze||function(t){return t},goog.debug.freeze=function(t){return goog.debug.freezeInternal_(t)},goog.events={},$jscomp.scope.purify=function(t){return{valueOf:t}.valueOf()},goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")||goog.userAgent.OPERA&&goog.userAgent.isVersionOrHigher("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("8")||goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.maxTouchPoints&&!goog.global.navigator.msMaxTouchPoints),POINTER_EVENTS:"PointerEvent"in goog.global,MSPOINTER_EVENTS:"MSPointerEvent"in goog.global&&!(!goog.global.navigator||!goog.global.navigator.msPointerEnabled),PASSIVE_EVENTS:(0,$jscomp.scope.purify)((function(){if(!goog.global.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{goog.global.addEventListener("test",goog.nullFunction,e),goog.global.removeEventListener("test",goog.nullFunction,e)}catch(o){}return t}))},goog.disposable={},goog.disposable.IDisposable=function(){},goog.disposable.IDisposable.prototype.dispose=goog.abstractMethod,goog.disposable.IDisposable.prototype.isDisposed=goog.abstractMethod,goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),goog.Disposable.instances_[goog.getUid(this)]=this),this.disposed_=this.disposed_,this.onDisposeCallbacks_=this.onDisposeCallbacks_},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.Disposable.MONITORING_MODE=0,goog.Disposable.INCLUDE_STACK_ON_CREATION=!0,goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var t,e=[];for(t in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(t)&&e.push(goog.Disposable.instances_[Number(t)]);return e},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var t=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(t))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");if(goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&this.onDisposeCallbacks_&&0<this.onDisposeCallbacks_.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete goog.Disposable.instances_[t]}},goog.Disposable.prototype.registerDisposable=function(t){this.addOnDisposeCallback(goog.partial(goog.dispose,t))},goog.Disposable.prototype.addOnDisposeCallback=function(t,e){this.disposed_?goog.isDef(e)?t.call(e):t():(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(goog.isDef(e)?goog.bind(t,e):t))},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(t){return!(!t||"function"!=typeof t.isDisposed)&&t.isDisposed()},goog.dispose=function(t){t&&"function"==typeof t.dispose&&t.dispose()},goog.disposeAll=function(t){for(var e=0,o=arguments.length;e<o;++e){var n=arguments[e];goog.isArrayLike(n)?goog.disposeAll.apply(null,n):goog.dispose(n)}},goog.events.EventId=function(t){this.id=t},goog.events.EventId.prototype.toString=function(){return this.id},goog.events.Event=function(t,e){this.type=t instanceof goog.events.EventId?String(t):t,this.currentTarget=this.target=e,this.defaultPrevented=this.propagationStopped_=!1,this.returnValue_=!0},goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(t){t.stopPropagation()},goog.events.Event.preventDefault=function(t){t.preventDefault()},goog.events.getVendorPrefixedName_=function(t){return goog.userAgent.WEBKIT?"webkit"+t:goog.userAgent.OPERA?"o"+t.toLowerCase():t.toLowerCase()},goog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",AUXCLICK:"auxclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSECANCEL:"mousecancel",SELECTIONCHANGE:"selectionchange",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:"focusin",FOCUSOUT:"focusout",CHANGE:"change",RESET:"reset",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DEVICECHANGE:"devicechange",DEVICEMOTION:"devicemotion",DEVICEORIENTATION:"deviceorientation",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",CANPLAY:"canplay",CANPLAYTHROUGH:"canplaythrough",DURATIONCHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",LOADEDDATA:"loadeddata",LOADEDMETADATA:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",RATECHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",WAITING:"waiting",SOURCEOPEN:"sourceopen",SOURCEENDED:"sourceended",SOURCECLOSED:"sourceclosed",ABORT:"abort",UPDATE:"update",UPDATESTART:"updatestart",UPDATEEND:"updateend",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",INSTALL:"install",ACTIVATE:"activate",FETCH:"fetch",FOREIGNFETCH:"foreignfetch",MESSAGEERROR:"messageerror",STATECHANGE:"statechange",UPDATEFOUND:"updatefound",CONTROLLERCHANGE:"controllerchange",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",TEXTINPUT:goog.userAgent.IE?"textinput":"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",BEFOREINPUT:"beforeinput",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified",BEFOREPRINT:"beforeprint",AFTERPRINT:"afterprint",BEFOREINSTALLPROMPT:"beforeinstallprompt",APPINSTALLED:"appinstalled"},goog.events.getPointerFallbackEventName_=function(t,e,o){return goog.events.BrowserFeature.POINTER_EVENTS?t:goog.events.BrowserFeature.MSPOINTER_EVENTS?e:o},goog.events.PointerFallbackEventType={POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN,goog.events.EventType.MSPOINTERDOWN,goog.events.EventType.MOUSEDOWN),POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP,goog.events.EventType.MSPOINTERUP,goog.events.EventType.MOUSEUP),POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL,goog.events.EventType.MSPOINTERCANCEL,goog.events.EventType.MOUSECANCEL),POINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE,goog.events.EventType.MSPOINTERMOVE,goog.events.EventType.MOUSEMOVE),POINTEROVER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROVER,goog.events.EventType.MSPOINTEROVER,goog.events.EventType.MOUSEOVER),POINTEROUT:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROUT,goog.events.EventType.MSPOINTEROUT,goog.events.EventType.MOUSEOUT),POINTERENTER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERENTER,goog.events.EventType.MSPOINTERENTER,goog.events.EventType.MOUSEENTER),POINTERLEAVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERLEAVE,goog.events.EventType.MSPOINTERLEAVE,goog.events.EventType.MOUSELEAVE)},goog.events.PointerTouchFallbackEventType={POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN,goog.events.EventType.MSPOINTERDOWN,goog.events.EventType.TOUCHSTART),POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP,goog.events.EventType.MSPOINTERUP,goog.events.EventType.TOUCHEND),POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL,goog.events.EventType.MSPOINTERCANCEL,goog.events.EventType.TOUCHCANCEL),POINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE,goog.events.EventType.MSPOINTERMOVE,goog.events.EventType.TOUCHMOVE)},goog.events.PointerAsMouseEventType={MOUSEDOWN:goog.events.PointerFallbackEventType.POINTERDOWN,MOUSEUP:goog.events.PointerFallbackEventType.POINTERUP,MOUSECANCEL:goog.events.PointerFallbackEventType.POINTERCANCEL,MOUSEMOVE:goog.events.PointerFallbackEventType.POINTERMOVE,MOUSEOVER:goog.events.PointerFallbackEventType.POINTEROVER,MOUSEOUT:goog.events.PointerFallbackEventType.POINTEROUT,MOUSEENTER:goog.events.PointerFallbackEventType.POINTERENTER,MOUSELEAVE:goog.events.PointerFallbackEventType.POINTERLEAVE},goog.events.MouseAsMouseEventType={MOUSEDOWN:goog.events.EventType.MOUSEDOWN,MOUSEUP:goog.events.EventType.MOUSEUP,MOUSECANCEL:goog.events.EventType.MOUSECANCEL,MOUSEMOVE:goog.events.EventType.MOUSEMOVE,MOUSEOVER:goog.events.EventType.MOUSEOVER,MOUSEOUT:goog.events.EventType.MOUSEOUT,MOUSEENTER:goog.events.EventType.MOUSEENTER,MOUSELEAVE:goog.events.EventType.MOUSELEAVE},goog.events.PointerAsTouchEventType={TOUCHCANCEL:goog.events.PointerTouchFallbackEventType.POINTERCANCEL,TOUCHEND:goog.events.PointerTouchFallbackEventType.POINTERUP,TOUCHMOVE:goog.events.PointerTouchFallbackEventType.POINTERMOVE,TOUCHSTART:goog.events.PointerTouchFallbackEventType.POINTERDOWN},goog.events.USE_LAYER_XY_AS_OFFSET_XY=!1,goog.events.BrowserEvent=function(t,e){goog.events.Event.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.platformModifierKey=!1,this.pointerId=0,this.pointerType="",this.event_=null,t&&this.init(t,e)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.PointerType={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},goog.events.BrowserEvent.IEButtonMap=goog.debug.freeze([1,4,2]),goog.events.BrowserEvent.IE_BUTTON_MAP=goog.events.BrowserEvent.IEButtonMap,goog.events.BrowserEvent.IE_POINTER_TYPE_MAP=goog.debug.freeze({2:goog.events.BrowserEvent.PointerType.TOUCH,3:goog.events.BrowserEvent.PointerType.PEN,4:goog.events.BrowserEvent.PointerType.MOUSE}),goog.events.BrowserEvent.prototype.init=function(t,e){var o=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;this.target=t.target||t.srcElement,this.currentTarget=e;var r=t.relatedTarget;r?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(r,"nodeName")||(r=null)):o==goog.events.EventType.MOUSEOVER?r=t.fromElement:o==goog.events.EventType.MOUSEOUT&&(r=t.toElement),this.relatedTarget=r,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(goog.events.USE_LAYER_XY_AS_OFFSET_XY?(this.offsetX=void 0!==t.layerX?t.layerX:t.offsetX,this.offsetY=void 0!==t.layerY?t.layerY:t.offsetY):(this.offsetX=goog.userAgent.WEBKIT||void 0!==t.offsetX?t.offsetX:t.layerX,this.offsetY=goog.userAgent.WEBKIT||void 0!==t.offsetY?t.offsetY:t.layerY),this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.charCode=t.charCode||("keypress"==o?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.platformModifierKey=goog.userAgent.MAC?t.metaKey:t.ctrlKey,this.pointerId=t.pointerId||0,this.pointerType=goog.events.BrowserEvent.getPointerType_(t),this.state=t.state,this.event_=t,t.defaultPrevented&&this.preventDefault()},goog.events.BrowserEvent.prototype.isButton=function(t){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==t:"click"==this.type?t==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IE_BUTTON_MAP[t])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var t=this.event_;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.BrowserEvent.getPointerType_=function(t){return goog.isString(t.pointerType)?t.pointerType:goog.events.BrowserEvent.IE_POINTER_TYPE_MAP[t.pointerType]||""},goog.events.Listenable=function(){},goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),goog.events.Listenable.addImplementation=function(t){t.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0},goog.events.Listenable.isImplementedBy=function(t){return!(!t||!t[goog.events.Listenable.IMPLEMENTED_BY_PROP])},goog.events.ListenableKey=function(){},goog.events.ListenableKey.counter_=0,goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_},goog.events.Listener=function(t,e,o,n,r,i){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack),this.listener=t,this.proxy=e,this.src=o,this.type=n,this.capture=!!r,this.handler=i,this.key=goog.events.ListenableKey.reserveKey(),this.removed=this.callOnce=!1},goog.events.Listener.ENABLE_MONITORING=!1,goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.handler=this.src=this.proxy=this.listener=null},goog.events.ListenerMap=function(t){this.src=t,this.listeners={},this.typeCount_=0},goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},goog.events.ListenerMap.prototype.getListenerCount=function(){var t,e=0;for(t in this.listeners)e+=this.listeners[t].length;return e},goog.events.ListenerMap.prototype.add=function(t,e,o,n,r){var i=t.toString();(t=this.listeners[i])||(t=this.listeners[i]=[],this.typeCount_++);var s=goog.events.ListenerMap.findListenerIndex_(t,e,n,r);return-1<s?(e=t[s],o||(e.callOnce=!1)):((e=new goog.events.Listener(e,null,this.src,i,!!n,r)).callOnce=o,t.push(e)),e},goog.events.ListenerMap.prototype.remove=function(t,e,o,n){if(!((t=t.toString())in this.listeners))return!1;var r=this.listeners[t];return-1<(e=goog.events.ListenerMap.findListenerIndex_(r,e,o,n))&&(r[e].markAsRemoved(),goog.array.removeAt(r,e),0==r.length&&(delete this.listeners[t],this.typeCount_--),!0)},goog.events.ListenerMap.prototype.removeByKey=function(t){var e=t.type;if(!(e in this.listeners))return!1;var o=goog.array.remove(this.listeners[e],t);return o&&(t.markAsRemoved(),0==this.listeners[e].length&&(delete this.listeners[e],this.typeCount_--)),o},goog.events.ListenerMap.prototype.removeAll=function(t){t=t&&t.toString();var e,o=0;for(e in this.listeners)if(!t||e==t){for(var n=this.listeners[e],r=0;r<n.length;r++)++o,n[r].markAsRemoved();delete this.listeners[e],this.typeCount_--}return o},goog.events.ListenerMap.prototype.getListeners=function(t,e){var o=this.listeners[t.toString()],n=[];if(o)for(var r=0;r<o.length;++r){var i=o[r];i.capture==e&&n.push(i)}return n},goog.events.ListenerMap.prototype.getListener=function(t,e,o,n){var r=-1;return(t=this.listeners[t.toString()])&&(r=goog.events.ListenerMap.findListenerIndex_(t,e,o,n)),-1<r?t[r]:null},goog.events.ListenerMap.prototype.hasListener=function(t,e){var o=goog.isDef(t),n=o?t.toString():"",r=goog.isDef(e);return goog.object.some(this.listeners,(function(t,i){for(var s=0;s<t.length;++s)if(!(o&&t[s].type!=n||r&&t[s].capture!=e))return!0;return!1}))},goog.events.ListenerMap.findListenerIndex_=function(t,e,o,n){for(var r=0;r<t.length;++r){var i=t[r];if(!i.removed&&i.listener==e&&i.capture==!!o&&i.handler==n)return r}return-1},goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),goog.events.onString_="on",goog.events.onStringMap_={},goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},goog.events.CAPTURE_SIMULATION_MODE=2,goog.events.listenerCountEstimate_=0,goog.events.listen=function(t,e,o,n,r){if(n&&n.once)return goog.events.listenOnce(t,e,o,n,r);if(goog.isArray(e)){for(var i=0;i<e.length;i++)goog.events.listen(t,e[i],o,n,r);return null}return o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(t)?(n=goog.isObject(n)?!!n.capture:!!n,t.listen(e,o,n,r)):goog.events.listen_(t,e,o,!1,n,r)},goog.events.listen_=function(t,e,o,n,r,i){if(!e)throw Error("Invalid event type");var s=goog.isObject(r)?!!r.capture:!!r;if(s&&!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)return goog.asserts.fail("Can not register capture listener in IE8-."),null;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var l=goog.events.getListenerMap_(t);if(l||(t[goog.events.LISTENER_MAP_PROP_]=l=new goog.events.ListenerMap(t)),(o=l.add(e,o,n,s,i)).proxy)return o;if(n=goog.events.getProxy(),o.proxy=n,n.src=t,n.listener=o,t.addEventListener)goog.events.BrowserFeature.PASSIVE_EVENTS||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),n,r);else if(t.attachEvent)t.attachEvent(goog.events.getOnString_(e.toString()),n);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");goog.asserts.assert("change"===e,"MediaQueryList only has a change event"),t.addListener(n)}return goog.events.listenerCountEstimate_++,o},goog.events.getProxy=function(){var t=goog.events.handleBrowserEvent_,e=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(o){return t.call(e.src,e.listener,o)}:function(o){if(!(o=t.call(e.src,e.listener,o)))return o};return e},goog.events.listenOnce=function(t,e,o,n,r){if(goog.isArray(e)){for(var i=0;i<e.length;i++)goog.events.listenOnce(t,e[i],o,n,r);return null}return o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(t)?(n=goog.isObject(n)?!!n.capture:!!n,t.listenOnce(e,o,n,r)):goog.events.listen_(t,e,o,!0,n,r)},goog.events.listenWithWrapper=function(t,e,o,n,r){e.listen(t,o,n,r)},goog.events.unlisten=function(t,e,o,n,r){if(goog.isArray(e)){for(var i=0;i<e.length;i++)goog.events.unlisten(t,e[i],o,n,r);return null}return n=goog.isObject(n)?!!n.capture:!!n,o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(t)?t.unlisten(e,o,n,r):!!t&&!(!(t=goog.events.getListenerMap_(t))||!(e=t.getListener(e,o,n,r)))&&goog.events.unlistenByKey(e)},goog.events.unlistenByKey=function(t){if(goog.isNumber(t)||!t||t.removed)return!1;var e=t.src;if(goog.events.Listenable.isImplementedBy(e))return e.unlistenByKey(t);var o=t.type,n=t.proxy;return e.removeEventListener?e.removeEventListener(o,n,t.capture):e.detachEvent?e.detachEvent(goog.events.getOnString_(o),n):e.addListener&&e.removeListener&&e.removeListener(n),goog.events.listenerCountEstimate_--,(o=goog.events.getListenerMap_(e))?(o.removeByKey(t),0==o.getTypeCount()&&(o.src=null,e[goog.events.LISTENER_MAP_PROP_]=null)):t.markAsRemoved(),!0},goog.events.unlistenWithWrapper=function(t,e,o,n,r){e.unlisten(t,o,n,r)},goog.events.removeAll=function(t,e){if(!t)return 0;if(goog.events.Listenable.isImplementedBy(t))return t.removeAllListeners(e);var o=goog.events.getListenerMap_(t);if(!o)return 0;var n,r=0,i=e&&e.toString();for(n in o.listeners)if(!i||n==i)for(var s=o.listeners[n].concat(),l=0;l<s.length;++l)goog.events.unlistenByKey(s[l])&&++r;return r},goog.events.getListeners=function(t,e,o){return goog.events.Listenable.isImplementedBy(t)?t.getListeners(e,o):t&&(t=goog.events.getListenerMap_(t))?t.getListeners(e,o):[]},goog.events.getListener=function(t,e,o,n,r){return o=goog.events.wrapListener(o),n=!!n,goog.events.Listenable.isImplementedBy(t)?t.getListener(e,o,n,r):t&&(t=goog.events.getListenerMap_(t))?t.getListener(e,o,n,r):null},goog.events.hasListener=function(t,e,o){return goog.events.Listenable.isImplementedBy(t)?t.hasListener(e,o):!!(t=goog.events.getListenerMap_(t))&&t.hasListener(e,o)},goog.events.expose=function(t){var e,o=[];for(e in t)o.push(t[e]&&t[e].id?e+" = "+t[e]+" ("+t[e].id+")":e+" = "+t[e]);return o.join("\n")},goog.events.getOnString_=function(t){return t in goog.events.onStringMap_?goog.events.onStringMap_[t]:goog.events.onStringMap_[t]=goog.events.onString_+t},goog.events.fireListeners=function(t,e,o,n){return goog.events.Listenable.isImplementedBy(t)?t.fireListeners(e,o,n):goog.events.fireListeners_(t,e,o,n)},goog.events.fireListeners_=function(t,e,o,n){var r=!0;if((t=goog.events.getListenerMap_(t))&&(e=t.listeners[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var i=e[t];i&&i.capture==o&&!i.removed&&(i=goog.events.fireListener(i,n),r=r&&!1!==i)}return r},goog.events.fireListener=function(t,e){var o=t.listener,n=t.handler||t.src;return t.callOnce&&goog.events.unlistenByKey(t),o.call(n,e)},goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_},goog.events.dispatchEvent=function(t,e){return goog.asserts.assert(goog.events.Listenable.isImplementedBy(t),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),t.dispatchEvent(e)},goog.events.protectBrowserEventEntryPoint=function(t){goog.events.handleBrowserEvent_=t.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(t,e){if(t.removed)return!0;if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var o=e||goog.getObjectByName("window.event"),n=new goog.events.BrowserEvent(o,this),r=!0;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){if(!goog.events.isMarkedIeEvent_(o)){goog.events.markIeEvent_(o),o=[];for(var i=n.currentTarget;i;i=i.parentNode)o.push(i);i=t.type;for(var s=o.length-1;!n.propagationStopped_&&0<=s;s--){n.currentTarget=o[s];var l=goog.events.fireListeners_(o[s],i,!0,n);r=r&&l}for(s=0;!n.propagationStopped_&&s<o.length;s++)n.currentTarget=o[s],l=goog.events.fireListeners_(o[s],i,!1,n),r=r&&l}}else r=goog.events.fireListener(t,n);return r}return goog.events.fireListener(t,new goog.events.BrowserEvent(e,this))},goog.events.markIeEvent_=function(t){var e=!1;if(0==t.keyCode)try{return void(t.keyCode=-1)}catch(o){e=!0}(e||null==t.returnValue)&&(t.returnValue=!0)},goog.events.isMarkedIeEvent_=function(t){return 0>t.keyCode||null!=t.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(t){return t+"_"+goog.events.uniqueIdCounter_++},goog.events.getListenerMap_=function(t){return(t=t[goog.events.LISTENER_MAP_PROP_])instanceof goog.events.ListenerMap?t:null},goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),goog.events.wrapListener=function(t){return goog.asserts.assert(t,"Listener can not be null."),goog.isFunction(t)?t:(goog.asserts.assert(t.handleEvent,"An object listener must have handleEvent method."),t[goog.events.LISTENER_WRAPPER_PROP_]||(t[goog.events.LISTENER_WRAPPER_PROP_]=function(e){return t.handleEvent(e)}),t[goog.events.LISTENER_WRAPPER_PROP_])},goog.debug.entryPointRegistry.register((function(t){goog.events.handleBrowserEvent_=t(goog.events.handleBrowserEvent_)})),goog.math={},goog.math.randomInt=function(t){return Math.floor(Math.random()*t)},goog.math.uniformRandom=function(t,e){return t+Math.random()*(e-t)},goog.math.clamp=function(t,e,o){return Math.min(Math.max(t,e),o)},goog.math.modulo=function(t,e){var o=t%e;return 0>o*e?o+e:o},goog.math.lerp=function(t,e,o){return t+o*(e-t)},goog.math.nearlyEquals=function(t,e,o){return Math.abs(t-e)<=(o||1e-6)},goog.math.standardAngle=function(t){return goog.math.modulo(t,360)},goog.math.standardAngleInRadians=function(t){return goog.math.modulo(t,2*Math.PI)},goog.math.toRadians=function(t){return t*Math.PI/180},goog.math.toDegrees=function(t){return 180*t/Math.PI},goog.math.angleDx=function(t,e){return e*Math.cos(goog.math.toRadians(t))},goog.math.angleDy=function(t,e){return e*Math.sin(goog.math.toRadians(t))},goog.math.angle=function(t,e,o,n){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(n-e,o-t)))},goog.math.angleDifference=function(t,e){var o=goog.math.standardAngle(e)-goog.math.standardAngle(t);return 180<o?o-=360:-180>=o&&(o=360+o),o},goog.math.sign=function(t){return 0<t?1:0>t?-1:t},goog.math.longestCommonSubsequence=function(t,e,o,n){o=o||function(t,e){return t==e},n=n||function(e,o){return t[e]};for(var r=t.length,i=e.length,s=[],l=0;l<r+1;l++)s[l]=[],s[l][0]=0;for(var a=0;a<i+1;a++)s[0][a]=0;for(l=1;l<=r;l++)for(a=1;a<=i;a++)s[l][a]=o(t[l-1],e[a-1])?s[l-1][a-1]+1:Math.max(s[l-1][a],s[l][a-1]);var u=[];for(l=r,a=i;0<l&&0<a;)o(t[l-1],e[a-1])?(u.unshift(n(l-1,a-1)),l--,a--):s[l-1][a]>s[l][a-1]?l--:a--;return u},goog.math.sum=function(t){return goog.array.reduce(arguments,(function(t,e){return t+e}),0)},goog.math.average=function(t){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.sampleVariance=function(t){var e=arguments.length;if(2>e)return 0;var o=goog.math.average.apply(null,arguments);return goog.math.sum.apply(null,goog.array.map(arguments,(function(t){return Math.pow(t-o,2)})))/(e-1)},goog.math.standardDeviation=function(t){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))},goog.math.isInt=function(t){return isFinite(t)&&0==t%1},goog.math.isFiniteNumber=function(t){return isFinite(t)},goog.math.isNegativeZero=function(t){return 0==t&&0>1/t},goog.math.log10Floor=function(t){if(0<t){var e=Math.round(Math.log(t)*Math.LOG10E);return e-(parseFloat("1e"+e)>t?1:0)}return 0==t?-1/0:NaN},goog.math.safeFloor=function(t,e){return goog.asserts.assert(!goog.isDef(e)||0<e),Math.floor(t+(e||2e-15))},goog.math.safeCeil=function(t,e){return goog.asserts.assert(!goog.isDef(e)||0<e),Math.ceil(t-(e||2e-15))},goog.math.Coordinate=function(t,e){this.x=goog.isDef(t)?t:0,this.y=goog.isDef(e)?e:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.prototype.equals=function(t){return t instanceof goog.math.Coordinate&&goog.math.Coordinate.equals(this,t)},goog.math.Coordinate.equals=function(t,e){return t==e||!(!t||!e)&&t.x==e.x&&t.y==e.y},goog.math.Coordinate.distance=function(t,e){var o=t.x-e.x,n=t.y-e.y;return Math.sqrt(o*o+n*n)},goog.math.Coordinate.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},goog.math.Coordinate.azimuth=function(t){return goog.math.angle(0,0,t.x,t.y)},goog.math.Coordinate.squaredDistance=function(t,e){var o=t.x-e.x,n=t.y-e.y;return o*o+n*n},goog.math.Coordinate.difference=function(t,e){return new goog.math.Coordinate(t.x-e.x,t.y-e.y)},goog.math.Coordinate.sum=function(t,e){return new goog.math.Coordinate(t.x+e.x,t.y+e.y)},goog.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},goog.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},goog.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},goog.math.Coordinate.prototype.translate=function(t,e){return t instanceof goog.math.Coordinate?(this.x+=t.x,this.y+=t.y):(this.x+=Number(t),goog.isNumber(e)&&(this.y+=e)),this},goog.math.Coordinate.prototype.scale=function(t,e){var o=goog.isNumber(e)?e:t;return this.x*=t,this.y*=o,this},goog.math.Coordinate.prototype.rotateRadians=function(t,e){var o=e||new goog.math.Coordinate(0,0),n=this.x,r=this.y,i=Math.cos(t),s=Math.sin(t);this.x=(n-o.x)*i-(r-o.y)*s+o.x,this.y=(n-o.x)*s+(r-o.y)*i+o.y},goog.math.Coordinate.prototype.rotateDegrees=function(t,e){this.rotateRadians(goog.math.toRadians(t),e)},goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,LEGACY_IE_RANGES:goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)},goog.math.Size=function(t,e){this.width=t,this.height=e},goog.math.Size.equals=function(t,e){return t==e||!(!t||!e)&&t.width==e.width&&t.height==e.height},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(t){return this.width<=t.width&&this.height<=t.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(t,e){var o=goog.isNumber(e)?e:t;return this.width*=t,this.height*=o,this},goog.math.Size.prototype.scaleToCover=function(t){return t=this.aspectRatio()<=t.aspectRatio()?t.width/this.width:t.height/this.height,this.scale(t)},goog.math.Size.prototype.scaleToFit=function(t){return t=this.aspectRatio()>t.aspectRatio()?t.width/this.width:t.height/this.height,this.scale(t)},goog.dom.ASSUME_QUIRKS_MODE=!1,goog.dom.ASSUME_STANDARDS_MODE=!1,goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.getDomHelper=function(t){return t?new goog.dom.DomHelper(goog.dom.getOwnerDocument(t)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.getDocument=function(){return document},goog.dom.getElement=function(t){return goog.dom.getElementHelper_(document,t)},goog.dom.getElementHelper_=function(t,e){return goog.isString(e)?t.getElementById(e):e},goog.dom.getRequiredElement=function(t){return goog.dom.getRequiredElementHelper_(document,t)},goog.dom.getRequiredElementHelper_=function(t,e){goog.asserts.assertString(e);var o=goog.dom.getElementHelper_(t,e);return goog.asserts.assertElement(o,"No element found with id: "+e)},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagName=function(t,e){return(e||document).getElementsByTagName(String(t))},goog.dom.getElementsByTagNameAndClass=function(t,e,o){return goog.dom.getElementsByTagNameAndClass_(document,t,e,o)},goog.dom.getElementByTagNameAndClass=function(t,e,o){return goog.dom.getElementByTagNameAndClass_(document,t,e,o)},goog.dom.getElementsByClass=function(t,e){var o=e||document;return goog.dom.canUseQuerySelector_(o)?o.querySelectorAll("."+t):goog.dom.getElementsByTagNameAndClass_(document,"*",t,e)},goog.dom.getElementByClass=function(t,e){var o=e||document;return(o.getElementsByClassName?o.getElementsByClassName(t)[0]:goog.dom.getElementByTagNameAndClass_(document,"*",t,e))||null},goog.dom.getRequiredElementByClass=function(t,e){var o=goog.dom.getElementByClass(t,e);return goog.asserts.assert(o,"No element found with className: "+t)},goog.dom.canUseQuerySelector_=function(t){return!(!t.querySelectorAll||!t.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(t,e,o,n){if(t=n||t,e=e&&"*"!=e?String(e).toUpperCase():"",goog.dom.canUseQuerySelector_(t)&&(e||o))return t.querySelectorAll(e+(o?"."+o:""));if(o&&t.getElementsByClassName){if(t=t.getElementsByClassName(o),e){n={};for(var r,i=0,s=0;r=t[s];s++)e==r.nodeName&&(n[i++]=r);return n.length=i,n}return t}if(t=t.getElementsByTagName(e||"*"),o){for(n={},s=i=0;r=t[s];s++)"function"==typeof(e=r.className).split&&goog.array.contains(e.split(/\s+/),o)&&(n[i++]=r);return n.length=i,n}return t},goog.dom.getElementByTagNameAndClass_=function(t,e,o,n){var r=n||t,i=e&&"*"!=e?String(e).toUpperCase():"";return goog.dom.canUseQuerySelector_(r)&&(i||o)?r.querySelector(i+(o?"."+o:"")):goog.dom.getElementsByTagNameAndClass_(t,e,o,n)[0]||null},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(t,e){goog.object.forEach(e,(function(e,o){e&&"object"==typeof e&&e.implementsGoogStringTypedString&&(e=e.getTypedStringValue()),"style"==o?t.style.cssText=e:"class"==o?t.className=e:"for"==o?t.htmlFor=e:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(o)?t.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[o],e):goog.string.startsWith(o,"aria-")||goog.string.startsWith(o,"data-")?t.setAttribute(o,e):t[o]=e}))},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},goog.dom.getViewportSize=function(t){return goog.dom.getViewportSize_(t||window)},goog.dom.getViewportSize_=function(t){return t=goog.dom.isCss1CompatMode_(t=t.document)?t.documentElement:t.body,new goog.math.Size(t.clientWidth,t.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeightForWindow=function(t){return goog.dom.getDocumentHeight_(t)},goog.dom.getDocumentHeight_=function(t){var e=t.document,o=0;if(e){o=e.body;var n=e.documentElement;if(!n||!o)return 0;if(t=goog.dom.getViewportSize_(t).height,goog.dom.isCss1CompatMode_(e)&&n.scrollHeight)o=n.scrollHeight!=t?n.scrollHeight:n.offsetHeight;else{e=n.scrollHeight;var r=n.offsetHeight;n.clientHeight!=r&&(e=o.scrollHeight,r=o.offsetHeight),o=e>t?e>r?e:r:e<r?e:r}}return o},goog.dom.getPageScroll=function(t){return goog.dom.getDomHelper((t||goog.global||window).document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(t){var e=goog.dom.getDocumentScrollElement_(t);return t=goog.dom.getWindow_(t),goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&t.pageYOffset!=e.scrollTop?new goog.math.Coordinate(e.scrollLeft,e.scrollTop):new goog.math.Coordinate(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(t){return t.scrollingElement?t.scrollingElement:!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(t)?t.documentElement:t.body||t.documentElement},goog.dom.getWindow=function(t){return t?goog.dom.getWindow_(t):window},goog.dom.getWindow_=function(t){return t.parentWindow||t.defaultView},goog.dom.createDom=function(t,e,o){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(t,e){var o=String(e[0]),n=e[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&n&&(n.name||n.type)){if(o=["<",o],n.name&&o.push(' name="',goog.string.htmlEscape(n.name),'"'),n.type){o.push(' type="',goog.string.htmlEscape(n.type),'"');var r={};goog.object.extend(r,n),delete r.type,n=r}o.push(">"),o=o.join("")}return o=t.createElement(o),n&&(goog.isString(n)?o.className=n:goog.isArray(n)?o.className=n.join(" "):goog.dom.setProperties(o,n)),2<e.length&&goog.dom.append_(t,o,e,2),o},goog.dom.append_=function(t,e,o,n){function r(o){o&&e.appendChild(goog.isString(o)?t.createTextNode(o):o)}for(;n<o.length;n++){var i=o[n];goog.isArrayLike(i)&&!goog.dom.isNodeLike(i)?goog.array.forEach(goog.dom.isNodeList(i)?goog.array.toArray(i):i,r):r(i)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(t){return goog.dom.createElement_(document,t)},goog.dom.createElement_=function(t,e){return t.createElement(String(e))},goog.dom.createTextNode=function(t){return document.createTextNode(String(t))},goog.dom.createTable=function(t,e,o){return goog.dom.createTable_(document,t,e,!!o)},goog.dom.createTable_=function(t,e,o,n){for(var r=goog.dom.createElement_(t,"TABLE"),i=r.appendChild(goog.dom.createElement_(t,"TBODY")),s=0;s<e;s++){for(var l=goog.dom.createElement_(t,"TR"),a=0;a<o;a++){var u=goog.dom.createElement_(t,"TD");n&&goog.dom.setTextContent(u,goog.string.Unicode.NBSP),l.appendChild(u)}i.appendChild(l)}return r},goog.dom.constHtmlToNode=function(t){var e=goog.array.map(arguments,goog.string.Const.unwrap);return e=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML string, that gets turned into a Node later, so it will be automatically balanced."),e.join("")),goog.dom.safeHtmlToNode(e)},goog.dom.safeHtmlToNode=function(t){return goog.dom.safeHtmlToNode_(document,t)},goog.dom.safeHtmlToNode_=function(t,e){var o=goog.dom.createElement_(t,"DIV");return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(o,goog.html.SafeHtml.concat(goog.html.SafeHtml.BR,e)),o.removeChild(goog.asserts.assert(o.firstChild))):goog.dom.safe.setInnerHtml(o,e),goog.dom.childrenToNode_(t,o)},goog.dom.childrenToNode_=function(t,e){if(1==e.childNodes.length)return e.removeChild(goog.asserts.assert(e.firstChild));for(var o=t.createDocumentFragment();e.firstChild;)o.appendChild(e.firstChild);return o},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(t){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==t.compatMode},goog.dom.canHaveChildren=function(t){if(t.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(t.tagName){case"APPLET":case"AREA":case"BASE":case"BR":case"COL":case"COMMAND":case"EMBED":case"FRAME":case"HR":case"IMG":case"INPUT":case"IFRAME":case"ISINDEX":case"KEYGEN":case"LINK":case"NOFRAMES":case"NOSCRIPT":case"META":case"OBJECT":case"PARAM":case"SCRIPT":case"SOURCE":case"STYLE":case"TRACK":case"WBR":return!1}return!0},goog.dom.appendChild=function(t,e){goog.asserts.assert(null!=t&&null!=e,"goog.dom.appendChild expects non-null arguments"),t.appendChild(e)},goog.dom.append=function(t,e){goog.dom.append_(goog.dom.getOwnerDocument(t),t,arguments,1)},goog.dom.removeChildren=function(t){for(var e;e=t.firstChild;)t.removeChild(e)},goog.dom.insertSiblingBefore=function(t,e){goog.asserts.assert(null!=t&&null!=e,"goog.dom.insertSiblingBefore expects non-null arguments"),e.parentNode&&e.parentNode.insertBefore(t,e)},goog.dom.insertSiblingAfter=function(t,e){goog.asserts.assert(null!=t&&null!=e,"goog.dom.insertSiblingAfter expects non-null arguments"),e.parentNode&&e.parentNode.insertBefore(t,e.nextSibling)},goog.dom.insertChildAt=function(t,e,o){goog.asserts.assert(null!=t,"goog.dom.insertChildAt expects a non-null parent"),t.insertBefore(e,t.childNodes[o]||null)},goog.dom.removeNode=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},goog.dom.replaceNode=function(t,e){goog.asserts.assert(null!=t&&null!=e,"goog.dom.replaceNode expects non-null arguments");var o=e.parentNode;o&&o.replaceChild(t,e)},goog.dom.flattenElement=function(t){var e,o=t.parentNode;if(o&&o.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(t.removeNode)return t.removeNode(!1);for(;e=t.firstChild;)o.insertBefore(e,t);return goog.dom.removeNode(t)}},goog.dom.getChildren=function(t){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&null!=t.children?t.children:goog.array.filter(t.childNodes,(function(t){return t.nodeType==goog.dom.NodeType.ELEMENT}))},goog.dom.getFirstElementChild=function(t){return goog.isDef(t.firstElementChild)?t.firstElementChild:goog.dom.getNextElementNode_(t.firstChild,!0)},goog.dom.getLastElementChild=function(t){return goog.isDef(t.lastElementChild)?t.lastElementChild:goog.dom.getNextElementNode_(t.lastChild,!1)},goog.dom.getNextElementSibling=function(t){return goog.isDef(t.nextElementSibling)?t.nextElementSibling:goog.dom.getNextElementNode_(t.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(t){return goog.isDef(t.previousElementSibling)?t.previousElementSibling:goog.dom.getNextElementNode_(t.previousSibling,!1)},goog.dom.getNextElementNode_=function(t,e){for(;t&&t.nodeType!=goog.dom.NodeType.ELEMENT;)t=e?t.nextSibling:t.previousSibling;return t},goog.dom.getNextNode=function(t){if(!t)return null;if(t.firstChild)return t.firstChild;for(;t&&!t.nextSibling;)t=t.parentNode;return t?t.nextSibling:null},goog.dom.getPreviousNode=function(t){if(!t)return null;if(!t.previousSibling)return t.parentNode;for(t=t.previousSibling;t&&t.lastChild;)t=t.lastChild;return t},goog.dom.isNodeLike=function(t){return goog.isObject(t)&&0<t.nodeType},goog.dom.isElement=function(t){return goog.isObject(t)&&t.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(t){return goog.isObject(t)&&t.window==t},goog.dom.getParentElement=function(t){var e;return!goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10")&&goog.global.SVGElement&&t instanceof goog.global.SVGElement||!(e=t.parentElement)?goog.dom.isElement(e=t.parentNode)?e:null:e},goog.dom.contains=function(t,e){if(!t||!e)return!1;if(t.contains&&e.nodeType==goog.dom.NodeType.ELEMENT)return t==e||t.contains(e);if(void 0!==t.compareDocumentPosition)return t==e||!!(16&t.compareDocumentPosition(e));for(;e&&t!=e;)e=e.parentNode;return e==t},goog.dom.compareNodeOrder=function(t,e){if(t==e)return 0;if(t.compareDocumentPosition)return 2&t.compareDocumentPosition(e)?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(t.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(e.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in t||t.parentNode&&"sourceIndex"in t.parentNode){var o=t.nodeType==goog.dom.NodeType.ELEMENT,n=e.nodeType==goog.dom.NodeType.ELEMENT;if(o&&n)return t.sourceIndex-e.sourceIndex;var r=t.parentNode,i=e.parentNode;return r==i?goog.dom.compareSiblingOrder_(t,e):!o&&goog.dom.contains(r,e)?-1*goog.dom.compareParentsDescendantNodeIe_(t,e):!n&&goog.dom.contains(i,t)?goog.dom.compareParentsDescendantNodeIe_(e,t):(o?t.sourceIndex:r.sourceIndex)-(n?e.sourceIndex:i.sourceIndex)}return(o=(n=goog.dom.getOwnerDocument(t)).createRange()).selectNode(t),o.collapse(!0),(n=n.createRange()).selectNode(e),n.collapse(!0),o.compareBoundaryPoints(goog.global.Range.START_TO_END,n)},goog.dom.compareParentsDescendantNodeIe_=function(t,e){var o=t.parentNode;if(o==e)return-1;for(var n=e;n.parentNode!=o;)n=n.parentNode;return goog.dom.compareSiblingOrder_(n,t)},goog.dom.compareSiblingOrder_=function(t,e){for(var o=e;o=o.previousSibling;)if(o==t)return-1;return 1},goog.dom.findCommonAncestor=function(t){var e,o=arguments.length;if(!o)return null;if(1==o)return arguments[0];var n=[],r=1/0;for(e=0;e<o;e++){for(var i=[],s=arguments[e];s;)i.unshift(s),s=s.parentNode;n.push(i),r=Math.min(r,i.length)}for(i=null,e=0;e<r;e++){s=n[0][e];for(var l=1;l<o;l++)if(s!=n[l][e])return i;i=s}return i},goog.dom.isInDocument=function(t){return 16==(16&t.ownerDocument.compareDocumentPosition(t))},goog.dom.getOwnerDocument=function(t){return goog.asserts.assert(t,"Node cannot be null or undefined."),t.nodeType==goog.dom.NodeType.DOCUMENT?t:t.ownerDocument||t.document},goog.dom.getFrameContentDocument=function(t){return t.contentDocument||t.contentWindow.document},goog.dom.getFrameContentWindow=function(t){try{return t.contentWindow||(t.contentDocument?goog.dom.getWindow(t.contentDocument):null)}catch(e){}return null},goog.dom.setTextContent=function(t,e){if(goog.asserts.assert(null!=t,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in t)t.textContent=e;else if(t.nodeType==goog.dom.NodeType.TEXT)t.data=String(e);else if(t.firstChild&&t.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;t.lastChild!=t.firstChild;)t.removeChild(goog.asserts.assert(t.lastChild));t.firstChild.data=String(e)}else{goog.dom.removeChildren(t);var o=goog.dom.getOwnerDocument(t);t.appendChild(o.createTextNode(String(e)))}},goog.dom.getOuterHtml=function(t){if(goog.asserts.assert(null!==t,"goog.dom.getOuterHtml expects a non-null value for element"),"outerHTML"in t)return t.outerHTML;var e=goog.dom.getOwnerDocument(t);return(e=goog.dom.createElement_(e,"DIV")).appendChild(t.cloneNode(!0)),e.innerHTML},goog.dom.findNode=function(t,e){var o=[];return goog.dom.findNodes_(t,e,o,!0)?o[0]:void 0},goog.dom.findNodes=function(t,e){var o=[];return goog.dom.findNodes_(t,e,o,!1),o},goog.dom.findNodes_=function(t,e,o,n){if(null!=t)for(t=t.firstChild;t;){if(e(t)&&(o.push(t),n)||goog.dom.findNodes_(t,e,o,n))return!0;t=t.nextSibling}return!1},goog.dom.findElement=function(t,e){for(var o=goog.dom.getChildrenReverse_(t);0<o.length;){var n=o.pop();if(e(n))return n;for(n=n.lastElementChild;n;n=n.previousElementSibling)o.push(n)}return null},goog.dom.findElements=function(t,e){for(var o=[],n=goog.dom.getChildrenReverse_(t);0<n.length;){var r=n.pop();for(e(r)&&o.push(r),r=r.lastElementChild;r;r=r.previousElementSibling)n.push(r)}return o},goog.dom.getChildrenReverse_=function(t){if(t.nodeType==goog.dom.NodeType.DOCUMENT)return[t.documentElement];var e=[];for(t=t.lastElementChild;t;t=t.previousElementSibling)e.push(t);return e},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},goog.dom.isFocusableTabIndex=function(t){return goog.dom.hasSpecifiedTabIndex_(t)&&goog.dom.isTabIndexFocusable_(t)},goog.dom.setFocusableTabIndex=function(t,e){e?t.tabIndex=0:(t.tabIndex=-1,t.removeAttribute("tabIndex"))},goog.dom.isFocusable=function(t){var e;return(e=goog.dom.nativelySupportsFocus_(t)?!t.disabled&&(!goog.dom.hasSpecifiedTabIndex_(t)||goog.dom.isTabIndexFocusable_(t)):goog.dom.isFocusableTabIndex(t))&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(t):e},goog.dom.hasSpecifiedTabIndex_=function(t){return goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9")?(t=t.getAttributeNode("tabindex"),goog.isDefAndNotNull(t)&&t.specified):t.hasAttribute("tabindex")},goog.dom.isTabIndexFocusable_=function(t){return goog.isNumber(t=t.tabIndex)&&0<=t&&32768>t},goog.dom.nativelySupportsFocus_=function(t){return"A"==t.tagName&&t.hasAttribute("href")||"INPUT"==t.tagName||"TEXTAREA"==t.tagName||"SELECT"==t.tagName||"BUTTON"==t.tagName},goog.dom.hasNonZeroBoundingRect_=function(t){return t=!goog.isFunction(t.getBoundingClientRect)||goog.userAgent.IE&&null==t.parentElement?{height:t.offsetHeight,width:t.offsetWidth}:t.getBoundingClientRect(),goog.isDefAndNotNull(t)&&0<t.height&&0<t.width},goog.dom.getTextContent=function(t){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&null!==t&&"innerText"in t)t=goog.string.canonicalizeNewlines(t.innerText);else{var e=[];goog.dom.getTextContent_(t,e,!0),t=e.join("")}return t=(t=t.replace(/ \xAD /g," ").replace(/\xAD/g,"")).replace(/\u200B/g,""),goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(t=t.replace(/ +/g," "))," "!=t&&(t=t.replace(/^\s*/,"")),t},goog.dom.getRawTextContent=function(t){var e=[];return goog.dom.getTextContent_(t,e,!1),e.join("")},goog.dom.getTextContent_=function(t,e,o){if(!(t.nodeName in goog.dom.TAGS_TO_IGNORE_))if(t.nodeType==goog.dom.NodeType.TEXT)e.push(o?String(t.nodeValue).replace(/(\r\n|\r|\n)/g,""):t.nodeValue);else if(t.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)e.push(goog.dom.PREDEFINED_TAG_VALUES_[t.nodeName]);else for(t=t.firstChild;t;)goog.dom.getTextContent_(t,e,o),t=t.nextSibling},goog.dom.getNodeTextLength=function(t){return goog.dom.getTextContent(t).length},goog.dom.getNodeTextOffset=function(t,e){for(var o=e||goog.dom.getOwnerDocument(t).body,n=[];t&&t!=o;){for(var r=t;r=r.previousSibling;)n.unshift(goog.dom.getTextContent(r));t=t.parentNode}return goog.string.trimLeft(n.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(t,e,o){t=[t];for(var n=0,r=null;0<t.length&&n<e;)if(!((r=t.pop()).nodeName in goog.dom.TAGS_TO_IGNORE_))if(r.nodeType==goog.dom.NodeType.TEXT){var i=r.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");n+=i.length}else if(r.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)n+=goog.dom.PREDEFINED_TAG_VALUES_[r.nodeName].length;else for(i=r.childNodes.length-1;0<=i;i--)t.push(r.childNodes[i]);return goog.isObject(o)&&(o.remainder=r?r.nodeValue.length+e-n-1:0,o.node=r),r},goog.dom.isNodeList=function(t){if(t&&"number"==typeof t.length){if(goog.isObject(t))return"function"==typeof t.item||"string"==typeof t.item;if(goog.isFunction(t))return"function"==typeof t.item}return!1},goog.dom.getAncestorByTagNameAndClass=function(t,e,o,n){if(!e&&!o)return null;var r=e?String(e).toUpperCase():null;return goog.dom.getAncestor(t,(function(t){return(!r||t.nodeName==r)&&(!o||goog.isString(t.className)&&goog.array.contains(t.className.split(/\s+/),o))}),!0,n)},goog.dom.getAncestorByClass=function(t,e,o){return goog.dom.getAncestorByTagNameAndClass(t,null,e,o)},goog.dom.getAncestor=function(t,e,o,n){for(t&&!o&&(t=t.parentNode),o=0;t&&(null==n||o<=n);){if(goog.asserts.assert("parentNode"!=t.name),e(t))return t;t=t.parentNode,o++}return null},goog.dom.getActiveElement=function(t){try{var e=t&&t.activeElement;return e&&e.nodeName?e:null}catch(o){return null}},goog.dom.getPixelRatio=function(){var t=goog.dom.getWindow();return goog.isDef(t.devicePixelRatio)?t.devicePixelRatio:t.matchMedia?goog.dom.matchesPixelRatio_(3)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(1)||.75:1},goog.dom.matchesPixelRatio_=function(t){return goog.dom.getWindow().matchMedia("(min-resolution: "+t+"dppx),(min--moz-device-pixel-ratio: "+t+"),(min-resolution: "+96*t+"dpi)").matches?t:0},goog.dom.getCanvasContext2D=function(t){return t.getContext("2d")},goog.dom.DomHelper=function(t){this.document_=t||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(t){this.document_=t},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(t){return goog.dom.getElementHelper_(this.document_,t)},goog.dom.DomHelper.prototype.getRequiredElement=function(t){return goog.dom.getRequiredElementHelper_(this.document_,t)},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagName=function(t,e){return(e||this.document_).getElementsByTagName(String(t))},goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(t,e,o){return goog.dom.getElementsByTagNameAndClass_(this.document_,t,e,o)},goog.dom.DomHelper.prototype.getElementByTagNameAndClass=function(t,e,o){return goog.dom.getElementByTagNameAndClass_(this.document_,t,e,o)},goog.dom.DomHelper.prototype.getElementsByClass=function(t,e){return goog.dom.getElementsByClass(t,e||this.document_)},goog.dom.DomHelper.prototype.getElementByClass=function(t,e){return goog.dom.getElementByClass(t,e||this.document_)},goog.dom.DomHelper.prototype.getRequiredElementByClass=function(t,e){return goog.dom.getRequiredElementByClass(t,e||this.document_)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(t){return goog.dom.getViewportSize(t||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.DomHelper.prototype.createDom=function(t,e,o){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(t){return goog.dom.createElement_(this.document_,t)},goog.dom.DomHelper.prototype.createTextNode=function(t){return this.document_.createTextNode(String(t))},goog.dom.DomHelper.prototype.createTable=function(t,e,o){return goog.dom.createTable_(this.document_,t,e,!!o)},goog.dom.DomHelper.prototype.safeHtmlToNode=function(t){return goog.dom.safeHtmlToNode_(this.document_,t)},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.getActiveElement=function(t){return goog.dom.getActiveElement(t||this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.isElement=goog.dom.isElement,goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow,goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder,goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex,goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex,goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset,goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.dom.DomHelper.prototype.getCanvasContext2D=goog.dom.getCanvasContext2D,goog.dom.vendor={},goog.dom.vendor.getVendorJsPrefix=function(){return goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.IE?"ms":goog.userAgent.OPERA?"O":null},goog.dom.vendor.getVendorPrefix=function(){return goog.userAgent.WEBKIT?"-webkit":goog.userAgent.GECKO?"-moz":goog.userAgent.IE?"-ms":goog.userAgent.OPERA?"-o":null},goog.dom.vendor.getPrefixedPropertyName=function(t,e){if(e&&t in e)return t;var o=goog.dom.vendor.getVendorJsPrefix();return o?(o=o.toLowerCase(),o+=goog.string.toTitleCase(t),!goog.isDef(e)||o in e?o:null):null},goog.dom.vendor.getPrefixedEventType=function(t){return((goog.dom.vendor.getVendorJsPrefix()||"")+t).toLowerCase()},goog.math.Box=function(t,e,o,n){this.top=t,this.right=e,this.bottom=o,this.left=n},goog.math.Box.boundingBox=function(t){for(var e=new goog.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),o=1;o<arguments.length;o++)e.expandToIncludeCoordinate(arguments[o]);return e},goog.math.Box.prototype.getWidth=function(){return this.right-this.left},goog.math.Box.prototype.getHeight=function(){return this.bottom-this.top},goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)},goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),goog.math.Box.prototype.contains=function(t){return goog.math.Box.contains(this,t)},goog.math.Box.prototype.expand=function(t,e,o,n){return goog.isObject(t)?(this.top-=t.top,this.right+=t.right,this.bottom+=t.bottom,this.left-=t.left):(this.top-=t,this.right+=Number(e),this.bottom+=Number(o),this.left-=Number(n)),this},goog.math.Box.prototype.expandToInclude=function(t){this.left=Math.min(this.left,t.left),this.top=Math.min(this.top,t.top),this.right=Math.max(this.right,t.right),this.bottom=Math.max(this.bottom,t.bottom)},goog.math.Box.prototype.expandToIncludeCoordinate=function(t){this.top=Math.min(this.top,t.y),this.right=Math.max(this.right,t.x),this.bottom=Math.max(this.bottom,t.y),this.left=Math.min(this.left,t.x)},goog.math.Box.equals=function(t,e){return t==e||!(!t||!e)&&t.top==e.top&&t.right==e.right&&t.bottom==e.bottom&&t.left==e.left},goog.math.Box.contains=function(t,e){return!(!t||!e)&&(e instanceof goog.math.Box?e.left>=t.left&&e.right<=t.right&&e.top>=t.top&&e.bottom<=t.bottom:e.x>=t.left&&e.x<=t.right&&e.y>=t.top&&e.y<=t.bottom)},goog.math.Box.relativePositionX=function(t,e){return e.x<t.left?e.x-t.left:e.x>t.right?e.x-t.right:0},goog.math.Box.relativePositionY=function(t,e){return e.y<t.top?e.y-t.top:e.y>t.bottom?e.y-t.bottom:0},goog.math.Box.distance=function(t,e){var o=goog.math.Box.relativePositionX(t,e),n=goog.math.Box.relativePositionY(t,e);return Math.sqrt(o*o+n*n)},goog.math.Box.intersects=function(t,e){return t.left<=e.right&&e.left<=t.right&&t.top<=e.bottom&&e.top<=t.bottom},goog.math.Box.intersectsWithPadding=function(t,e,o){return t.left<=e.right+o&&e.left<=t.right+o&&t.top<=e.bottom+o&&e.top<=t.bottom+o},goog.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},goog.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},goog.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},goog.math.Box.prototype.translate=function(t,e){return t instanceof goog.math.Coordinate?(this.left+=t.x,this.right+=t.x,this.top+=t.y,this.bottom+=t.y):(goog.asserts.assertNumber(t),this.left+=t,this.right+=t,goog.isNumber(e)&&(this.top+=e,this.bottom+=e)),this},goog.math.Box.prototype.scale=function(t,e){var o=goog.isNumber(e)?e:t;return this.left*=t,this.right*=t,this.top*=o,this.bottom*=o,this},goog.math.IRect=function(){},goog.math.Rect=function(t,e,o,n){this.left=t,this.top=e,this.width=o,this.height=n},goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)},goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},goog.math.Rect.createFromPositionAndSize=function(t,e){return new goog.math.Rect(t.x,t.y,e.width,e.height)},goog.math.Rect.createFromBox=function(t){return new goog.math.Rect(t.left,t.top,t.right-t.left,t.bottom-t.top)},goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),goog.math.Rect.equals=function(t,e){return t==e||!(!t||!e)&&t.left==e.left&&t.width==e.width&&t.top==e.top&&t.height==e.height},goog.math.Rect.prototype.intersection=function(t){var e=Math.max(this.left,t.left),o=Math.min(this.left+this.width,t.left+t.width);if(e<=o){var n=Math.max(this.top,t.top);if(n<=(t=Math.min(this.top+this.height,t.top+t.height)))return this.left=e,this.top=n,this.width=o-e,this.height=t-n,!0}return!1},goog.math.Rect.intersection=function(t,e){var o=Math.max(t.left,e.left),n=Math.min(t.left+t.width,e.left+e.width);if(o<=n){var r=Math.max(t.top,e.top),i=Math.min(t.top+t.height,e.top+e.height);if(r<=i)return new goog.math.Rect(o,r,n-o,i-r)}return null},goog.math.Rect.intersects=function(t,e){return t.left<=e.left+e.width&&e.left<=t.left+t.width&&t.top<=e.top+e.height&&e.top<=t.top+t.height},goog.math.Rect.prototype.intersects=function(t){return goog.math.Rect.intersects(this,t)},goog.math.Rect.difference=function(t,e){var o=goog.math.Rect.intersection(t,e);if(!o||!o.height||!o.width)return[t.clone()];o=[];var n=t.top,r=t.height,i=t.left+t.width,s=t.top+t.height,l=e.left+e.width,a=e.top+e.height;return e.top>t.top&&(o.push(new goog.math.Rect(t.left,t.top,t.width,e.top-t.top)),n=e.top,r-=e.top-t.top),a<s&&(o.push(new goog.math.Rect(t.left,a,t.width,s-a)),r=a-n),e.left>t.left&&o.push(new goog.math.Rect(t.left,n,e.left-t.left,r)),l<i&&o.push(new goog.math.Rect(l,n,i-l,r)),o},goog.math.Rect.prototype.difference=function(t){return goog.math.Rect.difference(this,t)},goog.math.Rect.prototype.boundingRect=function(t){var e=Math.max(this.left+this.width,t.left+t.width),o=Math.max(this.top+this.height,t.top+t.height);this.left=Math.min(this.left,t.left),this.top=Math.min(this.top,t.top),this.width=e-this.left,this.height=o-this.top},goog.math.Rect.boundingRect=function(t,e){if(!t||!e)return null;var o=new goog.math.Rect(t.left,t.top,t.width,t.height);return o.boundingRect(e),o},goog.math.Rect.prototype.contains=function(t){return t instanceof goog.math.Coordinate?t.x>=this.left&&t.x<=this.left+this.width&&t.y>=this.top&&t.y<=this.top+this.height:this.left<=t.left&&this.left+this.width>=t.left+t.width&&this.top<=t.top&&this.top+this.height>=t.top+t.height},goog.math.Rect.prototype.squaredDistance=function(t){var e=t.x<this.left?this.left-t.x:Math.max(t.x-(this.left+this.width),0);return e*e+(t=t.y<this.top?this.top-t.y:Math.max(t.y-(this.top+this.height),0))*t},goog.math.Rect.prototype.distance=function(t){return Math.sqrt(this.squaredDistance(t))},goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)},goog.math.Rect.prototype.getTopLeft=function(){return new goog.math.Coordinate(this.left,this.top)},goog.math.Rect.prototype.getCenter=function(){return new goog.math.Coordinate(this.left+this.width/2,this.top+this.height/2)},goog.math.Rect.prototype.getBottomRight=function(){return new goog.math.Coordinate(this.left+this.width,this.top+this.height)},goog.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Rect.prototype.translate=function(t,e){return t instanceof goog.math.Coordinate?(this.left+=t.x,this.top+=t.y):(this.left+=goog.asserts.assertNumber(t),goog.isNumber(e)&&(this.top+=e)),this},goog.math.Rect.prototype.scale=function(t,e){var o=goog.isNumber(e)?e:t;return this.left*=t,this.width*=t,this.top*=o,this.height*=o,this},goog.style={},goog.style.setStyle=function(t,e,o){if(goog.isString(e))goog.style.setStyle_(t,o,e);else for(var n in e)goog.style.setStyle_(t,e[n],n)},goog.style.setStyle_=function(t,e,o){(o=goog.style.getVendorJsStyleName_(t,o))&&(t.style[o]=e)},goog.style.styleNameCache_={},goog.style.getVendorJsStyleName_=function(t,e){var o=goog.style.styleNameCache_[e];if(!o){var n=goog.string.toCamelCase(e);o=n,void 0===t.style[n]&&(n=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(n),void 0!==t.style[n]&&(o=n)),goog.style.styleNameCache_[e]=o}return o},goog.style.getVendorStyleName_=function(t,e){var o=goog.string.toCamelCase(e);return void 0===t.style[o]&&(o=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(o),void 0!==t.style[o])?goog.dom.vendor.getVendorPrefix()+"-"+e:e},goog.style.getStyle=function(t,e){var o=t.style[goog.string.toCamelCase(e)];return void 0!==o?o:t.style[goog.style.getVendorJsStyleName_(t,e)]||""},goog.style.getComputedStyle=function(t,e){var o=goog.dom.getOwnerDocument(t);return o.defaultView&&o.defaultView.getComputedStyle&&(o=o.defaultView.getComputedStyle(t,null))&&(o[e]||o.getPropertyValue(e))||""},goog.style.getCascadedStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:null},goog.style.getStyle_=function(t,e){return goog.style.getComputedStyle(t,e)||goog.style.getCascadedStyle(t,e)||t.style&&t.style[e]},goog.style.getComputedBoxSizing=function(t){return goog.style.getStyle_(t,"boxSizing")||goog.style.getStyle_(t,"MozBoxSizing")||goog.style.getStyle_(t,"WebkitBoxSizing")||null},goog.style.getComputedPosition=function(t){return goog.style.getStyle_(t,"position")},goog.style.getBackgroundColor=function(t){return goog.style.getStyle_(t,"backgroundColor")},goog.style.getComputedOverflowX=function(t){return goog.style.getStyle_(t,"overflowX")},goog.style.getComputedOverflowY=function(t){return goog.style.getStyle_(t,"overflowY")},goog.style.getComputedZIndex=function(t){return goog.style.getStyle_(t,"zIndex")},goog.style.getComputedTextAlign=function(t){return goog.style.getStyle_(t,"textAlign")},goog.style.getComputedCursor=function(t){return goog.style.getStyle_(t,"cursor")},goog.style.getComputedTransform=function(t){var e=goog.style.getVendorStyleName_(t,"transform");return goog.style.getStyle_(t,e)||goog.style.getStyle_(t,"transform")},goog.style.setPosition=function(t,e,o){if(e instanceof goog.math.Coordinate){var n=e.x;e=e.y}else n=e,e=o;t.style.left=goog.style.getPixelStyleValue_(n,!1),t.style.top=goog.style.getPixelStyleValue_(e,!1)},goog.style.getPosition=function(t){return new goog.math.Coordinate(t.offsetLeft,t.offsetTop)},goog.style.getClientViewportElement=function(t){return t=t?goog.dom.getOwnerDocument(t):goog.dom.getDocument(),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||goog.dom.getDomHelper(t).isCss1CompatMode()?t.documentElement:t.body},goog.style.getViewportPageOffset=function(t){var e=t.body;return t=t.documentElement,new goog.math.Coordinate(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},goog.style.getBoundingClientRect_=function(t){try{var e=t.getBoundingClientRect()}catch(o){return{left:0,top:0,right:0,bottom:0}}return goog.userAgent.IE&&t.ownerDocument.body&&(e.left-=(t=t.ownerDocument).documentElement.clientLeft+t.body.clientLeft,e.top-=t.documentElement.clientTop+t.body.clientTop),e},goog.style.getOffsetParent=function(t){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(8))return goog.asserts.assert(t&&"offsetParent"in t),t.offsetParent;var e=goog.dom.getOwnerDocument(t),o=goog.style.getStyle_(t,"position"),n="fixed"==o||"absolute"==o;for(t=t.parentNode;t&&t!=e;t=t.parentNode)if(t.nodeType==goog.dom.NodeType.DOCUMENT_FRAGMENT&&t.host&&(t=t.host),o=goog.style.getStyle_(t,"position"),!(n=n&&"static"==o&&t!=e.documentElement&&t!=e.body)&&(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight||"fixed"==o||"absolute"==o||"relative"==o))return t;return null},goog.style.getVisibleRectForElement=function(t){for(var e=new goog.math.Box(0,1/0,1/0,0),o=goog.dom.getDomHelper(t),n=o.getDocument().body,r=o.getDocument().documentElement,i=o.getDocumentScrollElement();t=goog.style.getOffsetParent(t);)if(!(goog.userAgent.IE&&0==t.clientWidth||goog.userAgent.WEBKIT&&0==t.clientHeight&&t==n)&&t!=n&&t!=r&&"visible"!=goog.style.getStyle_(t,"overflow")){var s=goog.style.getPageOffset(t),l=goog.style.getClientLeftTop(t);s.x+=l.x,s.y+=l.y,e.top=Math.max(e.top,s.y),e.right=Math.min(e.right,s.x+t.clientWidth),e.bottom=Math.min(e.bottom,s.y+t.clientHeight),e.left=Math.max(e.left,s.x)}return n=i.scrollLeft,i=i.scrollTop,e.left=Math.max(e.left,n),e.top=Math.max(e.top,i),o=o.getViewportSize(),e.right=Math.min(e.right,n+o.width),e.bottom=Math.min(e.bottom,i+o.height),0<=e.top&&0<=e.left&&e.bottom>e.top&&e.right>e.left?e:null},goog.style.getContainerOffsetToScrollInto=function(t,e,o){var n=e||goog.dom.getDocumentScrollElement(),r=goog.style.getPageOffset(t),i=goog.style.getPageOffset(n),s=goog.style.getBorderBox(n);return n==goog.dom.getDocumentScrollElement()?(e=r.x-n.scrollLeft,r=r.y-n.scrollTop,goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(10)&&(e+=s.left,r+=s.top)):(e=r.x-i.x-s.left,r=r.y-i.y-s.top),s=goog.style.getSizeWithDisplay_(t),t=n.clientWidth-s.width,s=n.clientHeight-s.height,i=n.scrollLeft,n=n.scrollTop,o?(i+=e-t/2,n+=r-s/2):(i+=Math.min(e,Math.max(e-t,0)),n+=Math.min(r,Math.max(r-s,0))),new goog.math.Coordinate(i,n)},goog.style.scrollIntoContainerView=function(t,e,o){e=e||goog.dom.getDocumentScrollElement(),t=goog.style.getContainerOffsetToScrollInto(t,e,o),e.scrollLeft=t.x,e.scrollTop=t.y},goog.style.getClientLeftTop=function(t){return new goog.math.Coordinate(t.clientLeft,t.clientTop)},goog.style.getPageOffset=function(t){var e=goog.dom.getOwnerDocument(t);goog.asserts.assertObject(t,"Parameter is required");var o=new goog.math.Coordinate(0,0);return t==goog.style.getClientViewportElement(e)?o:(t=goog.style.getBoundingClientRect_(t),e=goog.dom.getDomHelper(e).getDocumentScroll(),o.x=t.left+e.x,o.y=t.top+e.y,o)},goog.style.getPageOffsetLeft=function(t){return goog.style.getPageOffset(t).x},goog.style.getPageOffsetTop=function(t){return goog.style.getPageOffset(t).y},goog.style.getFramedPageOffset=function(t,e){var o=new goog.math.Coordinate(0,0),n=goog.dom.getWindow(goog.dom.getOwnerDocument(t));if(!goog.reflect.canAccessProperty(n,"parent"))return o;var r=t;do{var i=n==e?goog.style.getPageOffset(r):goog.style.getClientPositionForElement_(goog.asserts.assert(r));o.x+=i.x,o.y+=i.y}while(n&&n!=e&&n!=n.parent&&(r=n.frameElement)&&(n=n.parent));return o},goog.style.translateRectForAnotherFrame=function(t,e,o){if(e.getDocument()!=o.getDocument()){var n=e.getDocument().body;o=goog.style.getFramedPageOffset(n,o.getWindow()),o=goog.math.Coordinate.difference(o,goog.style.getPageOffset(n)),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||e.isCss1CompatMode()||(o=goog.math.Coordinate.difference(o,e.getDocumentScroll())),t.left+=o.x,t.top+=o.y}},goog.style.getRelativePosition=function(t,e){var o=goog.style.getClientPosition(t),n=goog.style.getClientPosition(e);return new goog.math.Coordinate(o.x-n.x,o.y-n.y)},goog.style.getClientPositionForElement_=function(t){return t=goog.style.getBoundingClientRect_(t),new goog.math.Coordinate(t.left,t.top)},goog.style.getClientPosition=function(t){return goog.asserts.assert(t),t.nodeType==goog.dom.NodeType.ELEMENT?goog.style.getClientPositionForElement_(t):new goog.math.Coordinate((t=t.changedTouches?t.changedTouches[0]:t).clientX,t.clientY)},goog.style.setPageOffset=function(t,e,o){var n=goog.style.getPageOffset(t);e instanceof goog.math.Coordinate&&(o=e.y,e=e.x),e=goog.asserts.assertNumber(e)-n.x,goog.style.setPosition(t,t.offsetLeft+e,t.offsetTop+(Number(o)-n.y))},goog.style.setSize=function(t,e,o){if(e instanceof goog.math.Size)o=e.height,e=e.width;else if(null==o)throw Error("missing height argument");goog.style.setWidth(t,e),goog.style.setHeight(t,o)},goog.style.getPixelStyleValue_=function(t,e){return"number"==typeof t&&(t=(e?Math.round(t):t)+"px"),t},goog.style.setHeight=function(t,e){t.style.height=goog.style.getPixelStyleValue_(e,!0)},goog.style.setWidth=function(t,e){t.style.width=goog.style.getPixelStyleValue_(e,!0)},goog.style.getSize=function(t){return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_,t)},goog.style.evaluateWithTemporaryDisplay_=function(t,e){if("none"!=goog.style.getStyle_(e,"display"))return t(e);var o=e.style,n=o.display,r=o.visibility,i=o.position;o.visibility="hidden",o.position="absolute",o.display="inline";var s=t(e);return o.display=n,o.position=i,o.visibility=r,s},goog.style.getSizeWithDisplay_=function(t){var e=t.offsetWidth,o=t.offsetHeight,n=goog.userAgent.WEBKIT&&!e&&!o;return goog.isDef(e)&&!n||!t.getBoundingClientRect?new goog.math.Size(e,o):(t=goog.style.getBoundingClientRect_(t),new goog.math.Size(t.right-t.left,t.bottom-t.top))},goog.style.getTransformedSize=function(t){return t.getBoundingClientRect?(t=goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_,t),new goog.math.Size(t.right-t.left,t.bottom-t.top)):null},goog.style.getBounds=function(t){var e=goog.style.getPageOffset(t);return t=goog.style.getSize(t),new goog.math.Rect(e.x,e.y,t.width,t.height)},goog.style.toCamelCase=function(t){return goog.string.toCamelCase(String(t))},goog.style.toSelectorCase=function(t){return goog.string.toSelectorCase(t)},goog.style.getOpacity=function(t){goog.asserts.assert(t);var e=t.style;return t="","opacity"in e?t=e.opacity:"MozOpacity"in e?t=e.MozOpacity:"filter"in e&&(e=e.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(t=String(e[1]/100)),""==t?t:Number(t)},goog.style.setOpacity=function(t,e){goog.asserts.assert(t);var o=t.style;"opacity"in o?o.opacity=e:"MozOpacity"in o?o.MozOpacity=e:"filter"in o&&(o.filter=""===e?"":"alpha(opacity="+100*Number(e)+")")},goog.style.setTransparentBackgroundImage=function(t,e){var o=t.style;goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?o.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+e+'", sizingMethod="crop")':(o.backgroundImage="url("+e+")",o.backgroundPosition="top left",o.backgroundRepeat="no-repeat")},goog.style.clearTransparentBackgroundImage=function(t){"filter"in(t=t.style)?t.filter="":t.backgroundImage="none"},goog.style.showElement=function(t,e){goog.style.setElementShown(t,e)},goog.style.setElementShown=function(t,e){t.style.display=e?"":"none"},goog.style.isElementShown=function(t){return"none"!=t.style.display},goog.style.installSafeStyleSheet=function(t,e){var o=goog.dom.getDomHelper(e),n=o.getDocument();if(goog.userAgent.IE&&n.createStyleSheet)return o=n.createStyleSheet(),goog.style.setSafeStyleSheet(o,t),o;if(!(n=o.getElementsByTagNameAndClass("HEAD")[0])){var r=o.getElementsByTagNameAndClass("BODY")[0];n=o.createDom("HEAD"),r.parentNode.insertBefore(n,r)}return r=o.createDom("STYLE"),goog.style.setSafeStyleSheet(r,t),o.appendChild(n,r),r},goog.style.uninstallStyles=function(t){goog.dom.removeNode(t.ownerNode||t.owningElement||t)},goog.style.setSafeStyleSheet=function(t,e){var o=goog.html.SafeStyleSheet.unwrap(e);goog.userAgent.IE&&goog.isDef(t.cssText)?t.cssText=o:t.innerHTML=o},goog.style.setPreWrap=function(t){t=t.style,goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(t.whiteSpace="pre",t.wordWrap="break-word"):t.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},goog.style.setInlineBlock=function(t){(t=t.style).position="relative",goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(t.zoom="1",t.display="inline"):t.display="inline-block"},goog.style.isRightToLeft=function(t){return"rtl"==goog.style.getStyle_(t,"direction")},goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT||goog.userAgent.EDGE?"WebkitUserSelect":null,goog.style.isUnselectable=function(t){return goog.style.unselectableStyle_?"none"==t.style[goog.style.unselectableStyle_].toLowerCase():!(!goog.userAgent.IE&&!goog.userAgent.OPERA)&&"on"==t.getAttribute("unselectable")},goog.style.setUnselectable=function(t,e,o){o=o?null:t.getElementsByTagName("*");var n=goog.style.unselectableStyle_;if(n){if(e=e?"none":"",t.style&&(t.style[n]=e),o){t=0;for(var r;r=o[t];t++)r.style&&(r.style[n]=e)}}else if((goog.userAgent.IE||goog.userAgent.OPERA)&&(t.setAttribute("unselectable",e=e?"on":""),o))for(t=0;r=o[t];t++)r.setAttribute("unselectable",e)},goog.style.getBorderBoxSize=function(t){return new goog.math.Size(t.offsetWidth,t.offsetHeight)},goog.style.setBorderBoxSize=function(t,e){var o=goog.dom.getOwnerDocument(t),n=goog.dom.getDomHelper(o).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||n&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(t,e,"border-box");else if(o=t.style,n){n=goog.style.getPaddingBox(t);var r=goog.style.getBorderBox(t);o.pixelWidth=e.width-r.left-n.left-n.right-r.right,o.pixelHeight=e.height-r.top-n.top-n.bottom-r.bottom}else o.pixelWidth=e.width,o.pixelHeight=e.height},goog.style.getContentBoxSize=function(t){var e=goog.dom.getOwnerDocument(t),o=goog.userAgent.IE&&t.currentStyle;return o&&goog.dom.getDomHelper(e).isCss1CompatMode()&&"auto"!=o.width&&"auto"!=o.height&&!o.boxSizing?(e=goog.style.getIePixelValue_(t,o.width,"width","pixelWidth"),t=goog.style.getIePixelValue_(t,o.height,"height","pixelHeight"),new goog.math.Size(e,t)):(o=goog.style.getBorderBoxSize(t),e=goog.style.getPaddingBox(t),t=goog.style.getBorderBox(t),new goog.math.Size(o.width-t.left-e.left-e.right-t.right,o.height-t.top-e.top-e.bottom-t.bottom))},goog.style.setContentBoxSize=function(t,e){var o=goog.dom.getOwnerDocument(t),n=goog.dom.getDomHelper(o).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||n&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(t,e,"content-box");else if(o=t.style,n)o.pixelWidth=e.width,o.pixelHeight=e.height;else{n=goog.style.getPaddingBox(t);var r=goog.style.getBorderBox(t);o.pixelWidth=e.width+r.left+n.left+n.right+r.right,o.pixelHeight=e.height+r.top+n.top+n.bottom+r.bottom}},goog.style.setBoxSizingSize_=function(t,e,o){t=t.style,goog.userAgent.GECKO?t.MozBoxSizing=o:goog.userAgent.WEBKIT?t.WebkitBoxSizing=o:t.boxSizing=o,t.width=Math.max(e.width,0)+"px",t.height=Math.max(e.height,0)+"px"},goog.style.getIePixelValue_=function(t,e,o,n){if(/^\d+px?$/.test(e))return parseInt(e,10);var r=t.style[o],i=t.runtimeStyle[o];return t.runtimeStyle[o]=t.currentStyle[o],t.style[o]=e,e=t.style[n],t.style[o]=r,t.runtimeStyle[o]=i,+e},goog.style.getIePixelDistance_=function(t,e){var o=goog.style.getCascadedStyle(t,e);return o?goog.style.getIePixelValue_(t,o,"left","pixelLeft"):0},goog.style.getBox_=function(t,e){if(goog.userAgent.IE){var o=goog.style.getIePixelDistance_(t,e+"Left"),n=goog.style.getIePixelDistance_(t,e+"Right"),r=goog.style.getIePixelDistance_(t,e+"Top"),i=goog.style.getIePixelDistance_(t,e+"Bottom");return new goog.math.Box(r,n,i,o)}return o=goog.style.getComputedStyle(t,e+"Left"),n=goog.style.getComputedStyle(t,e+"Right"),r=goog.style.getComputedStyle(t,e+"Top"),i=goog.style.getComputedStyle(t,e+"Bottom"),new goog.math.Box(parseFloat(r),parseFloat(n),parseFloat(i),parseFloat(o))},goog.style.getPaddingBox=function(t){return goog.style.getBox_(t,"padding")},goog.style.getMarginBox=function(t){return goog.style.getBox_(t,"margin")},goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},goog.style.getIePixelBorder_=function(t,e){if("none"==goog.style.getCascadedStyle(t,e+"Style"))return 0;var o=goog.style.getCascadedStyle(t,e+"Width");return o in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[o]:goog.style.getIePixelValue_(t,o,"left","pixelLeft")},goog.style.getBorderBox=function(t){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){var e=goog.style.getIePixelBorder_(t,"borderLeft"),o=goog.style.getIePixelBorder_(t,"borderRight"),n=goog.style.getIePixelBorder_(t,"borderTop");return t=goog.style.getIePixelBorder_(t,"borderBottom"),new goog.math.Box(n,o,t,e)}return e=goog.style.getComputedStyle(t,"borderLeftWidth"),o=goog.style.getComputedStyle(t,"borderRightWidth"),n=goog.style.getComputedStyle(t,"borderTopWidth"),t=goog.style.getComputedStyle(t,"borderBottomWidth"),new goog.math.Box(parseFloat(n),parseFloat(o),parseFloat(t),parseFloat(e))},goog.style.getFontFamily=function(t){var e=goog.dom.getOwnerDocument(t),o="";if(e.body.createTextRange&&goog.dom.contains(e,t)){(e=e.body.createTextRange()).moveToElementText(t);try{o=e.queryCommandValue("FontName")}catch(n){o=""}}return o||(o=goog.style.getStyle_(t,"fontFamily")),1<(t=o.split(",")).length&&(o=t[0]),goog.string.stripQuotes(o,"\"'")},goog.style.lengthUnitRegex_=/[^\d]+$/,goog.style.getLengthUnits=function(t){return(t=t.match(goog.style.lengthUnitRegex_))&&t[0]||null},goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,in:1,mm:1,pc:1,pt:1},goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},goog.style.getFontSize=function(t){var e=goog.style.getStyle_(t,"fontSize"),o=goog.style.getLengthUnits(e);if(e&&"px"==o)return parseInt(e,10);if(goog.userAgent.IE){if(String(o)in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(t,e,"left","pixelLeft");if(t.parentNode&&t.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&String(o)in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return o=goog.style.getStyle_(t=t.parentNode,"fontSize"),goog.style.getIePixelValue_(t,e==o?"1em":e,"left","pixelLeft")}return o=goog.dom.createDom("SPAN",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"}),goog.dom.appendChild(t,o),e=o.offsetHeight,goog.dom.removeNode(o),e},goog.style.parseStyleAttribute=function(t){var e={};return goog.array.forEach(t.split(/\s*;\s*/),(function(t){var o=t.match(/\s*([\w-]+)\s*:(.+)/);o&&(t=o[1],o=goog.string.trim(o[2]),e[goog.string.toCamelCase(t.toLowerCase())]=o)})),e},goog.style.toStyleAttribute=function(t){var e=[];return goog.object.forEach(t,(function(t,o){e.push(goog.string.toSelectorCase(o),":",t,";")})),e.join("")},goog.style.setFloat=function(t,e){t.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=e},goog.style.getFloat=function(t){return t.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""},goog.style.getScrollbarWidth=function(t){var e=goog.dom.createElement("DIV");return t&&(e.className=t),e.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px",t=goog.dom.createElement("DIV"),goog.style.setSize(t,"200px","200px"),e.appendChild(t),goog.dom.appendChild(goog.dom.getDocument().body,e),t=e.offsetWidth-e.clientWidth,goog.dom.removeNode(e),t},goog.style.MATRIX_TRANSLATION_REGEX_=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/,goog.style.getCssTranslation=function(t){return(t=goog.style.getComputedTransform(t))&&(t=t.match(goog.style.MATRIX_TRANSLATION_REGEX_))?new goog.math.Coordinate(parseFloat(t[1]),parseFloat(t[2])):new goog.math.Coordinate(0,0)},goog.events.EventHandler=function(t){goog.Disposable.call(this),this.handler_=t,this.keys_={}},goog.inherits(goog.events.EventHandler,goog.Disposable),goog.events.EventHandler.typeArray_=[],goog.events.EventHandler.prototype.listen=function(t,e,o,n){return this.listen_(t,e,o,n)},goog.events.EventHandler.prototype.listenWithScope=function(t,e,o,n,r){return this.listen_(t,e,o,n,r)},goog.events.EventHandler.prototype.listen_=function(t,e,o,n,r){goog.isArray(e)||(e&&(goog.events.EventHandler.typeArray_[0]=e.toString()),e=goog.events.EventHandler.typeArray_);for(var i=0;i<e.length;i++){var s=goog.events.listen(t,e[i],o||this.handleEvent,n||!1,r||this.handler_||this);if(!s)break;this.keys_[s.key]=s}return this},goog.events.EventHandler.prototype.listenOnce=function(t,e,o,n){return this.listenOnce_(t,e,o,n)},goog.events.EventHandler.prototype.listenOnceWithScope=function(t,e,o,n,r){return this.listenOnce_(t,e,o,n,r)},goog.events.EventHandler.prototype.listenOnce_=function(t,e,o,n,r){if(goog.isArray(e))for(var i=0;i<e.length;i++)this.listenOnce_(t,e[i],o,n,r);else{if(!(t=goog.events.listenOnce(t,e,o||this.handleEvent,n,r||this.handler_||this)))return this;this.keys_[t.key]=t}return this},goog.events.EventHandler.prototype.listenWithWrapper=function(t,e,o,n){return this.listenWithWrapper_(t,e,o,n)},goog.events.EventHandler.prototype.listenWithWrapperAndScope=function(t,e,o,n,r){return this.listenWithWrapper_(t,e,o,n,r)},goog.events.EventHandler.prototype.listenWithWrapper_=function(t,e,o,n,r){return e.listen(t,o,n,r||this.handler_||this,this),this},goog.events.EventHandler.prototype.getListenerCount=function(){var t,e=0;for(t in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,t)&&e++;return e},goog.events.EventHandler.prototype.unlisten=function(t,e,o,n,r){if(goog.isArray(e))for(var i=0;i<e.length;i++)this.unlisten(t,e[i],o,n,r);else n=goog.isObject(n)?!!n.capture:!!n,(t=goog.events.getListener(t,e,o||this.handleEvent,n,r||this.handler_||this))&&(goog.events.unlistenByKey(t),delete this.keys_[t.key]);return this},goog.events.EventHandler.prototype.unlistenWithWrapper=function(t,e,o,n,r){return e.unlisten(t,o,n,r||this.handler_||this,this),this},goog.events.EventHandler.prototype.removeAll=function(){goog.object.forEach(this.keys_,(function(t,e){this.keys_.hasOwnProperty(e)&&goog.events.unlistenByKey(t)}),this),this.keys_={}},goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this),this.removeAll()},goog.events.EventHandler.prototype.handleEvent=function(t){throw Error("EventHandler.handleEvent not implemented")},goog.events.EventTarget=function(){goog.Disposable.call(this),this.eventTargetListeners_=new goog.events.ListenerMap(this),this.actualEventTarget_=this,this.parentEventTarget_=null},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.Listenable.addImplementation(goog.events.EventTarget),goog.events.EventTarget.MAX_ANCESTORS_=1e3,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(t){this.parentEventTarget_=t},goog.events.EventTarget.prototype.addEventListener=function(t,e,o,n){goog.events.listen(this,t,e,o,n)},goog.events.EventTarget.prototype.removeEventListener=function(t,e,o,n){goog.events.unlisten(this,t,e,o,n)},goog.events.EventTarget.prototype.dispatchEvent=function(t){this.assertInitialized_();var e=this.getParentEventTarget();if(e)for(var o=[],n=1;e;e=e.getParentEventTarget())o.push(e),goog.asserts.assert(++n<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop");return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,t,o)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},goog.events.EventTarget.prototype.listen=function(t,e,o,n){return this.assertInitialized_(),this.eventTargetListeners_.add(String(t),e,!1,o,n)},goog.events.EventTarget.prototype.listenOnce=function(t,e,o,n){return this.eventTargetListeners_.add(String(t),e,!0,o,n)},goog.events.EventTarget.prototype.unlisten=function(t,e,o,n){return this.eventTargetListeners_.remove(String(t),e,o,n)},goog.events.EventTarget.prototype.unlistenByKey=function(t){return this.eventTargetListeners_.removeByKey(t)},goog.events.EventTarget.prototype.removeAllListeners=function(t){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(t):0},goog.events.EventTarget.prototype.fireListeners=function(t,e,o){if(!(t=this.eventTargetListeners_.listeners[String(t)]))return!0;t=t.concat();for(var n=!0,r=0;r<t.length;++r){var i=t[r];if(i&&!i.removed&&i.capture==e){var s=i.listener,l=i.handler||i.src;i.callOnce&&this.unlistenByKey(i),n=!1!==s.call(l,o)&&n}}return n&&0!=o.returnValue_},goog.events.EventTarget.prototype.getListeners=function(t,e){return this.eventTargetListeners_.getListeners(String(t),e)},goog.events.EventTarget.prototype.getListener=function(t,e,o,n){return this.eventTargetListeners_.getListener(String(t),e,o,n)},goog.events.EventTarget.prototype.hasListener=function(t,e){var o=goog.isDef(t)?String(t):void 0;return this.eventTargetListeners_.hasListener(o,e)},goog.events.EventTarget.prototype.setTargetForTesting=function(t){this.actualEventTarget_=t},goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},goog.events.EventTarget.dispatchEventInternal_=function(t,e,o){var n=e.type||e;if(goog.isString(e))e=new goog.events.Event(e,t);else if(e instanceof goog.events.Event)e.target=e.target||t;else{var r=e;e=new goog.events.Event(n,t),goog.object.extend(e,r)}if(r=!0,o)for(var i=o.length-1;!e.propagationStopped_&&0<=i;i--){var s=e.currentTarget=o[i];r=s.fireListeners(n,!0,e)&&r}if(e.propagationStopped_||(r=(s=e.currentTarget=t).fireListeners(n,!0,e)&&r,e.propagationStopped_||(r=s.fireListeners(n,!1,e)&&r)),o)for(i=0;!e.propagationStopped_&&i<o.length;i++)r=(s=e.currentTarget=o[i]).fireListeners(n,!1,e)&&r;return r},goog.ui={},goog.ui.IdGenerator=function(){},goog.addSingletonGetter(goog.ui.IdGenerator),goog.ui.IdGenerator.prototype.nextId_=0,goog.ui.IdGenerator.prototype.idPrefix_="",goog.ui.IdGenerator.prototype.setIdPrefix=function(t){this.idPrefix_=t},goog.ui.IdGenerator.prototype.getNextUniqueId=function(){return this.idPrefix_+":"+(this.nextId_++).toString(36)},goog.ui.Component=function(t){goog.events.EventTarget.call(this),this.dom_=t||goog.dom.getDomHelper(),this.rightToLeft_=goog.ui.Component.defaultRightToLeft_,this.id_=null,this.inDocument_=!1,this.element_=null,this.googUiComponentHandler_=void 0,this.childIndex_=this.children_=this.parent_=this.model_=null,this.pointerEventsEnabled_=this.wasDecorated_=!1},goog.inherits(goog.ui.Component,goog.events.EventTarget),goog.ui.Component.ALLOW_DETACHED_DECORATION=!1,goog.ui.Component.prototype.idGenerator_=goog.ui.IdGenerator.getInstance(),goog.ui.Component.DEFAULT_BIDI_DIR=0,goog.ui.Component.defaultRightToLeft_=1!=goog.ui.Component.DEFAULT_BIDI_DIR&&(-1==goog.ui.Component.DEFAULT_BIDI_DIR||null),goog.ui.Component.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",HIDE:"hide",DISABLE:"disable",ENABLE:"enable",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight",ACTIVATE:"activate",DEACTIVATE:"deactivate",SELECT:"select",UNSELECT:"unselect",CHECK:"check",UNCHECK:"uncheck",FOCUS:"focus",BLUR:"blur",OPEN:"open",CLOSE:"close",ENTER:"enter",LEAVE:"leave",ACTION:"action",CHANGE:"change"},goog.ui.Component.Error={NOT_SUPPORTED:"Method not supported",DECORATE_INVALID:"Invalid element to decorate",ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",NOT_OUR_CHILD:"Child is not in parent component",NOT_IN_DOCUMENT:"Operation not supported while component is not in document",STATE_INVALID:"Invalid component state"},goog.ui.Component.State={ALL:255,DISABLED:1,HOVER:2,ACTIVE:4,SELECTED:8,CHECKED:16,FOCUSED:32,OPENED:64},goog.ui.Component.getStateTransitionEvent=function(t,e){switch(t){case goog.ui.Component.State.DISABLED:return e?goog.ui.Component.EventType.DISABLE:goog.ui.Component.EventType.ENABLE;case goog.ui.Component.State.HOVER:return e?goog.ui.Component.EventType.HIGHLIGHT:goog.ui.Component.EventType.UNHIGHLIGHT;case goog.ui.Component.State.ACTIVE:return e?goog.ui.Component.EventType.ACTIVATE:goog.ui.Component.EventType.DEACTIVATE;case goog.ui.Component.State.SELECTED:return e?goog.ui.Component.EventType.SELECT:goog.ui.Component.EventType.UNSELECT;case goog.ui.Component.State.CHECKED:return e?goog.ui.Component.EventType.CHECK:goog.ui.Component.EventType.UNCHECK;case goog.ui.Component.State.FOCUSED:return e?goog.ui.Component.EventType.FOCUS:goog.ui.Component.EventType.BLUR;case goog.ui.Component.State.OPENED:return e?goog.ui.Component.EventType.OPEN:goog.ui.Component.EventType.CLOSE}throw Error(goog.ui.Component.Error.STATE_INVALID)},goog.ui.Component.setDefaultRightToLeft=function(t){goog.ui.Component.defaultRightToLeft_=t},goog.ui.Component.prototype.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())},goog.ui.Component.prototype.setId=function(t){this.parent_&&this.parent_.childIndex_&&(goog.object.remove(this.parent_.childIndex_,this.id_),goog.object.add(this.parent_.childIndex_,t,this)),this.id_=t},goog.ui.Component.prototype.getElement=function(){return this.element_},goog.ui.Component.prototype.getElementStrict=function(){var t=this.element_;return goog.asserts.assert(t,"Can not call getElementStrict before rendering/decorating."),t},goog.ui.Component.prototype.setElementInternal=function(t){this.element_=t},goog.ui.Component.prototype.getElementsByClass=function(t){return this.element_?this.dom_.getElementsByClass(t,this.element_):[]},goog.ui.Component.prototype.getElementByClass=function(t){return this.element_?this.dom_.getElementByClass(t,this.element_):null},goog.ui.Component.prototype.getRequiredElementByClass=function(t){var e=this.getElementByClass(t);return goog.asserts.assert(e,"Expected element in component with class: %s",t),e},goog.ui.Component.prototype.getHandler=function(){return this.googUiComponentHandler_||(this.googUiComponentHandler_=new goog.events.EventHandler(this)),goog.asserts.assert(this.googUiComponentHandler_)},goog.ui.Component.prototype.setParent=function(t){if(this==t)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);if(t&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=t)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=t,goog.ui.Component.superClass_.setParentEventTarget.call(this,t)},goog.ui.Component.prototype.getParent=function(){return this.parent_},goog.ui.Component.prototype.setParentEventTarget=function(t){if(this.parent_&&this.parent_!=t)throw Error(goog.ui.Component.Error.NOT_SUPPORTED);goog.ui.Component.superClass_.setParentEventTarget.call(this,t)},goog.ui.Component.prototype.getDomHelper=function(){return this.dom_},goog.ui.Component.prototype.isInDocument=function(){return this.inDocument_},goog.ui.Component.prototype.createDom=function(){this.element_=this.dom_.createElement("DIV")},goog.ui.Component.prototype.render=function(t){this.render_(t)},goog.ui.Component.prototype.renderBefore=function(t){this.render_(t.parentNode,t)},goog.ui.Component.prototype.render_=function(t,e){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.element_||this.createDom(),t?t.insertBefore(this.element_,e||null):this.dom_.getDocument().body.appendChild(this.element_),this.parent_&&!this.parent_.isInDocument()||this.enterDocument()},goog.ui.Component.prototype.decorate=function(t){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(!t||!this.canDecorate(t))throw Error(goog.ui.Component.Error.DECORATE_INVALID);this.wasDecorated_=!0;var e=goog.dom.getOwnerDocument(t);this.dom_&&this.dom_.getDocument()==e||(this.dom_=goog.dom.getDomHelper(t)),this.decorateInternal(t),goog.ui.Component.ALLOW_DETACHED_DECORATION&&!goog.dom.contains(e,t)||this.enterDocument()},goog.ui.Component.prototype.canDecorate=function(t){return!0},goog.ui.Component.prototype.wasDecorated=function(){return this.wasDecorated_},goog.ui.Component.prototype.decorateInternal=function(t){this.element_=t},goog.ui.Component.prototype.enterDocument=function(){this.inDocument_=!0,this.forEachChild((function(t){!t.isInDocument()&&t.getElement()&&t.enterDocument()}))},goog.ui.Component.prototype.exitDocument=function(){this.forEachChild((function(t){t.isInDocument()&&t.exitDocument()})),this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll(),this.inDocument_=!1},goog.ui.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument(),this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_),this.forEachChild((function(t){t.dispose()})),!this.wasDecorated_&&this.element_&&goog.dom.removeNode(this.element_),this.parent_=this.model_=this.element_=this.childIndex_=this.children_=null,goog.ui.Component.superClass_.disposeInternal.call(this)},goog.ui.Component.prototype.makeId=function(t){return this.getId()+"."+t},goog.ui.Component.prototype.makeIds=function(t){var e,o={};for(e in t)o[e]=this.makeId(t[e]);return o},goog.ui.Component.prototype.getModel=function(){return this.model_},goog.ui.Component.prototype.setModel=function(t){this.model_=t},goog.ui.Component.prototype.getFragmentFromId=function(t){return t.substring(this.getId().length+1)},goog.ui.Component.prototype.getElementByFragment=function(t){if(!this.inDocument_)throw Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);return this.dom_.getElement(this.makeId(t))},goog.ui.Component.prototype.addChild=function(t,e){this.addChildAt(t,this.getChildCount(),e)},goog.ui.Component.prototype.addChildAt=function(t,e,o){if(goog.asserts.assert(!!t,"Provided element must not be null."),t.inDocument_&&(o||!this.inDocument_))throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(0>e||e>this.getChildCount())throw Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);this.childIndex_&&this.children_||(this.childIndex_={},this.children_=[]),t.getParent()==this?(goog.object.set(this.childIndex_,t.getId(),t),goog.array.remove(this.children_,t)):goog.object.add(this.childIndex_,t.getId(),t),t.setParent(this),goog.array.insertAt(this.children_,t,e),t.inDocument_&&this.inDocument_&&t.getParent()==this?(e=(o=this.getContentElement()).childNodes[e]||null)!=t.getElement()&&o.insertBefore(t.getElement(),e):o?(this.element_||this.createDom(),e=this.getChildAt(e+1),t.render_(this.getContentElement(),e?e.element_:null)):this.inDocument_&&!t.inDocument_&&t.element_&&t.element_.parentNode&&t.element_.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&t.enterDocument()},goog.ui.Component.prototype.getContentElement=function(){return this.element_},goog.ui.Component.prototype.isRightToLeft=function(){return null==this.rightToLeft_&&(this.rightToLeft_=goog.style.isRightToLeft(this.inDocument_?this.element_:this.dom_.getDocument().body)),this.rightToLeft_},goog.ui.Component.prototype.setRightToLeft=function(t){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.rightToLeft_=t},goog.ui.Component.prototype.hasChildren=function(){return!!this.children_&&0!=this.children_.length},goog.ui.Component.prototype.getChildCount=function(){return this.children_?this.children_.length:0},goog.ui.Component.prototype.getChildIds=function(){var t=[];return this.forEachChild((function(e){t.push(e.getId())})),t},goog.ui.Component.prototype.getChild=function(t){return this.childIndex_&&t&&goog.object.get(this.childIndex_,t)||null},goog.ui.Component.prototype.getChildAt=function(t){return this.children_&&this.children_[t]||null},goog.ui.Component.prototype.forEachChild=function(t,e){this.children_&&goog.array.forEach(this.children_,t,e)},goog.ui.Component.prototype.indexOfChild=function(t){return this.children_&&t?goog.array.indexOf(this.children_,t):-1},goog.ui.Component.prototype.removeChild=function(t,e){if(t){var o=goog.isString(t)?t:t.getId();t=this.getChild(o),o&&t&&(goog.object.remove(this.childIndex_,o),goog.array.remove(this.children_,t),e&&(t.exitDocument(),t.element_&&goog.dom.removeNode(t.element_)),t.setParent(null))}if(!t)throw Error(goog.ui.Component.Error.NOT_OUR_CHILD);return t},goog.ui.Component.prototype.removeChildAt=function(t,e){return this.removeChild(this.getChildAt(t),e)},goog.ui.Component.prototype.removeChildren=function(t){for(var e=[];this.hasChildren();)e.push(this.removeChildAt(0,t));return e},goog.ui.Component.prototype.pointerEventsEnabled=function(){return this.pointerEventsEnabled_},goog.ui.Component.prototype.setPointerEventsEnabled=function(t){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.pointerEventsEnabled_=t},goog.a11y={},goog.a11y.aria={},goog.a11y.aria.Role={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:"button",CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",MAIN:"main",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUBAR:"menubar",MENU_ITEM:"menuitem",MENU_ITEM_CHECKBOX:"menuitemcheckbox",MENU_ITEM_RADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:"option",PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:"tab",TAB_LIST:"tablist",TAB_PANEL:"tabpanel",TEXTBOX:"textbox",TEXTINFO:"textinfo",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"},goog.a11y.aria.State={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:"checked",COLINDEX:"colindex",CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:"disabled",DROPEFFECT:"dropeffect",EXPANDED:"expanded",FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:"hidden",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",POSINSET:"posinset",PRESSED:"pressed",READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",ROWINDEX:"rowindex",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"},goog.a11y.aria.AutoCompleteValues={INLINE:"inline",LIST:"list",BOTH:"both",NONE:"none"},goog.a11y.aria.DropEffectValues={COPY:"copy",MOVE:"move",LINK:"link",EXECUTE:"execute",POPUP:"popup",NONE:"none"},goog.a11y.aria.LivePriority={OFF:"off",POLITE:"polite",ASSERTIVE:"assertive"},goog.a11y.aria.OrientationValues={VERTICAL:"vertical",HORIZONTAL:"horizontal"},goog.a11y.aria.RelevantValues={ADDITIONS:"additions",REMOVALS:"removals",TEXT:"text",ALL:"all"},goog.a11y.aria.SortValues={ASCENDING:"ascending",DESCENDING:"descending",NONE:"none",OTHER:"other"},goog.a11y.aria.CheckedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"},goog.a11y.aria.ExpandedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.GrabbedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.InvalidValues={FALSE:"false",TRUE:"true",GRAMMAR:"grammar",SPELLING:"spelling"},goog.a11y.aria.PressedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"},goog.a11y.aria.SelectedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.datatables={},goog.a11y.aria.datatables.getDefaultValuesMap=function(){return goog.a11y.aria.DefaultStateValueMap_||(goog.a11y.aria.DefaultStateValueMap_=goog.object.create(goog.a11y.aria.State.ATOMIC,!1,goog.a11y.aria.State.AUTOCOMPLETE,"none",goog.a11y.aria.State.DROPEFFECT,"none",goog.a11y.aria.State.HASPOPUP,!1,goog.a11y.aria.State.LIVE,"off",goog.a11y.aria.State.MULTILINE,!1,goog.a11y.aria.State.MULTISELECTABLE,!1,goog.a11y.aria.State.ORIENTATION,"vertical",goog.a11y.aria.State.READONLY,!1,goog.a11y.aria.State.RELEVANT,"additions text",goog.a11y.aria.State.REQUIRED,!1,goog.a11y.aria.State.SORT,"none",goog.a11y.aria.State.BUSY,!1,goog.a11y.aria.State.DISABLED,!1,goog.a11y.aria.State.HIDDEN,!1,goog.a11y.aria.State.INVALID,"false")),goog.a11y.aria.DefaultStateValueMap_},goog.a11y.aria.ARIA_PREFIX_="aria-",goog.a11y.aria.ROLE_ATTRIBUTE_="role",goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_=goog.object.createSet("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" ")),goog.a11y.aria.CONTAINER_ROLES_=[goog.a11y.aria.Role.COMBOBOX,goog.a11y.aria.Role.GRID,goog.a11y.aria.Role.GROUP,goog.a11y.aria.Role.LISTBOX,goog.a11y.aria.Role.MENU,goog.a11y.aria.Role.MENUBAR,goog.a11y.aria.Role.RADIOGROUP,goog.a11y.aria.Role.ROW,goog.a11y.aria.Role.ROWGROUP,goog.a11y.aria.Role.TAB_LIST,goog.a11y.aria.Role.TEXTBOX,goog.a11y.aria.Role.TOOLBAR,goog.a11y.aria.Role.TREE,goog.a11y.aria.Role.TREEGRID],goog.a11y.aria.setRole=function(t,e){e?(goog.asserts.ENABLE_ASSERTS&&goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.Role,e),"No such ARIA role "+e),t.setAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_,e)):goog.a11y.aria.removeRole(t)},goog.a11y.aria.getRole=function(t){return t.getAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)||null},goog.a11y.aria.removeRole=function(t){t.removeAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)},goog.a11y.aria.setState=function(t,e,o){goog.isArray(o)&&(o=o.join(" "));var n=goog.a11y.aria.getAriaAttributeName_(e);""===o||null==o?e in(o=goog.a11y.aria.datatables.getDefaultValuesMap())?t.setAttribute(n,o[e]):t.removeAttribute(n):t.setAttribute(n,o)},goog.a11y.aria.toggleState=function(t,e){var o=goog.a11y.aria.getState(t,e);goog.string.isEmptyOrWhitespace(goog.string.makeSafe(o))||"true"==o||"false"==o?goog.a11y.aria.setState(t,e,"true"==o?"false":"true"):goog.a11y.aria.removeState(t,e)},goog.a11y.aria.removeState=function(t,e){t.removeAttribute(goog.a11y.aria.getAriaAttributeName_(e))},goog.a11y.aria.getState=function(t,e){var o=t.getAttribute(goog.a11y.aria.getAriaAttributeName_(e));return null==o||null==o?"":String(o)},goog.a11y.aria.getActiveDescendant=function(t){var e=goog.a11y.aria.getState(t,goog.a11y.aria.State.ACTIVEDESCENDANT);return goog.dom.getOwnerDocument(t).getElementById(e)},goog.a11y.aria.setActiveDescendant=function(t,e){var o="";e&&goog.asserts.assert(o=e.id,"The active element should have an id."),goog.a11y.aria.setState(t,goog.a11y.aria.State.ACTIVEDESCENDANT,o)},goog.a11y.aria.getLabel=function(t){return goog.a11y.aria.getState(t,goog.a11y.aria.State.LABEL)},goog.a11y.aria.setLabel=function(t,e){goog.a11y.aria.setState(t,goog.a11y.aria.State.LABEL,e)},goog.a11y.aria.assertRoleIsSetInternalUtil=function(t,e){if(!goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_[t.tagName]){var o=goog.a11y.aria.getRole(t);goog.asserts.assert(null!=o,"The element ARIA role cannot be null."),goog.asserts.assert(goog.array.contains(e,o),'Non existing or incorrect role set for element.The role set is "'+o+'". The role should be any of "'+e+'". Check the ARIA specification for more details http://www.w3.org/TR/wai-aria/roles.')}},goog.a11y.aria.getStateBoolean=function(t,e){var o=t.getAttribute(goog.a11y.aria.getAriaAttributeName_(e));return goog.asserts.assert(goog.isBoolean(o)||null==o||"true"==o||"false"==o),null==o?o:goog.isBoolean(o)?o:"true"==o},goog.a11y.aria.getStateNumber=function(t,e){var o=t.getAttribute(goog.a11y.aria.getAriaAttributeName_(e));return goog.asserts.assert(!(null!=o&&isNaN(Number(o))||goog.isBoolean(o))),null==o?null:Number(o)},goog.a11y.aria.getStateString=function(t,e){var o=t.getAttribute(goog.a11y.aria.getAriaAttributeName_(e));return goog.asserts.assert((null==o||goog.isString(o))&&(""==o||isNaN(Number(o)))&&"true"!=o&&"false"!=o),null==o||""==o?null:o};goog.a11y.aria.getStringArrayStateInternalUtil=function(t,e){var o=t.getAttribute(goog.a11y.aria.getAriaAttributeName_(e));return goog.a11y.aria.splitStringOnWhitespace_(o)},goog.a11y.aria.hasState=function(t,e){return t.hasAttribute(goog.a11y.aria.getAriaAttributeName_(e))},goog.a11y.aria.isContainerRole=function(t){return t=goog.a11y.aria.getRole(t),goog.array.contains(goog.a11y.aria.CONTAINER_ROLES_,t)},goog.a11y.aria.splitStringOnWhitespace_=function(t){return t?t.split(/\s+/):[]},goog.a11y.aria.getAriaAttributeName_=function(t){return goog.asserts.ENABLE_ASSERTS&&(goog.asserts.assert(t,"ARIA attribute cannot be empty."),goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.State,t),"No such ARIA attribute "+t)),goog.a11y.aria.ARIA_PREFIX_+t},goog.events.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},goog.events.KeyCodes.isTextModifyingKeyEvent=function(t){if(t.altKey&&!t.ctrlKey||t.metaKey||t.keyCode>=goog.events.KeyCodes.F1&&t.keyCode<=goog.events.KeyCodes.F12)return!1;if(goog.events.KeyCodes.isCharacterKey(t.keyCode))return!0;switch(t.keyCode){case goog.events.KeyCodes.ALT:case goog.events.KeyCodes.CAPS_LOCK:case goog.events.KeyCodes.CONTEXT_MENU:case goog.events.KeyCodes.CTRL:case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.END:case goog.events.KeyCodes.ESC:case goog.events.KeyCodes.HOME:case goog.events.KeyCodes.INSERT:case goog.events.KeyCodes.LEFT:case goog.events.KeyCodes.MAC_FF_META:case goog.events.KeyCodes.META:case goog.events.KeyCodes.NUMLOCK:case goog.events.KeyCodes.NUM_CENTER:case goog.events.KeyCodes.PAGE_DOWN:case goog.events.KeyCodes.PAGE_UP:case goog.events.KeyCodes.PAUSE:case goog.events.KeyCodes.PHANTOM:case goog.events.KeyCodes.PRINT_SCREEN:case goog.events.KeyCodes.RIGHT:case goog.events.KeyCodes.SCROLL_LOCK:case goog.events.KeyCodes.SHIFT:case goog.events.KeyCodes.UP:case goog.events.KeyCodes.VK_NONAME:case goog.events.KeyCodes.WIN_KEY:case goog.events.KeyCodes.WIN_KEY_RIGHT:return!1;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return!goog.userAgent.GECKO;default:return t.keyCode<goog.events.KeyCodes.FIRST_MEDIA_KEY||t.keyCode>goog.events.KeyCodes.LAST_MEDIA_KEY}},goog.events.KeyCodes.firesKeyPressEvent=function(t,e,o,n,r,i){if(goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("525"))return!0;if(goog.userAgent.MAC&&r)return goog.events.KeyCodes.isCharacterKey(t);if(r&&!n)return!1;if(!goog.userAgent.GECKO&&(goog.isNumber(e)&&(e=goog.events.KeyCodes.normalizeKeyCode(e)),(!o||goog.userAgent.MAC)&&(e==goog.events.KeyCodes.CTRL||e==goog.events.KeyCodes.ALT||goog.userAgent.MAC&&e==goog.events.KeyCodes.META)||goog.userAgent.MAC&&e==goog.events.KeyCodes.SHIFT&&(n||i)))return!1;if((goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&n&&o)switch(t){case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:case goog.events.KeyCodes.TILDE:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:return!1}if(goog.userAgent.IE&&n&&e==t)return!1;switch(t){case goog.events.KeyCodes.ENTER:return!(goog.userAgent.GECKO&&(i||r||o&&n));case goog.events.KeyCodes.ESC:return!(goog.userAgent.WEBKIT||goog.userAgent.EDGE||goog.userAgent.GECKO)}return(!goog.userAgent.GECKO||!(n||r||i))&&goog.events.KeyCodes.isCharacterKey(t)},goog.events.KeyCodes.isCharacterKey=function(t){if(t>=goog.events.KeyCodes.ZERO&&t<=goog.events.KeyCodes.NINE||t>=goog.events.KeyCodes.NUM_ZERO&&t<=goog.events.KeyCodes.NUM_MULTIPLY||t>=goog.events.KeyCodes.A&&t<=goog.events.KeyCodes.Z||(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&0==t)return!0;switch(t){case goog.events.KeyCodes.SPACE:case goog.events.KeyCodes.PLUS_SIGN:case goog.events.KeyCodes.QUESTION_MARK:case goog.events.KeyCodes.AT_SIGN:case goog.events.KeyCodes.NUM_PLUS:case goog.events.KeyCodes.NUM_MINUS:case goog.events.KeyCodes.NUM_PERIOD:case goog.events.KeyCodes.NUM_DIVISION:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.FF_SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.FF_EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:case goog.events.KeyCodes.FF_HASH:return!0;case goog.events.KeyCodes.FF_DASH:return goog.userAgent.GECKO;default:return!1}},goog.events.KeyCodes.normalizeKeyCode=function(t){return goog.userAgent.GECKO?goog.events.KeyCodes.normalizeGeckoKeyCode(t):goog.userAgent.MAC&&goog.userAgent.WEBKIT?goog.events.KeyCodes.normalizeMacWebKitKeyCode(t):t},goog.events.KeyCodes.normalizeGeckoKeyCode=function(t){switch(t){case goog.events.KeyCodes.FF_EQUALS:return goog.events.KeyCodes.EQUALS;case goog.events.KeyCodes.FF_SEMICOLON:return goog.events.KeyCodes.SEMICOLON;case goog.events.KeyCodes.FF_DASH:return goog.events.KeyCodes.DASH;case goog.events.KeyCodes.MAC_FF_META:return goog.events.KeyCodes.META;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return goog.events.KeyCodes.WIN_KEY;default:return t}},goog.events.KeyCodes.normalizeMacWebKitKeyCode=function(t){switch(t){case goog.events.KeyCodes.MAC_WK_CMD_RIGHT:return goog.events.KeyCodes.META;default:return t}},goog.events.KeyHandler=function(t,e){goog.events.EventTarget.call(this),t&&this.attach(t,e)},goog.inherits(goog.events.KeyHandler,goog.events.EventTarget),goog.events.KeyHandler.prototype.element_=null,goog.events.KeyHandler.prototype.keyPressKey_=null,goog.events.KeyHandler.prototype.keyDownKey_=null,goog.events.KeyHandler.prototype.keyUpKey_=null,goog.events.KeyHandler.prototype.lastKey_=-1,goog.events.KeyHandler.prototype.keyCode_=-1,goog.events.KeyHandler.prototype.altKey_=!1,goog.events.KeyHandler.EventType={KEY:"key"},goog.events.KeyHandler.safariKey_={3:goog.events.KeyCodes.ENTER,12:goog.events.KeyCodes.NUMLOCK,63232:goog.events.KeyCodes.UP,63233:goog.events.KeyCodes.DOWN,63234:goog.events.KeyCodes.LEFT,63235:goog.events.KeyCodes.RIGHT,63236:goog.events.KeyCodes.F1,63237:goog.events.KeyCodes.F2,63238:goog.events.KeyCodes.F3,63239:goog.events.KeyCodes.F4,63240:goog.events.KeyCodes.F5,63241:goog.events.KeyCodes.F6,63242:goog.events.KeyCodes.F7,63243:goog.events.KeyCodes.F8,63244:goog.events.KeyCodes.F9,63245:goog.events.KeyCodes.F10,63246:goog.events.KeyCodes.F11,63247:goog.events.KeyCodes.F12,63248:goog.events.KeyCodes.PRINT_SCREEN,63272:goog.events.KeyCodes.DELETE,63273:goog.events.KeyCodes.HOME,63275:goog.events.KeyCodes.END,63276:goog.events.KeyCodes.PAGE_UP,63277:goog.events.KeyCodes.PAGE_DOWN,63289:goog.events.KeyCodes.NUMLOCK,63302:goog.events.KeyCodes.INSERT},goog.events.KeyHandler.keyIdentifier_={Up:goog.events.KeyCodes.UP,Down:goog.events.KeyCodes.DOWN,Left:goog.events.KeyCodes.LEFT,Right:goog.events.KeyCodes.RIGHT,Enter:goog.events.KeyCodes.ENTER,F1:goog.events.KeyCodes.F1,F2:goog.events.KeyCodes.F2,F3:goog.events.KeyCodes.F3,F4:goog.events.KeyCodes.F4,F5:goog.events.KeyCodes.F5,F6:goog.events.KeyCodes.F6,F7:goog.events.KeyCodes.F7,F8:goog.events.KeyCodes.F8,F9:goog.events.KeyCodes.F9,F10:goog.events.KeyCodes.F10,F11:goog.events.KeyCodes.F11,F12:goog.events.KeyCodes.F12,"U+007F":goog.events.KeyCodes.DELETE,Home:goog.events.KeyCodes.HOME,End:goog.events.KeyCodes.END,PageUp:goog.events.KeyCodes.PAGE_UP,PageDown:goog.events.KeyCodes.PAGE_DOWN,Insert:goog.events.KeyCodes.INSERT},goog.events.KeyHandler.USES_KEYDOWN_=!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("525"),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_=goog.userAgent.MAC&&goog.userAgent.GECKO,goog.events.KeyHandler.prototype.handleKeyDown_=function(t){(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&(this.lastKey_==goog.events.KeyCodes.CTRL&&!t.ctrlKey||this.lastKey_==goog.events.KeyCodes.ALT&&!t.altKey||goog.userAgent.MAC&&this.lastKey_==goog.events.KeyCodes.META&&!t.metaKey)&&this.resetState(),-1==this.lastKey_&&(t.ctrlKey&&t.keyCode!=goog.events.KeyCodes.CTRL?this.lastKey_=goog.events.KeyCodes.CTRL:t.altKey&&t.keyCode!=goog.events.KeyCodes.ALT?this.lastKey_=goog.events.KeyCodes.ALT:t.metaKey&&t.keyCode!=goog.events.KeyCodes.META&&(this.lastKey_=goog.events.KeyCodes.META)),goog.events.KeyHandler.USES_KEYDOWN_&&!goog.events.KeyCodes.firesKeyPressEvent(t.keyCode,this.lastKey_,t.shiftKey,t.ctrlKey,t.altKey,t.metaKey)?this.handleEvent(t):(this.keyCode_=goog.events.KeyCodes.normalizeKeyCode(t.keyCode),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(this.altKey_=t.altKey))},goog.events.KeyHandler.prototype.resetState=function(){this.keyCode_=this.lastKey_=-1},goog.events.KeyHandler.prototype.handleKeyup_=function(t){this.resetState(),this.altKey_=t.altKey},goog.events.KeyHandler.prototype.handleEvent=function(t){var e=t.getBrowserEvent(),o=e.altKey;if(goog.userAgent.IE&&t.type==goog.events.EventType.KEYPRESS)var n=this.keyCode_,r=n!=goog.events.KeyCodes.ENTER&&n!=goog.events.KeyCodes.ESC?e.keyCode:0;else(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&t.type==goog.events.EventType.KEYPRESS?(n=this.keyCode_,r=0<=e.charCode&&63232>e.charCode&&goog.events.KeyCodes.isCharacterKey(n)?e.charCode:0):goog.userAgent.OPERA&&!goog.userAgent.WEBKIT?r=goog.events.KeyCodes.isCharacterKey(n=this.keyCode_)?e.keyCode:0:(t.type==goog.events.EventType.KEYPRESS?(goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(o=this.altKey_),e.keyCode==e.charCode?32>e.keyCode?(n=e.keyCode,r=0):(n=this.keyCode_,r=e.charCode):(n=e.keyCode||this.keyCode_,r=e.charCode||0)):(n=e.keyCode||this.keyCode_,r=e.charCode||0),goog.userAgent.MAC&&r==goog.events.KeyCodes.QUESTION_MARK&&n==goog.events.KeyCodes.WIN_KEY&&(n=goog.events.KeyCodes.SLASH));var i=n=goog.events.KeyCodes.normalizeKeyCode(n);n?63232<=n&&n in goog.events.KeyHandler.safariKey_?i=goog.events.KeyHandler.safariKey_[n]:25==n&&t.shiftKey&&(i=9):e.keyIdentifier&&e.keyIdentifier in goog.events.KeyHandler.keyIdentifier_&&(i=goog.events.KeyHandler.keyIdentifier_[e.keyIdentifier]),goog.userAgent.GECKO&&goog.events.KeyHandler.USES_KEYDOWN_&&t.type==goog.events.EventType.KEYPRESS&&!goog.events.KeyCodes.firesKeyPressEvent(i,this.lastKey_,t.shiftKey,t.ctrlKey,o,t.metaKey)||(t=i==this.lastKey_,this.lastKey_=i,(e=new goog.events.KeyEvent(i,r,t,e)).altKey=o,this.dispatchEvent(e))},goog.events.KeyHandler.prototype.getElement=function(){return this.element_},goog.events.KeyHandler.prototype.attach=function(t,e){this.keyUpKey_&&this.detach(),this.element_=t,this.keyPressKey_=goog.events.listen(this.element_,goog.events.EventType.KEYPRESS,this,e),this.keyDownKey_=goog.events.listen(this.element_,goog.events.EventType.KEYDOWN,this.handleKeyDown_,e,this),this.keyUpKey_=goog.events.listen(this.element_,goog.events.EventType.KEYUP,this.handleKeyup_,e,this)},goog.events.KeyHandler.prototype.detach=function(){this.keyPressKey_&&(goog.events.unlistenByKey(this.keyPressKey_),goog.events.unlistenByKey(this.keyDownKey_),goog.events.unlistenByKey(this.keyUpKey_),this.keyUpKey_=this.keyDownKey_=this.keyPressKey_=null),this.element_=null,this.keyCode_=this.lastKey_=-1},goog.events.KeyHandler.prototype.disposeInternal=function(){goog.events.KeyHandler.superClass_.disposeInternal.call(this),this.detach()},goog.events.KeyEvent=function(t,e,o,n){goog.events.BrowserEvent.call(this,n),this.type=goog.events.KeyHandler.EventType.KEY,this.keyCode=t,this.charCode=e,this.repeat=o},goog.inherits(goog.events.KeyEvent,goog.events.BrowserEvent),goog.ui.ComponentUtil={},goog.ui.ComponentUtil.getMouseEventType=function(t){return t.pointerEventsEnabled()?goog.events.PointerAsMouseEventType:goog.events.MouseAsMouseEventType},goog.dom.classlist={},goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST=!1,goog.dom.classlist.get=function(t){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||t.classList?t.classList:goog.isString(t=t.className)&&t.match(/\S+/g)||[]},goog.dom.classlist.set=function(t,e){t.className=e},goog.dom.classlist.contains=function(t,e){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||t.classList?t.classList.contains(e):goog.array.contains(goog.dom.classlist.get(t),e)},goog.dom.classlist.add=function(t,e){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||t.classList?t.classList.add(e):goog.dom.classlist.contains(t,e)||(t.className+=0<t.className.length?" "+e:e)},goog.dom.classlist.addAll=function(t,e){if(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||t.classList)goog.array.forEach(e,(function(e){goog.dom.classlist.add(t,e)}));else{var o={};for(var n in goog.array.forEach(goog.dom.classlist.get(t),(function(t){o[t]=!0})),goog.array.forEach(e,(function(t){o[t]=!0})),t.className="",o)t.className+=0<t.className.length?" "+n:n}},goog.dom.classlist.remove=function(t,e){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||t.classList?t.classList.remove(e):goog.dom.classlist.contains(t,e)&&(t.className=goog.array.filter(goog.dom.classlist.get(t),(function(t){return t!=e})).join(" "))},goog.dom.classlist.removeAll=function(t,e){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||t.classList?goog.array.forEach(e,(function(e){goog.dom.classlist.remove(t,e)})):t.className=goog.array.filter(goog.dom.classlist.get(t),(function(t){return!goog.array.contains(e,t)})).join(" ")},goog.dom.classlist.enable=function(t,e,o){o?goog.dom.classlist.add(t,e):goog.dom.classlist.remove(t,e)},goog.dom.classlist.enableAll=function(t,e,o){(o?goog.dom.classlist.addAll:goog.dom.classlist.removeAll)(t,e)},goog.dom.classlist.swap=function(t,e,o){return!!goog.dom.classlist.contains(t,e)&&(goog.dom.classlist.remove(t,e),goog.dom.classlist.add(t,o),!0)},goog.dom.classlist.toggle=function(t,e){var o=!goog.dom.classlist.contains(t,e);return goog.dom.classlist.enable(t,e,o),o},goog.dom.classlist.addRemove=function(t,e,o){goog.dom.classlist.remove(t,e),goog.dom.classlist.add(t,o)},goog.ui.registry={},goog.ui.registry.getDefaultRenderer=function(t){for(var e;t&&(e=goog.getUid(t),!(e=goog.ui.registry.defaultRenderers_[e]));)t=t.superClass_?t.superClass_.constructor:null;return e?goog.isFunction(e.getInstance)?e.getInstance():new e:null},goog.ui.registry.setDefaultRenderer=function(t,e){if(!goog.isFunction(t))throw Error("Invalid component class "+t);if(!goog.isFunction(e))throw Error("Invalid renderer class "+e);var o=goog.getUid(t);goog.ui.registry.defaultRenderers_[o]=e},goog.ui.registry.getDecoratorByClassName=function(t){return t in goog.ui.registry.decoratorFunctions_?goog.ui.registry.decoratorFunctions_[t]():null},goog.ui.registry.setDecoratorByClassName=function(t,e){if(!t)throw Error("Invalid class name "+t);if(!goog.isFunction(e))throw Error("Invalid decorator function "+e);goog.ui.registry.decoratorFunctions_[t]=e},goog.ui.registry.getDecorator=function(t){goog.asserts.assert(t);for(var e=goog.dom.classlist.get(t),o=0,n=e.length;o<n;o++)if(t=goog.ui.registry.getDecoratorByClassName(e[o]))return t;return null},goog.ui.registry.reset=function(){goog.ui.registry.defaultRenderers_={},goog.ui.registry.decoratorFunctions_={}},goog.ui.registry.defaultRenderers_={},goog.ui.registry.decoratorFunctions_={},goog.ui.ContainerRenderer=function(t){this.ariaRole_=t},goog.addSingletonGetter(goog.ui.ContainerRenderer),goog.ui.ContainerRenderer.getCustomRenderer=function(t,e){var o=new t;return o.getCssClass=function(){return e},o},goog.ui.ContainerRenderer.CSS_CLASS="goog-container",goog.ui.ContainerRenderer.prototype.getAriaRole=function(){return this.ariaRole_},goog.ui.ContainerRenderer.prototype.enableTabIndex=function(t,e){t&&(t.tabIndex=e?0:-1)},goog.ui.ContainerRenderer.prototype.createDom=function(t){return t.getDomHelper().createDom("DIV",this.getClassNames(t).join(" "))},goog.ui.ContainerRenderer.prototype.getContentElement=function(t){return t},goog.ui.ContainerRenderer.prototype.canDecorate=function(t){return"DIV"==t.tagName},goog.ui.ContainerRenderer.prototype.decorate=function(t,e){e.id&&t.setId(e.id);var o=this.getCssClass(),n=!1,r=goog.dom.classlist.get(e);return r&&goog.array.forEach(r,(function(e){e==o?n=!0:e&&this.setStateFromClassName(t,e,o)}),this),n||goog.dom.classlist.add(e,o),this.decorateChildren(t,this.getContentElement(e)),e},goog.ui.ContainerRenderer.prototype.setStateFromClassName=function(t,e,o){e==o+"-disabled"?t.setEnabled(!1):e==o+"-horizontal"?t.setOrientation(goog.ui.Container.Orientation.HORIZONTAL):e==o+"-vertical"&&t.setOrientation(goog.ui.Container.Orientation.VERTICAL)},goog.ui.ContainerRenderer.prototype.decorateChildren=function(t,e,o){if(e){o=o||e.firstChild;for(var n;o&&o.parentNode==e;){if(n=o.nextSibling,o.nodeType==goog.dom.NodeType.ELEMENT){var r=this.getDecoratorForChild(o);r&&(r.setElementInternal(o),t.isEnabled()||r.setEnabled(!1),t.addChild(r),r.decorate(o))}else o.nodeValue&&""!=goog.string.trim(o.nodeValue)||e.removeChild(o);o=n}}},goog.ui.ContainerRenderer.prototype.getDecoratorForChild=function(t){return goog.ui.registry.getDecorator(t)},goog.ui.ContainerRenderer.prototype.initializeDom=function(t){t=t.getElement(),goog.asserts.assert(t,"The container DOM element cannot be null."),goog.style.setUnselectable(t,!0,goog.userAgent.GECKO),goog.userAgent.IE&&(t.hideFocus=!0);var e=this.getAriaRole();e&&goog.a11y.aria.setRole(t,e)},goog.ui.ContainerRenderer.prototype.getKeyEventTarget=function(t){return t.getElement()},goog.ui.ContainerRenderer.prototype.getCssClass=function(){return goog.ui.ContainerRenderer.CSS_CLASS},goog.ui.ContainerRenderer.prototype.getClassNames=function(t){var e=this.getCssClass(),o=t.getOrientation()==goog.ui.Container.Orientation.HORIZONTAL;return o=[e,o?e+"-horizontal":e+"-vertical"],t.isEnabled()||o.push(e+"-disabled"),o},goog.ui.ContainerRenderer.prototype.getDefaultOrientation=function(){return goog.ui.Container.Orientation.VERTICAL},goog.ui.ControlRenderer=function(){},goog.addSingletonGetter(goog.ui.ControlRenderer),goog.tagUnsealableClass(goog.ui.ControlRenderer),goog.ui.ControlRenderer.getCustomRenderer=function(t,e){var o=new t;return o.getCssClass=function(){return e},o},goog.ui.ControlRenderer.CSS_CLASS="goog-control",goog.ui.ControlRenderer.IE6_CLASS_COMBINATIONS=[],goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_=goog.object.create(goog.a11y.aria.Role.BUTTON,goog.a11y.aria.State.PRESSED,goog.a11y.aria.Role.CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.MENU_ITEM_CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM_RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.TAB,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.TREEITEM,goog.a11y.aria.State.SELECTED),goog.ui.ControlRenderer.prototype.getAriaRole=function(){},goog.ui.ControlRenderer.prototype.createDom=function(t){return t.getDomHelper().createDom("DIV",this.getClassNames(t).join(" "),t.getContent())},goog.ui.ControlRenderer.prototype.getContentElement=function(t){return t},goog.ui.ControlRenderer.prototype.enableClassName=function(t,e,o){if(t=t.getElement?t.getElement():t){var n=[e];goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&(n=this.getAppliedCombinedClassNames_(goog.dom.classlist.get(t),e)).push(e),goog.dom.classlist.enableAll(t,n,o)}},goog.ui.ControlRenderer.prototype.enableExtraClassName=function(t,e,o){this.enableClassName(t,e,o)},goog.ui.ControlRenderer.prototype.canDecorate=function(t){return!0},goog.ui.ControlRenderer.prototype.decorate=function(t,e){e.id&&t.setId(e.id);var o=this.getContentElement(e);t.setContentInternal(o&&o.firstChild?o.firstChild.nextSibling?goog.array.clone(o.childNodes):o.firstChild:null);var n=0,r=this.getCssClass(),i=this.getStructuralCssClass(),s=!1,l=!1,a=!1,u=goog.array.toArray(goog.dom.classlist.get(e));goog.array.forEach(u,(function(t){s||t!=r?l||t!=i?n|=this.getStateFromClass(t):l=!0:(s=!0,i==r&&(l=!0)),this.getStateFromClass(t)==goog.ui.Component.State.DISABLED&&(goog.asserts.assertElement(o),goog.dom.isFocusableTabIndex(o)&&goog.dom.setFocusableTabIndex(o,!1))}),this),t.setStateInternal(n),s||(u.push(r),i==r&&(l=!0)),l||u.push(i);var c=t.getExtraClassNames();if(c&&u.push.apply(u,c),goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")){var p=this.getAppliedCombinedClassNames_(u);0<p.length&&(u.push.apply(u,p),a=!0)}return s&&l&&!c&&!a||goog.dom.classlist.set(e,u.join(" ")),e},goog.ui.ControlRenderer.prototype.initializeDom=function(t){t.isRightToLeft()&&this.setRightToLeft(t.getElement(),!0),t.isEnabled()&&this.setFocusable(t,t.isVisible())},goog.ui.ControlRenderer.prototype.setAriaRole=function(t,e){var o=e||this.getAriaRole();o&&(goog.asserts.assert(t,"The element passed as a first parameter cannot be null."),o!=goog.a11y.aria.getRole(t)&&goog.a11y.aria.setRole(t,o))},goog.ui.ControlRenderer.prototype.setAriaStates=function(t,e){goog.asserts.assert(t),goog.asserts.assert(e);var o=t.getAriaLabel();goog.isDefAndNotNull(o)&&this.setAriaLabel(e,o),t.isVisible()||goog.a11y.aria.setState(e,goog.a11y.aria.State.HIDDEN,!t.isVisible()),t.isEnabled()||this.updateAriaState(e,goog.ui.Component.State.DISABLED,!t.isEnabled()),t.isSupportedState(goog.ui.Component.State.SELECTED)&&this.updateAriaState(e,goog.ui.Component.State.SELECTED,t.isSelected()),t.isSupportedState(goog.ui.Component.State.CHECKED)&&this.updateAriaState(e,goog.ui.Component.State.CHECKED,t.isChecked()),t.isSupportedState(goog.ui.Component.State.OPENED)&&this.updateAriaState(e,goog.ui.Component.State.OPENED,t.isOpen())},goog.ui.ControlRenderer.prototype.setAriaLabel=function(t,e){goog.a11y.aria.setLabel(t,e)},goog.ui.ControlRenderer.prototype.setAllowTextSelection=function(t,e){goog.style.setUnselectable(t,!e,!goog.userAgent.IE&&!goog.userAgent.OPERA)},goog.ui.ControlRenderer.prototype.setRightToLeft=function(t,e){this.enableClassName(t,this.getStructuralCssClass()+"-rtl",e)},goog.ui.ControlRenderer.prototype.isFocusable=function(t){var e;return!(!t.isSupportedState(goog.ui.Component.State.FOCUSED)||!(e=t.getKeyEventTarget()))&&goog.dom.isFocusableTabIndex(e)},goog.ui.ControlRenderer.prototype.setFocusable=function(t,e){var o;if(t.isSupportedState(goog.ui.Component.State.FOCUSED)&&(o=t.getKeyEventTarget())){if(!e&&t.isFocused()){try{o.blur()}catch(n){}t.isFocused()&&t.handleBlur(null)}goog.dom.isFocusableTabIndex(o)!=e&&goog.dom.setFocusableTabIndex(o,e)}},goog.ui.ControlRenderer.prototype.setVisible=function(t,e){goog.style.setElementShown(t,e),t&&goog.a11y.aria.setState(t,goog.a11y.aria.State.HIDDEN,!e)},goog.ui.ControlRenderer.prototype.setState=function(t,e,o){var n=t.getElement();if(n){var r=this.getClassForState(e);r&&this.enableClassName(t,r,o),this.updateAriaState(n,e,o)}},goog.ui.ControlRenderer.prototype.updateAriaState=function(t,e,o){goog.ui.ControlRenderer.ariaAttributeMap_||(goog.ui.ControlRenderer.ariaAttributeMap_=goog.object.create(goog.ui.Component.State.DISABLED,goog.a11y.aria.State.DISABLED,goog.ui.Component.State.SELECTED,goog.a11y.aria.State.SELECTED,goog.ui.Component.State.CHECKED,goog.a11y.aria.State.CHECKED,goog.ui.Component.State.OPENED,goog.a11y.aria.State.EXPANDED)),goog.asserts.assert(t,"The element passed as a first parameter cannot be null."),(e=goog.ui.ControlRenderer.getAriaStateForAriaRole_(t,goog.ui.ControlRenderer.ariaAttributeMap_[e]))&&goog.a11y.aria.setState(t,e,o)},goog.ui.ControlRenderer.getAriaStateForAriaRole_=function(t,e){var o=goog.a11y.aria.getRole(t);return o?(o=goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_[o]||e,goog.ui.ControlRenderer.isAriaState_(e)?o:e):e},goog.ui.ControlRenderer.isAriaState_=function(t){return t==goog.a11y.aria.State.CHECKED||t==goog.a11y.aria.State.SELECTED},goog.ui.ControlRenderer.prototype.setContent=function(t,e){var o=this.getContentElement(t);if(o&&(goog.dom.removeChildren(o),e))if(goog.isString(e))goog.dom.setTextContent(o,e);else{var n=function(t){if(t){var e=goog.dom.getOwnerDocument(o);o.appendChild(goog.isString(t)?e.createTextNode(t):t)}};goog.isArray(e)?goog.array.forEach(e,n):!goog.isArrayLike(e)||"nodeType"in e?n(e):goog.array.forEach(goog.array.clone(e),n)}},goog.ui.ControlRenderer.prototype.getKeyEventTarget=function(t){return t.getElement()},goog.ui.ControlRenderer.prototype.getCssClass=function(){return goog.ui.ControlRenderer.CSS_CLASS},goog.ui.ControlRenderer.prototype.getIe6ClassCombinations=function(){return[]},goog.ui.ControlRenderer.prototype.getStructuralCssClass=function(){return this.getCssClass()},goog.ui.ControlRenderer.prototype.getClassNames=function(t){var e=this.getCssClass(),o=[e],n=this.getStructuralCssClass();return n!=e&&o.push(n),e=this.getClassNamesForState(t.getState()),o.push.apply(o,e),(t=t.getExtraClassNames())&&o.push.apply(o,t),goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&o.push.apply(o,this.getAppliedCombinedClassNames_(o)),o},goog.ui.ControlRenderer.prototype.getAppliedCombinedClassNames_=function(t,e){var o=[];return e&&(t=goog.array.concat(t,[e])),goog.array.forEach(this.getIe6ClassCombinations(),(function(n){!goog.array.every(n,goog.partial(goog.array.contains,t))||e&&!goog.array.contains(n,e)||o.push(n.join("_"))})),o},goog.ui.ControlRenderer.prototype.getClassNamesForState=function(t){for(var e=[];t;){var o=t&-t;e.push(this.getClassForState(o)),t&=~o}return e},goog.ui.ControlRenderer.prototype.getClassForState=function(t){return this.classByState_||this.createClassByStateMap_(),this.classByState_[t]},goog.ui.ControlRenderer.prototype.getStateFromClass=function(t){return this.stateByClass_||this.createStateByClassMap_(),t=parseInt(this.stateByClass_[t],10),isNaN(t)?0:t},goog.ui.ControlRenderer.prototype.createClassByStateMap_=function(){var t=this.getStructuralCssClass(),e=!goog.string.contains(goog.string.normalizeWhitespace(t)," ");goog.asserts.assert(e,"ControlRenderer has an invalid css class: '"+t+"'"),this.classByState_=goog.object.create(goog.ui.Component.State.DISABLED,t+"-disabled",goog.ui.Component.State.HOVER,t+"-hover",goog.ui.Component.State.ACTIVE,t+"-active",goog.ui.Component.State.SELECTED,t+"-selected",goog.ui.Component.State.CHECKED,t+"-checked",goog.ui.Component.State.FOCUSED,t+"-focused",goog.ui.Component.State.OPENED,t+"-open")},goog.ui.ControlRenderer.prototype.createStateByClassMap_=function(){this.classByState_||this.createClassByStateMap_(),this.stateByClass_=goog.object.transpose(this.classByState_)},goog.ui.Control=function(t,e,o){goog.ui.Component.call(this,o),this.renderer_=e||goog.ui.registry.getDefaultRenderer(this.constructor),this.setContentInternal(goog.isDef(t)?t:null),this.ariaLabel_=null},goog.inherits(goog.ui.Control,goog.ui.Component),goog.tagUnsealableClass(goog.ui.Control),goog.ui.Control.registerDecorator=goog.ui.registry.setDecoratorByClassName,goog.ui.Control.getDecorator=goog.ui.registry.getDecorator,goog.ui.Control.prototype.content_=null,goog.ui.Control.prototype.state_=0,goog.ui.Control.prototype.supportedStates_=goog.ui.Component.State.DISABLED|goog.ui.Component.State.HOVER|goog.ui.Component.State.ACTIVE|goog.ui.Component.State.FOCUSED,goog.ui.Control.prototype.autoStates_=goog.ui.Component.State.ALL,goog.ui.Control.prototype.statesWithTransitionEvents_=0,goog.ui.Control.prototype.visible_=!0,goog.ui.Control.prototype.extraClassNames_=null,goog.ui.Control.prototype.handleMouseEvents_=!0,goog.ui.Control.prototype.allowTextSelection_=!1,goog.ui.Control.prototype.preferredAriaRole_=null,goog.ui.Control.prototype.isHandleMouseEvents=function(){return this.handleMouseEvents_},goog.ui.Control.prototype.setHandleMouseEvents=function(t){this.isInDocument()&&t!=this.handleMouseEvents_&&this.enableMouseEventHandling_(t),this.handleMouseEvents_=t},goog.ui.Control.prototype.getKeyEventTarget=function(){return this.renderer_.getKeyEventTarget(this)},goog.ui.Control.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler)},goog.ui.Control.prototype.getRenderer=function(){return this.renderer_},goog.ui.Control.prototype.setRenderer=function(t){if(this.isInDocument())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.getElement()&&this.setElementInternal(null),this.renderer_=t},goog.ui.Control.prototype.getExtraClassNames=function(){return this.extraClassNames_},goog.ui.Control.prototype.addClassName=function(t){t&&(this.extraClassNames_?goog.array.contains(this.extraClassNames_,t)||this.extraClassNames_.push(t):this.extraClassNames_=[t],this.renderer_.enableExtraClassName(this,t,!0))},goog.ui.Control.prototype.removeClassName=function(t){t&&this.extraClassNames_&&goog.array.remove(this.extraClassNames_,t)&&(0==this.extraClassNames_.length&&(this.extraClassNames_=null),this.renderer_.enableExtraClassName(this,t,!1))},goog.ui.Control.prototype.enableClassName=function(t,e){e?this.addClassName(t):this.removeClassName(t)},goog.ui.Control.prototype.createDom=function(){var t=this.renderer_.createDom(this);this.setElementInternal(t),this.renderer_.setAriaRole(t,this.getPreferredAriaRole()),this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(t,!1),this.isVisible()||this.renderer_.setVisible(t,!1)},goog.ui.Control.prototype.getPreferredAriaRole=function(){return this.preferredAriaRole_},goog.ui.Control.prototype.setPreferredAriaRole=function(t){this.preferredAriaRole_=t},goog.ui.Control.prototype.getAriaLabel=function(){return this.ariaLabel_},goog.ui.Control.prototype.setAriaLabel=function(t){this.ariaLabel_=t;var e=this.getElement();e&&this.renderer_.setAriaLabel(e,t)},goog.ui.Control.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())},goog.ui.Control.prototype.canDecorate=function(t){return this.renderer_.canDecorate(t)},goog.ui.Control.prototype.decorateInternal=function(t){t=this.renderer_.decorate(this,t),this.setElementInternal(t),this.renderer_.setAriaRole(t,this.getPreferredAriaRole()),this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(t,!1),this.visible_="none"!=t.style.display},goog.ui.Control.prototype.enterDocument=function(){if(goog.ui.Control.superClass_.enterDocument.call(this),this.renderer_.setAriaStates(this,this.getElementStrict()),this.renderer_.initializeDom(this),this.supportedStates_&~goog.ui.Component.State.DISABLED&&(this.isHandleMouseEvents()&&this.enableMouseEventHandling_(!0),this.isSupportedState(goog.ui.Component.State.FOCUSED))){var t=this.getKeyEventTarget();if(t){var e=this.getKeyHandler();e.attach(t),this.getHandler().listen(e,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(t,goog.events.EventType.FOCUS,this.handleFocus).listen(t,goog.events.EventType.BLUR,this.handleBlur)}}},goog.ui.Control.prototype.enableMouseEventHandling_=function(t){var e=goog.ui.ComponentUtil.getMouseEventType(this),o=this.getHandler(),n=this.getElement();t?(o.listen(n,e.MOUSEDOWN,this.handleMouseDown).listen(n,[e.MOUSEUP,e.MOUSECANCEL],this.handleMouseUp).listen(n,goog.events.EventType.MOUSEOVER,this.handleMouseOver).listen(n,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.pointerEventsEnabled()&&o.listen(n,goog.events.EventType.GOTPOINTERCAPTURE,this.preventPointerCapture_),this.handleContextMenu!=goog.nullFunction&&o.listen(n,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||o.listen(n,goog.events.EventType.DBLCLICK,this.handleDblClick),this.ieMouseEventSequenceSimulator_||(this.ieMouseEventSequenceSimulator_=new goog.ui.Control.IeMouseEventSequenceSimulator_(this),this.registerDisposable(this.ieMouseEventSequenceSimulator_)))):(o.unlisten(n,e.MOUSEDOWN,this.handleMouseDown).unlisten(n,[e.MOUSEUP,e.MOUSECANCEL],this.handleMouseUp).unlisten(n,goog.events.EventType.MOUSEOVER,this.handleMouseOver).unlisten(n,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.pointerEventsEnabled()&&o.unlisten(n,goog.events.EventType.GOTPOINTERCAPTURE,this.preventPointerCapture_),this.handleContextMenu!=goog.nullFunction&&o.unlisten(n,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||o.unlisten(n,goog.events.EventType.DBLCLICK,this.handleDblClick),goog.dispose(this.ieMouseEventSequenceSimulator_),this.ieMouseEventSequenceSimulator_=null))},goog.ui.Control.prototype.exitDocument=function(){goog.ui.Control.superClass_.exitDocument.call(this),this.keyHandler_&&this.keyHandler_.detach(),this.isVisible()&&this.isEnabled()&&this.renderer_.setFocusable(this,!1)},goog.ui.Control.prototype.disposeInternal=function(){goog.ui.Control.superClass_.disposeInternal.call(this),this.keyHandler_&&(this.keyHandler_.dispose(),delete this.keyHandler_),delete this.renderer_,this.ieMouseEventSequenceSimulator_=this.extraClassNames_=this.content_=null},goog.ui.Control.prototype.getContent=function(){return this.content_},goog.ui.Control.prototype.setContent=function(t){this.renderer_.setContent(this.getElement(),t),this.setContentInternal(t)},goog.ui.Control.prototype.setContentInternal=function(t){this.content_=t},goog.ui.Control.prototype.getCaption=function(){var t=this.getContent();return t?(t=goog.isString(t)?t:goog.isArray(t)?goog.array.map(t,goog.dom.getRawTextContent).join(""):goog.dom.getTextContent(t),goog.string.collapseBreakingSpaces(t)):""},goog.ui.Control.prototype.setCaption=function(t){this.setContent(t)},goog.ui.Control.prototype.setRightToLeft=function(t){goog.ui.Control.superClass_.setRightToLeft.call(this,t);var e=this.getElement();e&&this.renderer_.setRightToLeft(e,t)},goog.ui.Control.prototype.isAllowTextSelection=function(){return this.allowTextSelection_},goog.ui.Control.prototype.setAllowTextSelection=function(t){this.allowTextSelection_=t;var e=this.getElement();e&&this.renderer_.setAllowTextSelection(e,t)},goog.ui.Control.prototype.isVisible=function(){return this.visible_},goog.ui.Control.prototype.setVisible=function(t,e){if(e||this.visible_!=t&&this.dispatchEvent(t?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){var o=this.getElement();return o&&this.renderer_.setVisible(o,t),this.isEnabled()&&this.renderer_.setFocusable(this,t),this.visible_=t,!0}return!1},goog.ui.Control.prototype.isEnabled=function(){return!this.hasState(goog.ui.Component.State.DISABLED)},goog.ui.Control.prototype.isParentDisabled_=function(){var t=this.getParent();return!!t&&"function"==typeof t.isEnabled&&!t.isEnabled()},goog.ui.Control.prototype.setEnabled=function(t){!this.isParentDisabled_()&&this.isTransitionAllowed(goog.ui.Component.State.DISABLED,!t)&&(t||(this.setActive(!1),this.setHighlighted(!1)),this.isVisible()&&this.renderer_.setFocusable(this,t),this.setState(goog.ui.Component.State.DISABLED,!t,!0))},goog.ui.Control.prototype.isHighlighted=function(){return this.hasState(goog.ui.Component.State.HOVER)},goog.ui.Control.prototype.setHighlighted=function(t){this.isTransitionAllowed(goog.ui.Component.State.HOVER,t)&&this.setState(goog.ui.Component.State.HOVER,t)},goog.ui.Control.prototype.isActive=function(){return this.hasState(goog.ui.Component.State.ACTIVE)},goog.ui.Control.prototype.setActive=function(t){this.isTransitionAllowed(goog.ui.Component.State.ACTIVE,t)&&this.setState(goog.ui.Component.State.ACTIVE,t)},goog.ui.Control.prototype.isSelected=function(){return this.hasState(goog.ui.Component.State.SELECTED)},goog.ui.Control.prototype.setSelected=function(t){this.isTransitionAllowed(goog.ui.Component.State.SELECTED,t)&&this.setState(goog.ui.Component.State.SELECTED,t)},goog.ui.Control.prototype.isChecked=function(){return this.hasState(goog.ui.Component.State.CHECKED)},goog.ui.Control.prototype.setChecked=function(t){this.isTransitionAllowed(goog.ui.Component.State.CHECKED,t)&&this.setState(goog.ui.Component.State.CHECKED,t)},goog.ui.Control.prototype.isFocused=function(){return this.hasState(goog.ui.Component.State.FOCUSED)},goog.ui.Control.prototype.setFocused=function(t){this.isTransitionAllowed(goog.ui.Component.State.FOCUSED,t)&&this.setState(goog.ui.Component.State.FOCUSED,t)},goog.ui.Control.prototype.isOpen=function(){return this.hasState(goog.ui.Component.State.OPENED)},goog.ui.Control.prototype.setOpen=function(t){this.isTransitionAllowed(goog.ui.Component.State.OPENED,t)&&this.setState(goog.ui.Component.State.OPENED,t)},goog.ui.Control.prototype.getState=function(){return this.state_},goog.ui.Control.prototype.hasState=function(t){return!!(this.state_&t)},goog.ui.Control.prototype.setState=function(t,e,o){o||t!=goog.ui.Component.State.DISABLED?this.isSupportedState(t)&&e!=this.hasState(t)&&(this.renderer_.setState(this,t,e),this.state_=e?this.state_|t:this.state_&~t):this.setEnabled(!e)},goog.ui.Control.prototype.setStateInternal=function(t){this.state_=t},goog.ui.Control.prototype.isSupportedState=function(t){return!!(this.supportedStates_&t)},goog.ui.Control.prototype.setSupportedState=function(t,e){if(this.isInDocument()&&this.hasState(t)&&!e)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);!e&&this.hasState(t)&&this.setState(t,!1),this.supportedStates_=e?this.supportedStates_|t:this.supportedStates_&~t},goog.ui.Control.prototype.isAutoState=function(t){return!!(this.autoStates_&t)&&this.isSupportedState(t)},goog.ui.Control.prototype.setAutoStates=function(t,e){this.autoStates_=e?this.autoStates_|t:this.autoStates_&~t},goog.ui.Control.prototype.isDispatchTransitionEvents=function(t){return!!(this.statesWithTransitionEvents_&t)&&this.isSupportedState(t)},goog.ui.Control.prototype.setDispatchTransitionEvents=function(t,e){this.statesWithTransitionEvents_=e?this.statesWithTransitionEvents_|t:this.statesWithTransitionEvents_&~t},goog.ui.Control.prototype.isTransitionAllowed=function(t,e){return this.isSupportedState(t)&&this.hasState(t)!=e&&(!(this.statesWithTransitionEvents_&t)||this.dispatchEvent(goog.ui.Component.getStateTransitionEvent(t,e)))&&!this.isDisposed()},goog.ui.Control.prototype.handleMouseOver=function(t){!goog.ui.Control.isMouseEventWithinElement_(t,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.ENTER)&&this.isEnabled()&&this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0)},goog.ui.Control.prototype.handleMouseOut=function(t){!goog.ui.Control.isMouseEventWithinElement_(t,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.LEAVE)&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1),this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!1))},goog.ui.Control.prototype.preventPointerCapture_=function(t){var e=t.target;e.releasePointerCapture&&e.releasePointerCapture(t.pointerId)},goog.ui.Control.prototype.handleContextMenu=goog.nullFunction,goog.ui.Control.isMouseEventWithinElement_=function(t,e){return!!t.relatedTarget&&goog.dom.contains(e,t.relatedTarget)},goog.ui.Control.prototype.handleMouseDown=function(t){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),t.isMouseActionButton()&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!0),this.renderer_&&this.renderer_.isFocusable(this)&&this.getKeyEventTarget().focus())),!this.isAllowTextSelection()&&t.isMouseActionButton()&&t.preventDefault()},goog.ui.Control.prototype.handleMouseUp=function(t){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),this.isActive()&&this.performActionInternal(t)&&this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1))},goog.ui.Control.prototype.handleDblClick=function(t){this.isEnabled()&&this.performActionInternal(t)},goog.ui.Control.prototype.performActionInternal=function(t){this.isAutoState(goog.ui.Component.State.CHECKED)&&this.setChecked(!this.isChecked()),this.isAutoState(goog.ui.Component.State.SELECTED)&&this.setSelected(!0),this.isAutoState(goog.ui.Component.State.OPENED)&&this.setOpen(!this.isOpen());var e=new goog.events.Event(goog.ui.Component.EventType.ACTION,this);return t&&(e.altKey=t.altKey,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.platformModifierKey=t.platformModifierKey),this.dispatchEvent(e)},goog.ui.Control.prototype.handleFocus=function(t){this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!0)},goog.ui.Control.prototype.handleBlur=function(t){this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1),this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!1)},goog.ui.Control.prototype.handleKeyEvent=function(t){return!!(this.isVisible()&&this.isEnabled()&&this.handleKeyEventInternal(t))&&(t.preventDefault(),t.stopPropagation(),!0)},goog.ui.Control.prototype.handleKeyEventInternal=function(t){return t.keyCode==goog.events.KeyCodes.ENTER&&this.performActionInternal(t)},goog.ui.registry.setDefaultRenderer(goog.ui.Control,goog.ui.ControlRenderer),goog.ui.registry.setDecoratorByClassName(goog.ui.ControlRenderer.CSS_CLASS,(function(){return new goog.ui.Control(null)})),goog.ui.Control.IeMouseEventSequenceSimulator_=function(t){goog.Disposable.call(this),this.control_=t,this.clickExpected_=!1,this.handler_=new goog.events.EventHandler(this),this.registerDisposable(this.handler_),t=this.control_.getElementStrict(),this.handler_.listen(t,goog.events.EventType.MOUSEDOWN,this.handleMouseDown_).listen(t,goog.events.EventType.MOUSEUP,this.handleMouseUp_).listen(t,goog.events.EventType.CLICK,this.handleClick_)},goog.inherits(goog.ui.Control.IeMouseEventSequenceSimulator_,goog.Disposable),goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_=!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseDown_=function(){this.clickExpected_=!1},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseUp_=function(){this.clickExpected_=!0},goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_=function(t,e){if(!goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_)return t.button=goog.events.BrowserEvent.MouseButton.LEFT,t.type=e,t;var o=document.createEvent("MouseEvents");return o.initMouseEvent(e,t.bubbles,t.cancelable,t.view||null,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,goog.events.BrowserEvent.MouseButton.LEFT,t.relatedTarget||null),o},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleClick_=function(t){if(this.clickExpected_)this.clickExpected_=!1;else{var e=t.getBrowserEvent(),o=e.button,n=e.type,r=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(e,goog.events.EventType.MOUSEDOWN);this.control_.handleMouseDown(new goog.events.BrowserEvent(r,t.currentTarget)),r=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(e,goog.events.EventType.MOUSEUP),this.control_.handleMouseUp(new goog.events.BrowserEvent(r,t.currentTarget)),goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_||(e.button=o,e.type=n)}},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.disposeInternal=function(){this.control_=null,goog.ui.Control.IeMouseEventSequenceSimulator_.superClass_.disposeInternal.call(this)},goog.ui.Container=function(t,e,o){goog.ui.Component.call(this,o),this.renderer_=e||goog.ui.ContainerRenderer.getInstance(),this.orientation_=t||this.renderer_.getDefaultOrientation()},goog.inherits(goog.ui.Container,goog.ui.Component),goog.tagUnsealableClass(goog.ui.Container),goog.ui.Container.EventType={AFTER_SHOW:"aftershow",AFTER_HIDE:"afterhide"},goog.ui.Container.Orientation={HORIZONTAL:"horizontal",VERTICAL:"vertical"},goog.ui.Container.prototype.keyEventTarget_=null,goog.ui.Container.prototype.keyHandler_=null,goog.ui.Container.prototype.renderer_=null,goog.ui.Container.prototype.orientation_=null,goog.ui.Container.prototype.visible_=!0,goog.ui.Container.prototype.enabled_=!0,goog.ui.Container.prototype.focusable_=!0,goog.ui.Container.prototype.highlightedIndex_=-1,goog.ui.Container.prototype.openItem_=null,goog.ui.Container.prototype.mouseButtonPressed_=!1,goog.ui.Container.prototype.allowFocusableChildren_=!1,goog.ui.Container.prototype.openFollowsHighlight_=!0,goog.ui.Container.prototype.childElementIdMap_=null,goog.ui.Container.prototype.getKeyEventTarget=function(){return this.keyEventTarget_||this.renderer_.getKeyEventTarget(this)},goog.ui.Container.prototype.setKeyEventTarget=function(t){if(!this.focusable_)throw Error("Can't set key event target for container that doesn't support keyboard focus!");var e=this.getKeyEventTarget(),o=this.isInDocument();this.keyEventTarget_=t;var n=this.getKeyEventTarget();o&&(this.keyEventTarget_=e,this.enableFocusHandling_(!1),this.keyEventTarget_=t,this.getKeyHandler().attach(n),this.enableFocusHandling_(!0))},goog.ui.Container.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler(this.getKeyEventTarget()))},goog.ui.Container.prototype.getRenderer=function(){return this.renderer_},goog.ui.Container.prototype.setRenderer=function(t){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.renderer_=t},goog.ui.Container.prototype.createDom=function(){this.setElementInternal(this.renderer_.createDom(this))},goog.ui.Container.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())},goog.ui.Container.prototype.canDecorate=function(t){return this.renderer_.canDecorate(t)},goog.ui.Container.prototype.decorateInternal=function(t){this.setElementInternal(this.renderer_.decorate(this,t)),"none"==t.style.display&&(this.visible_=!1)},goog.ui.Container.prototype.enterDocument=function(){goog.ui.Container.superClass_.enterDocument.call(this),this.forEachChild((function(t){t.isInDocument()&&this.registerChildId_(t)}),this);var t=this.getElement();this.renderer_.initializeDom(this),this.setVisible(this.visible_,!0);var e=goog.ui.ComponentUtil.getMouseEventType(this);this.getHandler().listen(this,goog.ui.Component.EventType.ENTER,this.handleEnterItem).listen(this,goog.ui.Component.EventType.HIGHLIGHT,this.handleHighlightItem).listen(this,goog.ui.Component.EventType.UNHIGHLIGHT,this.handleUnHighlightItem).listen(this,goog.ui.Component.EventType.OPEN,this.handleOpenItem).listen(this,goog.ui.Component.EventType.CLOSE,this.handleCloseItem).listen(t,e.MOUSEDOWN,this.handleMouseDown).listen(goog.dom.getOwnerDocument(t),[e.MOUSEUP,e.MOUSECANCEL],this.handleDocumentMouseUp).listen(t,[e.MOUSEDOWN,e.MOUSEUP,e.MOUSECANCEL,goog.events.EventType.MOUSEOVER,goog.events.EventType.MOUSEOUT,goog.events.EventType.CONTEXTMENU],this.handleChildMouseEvents),this.pointerEventsEnabled()&&this.getHandler().listen(t,goog.events.EventType.GOTPOINTERCAPTURE,this.preventPointerCapture_),this.isFocusable()&&this.enableFocusHandling_(!0)},goog.ui.Container.prototype.preventPointerCapture_=function(t){var e=t.target;e.releasePointerCapture&&e.releasePointerCapture(t.pointerId)},goog.ui.Container.prototype.enableFocusHandling_=function(t){var e=this.getHandler(),o=this.getKeyEventTarget();t?e.listen(o,goog.events.EventType.FOCUS,this.handleFocus).listen(o,goog.events.EventType.BLUR,this.handleBlur).listen(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent):e.unlisten(o,goog.events.EventType.FOCUS,this.handleFocus).unlisten(o,goog.events.EventType.BLUR,this.handleBlur).unlisten(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent)},goog.ui.Container.prototype.exitDocument=function(){this.setHighlightedIndex(-1),this.openItem_&&this.openItem_.setOpen(!1),this.mouseButtonPressed_=!1,goog.ui.Container.superClass_.exitDocument.call(this)},goog.ui.Container.prototype.disposeInternal=function(){goog.ui.Container.superClass_.disposeInternal.call(this),this.keyHandler_&&(this.keyHandler_.dispose(),this.keyHandler_=null),this.renderer_=this.openItem_=this.childElementIdMap_=this.keyEventTarget_=null},goog.ui.Container.prototype.handleEnterItem=function(t){return!0},goog.ui.Container.prototype.handleHighlightItem=function(t){var e=this.indexOfChild(t.target);if(-1<e&&e!=this.highlightedIndex_){var o=this.getHighlighted();o&&o.setHighlighted(!1),this.highlightedIndex_=e,o=this.getHighlighted(),this.isMouseButtonPressed()&&o.setActive(!0),this.openFollowsHighlight_&&this.openItem_&&o!=this.openItem_&&(o.isSupportedState(goog.ui.Component.State.OPENED)?o.setOpen(!0):this.openItem_.setOpen(!1))}e=this.getElement(),goog.asserts.assert(e,"The DOM element for the container cannot be null."),null!=t.target.getElement()&&goog.a11y.aria.setState(e,goog.a11y.aria.State.ACTIVEDESCENDANT,t.target.getElement().id)},goog.ui.Container.prototype.handleUnHighlightItem=function(t){t.target==this.getHighlighted()&&(this.highlightedIndex_=-1),t=this.getElement(),goog.asserts.assert(t,"The DOM element for the container cannot be null."),goog.a11y.aria.removeState(t,goog.a11y.aria.State.ACTIVEDESCENDANT)},goog.ui.Container.prototype.handleOpenItem=function(t){(t=t.target)&&t!=this.openItem_&&t.getParent()==this&&(this.openItem_&&this.openItem_.setOpen(!1),this.openItem_=t)},goog.ui.Container.prototype.handleCloseItem=function(t){t.target==this.openItem_&&(this.openItem_=null);var e=this.getElement(),o=t.target.getElement();e&&t.target.isHighlighted()&&o&&goog.a11y.aria.setActiveDescendant(e,o)},goog.ui.Container.prototype.handleMouseDown=function(t){this.enabled_&&this.setMouseButtonPressed(!0);var e=this.getKeyEventTarget();e&&goog.dom.isFocusableTabIndex(e)?e.focus():t.preventDefault()},goog.ui.Container.prototype.handleDocumentMouseUp=function(t){this.setMouseButtonPressed(!1)},goog.ui.Container.prototype.handleChildMouseEvents=function(t){var e=goog.ui.ComponentUtil.getMouseEventType(this),o=this.getOwnerControl(t.target);if(o)switch(t.type){case e.MOUSEDOWN:o.handleMouseDown(t);break;case e.MOUSEUP:case e.MOUSECANCEL:o.handleMouseUp(t);break;case goog.events.EventType.MOUSEOVER:o.handleMouseOver(t);break;case goog.events.EventType.MOUSEOUT:o.handleMouseOut(t);break;case goog.events.EventType.CONTEXTMENU:o.handleContextMenu(t)}},goog.ui.Container.prototype.getOwnerControl=function(t){if(this.childElementIdMap_)for(var e=this.getElement();t&&t!==e;){var o=t.id;if(o in this.childElementIdMap_)return this.childElementIdMap_[o];t=t.parentNode}return null},goog.ui.Container.prototype.handleFocus=function(t){},goog.ui.Container.prototype.handleBlur=function(t){this.setHighlightedIndex(-1),this.setMouseButtonPressed(!1),this.openItem_&&this.openItem_.setOpen(!1)},goog.ui.Container.prototype.handleKeyEvent=function(t){return!(!this.isEnabled()||!this.isVisible()||0==this.getChildCount()&&!this.keyEventTarget_||!this.handleKeyEventInternal(t)||(t.preventDefault(),t.stopPropagation(),0))},goog.ui.Container.prototype.handleKeyEventInternal=function(t){var e=this.getHighlighted();if(e&&"function"==typeof e.handleKeyEvent&&e.handleKeyEvent(t)||this.openItem_&&this.openItem_!=e&&"function"==typeof this.openItem_.handleKeyEvent&&this.openItem_.handleKeyEvent(t))return!0;if(t.shiftKey||t.ctrlKey||t.metaKey||t.altKey)return!1;switch(t.keyCode){case goog.events.KeyCodes.ESC:if(!this.isFocusable())return!1;this.getKeyEventTarget().blur();break;case goog.events.KeyCodes.HOME:this.highlightFirst();break;case goog.events.KeyCodes.END:this.highlightLast();break;case goog.events.KeyCodes.UP:if(this.orientation_!=goog.ui.Container.Orientation.VERTICAL)return!1;this.highlightPrevious();break;case goog.events.KeyCodes.LEFT:if(this.orientation_!=goog.ui.Container.Orientation.HORIZONTAL)return!1;this.isRightToLeft()?this.highlightNext():this.highlightPrevious();break;case goog.events.KeyCodes.DOWN:if(this.orientation_!=goog.ui.Container.Orientation.VERTICAL)return!1;this.highlightNext();break;case goog.events.KeyCodes.RIGHT:if(this.orientation_!=goog.ui.Container.Orientation.HORIZONTAL)return!1;this.isRightToLeft()?this.highlightPrevious():this.highlightNext();break;default:return!1}return!0},goog.ui.Container.prototype.registerChildId_=function(t){var e=t.getElement();e=e.id||(e.id=t.getId()),this.childElementIdMap_||(this.childElementIdMap_={}),this.childElementIdMap_[e]=t},goog.ui.Container.prototype.addChild=function(t,e){goog.asserts.assertInstanceof(t,goog.ui.Control,"The child of a container must be a control"),goog.ui.Container.superClass_.addChild.call(this,t,e)},goog.ui.Container.prototype.addChildAt=function(t,e,o){goog.asserts.assertInstanceof(t,goog.ui.Control),t.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,!0),t.setDispatchTransitionEvents(goog.ui.Component.State.OPENED,!0),!this.isFocusable()&&this.isFocusableChildrenAllowed()||t.setSupportedState(goog.ui.Component.State.FOCUSED,!1),t.setHandleMouseEvents(!1);var n=t.getParent()==this?this.indexOfChild(t):-1;goog.ui.Container.superClass_.addChildAt.call(this,t,e,o),t.isInDocument()&&this.isInDocument()&&this.registerChildId_(t),this.updateHighlightedIndex_(n,e)},goog.ui.Container.prototype.updateHighlightedIndex_=function(t,e){-1==t&&(t=this.getChildCount()),t==this.highlightedIndex_?this.highlightedIndex_=Math.min(this.getChildCount()-1,e):t>this.highlightedIndex_&&e<=this.highlightedIndex_?this.highlightedIndex_++:t<this.highlightedIndex_&&e>this.highlightedIndex_&&this.highlightedIndex_--},goog.ui.Container.prototype.removeChild=function(t,e){if(t=goog.isString(t)?this.getChild(t):t,goog.asserts.assertInstanceof(t,goog.ui.Control),t){var o=this.indexOfChild(t);-1!=o&&(o==this.highlightedIndex_?(t.setHighlighted(!1),this.highlightedIndex_=-1):o<this.highlightedIndex_&&this.highlightedIndex_--),(o=t.getElement())&&o.id&&this.childElementIdMap_&&goog.object.remove(this.childElementIdMap_,o.id)}return(t=goog.ui.Container.superClass_.removeChild.call(this,t,e)).setHandleMouseEvents(!0),t},goog.ui.Container.prototype.getOrientation=function(){return this.orientation_},goog.ui.Container.prototype.setOrientation=function(t){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.orientation_=t},goog.ui.Container.prototype.isVisible=function(){return this.visible_},goog.ui.Container.prototype.setVisible=function(t,e){if(e||this.visible_!=t&&this.dispatchEvent(t?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){this.visible_=t;var o=this.getElement();return o&&(goog.style.setElementShown(o,t),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),this.enabled_&&this.visible_),e||this.dispatchEvent(this.visible_?goog.ui.Container.EventType.AFTER_SHOW:goog.ui.Container.EventType.AFTER_HIDE)),!0}return!1},goog.ui.Container.prototype.isEnabled=function(){return this.enabled_},goog.ui.Container.prototype.setEnabled=function(t){this.enabled_!=t&&this.dispatchEvent(t?goog.ui.Component.EventType.ENABLE:goog.ui.Component.EventType.DISABLE)&&(t?(this.enabled_=!0,this.forEachChild((function(t){t.wasDisabled?delete t.wasDisabled:t.setEnabled(!0)}))):(this.forEachChild((function(t){t.isEnabled()?t.setEnabled(!1):t.wasDisabled=!0})),this.enabled_=!1,this.setMouseButtonPressed(!1)),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),t&&this.visible_))},goog.ui.Container.prototype.isFocusable=function(){return this.focusable_},goog.ui.Container.prototype.setFocusable=function(t){t!=this.focusable_&&this.isInDocument()&&this.enableFocusHandling_(t),this.focusable_=t,this.enabled_&&this.visible_&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),t)},goog.ui.Container.prototype.isFocusableChildrenAllowed=function(){return this.allowFocusableChildren_},goog.ui.Container.prototype.setFocusableChildrenAllowed=function(t){this.allowFocusableChildren_=t},goog.ui.Container.prototype.isOpenFollowsHighlight=function(){return this.openFollowsHighlight_},goog.ui.Container.prototype.setOpenFollowsHighlight=function(t){this.openFollowsHighlight_=t},goog.ui.Container.prototype.getHighlightedIndex=function(){return this.highlightedIndex_},goog.ui.Container.prototype.setHighlightedIndex=function(t){(t=this.getChildAt(t))?t.setHighlighted(!0):-1<this.highlightedIndex_&&this.getHighlighted().setHighlighted(!1)},goog.ui.Container.prototype.setHighlighted=function(t){this.setHighlightedIndex(this.indexOfChild(t))},goog.ui.Container.prototype.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)},goog.ui.Container.prototype.highlightFirst=function(){this.highlightHelper((function(t,e){return(t+1)%e}),this.getChildCount()-1)},goog.ui.Container.prototype.highlightLast=function(){this.highlightHelper((function(t,e){return 0>--t?e-1:t}),0)},goog.ui.Container.prototype.highlightNext=function(){this.highlightHelper((function(t,e){return(t+1)%e}),this.highlightedIndex_)},goog.ui.Container.prototype.highlightPrevious=function(){this.highlightHelper((function(t,e){return 0>--t?e-1:t}),this.highlightedIndex_)},goog.ui.Container.prototype.highlightHelper=function(t,e){var o=0>e?this.indexOfChild(this.openItem_):e,n=this.getChildCount();o=t.call(this,o,n);for(var r=0;r<=n;){var i=this.getChildAt(o);if(i&&this.canHighlightItem(i))return this.setHighlightedIndexFromKeyEvent(o),!0;r++,o=t.call(this,o,n)}return!1},goog.ui.Container.prototype.canHighlightItem=function(t){return t.isVisible()&&t.isEnabled()&&t.isSupportedState(goog.ui.Component.State.HOVER)},goog.ui.Container.prototype.setHighlightedIndexFromKeyEvent=function(t){this.setHighlightedIndex(t)},goog.ui.Container.prototype.getOpenItem=function(){return this.openItem_},goog.ui.Container.prototype.isMouseButtonPressed=function(){return this.mouseButtonPressed_},goog.ui.Container.prototype.setMouseButtonPressed=function(t){this.mouseButtonPressed_=t},goog.ui.MenuHeaderRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.MenuHeaderRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuHeaderRenderer),goog.ui.MenuHeaderRenderer.CSS_CLASS="goog-menuheader",goog.ui.MenuHeaderRenderer.prototype.getCssClass=function(){return goog.ui.MenuHeaderRenderer.CSS_CLASS},goog.ui.MenuHeader=function(t,e,o){goog.ui.Control.call(this,t,o||goog.ui.MenuHeaderRenderer.getInstance(),e),this.setSupportedState(goog.ui.Component.State.DISABLED,!1),this.setSupportedState(goog.ui.Component.State.HOVER,!1),this.setSupportedState(goog.ui.Component.State.ACTIVE,!1),this.setSupportedState(goog.ui.Component.State.FOCUSED,!1),this.setStateInternal(goog.ui.Component.State.DISABLED)},goog.inherits(goog.ui.MenuHeader,goog.ui.Control),goog.ui.registry.setDecoratorByClassName(goog.ui.MenuHeaderRenderer.CSS_CLASS,(function(){return new goog.ui.MenuHeader(null)})),goog.ui.MenuItemRenderer=function(){goog.ui.ControlRenderer.call(this),this.classNameCache_=[]},goog.inherits(goog.ui.MenuItemRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuItemRenderer),goog.ui.MenuItemRenderer.CSS_CLASS="goog-menuitem",goog.ui.MenuItemRenderer.CompositeCssClassIndex_={HOVER:0,CHECKBOX:1,CONTENT:2},goog.ui.MenuItemRenderer.prototype.getCompositeCssClass_=function(t){var e=this.classNameCache_[t];if(!e){switch(t){case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER:e=this.getStructuralCssClass()+"-highlight";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX:e=this.getStructuralCssClass()+"-checkbox";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT:e=this.getStructuralCssClass()+"-content"}this.classNameCache_[t]=e}return e},goog.ui.MenuItemRenderer.prototype.getAriaRole=function(){return goog.a11y.aria.Role.MENU_ITEM},goog.ui.MenuItemRenderer.prototype.createDom=function(t){var e=t.getDomHelper().createDom("DIV",this.getClassNames(t).join(" "),this.createContent(t.getContent(),t.getDomHelper()));return this.setEnableCheckBoxStructure(t,e,t.isSupportedState(goog.ui.Component.State.SELECTED)||t.isSupportedState(goog.ui.Component.State.CHECKED)),e},goog.ui.MenuItemRenderer.prototype.getContentElement=function(t){return t&&t.firstChild},goog.ui.MenuItemRenderer.prototype.decorate=function(t,e){return goog.asserts.assert(e),this.hasContentStructure(e)||e.appendChild(this.createContent(e.childNodes,t.getDomHelper())),goog.dom.classlist.contains(e,"goog-option")&&(t.setCheckable(!0),this.setCheckable(t,e,!0)),goog.ui.MenuItemRenderer.superClass_.decorate.call(this,t,e)},goog.ui.MenuItemRenderer.prototype.setContent=function(t,e){var o=this.getContentElement(t),n=this.hasCheckBoxStructure(t)?o.firstChild:null;goog.ui.MenuItemRenderer.superClass_.setContent.call(this,t,e),n&&!this.hasCheckBoxStructure(t)&&o.insertBefore(n,o.firstChild||null)},goog.ui.MenuItemRenderer.prototype.hasContentStructure=function(t){t=goog.dom.getFirstElementChild(t);var e=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return!!t&&goog.dom.classlist.contains(t,e)},goog.ui.MenuItemRenderer.prototype.createContent=function(t,e){var o=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return e.createDom("DIV",o,t)},goog.ui.MenuItemRenderer.prototype.setSelectable=function(t,e,o){t&&e&&this.setEnableCheckBoxStructure(t,e,o)},goog.ui.MenuItemRenderer.prototype.setCheckable=function(t,e,o){t&&e&&this.setEnableCheckBoxStructure(t,e,o)},goog.ui.MenuItemRenderer.prototype.hasCheckBoxStructure=function(t){if(t=this.getContentElement(t)){t=t.firstChild;var e=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX);return!!t&&goog.dom.isElement(t)&&goog.dom.classlist.contains(t,e)}return!1},goog.ui.MenuItemRenderer.prototype.setEnableCheckBoxStructure=function(t,e,o){this.setAriaRole(e,t.getPreferredAriaRole()),this.setAriaStates(t,e),o!=this.hasCheckBoxStructure(e)&&(goog.dom.classlist.enable(e,"goog-option",o),e=this.getContentElement(e),o?(o=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX),e.insertBefore(t.getDomHelper().createDom("DIV",o),e.firstChild||null)):e.removeChild(e.firstChild))},goog.ui.MenuItemRenderer.prototype.getClassForState=function(t){switch(t){case goog.ui.Component.State.HOVER:return this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);case goog.ui.Component.State.CHECKED:case goog.ui.Component.State.SELECTED:return"goog-option-selected";default:return goog.ui.MenuItemRenderer.superClass_.getClassForState.call(this,t)}},goog.ui.MenuItemRenderer.prototype.getStateFromClass=function(t){var e=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);switch(t){case"goog-option-selected":return goog.ui.Component.State.CHECKED;case e:return goog.ui.Component.State.HOVER;default:return goog.ui.MenuItemRenderer.superClass_.getStateFromClass.call(this,t)}},goog.ui.MenuItemRenderer.prototype.getCssClass=function(){return goog.ui.MenuItemRenderer.CSS_CLASS},goog.ui.MenuItem=function(t,e,o,n){goog.ui.Control.call(this,t,n||goog.ui.MenuItemRenderer.getInstance(),o),this.setValue(e)},goog.inherits(goog.ui.MenuItem,goog.ui.Control),goog.tagUnsealableClass(goog.ui.MenuItem),goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_="goog-menuitem-mnemonic-separator",goog.ui.MenuItem.ACCELERATOR_CLASS="goog-menuitem-accel",goog.ui.MenuItem.prototype.getValue=function(){var t=this.getModel();return null!=t?t:this.getCaption()},goog.ui.MenuItem.prototype.setValue=function(t){this.setModel(t)},goog.ui.MenuItem.prototype.setSupportedState=function(t,e){switch(goog.ui.MenuItem.superClass_.setSupportedState.call(this,t,e),t){case goog.ui.Component.State.SELECTED:this.setSelectableInternal_(e);break;case goog.ui.Component.State.CHECKED:this.setCheckableInternal_(e)}},goog.ui.MenuItem.prototype.setSelectable=function(t){this.setSupportedState(goog.ui.Component.State.SELECTED,t)},goog.ui.MenuItem.prototype.setSelectableInternal_=function(t){this.isChecked()&&!t&&this.setChecked(!1);var e=this.getElement();e&&this.getRenderer().setSelectable(this,e,t)},goog.ui.MenuItem.prototype.setCheckable=function(t){this.setSupportedState(goog.ui.Component.State.CHECKED,t)},goog.ui.MenuItem.prototype.setCheckableInternal_=function(t){var e=this.getElement();e&&this.getRenderer().setCheckable(this,e,t)},goog.ui.MenuItem.prototype.getCaption=function(){var t=this.getContent();if(goog.isArray(t)){var e=goog.ui.MenuItem.ACCELERATOR_CLASS,o=goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_;return t=goog.array.map(t,(function(t){return goog.dom.isElement(t)&&(goog.dom.classlist.contains(t,e)||goog.dom.classlist.contains(t,o))?"":goog.dom.getRawTextContent(t)})).join(""),goog.string.collapseBreakingSpaces(t)}return goog.ui.MenuItem.superClass_.getCaption.call(this)},goog.ui.MenuItem.prototype.getAccelerator=function(){var t=this.getDomHelper(),e=this.getContent();return goog.isArray(e)&&(e=goog.array.find(e,(function(t){return goog.dom.classlist.contains(t,goog.ui.MenuItem.ACCELERATOR_CLASS)})))?t.getTextContent(e):null},goog.ui.MenuItem.prototype.handleMouseUp=function(t){var e=this.getParent();if(e){var o=e.openingCoords;if(e.openingCoords=null,o&&goog.isNumber(t.clientX)&&(e=new goog.math.Coordinate(t.clientX,t.clientY),goog.math.Coordinate.equals(o,e)))return}goog.ui.MenuItem.superClass_.handleMouseUp.call(this,t)},goog.ui.MenuItem.prototype.handleKeyEventInternal=function(t){return!(t.keyCode!=this.getMnemonic()||!this.performActionInternal(t))||goog.ui.MenuItem.superClass_.handleKeyEventInternal.call(this,t)},goog.ui.MenuItem.prototype.setMnemonic=function(t){this.mnemonicKey_=t},goog.ui.MenuItem.prototype.getMnemonic=function(){return this.mnemonicKey_},goog.ui.registry.setDecoratorByClassName(goog.ui.MenuItemRenderer.CSS_CLASS,(function(){return new goog.ui.MenuItem(null)})),goog.ui.MenuItem.prototype.getPreferredAriaRole=function(){return this.isSupportedState(goog.ui.Component.State.CHECKED)?goog.a11y.aria.Role.MENU_ITEM_CHECKBOX:this.isSupportedState(goog.ui.Component.State.SELECTED)?goog.a11y.aria.Role.MENU_ITEM_RADIO:goog.ui.MenuItem.superClass_.getPreferredAriaRole.call(this)},goog.ui.MenuItem.prototype.getParent=function(){return goog.ui.Control.prototype.getParent.call(this)},goog.ui.MenuItem.prototype.getParentEventTarget=function(){return goog.ui.Control.prototype.getParentEventTarget.call(this)},goog.ui.MenuSeparatorRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.MenuSeparatorRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuSeparatorRenderer),goog.ui.MenuSeparatorRenderer.CSS_CLASS="goog-menuseparator",goog.ui.MenuSeparatorRenderer.prototype.createDom=function(t){return t.getDomHelper().createDom("DIV",this.getCssClass())},goog.ui.MenuSeparatorRenderer.prototype.decorate=function(t,e){if(e.id&&t.setId(e.id),"HR"==e.tagName){var o=e;e=this.createDom(t),goog.dom.insertSiblingBefore(e,o),goog.dom.removeNode(o)}else goog.dom.classlist.add(e,this.getCssClass());return e},goog.ui.MenuSeparatorRenderer.prototype.setContent=function(t,e){},goog.ui.MenuSeparatorRenderer.prototype.getCssClass=function(){return goog.ui.MenuSeparatorRenderer.CSS_CLASS},goog.ui.Separator=function(t,e){goog.ui.Control.call(this,null,t||goog.ui.MenuSeparatorRenderer.getInstance(),e),this.setSupportedState(goog.ui.Component.State.DISABLED,!1),this.setSupportedState(goog.ui.Component.State.HOVER,!1),this.setSupportedState(goog.ui.Component.State.ACTIVE,!1),this.setSupportedState(goog.ui.Component.State.FOCUSED,!1),this.setStateInternal(goog.ui.Component.State.DISABLED)},goog.inherits(goog.ui.Separator,goog.ui.Control),goog.ui.Separator.prototype.enterDocument=function(){goog.ui.Separator.superClass_.enterDocument.call(this);var t=this.getElement();goog.asserts.assert(t,"The DOM element for the separator cannot be null."),goog.a11y.aria.setRole(t,"separator")},goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,(function(){return new goog.ui.Separator})),goog.ui.MenuRenderer=function(t){goog.ui.ContainerRenderer.call(this,t||goog.a11y.aria.Role.MENU)},goog.inherits(goog.ui.MenuRenderer,goog.ui.ContainerRenderer),goog.addSingletonGetter(goog.ui.MenuRenderer),goog.ui.MenuRenderer.CSS_CLASS="goog-menu",goog.ui.MenuRenderer.prototype.canDecorate=function(t){return"UL"==t.tagName||goog.ui.MenuRenderer.superClass_.canDecorate.call(this,t)},goog.ui.MenuRenderer.prototype.getDecoratorForChild=function(t){return"HR"==t.tagName?new goog.ui.Separator:goog.ui.MenuRenderer.superClass_.getDecoratorForChild.call(this,t)},goog.ui.MenuRenderer.prototype.containsElement=function(t,e){return goog.dom.contains(t.getElement(),e)},goog.ui.MenuRenderer.prototype.getCssClass=function(){return goog.ui.MenuRenderer.CSS_CLASS},goog.ui.MenuRenderer.prototype.initializeDom=function(t){goog.ui.MenuRenderer.superClass_.initializeDom.call(this,t),t=t.getElement(),goog.asserts.assert(t,"The menu DOM element cannot be null."),goog.a11y.aria.setState(t,goog.a11y.aria.State.HASPOPUP,"true")},goog.ui.MenuSeparator=function(t){goog.ui.Separator.call(this,goog.ui.MenuSeparatorRenderer.getInstance(),t)},goog.inherits(goog.ui.MenuSeparator,goog.ui.Separator),goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,(function(){return new goog.ui.Separator})),goog.ui.Menu=function(t,e){goog.ui.Container.call(this,goog.ui.Container.Orientation.VERTICAL,e||goog.ui.MenuRenderer.getInstance(),t),this.setFocusable(!1)},goog.inherits(goog.ui.Menu,goog.ui.Container),goog.tagUnsealableClass(goog.ui.Menu),goog.ui.Menu.EventType={BEFORE_SHOW:goog.ui.Component.EventType.BEFORE_SHOW,SHOW:goog.ui.Component.EventType.SHOW,BEFORE_HIDE:goog.ui.Component.EventType.HIDE,HIDE:goog.ui.Component.EventType.HIDE},goog.ui.Menu.CSS_CLASS=goog.ui.MenuRenderer.CSS_CLASS,goog.ui.Menu.prototype.allowAutoFocus_=!0,goog.ui.Menu.prototype.allowHighlightDisabled_=!1,goog.ui.Menu.prototype.getCssClass=function(){return this.getRenderer().getCssClass()},goog.ui.Menu.prototype.containsElement=function(t){if(this.getRenderer().containsElement(this,t))return!0;for(var e=0,o=this.getChildCount();e<o;e++){var n=this.getChildAt(e);if("function"==typeof n.containsElement&&n.containsElement(t))return!0}return!1},goog.ui.Menu.prototype.addItem=function(t){this.addChild(t,!0)},goog.ui.Menu.prototype.addItemAt=function(t,e){this.addChildAt(t,e,!0)},goog.ui.Menu.prototype.removeItem=function(t){(t=this.removeChild(t,!0))&&t.dispose()},goog.ui.Menu.prototype.removeItemAt=function(t){(t=this.removeChildAt(t,!0))&&t.dispose()},goog.ui.Menu.prototype.getItemAt=function(t){return this.getChildAt(t)},goog.ui.Menu.prototype.getItemCount=function(){return this.getChildCount()},goog.ui.Menu.prototype.getItems=function(){var t=[];return this.forEachChild((function(e){t.push(e)})),t},goog.ui.Menu.prototype.setPosition=function(t,e){var o=this.isVisible();o||goog.style.setElementShown(this.getElement(),!0),goog.style.setPageOffset(this.getElement(),t,e),o||goog.style.setElementShown(this.getElement(),!1)},goog.ui.Menu.prototype.getPosition=function(){return this.isVisible()?goog.style.getPageOffset(this.getElement()):null},goog.ui.Menu.prototype.setAllowAutoFocus=function(t){(this.allowAutoFocus_=t)&&this.setFocusable(!0)},goog.ui.Menu.prototype.getAllowAutoFocus=function(){return this.allowAutoFocus_},goog.ui.Menu.prototype.setAllowHighlightDisabled=function(t){this.allowHighlightDisabled_=t},goog.ui.Menu.prototype.getAllowHighlightDisabled=function(){return this.allowHighlightDisabled_},goog.ui.Menu.prototype.setVisible=function(t,e,o){return(e=goog.ui.Menu.superClass_.setVisible.call(this,t,e))&&t&&this.isInDocument()&&this.allowAutoFocus_&&this.getKeyEventTarget().focus(),this.openingCoords=t&&o&&goog.isNumber(o.clientX)?new goog.math.Coordinate(o.clientX,o.clientY):null,e},goog.ui.Menu.prototype.handleEnterItem=function(t){return this.allowAutoFocus_&&this.getKeyEventTarget().focus(),goog.ui.Menu.superClass_.handleEnterItem.call(this,t)},goog.ui.Menu.prototype.highlightNextPrefix=function(t){var e=new RegExp("^"+goog.string.regExpEscape(t),"i");return this.highlightHelper((function(t,o){var n=0>t?0:t,r=!1;do{++t==o&&(t=0,r=!0);var i=this.getChildAt(t).getCaption();if(i&&i.match(e))return t}while(!r||t!=n);return this.getHighlightedIndex()}),this.getHighlightedIndex())},goog.ui.Menu.prototype.canHighlightItem=function(t){return(this.allowHighlightDisabled_||t.isEnabled())&&t.isVisible()&&t.isSupportedState(goog.ui.Component.State.HOVER)},goog.ui.Menu.prototype.decorateInternal=function(t){this.decorateContent(t),goog.ui.Menu.superClass_.decorateInternal.call(this,t)},goog.ui.Menu.prototype.handleKeyEventInternal=function(t){var e=goog.ui.Menu.superClass_.handleKeyEventInternal.call(this,t);return e||this.forEachChild((function(o){!e&&o.getMnemonic&&o.getMnemonic()==t.keyCode&&(this.isEnabled()&&this.setHighlighted(o),e=o.handleKeyEvent(t))}),this),e},goog.ui.Menu.prototype.setHighlightedIndex=function(t){goog.ui.Menu.superClass_.setHighlightedIndex.call(this,t),(t=this.getChildAt(t))&&goog.style.scrollIntoContainerView(t.getElement(),this.getElement())},goog.ui.Menu.prototype.decorateContent=function(t){for(var e=this.getRenderer(),o=(t=this.getDomHelper().getElementsByTagNameAndClass("DIV",e.getCssClass()+"-content",t)).length,n=0;n<o;n++)e.decorateChildren(this,t[n])},goog.Thenable=function(){},goog.Thenable.prototype.then=function(t,e,o){},goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable",goog.Thenable.addImplementation=function(t){COMPILED?t.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!0:t.prototype.$goog_Thenable=!0},goog.Thenable.isImplementedBy=function(t){if(!t)return!1;try{return COMPILED?!!t[goog.Thenable.IMPLEMENTED_BY_PROP]:!!t.$goog_Thenable}catch(e){return!1}},goog.async={},goog.async.FreeList=function(t,e,o){this.limit_=o,this.create_=t,this.reset_=e,this.occupants_=0,this.head_=null},goog.async.FreeList.prototype.get=function(){if(0<this.occupants_){this.occupants_--;var t=this.head_;this.head_=t.next,t.next=null}else t=this.create_();return t},goog.async.FreeList.prototype.put=function(t){this.reset_(t),this.occupants_<this.limit_&&(this.occupants_++,t.next=this.head_,this.head_=t)},goog.async.FreeList.prototype.occupants=function(){return this.occupants_},goog.async.WorkQueue=function(){this.workTail_=this.workHead_=null},goog.async.WorkQueue.DEFAULT_MAX_UNUSED=100,goog.async.WorkQueue.freelist_=new goog.async.FreeList((function(){return new goog.async.WorkItem}),(function(t){t.reset()}),goog.async.WorkQueue.DEFAULT_MAX_UNUSED),goog.async.WorkQueue.prototype.add=function(t,e){var o=this.getUnusedItem_();o.set(t,e),this.workTail_?this.workTail_.next=o:(goog.asserts.assert(!this.workHead_),this.workHead_=o),this.workTail_=o},goog.async.WorkQueue.prototype.remove=function(){var t=null;return this.workHead_&&(t=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),t.next=null),t},goog.async.WorkQueue.prototype.returnUnused=function(t){goog.async.WorkQueue.freelist_.put(t)},goog.async.WorkQueue.prototype.getUnusedItem_=function(){return goog.async.WorkQueue.freelist_.get()},goog.async.WorkItem=function(){this.next=this.scope=this.fn=null},goog.async.WorkItem.prototype.set=function(t,e){this.fn=t,this.scope=e,this.next=null},goog.async.WorkItem.prototype.reset=function(){this.next=this.scope=this.fn=null},goog.async.throwException=function(t){goog.global.setTimeout((function(){throw t}),0)},goog.async.nextTick=function(t,e,o){var n=t;e&&(n=goog.bind(t,e)),n=goog.async.nextTick.wrapCallback_(n),goog.isFunction(goog.global.setImmediate)&&(o||goog.async.nextTick.useSetImmediate_())?goog.global.setImmediate(n):(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),goog.async.nextTick.setImmediate_(n))},goog.async.nextTick.useSetImmediate_=function(){return!(goog.global.Window&&goog.global.Window.prototype&&!goog.labs.userAgent.browser.isEdge()&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate)},goog.async.nextTick.getSetImmediateEmulator_=function(){var t=goog.global.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",goog.dom.safe.setIframeSrc(t,goog.html.TrustedResourceUrl.fromConstant(goog.string.Const.EMPTY)),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),goog.dom.safe.documentWrite(t,goog.html.SafeHtml.EMPTY),t.close();var o="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=goog.bind((function(t){"*"!=n&&t.origin!=n||t.data!=o||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(o,n)}}}),void 0!==t&&!goog.labs.userAgent.browser.isIE()){var e=new t,o={},n=o;return e.port1.onmessage=function(){if(goog.isDef(o.next)){var t=(o=o.next).cb;o.cb=null,t()}},function(t){n.next={cb:t},n=n.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){goog.global.setTimeout(t,0)}},goog.async.nextTick.wrapCallback_=goog.functions.identity,goog.debug.entryPointRegistry.register((function(t){goog.async.nextTick.wrapCallback_=t})),goog.ASSUME_NATIVE_PROMISE=!1,goog.async.run=function(t,e){goog.async.run.schedule_||goog.async.run.initializeRunner_(),goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0),goog.async.run.workQueue_.add(t,e)},goog.async.run.initializeRunner_=function(){if(goog.ASSUME_NATIVE_PROMISE||goog.global.Promise&&goog.global.Promise.resolve){var t=goog.global.Promise.resolve(void 0);goog.async.run.schedule_=function(){t.then(goog.async.run.processWorkQueue)}}else goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}},goog.async.run.forceNextTick=function(t){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue),t&&t(goog.async.run.processWorkQueue)}},goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue,goog.DEBUG&&(goog.async.run.resetQueue=function(){goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue}),goog.async.run.processWorkQueue=function(){for(var t;t=goog.async.run.workQueue_.remove();){try{t.fn.call(t.scope)}catch(e){goog.async.throwException(e)}goog.async.run.workQueue_.returnUnused(t)}goog.async.run.workQueueScheduled_=!1},goog.promise={},goog.promise.Resolver=function(){},goog.Promise=function(t,e){if(this.state_=goog.Promise.State_.PENDING,this.result_=void 0,this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null,this.executing_=!1,0<goog.Promise.UNHANDLED_REJECTION_DELAY?this.unhandledRejectionId_=0:0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1),goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(Error("created")),this.currentStep_=0),t!=goog.nullFunction)try{var o=this;t.call(e,(function(t){o.resolve_(goog.Promise.State_.FULFILLED,t)}),(function(t){if(goog.DEBUG&&!(t instanceof goog.Promise.CancellationError))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}o.resolve_(goog.Promise.State_.REJECTED,t)}))}catch(n){this.resolve_(goog.Promise.State_.REJECTED,n)}},goog.Promise.LONG_STACK_TRACES=!1,goog.Promise.UNHANDLED_REJECTION_DELAY=0,goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},goog.Promise.CallbackEntry_=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.CallbackEntry_.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.DEFAULT_MAX_UNUSED=100,goog.Promise.freelist_=new goog.async.FreeList((function(){return new goog.Promise.CallbackEntry_}),(function(t){t.reset()}),goog.Promise.DEFAULT_MAX_UNUSED),goog.Promise.getCallbackEntry_=function(t,e,o){var n=goog.Promise.freelist_.get();return n.onFulfilled=t,n.onRejected=e,n.context=o,n},goog.Promise.returnEntry_=function(t){goog.Promise.freelist_.put(t)},goog.Promise.resolve=function(t){if(t instanceof goog.Promise)return t;var e=new goog.Promise(goog.nullFunction);return e.resolve_(goog.Promise.State_.FULFILLED,t),e},goog.Promise.reject=function(t){return new goog.Promise((function(e,o){o(t)}))},goog.Promise.resolveThen_=function(t,e,o){goog.Promise.maybeThen_(t,e,o,null)||goog.async.run(goog.partial(e,t))},goog.Promise.race=function(t){return new goog.Promise((function(e,o){t.length||e(void 0);for(var n=0;n<t.length;n++)goog.Promise.resolveThen_(t[n],e,o)}))},goog.Promise.all=function(t){return new goog.Promise((function(e,o){var n=t.length,r=[];if(n)for(var i=function(t,o){n--,r[t]=o,0==n&&e(r)},s=function(t){o(t)},l=0;l<t.length;l++)goog.Promise.resolveThen_(t[l],goog.partial(i,l),s);else e(r)}))},goog.Promise.allSettled=function(t){return new goog.Promise((function(e,o){var n=t.length,r=[];if(n)for(var i=function(t,o,i){n--,r[t]=o?{fulfilled:!0,value:i}:{fulfilled:!1,reason:i},0==n&&e(r)},s=0;s<t.length;s++)goog.Promise.resolveThen_(t[s],goog.partial(i,s,!0),goog.partial(i,s,!1));else e(r)}))},goog.Promise.firstFulfilled=function(t){return new goog.Promise((function(e,o){var n=t.length,r=[];if(n)for(var i=function(t){e(t)},s=function(t,e){n--,r[t]=e,0==n&&o(r)},l=0;l<t.length;l++)goog.Promise.resolveThen_(t[l],i,goog.partial(s,l));else e(void 0)}))},goog.Promise.withResolver=function(){var t,e,o=new goog.Promise((function(o,n){t=o,e=n}));return new goog.Promise.Resolver_(o,t,e)},goog.Promise.prototype.then=function(t,e,o){return null!=t&&goog.asserts.assertFunction(t,"opt_onFulfilled should be a function."),null!=e&&goog.asserts.assertFunction(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addChildPromise_(goog.isFunction(t)?t:null,goog.isFunction(e)?e:null,o)},goog.Thenable.addImplementation(goog.Promise),goog.Promise.prototype.thenVoid=function(t,e,o){null!=t&&goog.asserts.assertFunction(t,"opt_onFulfilled should be a function."),null!=e&&goog.asserts.assertFunction(e,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addCallbackEntry_(goog.Promise.getCallbackEntry_(t||goog.nullFunction,e||null,o))},goog.Promise.prototype.thenAlways=function(t,e){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenAlways"));var o=goog.Promise.getCallbackEntry_(t,t,e);return o.always=!0,this.addCallbackEntry_(o),this},goog.Promise.prototype.thenCatch=function(t,e){return goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenCatch")),this.addChildPromise_(null,t,e)},goog.Promise.prototype.cancel=function(t){this.state_==goog.Promise.State_.PENDING&&goog.async.run((function(){var e=new goog.Promise.CancellationError(t);this.cancelInternal_(e)}),this)},goog.Promise.prototype.cancelInternal_=function(t){this.state_==goog.Promise.State_.PENDING&&(this.parent_?(this.parent_.cancelChild_(this,t),this.parent_=null):this.resolve_(goog.Promise.State_.REJECTED,t))},goog.Promise.prototype.cancelChild_=function(t,e){if(this.callbackEntries_){for(var o=0,n=null,r=null,i=this.callbackEntries_;i&&(i.always||(o++,i.child==t&&(n=i),!(n&&1<o)));i=i.next)n||(r=i);n&&(this.state_==goog.Promise.State_.PENDING&&1==o?this.cancelInternal_(e):(r?this.removeEntryAfter_(r):this.popEntry_(),this.executeCallback_(n,goog.Promise.State_.REJECTED,e)))}},goog.Promise.prototype.addCallbackEntry_=function(t){this.hasEntry_()||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_(),this.queueEntry_(t)},goog.Promise.prototype.addChildPromise_=function(t,e,o){var n=goog.Promise.getCallbackEntry_(null,null,null);return n.child=new goog.Promise((function(r,i){n.onFulfilled=t?function(e){try{var n=t.call(o,e);r(n)}catch(s){i(s)}}:r,n.onRejected=e?function(t){try{var n=e.call(o,t);!goog.isDef(n)&&t instanceof goog.Promise.CancellationError?i(t):r(n)}catch(s){i(s)}}:i})),n.child.parent_=this,this.addCallbackEntry_(n),n.child},goog.Promise.prototype.unblockAndFulfill_=function(t){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.FULFILLED,t)},goog.Promise.prototype.unblockAndReject_=function(t){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.REJECTED,t)},goog.Promise.prototype.resolve_=function(t,e){this.state_==goog.Promise.State_.PENDING&&(this===e&&(t=goog.Promise.State_.REJECTED,e=new TypeError("Promise cannot resolve to itself")),this.state_=goog.Promise.State_.BLOCKED,goog.Promise.maybeThen_(e,this.unblockAndFulfill_,this.unblockAndReject_,this)||(this.result_=e,this.state_=t,this.parent_=null,this.scheduleCallbacks_(),t!=goog.Promise.State_.REJECTED||e instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,e)))},goog.Promise.maybeThen_=function(t,e,o,n){if(t instanceof goog.Promise)return t.thenVoid(e,o,n),!0;if(goog.Thenable.isImplementedBy(t))return t.then(e,o,n),!0;if(goog.isObject(t))try{var r=t.then;if(goog.isFunction(r))return goog.Promise.tryThen_(t,r,e,o,n),!0}catch(i){return o.call(n,i),!0}return!1},goog.Promise.tryThen_=function(t,e,o,n,r){var i=!1,s=function(t){i||(i=!0,n.call(r,t))};try{e.call(t,(function(t){i||(i=!0,o.call(r,t))}),s)}catch(l){s(l)}},goog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,goog.async.run(this.executeCallbacks_,this))},goog.Promise.prototype.hasEntry_=function(){return!!this.callbackEntries_},goog.Promise.prototype.queueEntry_=function(t){goog.asserts.assert(null!=t.onFulfilled),this.callbackEntriesTail_?this.callbackEntriesTail_.next=t:this.callbackEntries_=t,this.callbackEntriesTail_=t},goog.Promise.prototype.popEntry_=function(){var t=null;return this.callbackEntries_&&(this.callbackEntries_=(t=this.callbackEntries_).next,t.next=null),this.callbackEntries_||(this.callbackEntriesTail_=null),null!=t&&goog.asserts.assert(null!=t.onFulfilled),t},goog.Promise.prototype.removeEntryAfter_=function(t){goog.asserts.assert(this.callbackEntries_),goog.asserts.assert(null!=t),t.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=t),t.next=t.next.next},goog.Promise.prototype.executeCallbacks_=function(){for(var t;t=this.popEntry_();)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(t,this.state_,this.result_);this.executing_=!1},goog.Promise.prototype.executeCallback_=function(t,e,o){if(e==goog.Promise.State_.REJECTED&&t.onRejected&&!t.always&&this.removeUnhandledRejection_(),t.child)t.child.parent_=null,goog.Promise.invokeCallback_(t,e,o);else try{t.always?t.onFulfilled.call(t.context):goog.Promise.invokeCallback_(t,e,o)}catch(n){goog.Promise.handleRejection_.call(null,n)}goog.Promise.returnEntry_(t)},goog.Promise.invokeCallback_=function(t,e,o){e==goog.Promise.State_.FULFILLED?t.onFulfilled.call(t.context,o):t.onRejected&&t.onRejected.call(t.context,o)},goog.Promise.prototype.addStackTrace_=function(t){if(goog.Promise.LONG_STACK_TRACES&&goog.isString(t.stack)){var e=t.stack.split("\n",4)[3];t=t.message,t+=Array(11-t.length).join(" "),this.stack_.push(t+e)}},goog.Promise.prototype.appendLongStack_=function(t){if(goog.Promise.LONG_STACK_TRACES&&t&&goog.isString(t.stack)&&this.stack_.length){for(var e=["Promise trace:"],o=this;o;o=o.parent_){for(var n=this.currentStep_;0<=n;n--)e.push(o.stack_[n]);e.push("Value: ["+(o.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(o.result_)+">")}t.stack+="\n\n"+e.join("\n")}},goog.Promise.prototype.removeUnhandledRejection_=function(){if(0<goog.Promise.UNHANDLED_REJECTION_DELAY)for(var t=this;t&&t.unhandledRejectionId_;t=t.parent_)goog.global.clearTimeout(t.unhandledRejectionId_),t.unhandledRejectionId_=0;else if(0==goog.Promise.UNHANDLED_REJECTION_DELAY)for(t=this;t&&t.hadUnhandledRejection_;t=t.parent_)t.hadUnhandledRejection_=!1},goog.Promise.addUnhandledRejection_=function(t,e){0<goog.Promise.UNHANDLED_REJECTION_DELAY?t.unhandledRejectionId_=goog.global.setTimeout((function(){t.appendLongStack_(e),goog.Promise.handleRejection_.call(null,e)}),goog.Promise.UNHANDLED_REJECTION_DELAY):0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(t.hadUnhandledRejection_=!0,goog.async.run((function(){t.hadUnhandledRejection_&&(t.appendLongStack_(e),goog.Promise.handleRejection_.call(null,e))})))},goog.Promise.handleRejection_=goog.async.throwException,goog.Promise.setUnhandledRejectionHandler=function(t){goog.Promise.handleRejection_=t},goog.Promise.CancellationError=function(t){goog.debug.Error.call(this,t)},goog.inherits(goog.Promise.CancellationError,goog.debug.Error),goog.Promise.CancellationError.prototype.name="cancel",goog.Promise.Resolver_=function(t,e,o){this.promise=t,this.resolve=e,this.reject=o},goog.Timer=function(t,e){goog.events.EventTarget.call(this),this.interval_=t||1,this.timerObject_=e||goog.Timer.defaultTimerObject,this.boundTick_=goog.bind(this.tick_,this),this.last_=goog.now()},goog.inherits(goog.Timer,goog.events.EventTarget),goog.Timer.MAX_TIMEOUT_=2147483647,goog.Timer.INVALID_TIMEOUT_ID_=-1,goog.Timer.prototype.enabled=!1,goog.Timer.defaultTimerObject=goog.global,goog.Timer.intervalScale=.8,goog.Timer.prototype.timer_=null,goog.Timer.prototype.getInterval=function(){return this.interval_},goog.Timer.prototype.setInterval=function(t){this.interval_=t,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()},goog.Timer.prototype.tick_=function(){if(this.enabled){var t=goog.now()-this.last_;0<t&&t<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-t):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.stop(),this.start()))}},goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)},goog.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())},goog.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},goog.Timer.TICK="tick",goog.Timer.callOnce=function(t,e,o){if(goog.isFunction(t))o&&(t=goog.bind(t,o));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=goog.bind(t.handleEvent,t)}return Number(e)>goog.Timer.MAX_TIMEOUT_?goog.Timer.INVALID_TIMEOUT_ID_:goog.Timer.defaultTimerObject.setTimeout(t,e||0)},goog.Timer.clear=function(t){goog.Timer.defaultTimerObject.clearTimeout(t)},goog.Timer.promise=function(t,e){var o=null;return new goog.Promise((function(n,r){(o=goog.Timer.callOnce((function(){n(e)}),t))==goog.Timer.INVALID_TIMEOUT_ID_&&r(Error("Failed to schedule timer."))})).thenCatch((function(t){throw goog.Timer.clear(o),t}))},goog.string.StringBuffer=function(t,e){null!=t&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.buffer_="",goog.string.StringBuffer.prototype.set=function(t){this.buffer_=""+t},goog.string.StringBuffer.prototype.append=function(t,e,o){if(this.buffer_+=String(t),null!=e)for(var n=1;n<arguments.length;n++)this.buffer_+=arguments[n];return this},goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length},goog.string.StringBuffer.prototype.toString=function(){return this.buffer_},goog.ui.tree={},goog.ui.tree.BaseNode=function(t,e,o){goog.ui.Component.call(this,o),this.config_=e||goog.ui.tree.BaseNode.defaultConfig,this.html_=goog.html.SafeHtml.htmlEscapePreservingNewlines(t),this.expanded_=this.selected_=!1,this.toolTip_=null,this.afterLabelHtml_=goog.html.SafeHtml.EMPTY,this.isUserCollapsible_=!0,this.depth_=-1},goog.inherits(goog.ui.tree.BaseNode,goog.ui.Component),goog.ui.tree.BaseNode.EventType={BEFORE_EXPAND:"beforeexpand",EXPAND:"expand",BEFORE_COLLAPSE:"beforecollapse",COLLAPSE:"collapse"},goog.ui.tree.BaseNode.allNodes={},goog.ui.tree.BaseNode.prototype.disposeInternal=function(){goog.ui.tree.BaseNode.superClass_.disposeInternal.call(this),this.tree&&(this.tree.removeNode(this),this.tree=null),this.setElementInternal(null)},goog.ui.tree.BaseNode.prototype.initAccessibility=function(){var t=this.getElement();if(t){var e=this.getLabelElement();if(e&&!e.id&&(e.id=this.getId()+".label"),goog.a11y.aria.setRole(t,"treeitem"),goog.a11y.aria.setState(t,"selected",!1),goog.a11y.aria.setState(t,"level",this.getDepth()),e&&goog.a11y.aria.setState(t,"labelledby",e.id),(e=this.getIconElement())&&goog.a11y.aria.setRole(e,"presentation"),(e=this.getExpandIconElement())&&goog.a11y.aria.setRole(e,"presentation"),(e=this.getChildrenElement())&&(goog.a11y.aria.setRole(e,"group"),e.hasChildNodes()))for(goog.a11y.aria.setState(t,goog.a11y.aria.State.EXPANDED,!1),t=this.getChildCount(),e=1;e<=t;e++){var o=this.getChildAt(e-1).getElement();goog.asserts.assert(o,"The child element cannot be null"),goog.a11y.aria.setState(o,"setsize",t),goog.a11y.aria.setState(o,"posinset",e)}}},goog.ui.tree.BaseNode.prototype.createDom=function(){var t=this.getDomHelper().safeHtmlToNode(this.toSafeHtml());this.setElementInternal(t)},goog.ui.tree.BaseNode.prototype.enterDocument=function(){goog.ui.tree.BaseNode.superClass_.enterDocument.call(this),goog.ui.tree.BaseNode.allNodes[this.getId()]=this,this.initAccessibility()},goog.ui.tree.BaseNode.prototype.exitDocument=function(){goog.ui.tree.BaseNode.superClass_.exitDocument.call(this),delete goog.ui.tree.BaseNode.allNodes[this.getId()]},goog.ui.tree.BaseNode.prototype.addChildAt=function(t,e,o){goog.asserts.assert(!t.getParent()),goog.asserts.assertInstanceof(t,goog.ui.tree.BaseNode),o=this.getChildAt(e-1);var n=this.getChildAt(e);if(goog.ui.tree.BaseNode.superClass_.addChildAt.call(this,t,e),t.previousSibling_=o,t.nextSibling_=n,o?o.nextSibling_=t:this.firstChild_=t,n?n.previousSibling_=t:this.lastChild_=t,(e=this.getTree())&&t.setTreeInternal(e),t.setDepth_(this.getDepth()+1),(e=this.getElement())&&(this.updateExpandIcon(),goog.a11y.aria.setState(e,goog.a11y.aria.State.EXPANDED,this.getExpanded()),this.getExpanded())){e=this.getChildrenElement(),t.getElement()||t.createDom();var r=t.getElement(),i=n&&n.getElement();e.insertBefore(r,i),this.isInDocument()&&t.enterDocument(),n||(o?o.updateExpandIcon():(goog.style.setElementShown(e,!0),this.setExpanded(this.getExpanded())))}},goog.ui.tree.BaseNode.prototype.add=function(t,e){return goog.asserts.assert(!e||e.getParent()==this,"Can only add nodes before siblings"),t.getParent()&&t.getParent().removeChild(t),this.addChildAt(t,e?this.indexOfChild(e):this.getChildCount()),t},goog.ui.tree.BaseNode.prototype.removeChild=function(t,e){var o=this.getTree(),n=o?o.getSelectedItem():null;if((n==t||t.contains(n))&&(o.hasFocus()?(this.select(),goog.Timer.callOnce(this.onTimeoutSelect_,10,this)):this.select()),goog.ui.tree.BaseNode.superClass_.removeChild.call(this,t),this.lastChild_==t&&(this.lastChild_=t.previousSibling_),this.firstChild_==t&&(this.firstChild_=t.nextSibling_),t.previousSibling_&&(t.previousSibling_.nextSibling_=t.nextSibling_),t.nextSibling_&&(t.nextSibling_.previousSibling_=t.previousSibling_),n=t.isLastSibling(),t.tree=null,t.depth_=-1,o&&(o.removeNode(t),this.isInDocument())){if(o=this.getChildrenElement(),t.isInDocument()){var r=t.getElement();o.removeChild(r),t.exitDocument()}n&&(n=this.getLastChild())&&n.updateExpandIcon(),this.hasChildren()||(o.style.display="none",this.updateExpandIcon(),this.updateIcon_(),(n=this.getElement())&&goog.a11y.aria.removeState(n,goog.a11y.aria.State.EXPANDED))}return t},goog.ui.tree.BaseNode.prototype.remove=goog.ui.tree.BaseNode.prototype.removeChild,goog.ui.tree.BaseNode.prototype.onTimeoutSelect_=function(){this.select()},goog.ui.tree.BaseNode.prototype.getTree=goog.abstractMethod,goog.ui.tree.BaseNode.prototype.getDepth=function(){var t=this.depth_;return 0>t&&(t=this.computeDepth_(),this.setDepth_(t)),t},goog.ui.tree.BaseNode.prototype.computeDepth_=function(){var t=this.getParent();return t?t.getDepth()+1:0},goog.ui.tree.BaseNode.prototype.setDepth_=function(t){if(t!=this.depth_){this.depth_=t;var e=this.getRowElement();if(e){var o=this.getPixelIndent_()+"px";this.isRightToLeft()?e.style.paddingRight=o:e.style.paddingLeft=o}this.forEachChild((function(e){e.setDepth_(t+1)}))}},goog.ui.tree.BaseNode.prototype.contains=function(t){for(;t;){if(t==this)return!0;t=t.getParent()}return!1},goog.ui.tree.BaseNode.EMPTY_CHILDREN_=[],goog.ui.tree.BaseNode.prototype.getChildren=function(){var t=[];return this.forEachChild((function(e){t.push(e)})),t},goog.ui.tree.BaseNode.prototype.getFirstChild=function(){return this.getChildAt(0)},goog.ui.tree.BaseNode.prototype.getLastChild=function(){return this.getChildAt(this.getChildCount()-1)},goog.ui.tree.BaseNode.prototype.getPreviousSibling=function(){return this.previousSibling_},goog.ui.tree.BaseNode.prototype.getNextSibling=function(){return this.nextSibling_},goog.ui.tree.BaseNode.prototype.isLastSibling=function(){return!this.nextSibling_},goog.ui.tree.BaseNode.prototype.isSelected=function(){return this.selected_},goog.ui.tree.BaseNode.prototype.select=function(){var t=this.getTree();t&&t.setSelectedItem(this)},goog.ui.tree.BaseNode.prototype.deselect=goog.nullFunction,goog.ui.tree.BaseNode.prototype.setSelectedInternal=function(t){if(this.selected_!=t){this.selected_=t,this.updateRow();var e=this.getElement();e&&(goog.a11y.aria.setState(e,"selected",t),t&&(t=this.getTree().getElement(),goog.asserts.assert(t,"The DOM element for the tree cannot be null"),goog.a11y.aria.setState(t,"activedescendant",this.getId())))}},goog.ui.tree.BaseNode.prototype.getExpanded=function(){return this.expanded_},goog.ui.tree.BaseNode.prototype.setExpandedInternal=function(t){this.expanded_=t},goog.ui.tree.BaseNode.prototype.setExpanded=function(t){var e=t!=this.expanded_;if(!e||this.dispatchEvent(t?goog.ui.tree.BaseNode.EventType.BEFORE_EXPAND:goog.ui.tree.BaseNode.EventType.BEFORE_COLLAPSE)){this.expanded_=t;var o=this.getTree(),n=this.getElement();if(this.hasChildren()){if(!t&&o&&this.contains(o.getSelectedItem())&&this.select(),n){if((o=this.getChildrenElement())&&(goog.style.setElementShown(o,t),goog.a11y.aria.setState(n,goog.a11y.aria.State.EXPANDED,t),t&&this.isInDocument()&&!o.hasChildNodes())){var r=[];this.forEachChild((function(t){r.push(t.toSafeHtml())})),goog.dom.safe.setInnerHtml(o,goog.html.SafeHtml.concat(r)),this.forEachChild((function(t){t.enterDocument()}))}this.updateExpandIcon()}}else(o=this.getChildrenElement())&&goog.style.setElementShown(o,!1);n&&this.updateIcon_(),e&&this.dispatchEvent(t?goog.ui.tree.BaseNode.EventType.EXPAND:goog.ui.tree.BaseNode.EventType.COLLAPSE)}},goog.ui.tree.BaseNode.prototype.toggle=function(){this.setExpanded(!this.getExpanded())},goog.ui.tree.BaseNode.prototype.expand=function(){this.setExpanded(!0)},goog.ui.tree.BaseNode.prototype.collapse=function(){this.setExpanded(!1)},goog.ui.tree.BaseNode.prototype.collapseChildren=function(){this.forEachChild((function(t){t.collapseAll()}))},goog.ui.tree.BaseNode.prototype.collapseAll=function(){this.collapseChildren(),this.collapse()},goog.ui.tree.BaseNode.prototype.expandChildren=function(){this.forEachChild((function(t){t.expandAll()}))},goog.ui.tree.BaseNode.prototype.expandAll=function(){this.expandChildren(),this.expand()},goog.ui.tree.BaseNode.prototype.reveal=function(){var t=this.getParent();t&&(t.setExpanded(!0),t.reveal())},goog.ui.tree.BaseNode.prototype.setIsUserCollapsible=function(t){(this.isUserCollapsible_=t)||this.expand(),this.getElement()&&this.updateExpandIcon()},goog.ui.tree.BaseNode.prototype.isUserCollapsible=function(){return this.isUserCollapsible_},goog.ui.tree.BaseNode.prototype.toSafeHtml=function(){var t=this.getTree(),e=!t.getShowLines()||t==this.getParent()&&!t.getShowRootLines()?this.config_.cssChildrenNoLines:this.config_.cssChildren;t=this.getExpanded()&&this.hasChildren(),e={class:e,style:this.getLineStyle()};var o=[];return t&&this.forEachChild((function(t){o.push(t.toSafeHtml())})),t=goog.html.SafeHtml.create("div",e,o),goog.html.SafeHtml.create("div",{class:this.config_.cssItem,id:this.getId()},[this.getRowSafeHtml(),t])},goog.ui.tree.BaseNode.prototype.getPixelIndent_=function(){return Math.max(0,(this.getDepth()-1)*this.config_.indentWidth)},goog.ui.tree.BaseNode.prototype.getRowSafeHtml=function(){var t={};t["padding-"+(this.isRightToLeft()?"right":"left")]=this.getPixelIndent_()+"px",t={class:this.getRowClassName(),style:t};var e=[this.getExpandIconSafeHtml(),this.getIconSafeHtml(),this.getLabelSafeHtml()];return goog.html.SafeHtml.create("div",t,e)},goog.ui.tree.BaseNode.prototype.getRowClassName=function(){var t=this.isSelected()?" "+this.config_.cssSelectedRow:"";return this.config_.cssTreeRow+t},goog.ui.tree.BaseNode.prototype.getLabelSafeHtml=function(){var t=goog.html.SafeHtml.create("span",{class:this.config_.cssItemLabel,title:this.getToolTip()||null},this.getSafeHtml());return goog.html.SafeHtml.concat(t,goog.html.SafeHtml.create("span",{},this.getAfterLabelSafeHtml()))},goog.ui.tree.BaseNode.prototype.getAfterLabelHtml=function(){return goog.html.SafeHtml.unwrap(this.getAfterLabelSafeHtml())},goog.ui.tree.BaseNode.prototype.getAfterLabelSafeHtml=function(){return this.afterLabelHtml_},goog.ui.tree.BaseNode.prototype.setAfterLabelSafeHtml=function(t){this.afterLabelHtml_=t;var e=this.getAfterLabelElement();e&&goog.dom.safe.setInnerHtml(e,t)},goog.ui.tree.BaseNode.prototype.getIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{style:{display:"inline-block"},class:this.getCalculatedIconClass()})},goog.ui.tree.BaseNode.prototype.getCalculatedIconClass=goog.abstractMethod,goog.ui.tree.BaseNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{type:"expand",style:{display:"inline-block"},class:this.getExpandIconClass()})},goog.ui.tree.BaseNode.prototype.getExpandIconClass=function(){var t=this.getTree(),e=!t.getShowLines()||t==this.getParent()&&!t.getShowRootLines(),o=this.config_,n=new goog.string.StringBuffer;if(n.append(o.cssTreeIcon," ",o.cssExpandTreeIcon," "),this.hasChildren()){var r=0;switch(t.getShowExpandIcons()&&this.isUserCollapsible_&&(r=this.getExpanded()?2:1),e||(r=this.isLastSibling()?r+4:r+8),r){case 1:n.append(o.cssExpandTreeIconPlus);break;case 2:n.append(o.cssExpandTreeIconMinus);break;case 4:n.append(o.cssExpandTreeIconL);break;case 5:n.append(o.cssExpandTreeIconLPlus);break;case 6:n.append(o.cssExpandTreeIconLMinus);break;case 8:n.append(o.cssExpandTreeIconT);break;case 9:n.append(o.cssExpandTreeIconTPlus);break;case 10:n.append(o.cssExpandTreeIconTMinus);break;default:n.append(o.cssExpandTreeIconBlank)}}else e?n.append(o.cssExpandTreeIconBlank):this.isLastSibling()?n.append(o.cssExpandTreeIconL):n.append(o.cssExpandTreeIconT);return n.toString()},goog.ui.tree.BaseNode.prototype.getLineStyle=function(){var t=this.getExpanded()&&this.hasChildren();return goog.html.SafeStyle.create({"background-position":this.getBackgroundPosition(),display:t?null:"none"})},goog.ui.tree.BaseNode.prototype.getBackgroundPosition=function(){return(this.isLastSibling()?"-100":(this.getDepth()-1)*this.config_.indentWidth)+"px 0"},goog.ui.tree.BaseNode.prototype.getElement=function(){var t=goog.ui.tree.BaseNode.superClass_.getElement.call(this);return t||(t=this.getDomHelper().getElement(this.getId()),this.setElementInternal(t)),t},goog.ui.tree.BaseNode.prototype.getRowElement=function(){var t=this.getElement();return t?t.firstChild:null},goog.ui.tree.BaseNode.prototype.getExpandIconElement=function(){var t=this.getRowElement();return t?t.firstChild:null},goog.ui.tree.BaseNode.prototype.getIconElement=function(){var t=this.getRowElement();return t?t.childNodes[1]:null},goog.ui.tree.BaseNode.prototype.getLabelElement=function(){var t=this.getRowElement();return t&&t.lastChild?t.lastChild.previousSibling:null},goog.ui.tree.BaseNode.prototype.getAfterLabelElement=function(){var t=this.getRowElement();return t?t.lastChild:null},goog.ui.tree.BaseNode.prototype.getChildrenElement=function(){var t=this.getElement();return t?t.lastChild:null},goog.ui.tree.BaseNode.prototype.setIconClass=function(t){this.iconClass_=t,this.isInDocument()&&this.updateIcon_()},goog.ui.tree.BaseNode.prototype.getIconClass=function(){return this.iconClass_},goog.ui.tree.BaseNode.prototype.setExpandedIconClass=function(t){this.expandedIconClass_=t,this.isInDocument()&&this.updateIcon_()},goog.ui.tree.BaseNode.prototype.getExpandedIconClass=function(){return this.expandedIconClass_},goog.ui.tree.BaseNode.prototype.setText=function(t){this.setSafeHtml(goog.html.SafeHtml.htmlEscape(t))},goog.ui.tree.BaseNode.prototype.getText=function(){return goog.string.unescapeEntities(goog.html.SafeHtml.unwrap(this.html_))},goog.ui.tree.BaseNode.prototype.setSafeHtml=function(t){this.html_=t;var e=this.getLabelElement();e&&goog.dom.safe.setInnerHtml(e,t),(t=this.getTree())&&t.setNode(this)},goog.ui.tree.BaseNode.prototype.getHtml=function(){return goog.html.SafeHtml.unwrap(this.getSafeHtml())},goog.ui.tree.BaseNode.prototype.getSafeHtml=function(){return this.html_},goog.ui.tree.BaseNode.prototype.setToolTip=function(t){this.toolTip_=t;var e=this.getLabelElement();e&&(e.title=t)},goog.ui.tree.BaseNode.prototype.getToolTip=function(){return this.toolTip_},goog.ui.tree.BaseNode.prototype.updateRow=function(){var t=this.getRowElement();t&&(t.className=this.getRowClassName())},goog.ui.tree.BaseNode.prototype.updateExpandIcon=function(){var t=this.getExpandIconElement();t&&(t.className=this.getExpandIconClass()),(t=this.getChildrenElement())&&(t.style.backgroundPosition=this.getBackgroundPosition())},goog.ui.tree.BaseNode.prototype.updateIcon_=function(){this.getIconElement().className=this.getCalculatedIconClass()},goog.ui.tree.BaseNode.prototype.onMouseDown=function(t){"expand"==t.target.getAttribute("type")&&this.hasChildren()?this.isUserCollapsible_&&this.toggle():(this.select(),this.updateRow())},goog.ui.tree.BaseNode.prototype.onClick_=goog.events.Event.preventDefault,goog.ui.tree.BaseNode.prototype.onDoubleClick_=function(t){"expand"==t.target.getAttribute("type")&&this.hasChildren()||this.isUserCollapsible_&&this.toggle()},goog.ui.tree.BaseNode.prototype.onKeyDown=function(t){var e=!0;switch(t.keyCode){case goog.events.KeyCodes.RIGHT:if(t.altKey)break;this.hasChildren()&&(this.getExpanded()?this.getFirstChild().select():this.setExpanded(!0));break;case goog.events.KeyCodes.LEFT:if(t.altKey)break;if(this.hasChildren()&&this.getExpanded()&&this.isUserCollapsible_)this.setExpanded(!1);else{var o=this.getParent(),n=this.getTree();o&&(n.getShowRootNode()||o!=n)&&o.select()}break;case goog.events.KeyCodes.DOWN:(o=this.getNextShownNode())&&o.select();break;case goog.events.KeyCodes.UP:(o=this.getPreviousShownNode())&&o.select();break;default:e=!1}return e&&(t.preventDefault(),(n=this.getTree())&&n.clearTypeAhead()),e},goog.ui.tree.BaseNode.prototype.getLastShownDescendant=function(){return this.getExpanded()&&this.hasChildren()?this.getLastChild().getLastShownDescendant():this},goog.ui.tree.BaseNode.prototype.getNextShownNode=function(){if(this.hasChildren()&&this.getExpanded())return this.getFirstChild();for(var t,e=this;e!=this.getTree();){if(null!=(t=e.getNextSibling()))return t;e=e.getParent()}return null},goog.ui.tree.BaseNode.prototype.getPreviousShownNode=function(){var t=this.getPreviousSibling();if(null!=t)return t.getLastShownDescendant();t=this.getParent();var e=this.getTree();return!e.getShowRootNode()&&t==e||this==e?null:t},goog.ui.tree.BaseNode.prototype.getClientData=goog.ui.tree.BaseNode.prototype.getModel,goog.ui.tree.BaseNode.prototype.setClientData=goog.ui.tree.BaseNode.prototype.setModel,goog.ui.tree.BaseNode.prototype.getConfig=function(){return this.config_},goog.ui.tree.BaseNode.prototype.setTreeInternal=function(t){this.tree!=t&&(this.tree=t,t.setNode(this),this.forEachChild((function(e){e.setTreeInternal(t)})))},goog.ui.tree.BaseNode.defaultConfig={indentWidth:19,cssRoot:"goog-tree-root goog-tree-item",cssHideRoot:"goog-tree-hide-root",cssItem:"goog-tree-item",cssChildren:"goog-tree-children",cssChildrenNoLines:"goog-tree-children-nolines",cssTreeRow:"goog-tree-row",cssItemLabel:"goog-tree-item-label",cssTreeIcon:"goog-tree-icon",cssExpandTreeIcon:"goog-tree-expand-icon",cssExpandTreeIconPlus:"goog-tree-expand-icon-plus",cssExpandTreeIconMinus:"goog-tree-expand-icon-minus",cssExpandTreeIconTPlus:"goog-tree-expand-icon-tplus",cssExpandTreeIconTMinus:"goog-tree-expand-icon-tminus",cssExpandTreeIconLPlus:"goog-tree-expand-icon-lplus",cssExpandTreeIconLMinus:"goog-tree-expand-icon-lminus",cssExpandTreeIconT:"goog-tree-expand-icon-t",cssExpandTreeIconL:"goog-tree-expand-icon-l",cssExpandTreeIconBlank:"goog-tree-expand-icon-blank",cssExpandedFolderIcon:"goog-tree-expanded-folder-icon",cssCollapsedFolderIcon:"goog-tree-collapsed-folder-icon",cssFileIcon:"goog-tree-file-icon",cssExpandedRootIcon:"goog-tree-expanded-folder-icon",cssCollapsedRootIcon:"goog-tree-collapsed-folder-icon",cssSelectedRow:"selected"},goog.events.FocusHandler=function(t){goog.events.EventTarget.call(this),this.element_=t,t=goog.userAgent.IE?"focusout":"blur",this.listenKeyIn_=goog.events.listen(this.element_,goog.userAgent.IE?"focusin":"focus",this,!goog.userAgent.IE),this.listenKeyOut_=goog.events.listen(this.element_,t,this,!goog.userAgent.IE)},goog.inherits(goog.events.FocusHandler,goog.events.EventTarget),goog.events.FocusHandler.EventType={FOCUSIN:"focusin",FOCUSOUT:"focusout"},goog.events.FocusHandler.prototype.handleEvent=function(t){var e=t.getBrowserEvent();(e=new goog.events.BrowserEvent(e)).type="focusin"==t.type||"focus"==t.type?goog.events.FocusHandler.EventType.FOCUSIN:goog.events.FocusHandler.EventType.FOCUSOUT,this.dispatchEvent(e)},goog.events.FocusHandler.prototype.disposeInternal=function(){goog.events.FocusHandler.superClass_.disposeInternal.call(this),goog.events.unlistenByKey(this.listenKeyIn_),goog.events.unlistenByKey(this.listenKeyOut_),delete this.element_},goog.debug.LogRecord=function(t,e,o,n,r){this.reset(t,e,o,n,r)},goog.debug.LogRecord.prototype.sequenceNumber_=0,goog.debug.LogRecord.prototype.exception_=null,goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS=!0,goog.debug.LogRecord.nextSequenceNumber_=0,goog.debug.LogRecord.prototype.reset=function(t,e,o,n,r){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof r?r:goog.debug.LogRecord.nextSequenceNumber_++),this.time_=n||goog.now(),this.level_=t,this.msg_=e,this.loggerName_=o,delete this.exception_},goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_},goog.debug.LogRecord.prototype.getException=function(){return this.exception_},goog.debug.LogRecord.prototype.setException=function(t){this.exception_=t},goog.debug.LogRecord.prototype.setLoggerName=function(t){this.loggerName_=t},goog.debug.LogRecord.prototype.getLevel=function(){return this.level_},goog.debug.LogRecord.prototype.setLevel=function(t){this.level_=t},goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_},goog.debug.LogRecord.prototype.setMessage=function(t){this.msg_=t},goog.debug.LogRecord.prototype.getMillis=function(){return this.time_},goog.debug.LogRecord.prototype.setMillis=function(t){this.time_=t},goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_},goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY."),this.clear()},goog.debug.LogBuffer.getInstance=function(){return goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer),goog.debug.LogBuffer.instance_},goog.debug.LogBuffer.CAPACITY=0,goog.debug.LogBuffer.prototype.addRecord=function(t,e,o){var n=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;return this.curIndex_=n,this.isFull_?((n=this.buffer_[n]).reset(t,e,o),n):(this.isFull_=n==goog.debug.LogBuffer.CAPACITY-1,this.buffer_[n]=new goog.debug.LogRecord(t,e,o))},goog.debug.LogBuffer.isBufferingEnabled=function(){return 0<goog.debug.LogBuffer.CAPACITY},goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=Array(goog.debug.LogBuffer.CAPACITY),this.curIndex_=-1,this.isFull_=!1},goog.debug.LogBuffer.prototype.forEachRecord=function(t){var e=this.buffer_;if(e[0]){var o=this.curIndex_,n=this.isFull_?o:-1;do{t(e[n=(n+1)%goog.debug.LogBuffer.CAPACITY])}while(n!=o)}},goog.debug.Logger=function(t){this.name_=t,this.handlers_=this.children_=this.level_=this.parent_=null},goog.debug.Logger.ROOT_LOGGER_NAME="",goog.debug.Logger.ENABLE_HIERARCHY=!0,goog.debug.Logger.ENABLE_PROFILER_LOGGING=!1,goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[]),goog.debug.Logger.Level=function(t,e){this.name=t,this.value=e},goog.debug.Logger.Level.prototype.toString=function(){return this.name},goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",1/0),goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200),goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1e3),goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900),goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800),goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700),goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500),goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400),goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300),goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0),goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL],goog.debug.Logger.Level.predefinedLevelsCache_=null,goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var t,e=0;t=goog.debug.Logger.Level.PREDEFINED_LEVELS[e];e++)goog.debug.Logger.Level.predefinedLevelsCache_[t.value]=t,goog.debug.Logger.Level.predefinedLevelsCache_[t.name]=t},goog.debug.Logger.Level.getPredefinedLevel=function(t){return goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),goog.debug.Logger.Level.predefinedLevelsCache_[t]||null},goog.debug.Logger.Level.getPredefinedLevelByValue=function(t){if(goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),t in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[t];for(var e=0;e<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++e){var o=goog.debug.Logger.Level.PREDEFINED_LEVELS[e];if(o.value<=t)return o}return null},goog.debug.Logger.getLogger=function(t){return goog.debug.LogManager.getLogger(t)},goog.debug.Logger.logToProfilers=function(t){if(goog.debug.Logger.ENABLE_PROFILER_LOGGING){var e=goog.global.msWriteProfilerMark;e?e(t):(e=goog.global.console)&&e.timeStamp&&e.timeStamp(t)}},goog.debug.Logger.prototype.getName=function(){return this.name_},goog.debug.Logger.prototype.addHandler=function(t){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?(this.handlers_||(this.handlers_=[]),this.handlers_.push(t)):(goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootHandlers_.push(t)))},goog.debug.Logger.prototype.removeHandler=function(t){if(goog.debug.LOGGING_ENABLED){var e=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!e&&goog.array.remove(e,t)}return!1},goog.debug.Logger.prototype.getParent=function(){return this.parent_},goog.debug.Logger.prototype.getChildren=function(){return this.children_||(this.children_={}),this.children_},goog.debug.Logger.prototype.setLevel=function(t){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?this.level_=t:(goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootLevel_=t))},goog.debug.Logger.prototype.getLevel=function(){return goog.debug.LOGGING_ENABLED?this.level_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.getEffectiveLevel=function(){return goog.debug.LOGGING_ENABLED?goog.debug.Logger.ENABLE_HIERARCHY?this.level_?this.level_:this.parent_?this.parent_.getEffectiveLevel():(goog.asserts.fail("Root logger has no level set."),null):goog.debug.Logger.rootLevel_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.isLoggable=function(t){return goog.debug.LOGGING_ENABLED&&t.value>=this.getEffectiveLevel().value},goog.debug.Logger.prototype.log=function(t,e,o){goog.debug.LOGGING_ENABLED&&this.isLoggable(t)&&(goog.isFunction(e)&&(e=e()),this.doLogRecord_(this.getLogRecord(t,e,o)))},goog.debug.Logger.prototype.getLogRecord=function(t,e,o){return t=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(t,e,this.name_):new goog.debug.LogRecord(t,String(e),this.name_),o&&t.setException(o),t},goog.debug.Logger.prototype.shout=function(t,e){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SHOUT,t,e)},goog.debug.Logger.prototype.severe=function(t,e){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SEVERE,t,e)},goog.debug.Logger.prototype.warning=function(t,e){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.WARNING,t,e)},goog.debug.Logger.prototype.info=function(t,e){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.INFO,t,e)},goog.debug.Logger.prototype.config=function(t,e){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.CONFIG,t,e)},goog.debug.Logger.prototype.fine=function(t,e){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINE,t,e)},goog.debug.Logger.prototype.finer=function(t,e){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINER,t,e)},goog.debug.Logger.prototype.finest=function(t,e){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINEST,t,e)},goog.debug.Logger.prototype.logRecord=function(t){goog.debug.LOGGING_ENABLED&&this.isLoggable(t.getLevel())&&this.doLogRecord_(t)},goog.debug.Logger.prototype.doLogRecord_=function(t){if(goog.debug.Logger.ENABLE_PROFILER_LOGGING&&goog.debug.Logger.logToProfilers("log:"+t.getMessage()),goog.debug.Logger.ENABLE_HIERARCHY)for(var e=this;e;)e.callPublish_(t),e=e.getParent();else{e=0;for(var o;o=goog.debug.Logger.rootHandlers_[e++];)o(t)}},goog.debug.Logger.prototype.callPublish_=function(t){if(this.handlers_)for(var e,o=0;e=this.handlers_[o];o++)e(t)},goog.debug.Logger.prototype.setParent_=function(t){this.parent_=t},goog.debug.Logger.prototype.addChild_=function(t,e){this.getChildren()[t]=e},goog.debug.LogManager={},goog.debug.LogManager.loggers_={},goog.debug.LogManager.rootLogger_=null,goog.debug.LogManager.initialize=function(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=new goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME),goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))},goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_},goog.debug.LogManager.getRoot=function(){return goog.debug.LogManager.initialize(),goog.debug.LogManager.rootLogger_},goog.debug.LogManager.getLogger=function(t){return goog.debug.LogManager.initialize(),goog.debug.LogManager.loggers_[t]||goog.debug.LogManager.createLogger_(t)},goog.debug.LogManager.createFunctionForCatchErrors=function(t){return function(e){(t||goog.debug.LogManager.getRoot()).severe("Error: "+e.message+" ("+e.fileName+" @ Line: "+e.line+")")}},goog.debug.LogManager.createLogger_=function(t){var e=new goog.debug.Logger(t);if(goog.debug.Logger.ENABLE_HIERARCHY){var o=t.lastIndexOf("."),n=t.substr(0,o);o=t.substr(o+1),(n=goog.debug.LogManager.getLogger(n)).addChild_(o,e),e.setParent_(n)}return goog.debug.LogManager.loggers_[t]=e},goog.log={},goog.log.ENABLED=goog.debug.LOGGING_ENABLED,goog.log.ROOT_LOGGER_NAME=goog.debug.Logger.ROOT_LOGGER_NAME,goog.log.Logger=goog.debug.Logger,goog.log.Level=goog.debug.Logger.Level,goog.log.LogRecord=goog.debug.LogRecord,goog.log.getLogger=function(t,e){if(goog.log.ENABLED){var o=goog.debug.LogManager.getLogger(t);return e&&o&&o.setLevel(e),o}return null},goog.log.addHandler=function(t,e){goog.log.ENABLED&&t&&t.addHandler(e)},goog.log.removeHandler=function(t,e){return!(!goog.log.ENABLED||!t)&&t.removeHandler(e)},goog.log.log=function(t,e,o,n){goog.log.ENABLED&&t&&t.log(e,o,n)},goog.log.error=function(t,e,o){goog.log.ENABLED&&t&&t.severe(e,o)},goog.log.warning=function(t,e,o){goog.log.ENABLED&&t&&t.warning(e,o)},goog.log.info=function(t,e,o){goog.log.ENABLED&&t&&t.info(e,o)},goog.log.fine=function(t,e,o){goog.log.ENABLED&&t&&t.fine(e,o)},goog.ui.tree.TreeNode=function(t,e,o){goog.ui.tree.BaseNode.call(this,t,e,o)},goog.inherits(goog.ui.tree.TreeNode,goog.ui.tree.BaseNode),goog.ui.tree.TreeNode.prototype.getTree=function(){if(this.tree)return this.tree;var t=this.getParent();return t&&(t=t.getTree())?(this.setTreeInternal(t),t):null},goog.ui.tree.TreeNode.prototype.getCalculatedIconClass=function(){var t=this.getExpanded(),e=this.getExpandedIconClass();if(t&&e)return e;if(e=this.getIconClass(),!t&&e)return e;if(e=this.getConfig(),this.hasChildren()){if(t&&e.cssExpandedFolderIcon)return e.cssTreeIcon+" "+e.cssExpandedFolderIcon;if(!t&&e.cssCollapsedFolderIcon)return e.cssTreeIcon+" "+e.cssCollapsedFolderIcon}else if(e.cssFileIcon)return e.cssTreeIcon+" "+e.cssFileIcon;return""},goog.structs={},goog.structs.getCount=function(t){return t.getCount&&"function"==typeof t.getCount?t.getCount():goog.isArrayLike(t)||goog.isString(t)?t.length:goog.object.getCount(t)},goog.structs.getValues=function(t){if(t.getValues&&"function"==typeof t.getValues)return t.getValues();if(goog.isString(t))return t.split("");if(goog.isArrayLike(t)){for(var e=[],o=t.length,n=0;n<o;n++)e.push(t[n]);return e}return goog.object.getValues(t)},goog.structs.getKeys=function(t){if(t.getKeys&&"function"==typeof t.getKeys)return t.getKeys();if(!t.getValues||"function"!=typeof t.getValues){if(goog.isArrayLike(t)||goog.isString(t)){var e=[];t=t.length;for(var o=0;o<t;o++)e.push(o);return e}return goog.object.getKeys(t)}},goog.structs.contains=function(t,e){return t.contains&&"function"==typeof t.contains?t.contains(e):t.containsValue&&"function"==typeof t.containsValue?t.containsValue(e):goog.isArrayLike(t)||goog.isString(t)?goog.array.contains(t,e):goog.object.containsValue(t,e)},goog.structs.isEmpty=function(t){return t.isEmpty&&"function"==typeof t.isEmpty?t.isEmpty():goog.isArrayLike(t)||goog.isString(t)?goog.array.isEmpty(t):goog.object.isEmpty(t)},goog.structs.clear=function(t){t.clear&&"function"==typeof t.clear?t.clear():goog.isArrayLike(t)?goog.array.clear(t):goog.object.clear(t)},goog.structs.forEach=function(t,e,o){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,o);else if(goog.isArrayLike(t)||goog.isString(t))goog.array.forEach(t,e,o);else for(var n=goog.structs.getKeys(t),r=goog.structs.getValues(t),i=r.length,s=0;s<i;s++)e.call(o,r[s],n&&n[s],t)},goog.structs.filter=function(t,e,o){if("function"==typeof t.filter)return t.filter(e,o);if(goog.isArrayLike(t)||goog.isString(t))return goog.array.filter(t,e,o);var n=goog.structs.getKeys(t),r=goog.structs.getValues(t),i=r.length;if(n)for(var s={},l=0;l<i;l++)e.call(o,r[l],n[l],t)&&(s[n[l]]=r[l]);else for(s=[],l=0;l<i;l++)e.call(o,r[l],void 0,t)&&s.push(r[l]);return s},goog.structs.map=function(t,e,o){if("function"==typeof t.map)return t.map(e,o);if(goog.isArrayLike(t)||goog.isString(t))return goog.array.map(t,e,o);var n=goog.structs.getKeys(t),r=goog.structs.getValues(t),i=r.length;if(n)for(var s={},l=0;l<i;l++)s[n[l]]=e.call(o,r[l],n[l],t);else for(s=[],l=0;l<i;l++)s[l]=e.call(o,r[l],void 0,t);return s},goog.structs.some=function(t,e,o){if("function"==typeof t.some)return t.some(e,o);if(goog.isArrayLike(t)||goog.isString(t))return goog.array.some(t,e,o);for(var n=goog.structs.getKeys(t),r=goog.structs.getValues(t),i=r.length,s=0;s<i;s++)if(e.call(o,r[s],n&&n[s],t))return!0;return!1},goog.structs.every=function(t,e,o){if("function"==typeof t.every)return t.every(e,o);if(goog.isArrayLike(t)||goog.isString(t))return goog.array.every(t,e,o);for(var n=goog.structs.getKeys(t),r=goog.structs.getValues(t),i=r.length,s=0;s<i;s++)if(!e.call(o,r[s],n&&n[s],t))return!1;return!0},goog.structs.Trie=function(t){this.value_=void 0,this.childNodes_={},t&&this.setAll(t)},goog.structs.Trie.prototype.set=function(t,e){this.setOrAdd_(t,e,!1)},goog.structs.Trie.prototype.add=function(t,e){this.setOrAdd_(t,e,!0)},goog.structs.Trie.prototype.setOrAdd_=function(t,e,o){for(var n=this,r=0;r<t.length;r++){var i=t.charAt(r);n.childNodes_[i]||(n.childNodes_[i]=new goog.structs.Trie),n=n.childNodes_[i]}if(o&&void 0!==n.value_)throw Error('The collection already contains the key "'+t+'"');n.value_=e},goog.structs.Trie.prototype.setAll=function(t){var e=goog.structs.getKeys(t);t=goog.structs.getValues(t);for(var o=0;o<e.length;o++)this.set(e[o],t[o])},goog.structs.Trie.prototype.getChildNode_=function(t){for(var e=this,o=0;o<t.length;o++){var n=t.charAt(o);if(!(e=e.childNodes_[n]))return}return e},goog.structs.Trie.prototype.get=function(t){return(t=this.getChildNode_(t))?t.value_:void 0},goog.structs.Trie.prototype.getKeyAndPrefixes=function(t,e){var o=this,n={},r=e||0;for(void 0!==o.value_&&(n[r]=o.value_);r<t.length;r++){var i=t.charAt(r);if(!(i in o.childNodes_))break;void 0!==(o=o.childNodes_[i]).value_&&(n[r]=o.value_)}return n},goog.structs.Trie.prototype.getValues=function(){var t=[];return this.getValuesInternal_(t),t},goog.structs.Trie.prototype.getValuesInternal_=function(t){for(var e in void 0!==this.value_&&t.push(this.value_),this.childNodes_)this.childNodes_[e].getValuesInternal_(t)},goog.structs.Trie.prototype.getKeys=function(t){var e=[];if(t){for(var o=this,n=0;n<t.length;n++){var r=t.charAt(n);if(!o.childNodes_[r])return[];o=o.childNodes_[r]}o.getKeysInternal_(t,e)}else this.getKeysInternal_("",e);return e},goog.structs.Trie.prototype.getKeysInternal_=function(t,e){for(var o in void 0!==this.value_&&e.push(t),this.childNodes_)this.childNodes_[o].getKeysInternal_(t+o,e)},goog.structs.Trie.prototype.containsKey=function(t){return void 0!==this.get(t)},goog.structs.Trie.prototype.containsPrefix=function(t){return 0==t.length?!this.isEmpty():!!this.getChildNode_(t)},goog.structs.Trie.prototype.containsValue=function(t){if(this.value_===t)return!0;for(var e in this.childNodes_)if(this.childNodes_[e].containsValue(t))return!0;return!1},goog.structs.Trie.prototype.clear=function(){this.childNodes_={},this.value_=void 0},goog.structs.Trie.prototype.remove=function(t){for(var e=this,o=[],n=0;n<t.length;n++){var r=t.charAt(n);if(!e.childNodes_[r])throw Error('The collection does not have the key "'+t+'"');o.push([e,r]),e=e.childNodes_[r]}for(t=e.value_,delete e.value_;0<o.length&&(e=(r=o.pop())[0]).childNodes_[r=r[1]].isEmpty();)delete e.childNodes_[r];return t},goog.structs.Trie.prototype.clone=function(){return new goog.structs.Trie(this)},goog.structs.Trie.prototype.getCount=function(){return goog.structs.getCount(this.getValues())},goog.structs.Trie.prototype.isEmpty=function(){return void 0===this.value_&&goog.object.isEmpty(this.childNodes_)},goog.ui.tree.TypeAhead=function(){this.nodeMap_=new goog.structs.Trie,this.buffer_="",this.matchingNodes_=this.matchingLabels_=null,this.matchingNodeIndex_=this.matchingLabelIndex_=0},goog.ui.tree.TypeAhead.Offset={DOWN:1,UP:-1},goog.ui.tree.TypeAhead.prototype.handleNavigation=function(t){var e=!1;switch(t.keyCode){case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.UP:t.ctrlKey&&(this.jumpTo_(t.keyCode==goog.events.KeyCodes.DOWN?goog.ui.tree.TypeAhead.Offset.DOWN:goog.ui.tree.TypeAhead.Offset.UP),e=!0);break;case goog.events.KeyCodes.BACKSPACE:e=!0,0<(t=this.buffer_.length-1)?(this.buffer_=this.buffer_.substring(0,t),this.jumpToLabel_(this.buffer_)):0==t?this.buffer_="":e=!1;break;case goog.events.KeyCodes.ESC:this.buffer_="",e=!0}return e},goog.ui.tree.TypeAhead.prototype.handleTypeAheadChar=function(t){var e=!1;return t.ctrlKey||t.altKey||(t=String.fromCharCode(t.charCode||t.keyCode).toLowerCase(),goog.string.isUnicodeChar(t)&&(" "!=t||this.buffer_)&&(this.buffer_+=t,e=this.jumpToLabel_(this.buffer_))),e},goog.ui.tree.TypeAhead.prototype.setNodeInMap=function(t){var e=t.getText();if(e&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))){e=e.toLowerCase();var o=this.nodeMap_.get(e);o?o.push(t):this.nodeMap_.set(e,[t])}},goog.ui.tree.TypeAhead.prototype.removeNodeFromMap=function(t){var e=t.getText();if(e&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))){e=e.toLowerCase();var o=this.nodeMap_.get(e);if(o){for(var n=t.getChildCount(),r=0;r<n;r++)this.removeNodeFromMap(t.getChildAt(r));goog.array.remove(o,t),o.length||this.nodeMap_.remove(e)}}},goog.ui.tree.TypeAhead.prototype.jumpToLabel_=function(t){var e=!1;return(t=this.nodeMap_.getKeys(t))&&t.length&&(this.matchingLabelIndex_=this.matchingNodeIndex_=0,e=this.nodeMap_.get(t[0]),e=this.selectMatchingNode_(e))&&(this.matchingLabels_=t),e},goog.ui.tree.TypeAhead.prototype.jumpTo_=function(t){var e=!1,o=this.matchingLabels_;if(o){e=null;var n=!1;if(this.matchingNodes_){var r=this.matchingNodeIndex_+t;0<=r&&r<this.matchingNodes_.length?(this.matchingNodeIndex_=r,e=this.matchingNodes_):n=!0}e||(0<=(r=this.matchingLabelIndex_+t)&&r<o.length&&(this.matchingLabelIndex_=r),o.length>this.matchingLabelIndex_&&(e=this.nodeMap_.get(o[this.matchingLabelIndex_])),e&&e.length&&n&&(this.matchingNodeIndex_=t==goog.ui.tree.TypeAhead.Offset.UP?e.length-1:0)),(e=this.selectMatchingNode_(e))&&(this.matchingLabels_=o)}return e},goog.ui.tree.TypeAhead.prototype.selectMatchingNode_=function(t){if(t){if(this.matchingNodeIndex_<t.length){var e=t[this.matchingNodeIndex_];this.matchingNodes_=t}e&&(e.reveal(),e.select())}return!!e},goog.ui.tree.TypeAhead.prototype.clear=function(){this.buffer_=""},goog.ui.tree.TreeControl=function(t,e,o){if(goog.ui.tree.BaseNode.call(this,t,e,o),this.setExpandedInternal(!0),this.setSelectedInternal(!0),this.selectedItem_=this,this.typeAhead_=new goog.ui.tree.TypeAhead,this.focusHandler_=this.keyHandler_=null,this.logger_=goog.log.getLogger("this"),this.focused_=!1,this.focusedNode_=null,this.showRootLines_=this.showRootNode_=this.showExpandIcons_=this.showLines_=!0,goog.userAgent.IE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(n){goog.log.warning(this.logger_,"Failed to enable background image cache")}},goog.inherits(goog.ui.tree.TreeControl,goog.ui.tree.BaseNode),goog.ui.tree.TreeControl.prototype.getTree=function(){return this},goog.ui.tree.TreeControl.prototype.getDepth=function(){return 0},goog.ui.tree.TreeControl.prototype.reveal=function(){},goog.ui.tree.TreeControl.prototype.handleFocus_=function(t){this.focused_=!0,goog.dom.classlist.add(goog.asserts.assert(this.getElement()),"focused"),this.selectedItem_&&this.selectedItem_.select()},goog.ui.tree.TreeControl.prototype.handleBlur_=function(t){this.focused_=!1,goog.dom.classlist.remove(goog.asserts.assert(this.getElement()),"focused")},goog.ui.tree.TreeControl.prototype.hasFocus=function(){return this.focused_},goog.ui.tree.TreeControl.prototype.getExpanded=function(){return!this.showRootNode_||goog.ui.tree.TreeControl.superClass_.getExpanded.call(this)},goog.ui.tree.TreeControl.prototype.setExpanded=function(t){this.showRootNode_?goog.ui.tree.TreeControl.superClass_.setExpanded.call(this,t):this.setExpandedInternal(t)},goog.ui.tree.TreeControl.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.EMPTY},goog.ui.tree.TreeControl.prototype.getIconElement=function(){var t=this.getRowElement();return t?t.firstChild:null},goog.ui.tree.TreeControl.prototype.getExpandIconElement=function(){return null},goog.ui.tree.TreeControl.prototype.updateExpandIcon=function(){},goog.ui.tree.TreeControl.prototype.getRowClassName=function(){return goog.ui.tree.TreeControl.superClass_.getRowClassName.call(this)+(this.showRootNode_?"":" "+this.getConfig().cssHideRoot)},goog.ui.tree.TreeControl.prototype.getCalculatedIconClass=function(){var t=this.getExpanded(),e=this.getExpandedIconClass();return t&&e?e:(e=this.getIconClass(),!t&&e?e:(e=this.getConfig(),t&&e.cssExpandedRootIcon?e.cssTreeIcon+" "+e.cssExpandedRootIcon:!t&&e.cssCollapsedRootIcon?e.cssTreeIcon+" "+e.cssCollapsedRootIcon:""))},goog.ui.tree.TreeControl.prototype.setSelectedItem=function(t){if(this.selectedItem_!=t){var e=!1;this.selectedItem_&&(e=this.selectedItem_==this.focusedNode_,this.selectedItem_.setSelectedInternal(!1)),(this.selectedItem_=t)&&(t.setSelectedInternal(!0),e&&t.select()),this.dispatchEvent(goog.events.EventType.CHANGE)}},goog.ui.tree.TreeControl.prototype.getSelectedItem=function(){return this.selectedItem_},goog.ui.tree.TreeControl.prototype.setShowLines=function(t){this.showLines_!=t&&(this.showLines_=t,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowLines=function(){return this.showLines_},goog.ui.tree.TreeControl.prototype.updateLinesAndExpandIcons_=function(){var t=this,e=t.getShowLines(),o=t.getShowRootLines();!function n(r){var i=r.getChildrenElement();if(i){var s=!e||t==r.getParent()&&!o?r.getConfig().cssChildrenNoLines:r.getConfig().cssChildren;i.className=s,(i=r.getExpandIconElement())&&(i.className=r.getExpandIconClass())}r.forEachChild(n)}(this)},goog.ui.tree.TreeControl.prototype.setShowRootLines=function(t){this.showRootLines_!=t&&(this.showRootLines_=t,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowRootLines=function(){return this.showRootLines_},goog.ui.tree.TreeControl.prototype.setShowExpandIcons=function(t){this.showExpandIcons_!=t&&(this.showExpandIcons_=t,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowExpandIcons=function(){return this.showExpandIcons_},goog.ui.tree.TreeControl.prototype.setShowRootNode=function(t){if(this.showRootNode_!=t){if(this.showRootNode_=t,this.isInDocument()){var e=this.getRowElement();e&&(e.className=this.getRowClassName())}!t&&this.getSelectedItem()==this&&this.getFirstChild()&&this.setSelectedItem(this.getFirstChild())}},goog.ui.tree.TreeControl.prototype.getShowRootNode=function(){return this.showRootNode_},goog.ui.tree.TreeControl.prototype.initAccessibility=function(){goog.ui.tree.TreeControl.superClass_.initAccessibility.call(this);var t=this.getElement();goog.asserts.assert(t,"The DOM element for the tree cannot be null."),goog.a11y.aria.setRole(t,"tree"),goog.a11y.aria.setState(t,"labelledby",this.getLabelElement().id)},goog.ui.tree.TreeControl.prototype.enterDocument=function(){goog.ui.tree.TreeControl.superClass_.enterDocument.call(this);var t=this.getElement();t.className=this.getConfig().cssRoot,t.setAttribute("hideFocus","true"),this.attachEvents_(),this.initAccessibility()},goog.ui.tree.TreeControl.prototype.exitDocument=function(){goog.ui.tree.TreeControl.superClass_.exitDocument.call(this),this.detachEvents_()},goog.ui.tree.TreeControl.prototype.attachEvents_=function(){var t=this.getElement();t.tabIndex=0;var e=this.keyHandler_=new goog.events.KeyHandler(t),o=this.focusHandler_=new goog.events.FocusHandler(t);this.getHandler().listen(o,goog.events.FocusHandler.EventType.FOCUSOUT,this.handleBlur_).listen(o,goog.events.FocusHandler.EventType.FOCUSIN,this.handleFocus_).listen(e,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(t,goog.events.EventType.MOUSEDOWN,this.handleMouseEvent_).listen(t,goog.events.EventType.CLICK,this.handleMouseEvent_).listen(t,goog.events.EventType.DBLCLICK,this.handleMouseEvent_)},goog.ui.tree.TreeControl.prototype.detachEvents_=function(){this.keyHandler_.dispose(),this.keyHandler_=null,this.focusHandler_.dispose(),this.focusHandler_=null},goog.ui.tree.TreeControl.prototype.handleMouseEvent_=function(t){goog.log.fine(this.logger_,"Received event "+t.type);var e=this.getNodeFromEvent_(t);if(e)switch(t.type){case goog.events.EventType.MOUSEDOWN:e.onMouseDown(t);break;case goog.events.EventType.CLICK:e.onClick_(t);break;case goog.events.EventType.DBLCLICK:e.onDoubleClick_(t)}},goog.ui.tree.TreeControl.prototype.handleKeyEvent=function(t){var e;return(e=this.typeAhead_.handleNavigation(t)||this.selectedItem_&&this.selectedItem_.onKeyDown(t)||this.typeAhead_.handleTypeAheadChar(t))&&t.preventDefault(),e},goog.ui.tree.TreeControl.prototype.getNodeFromEvent_=function(t){for(var e=t.target;null!=e;){if(t=goog.ui.tree.BaseNode.allNodes[e.id])return t;if(e==this.getElement())break;e=e.parentNode}return null},goog.ui.tree.TreeControl.prototype.createNode=function(t){return new goog.ui.tree.TreeNode(t||goog.html.SafeHtml.EMPTY,this.getConfig(),this.getDomHelper())},goog.ui.tree.TreeControl.prototype.setNode=function(t){this.typeAhead_.setNodeInMap(t)},goog.ui.tree.TreeControl.prototype.removeNode=function(t){this.typeAhead_.removeNodeFromMap(t)},goog.ui.tree.TreeControl.prototype.clearTypeAhead=function(){this.typeAhead_.clear()},goog.ui.tree.TreeControl.defaultConfig=goog.ui.tree.BaseNode.defaultConfig;var Blockly={};Blockly.Blocks=Object.create(null),Blockly.Msg={},goog.getMsgOrig=goog.getMsg,goog.getMsg=function(t,e){var o=goog.getMsg.blocklyMsgMap[t];return o&&(t=Blockly.Msg[o]),goog.getMsgOrig(t,e)},goog.getMsg.blocklyMsgMap={Today:"TODAY"},Blockly.utils={},Blockly.utils.base={},Blockly.utils.global=this||self,Blockly.utils.Coordinate=function(t,e){this.x=t,this.y=e},Blockly.utils.Coordinate.equals=function(t,e){return t==e||!(!t||!e)&&t.x==e.x&&t.y==e.y},Blockly.utils.Coordinate.distance=function(t,e){var o=t.x-e.x,n=t.y-e.y;return Math.sqrt(o*o+n*n)},Blockly.utils.Coordinate.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},Blockly.utils.Coordinate.difference=function(t,e){return new Blockly.utils.Coordinate(t.x-e.x,t.y-e.y)},Blockly.utils.Coordinate.sum=function(t,e){return new Blockly.utils.Coordinate(t.x+e.x,t.y+e.y)},Blockly.utils.Coordinate.prototype.scale=function(t){return this.x*=t,this.y*=t,this},Blockly.utils.Coordinate.prototype.translate=function(t,e){return this.x+=t,this.y+=e,this},Blockly.utils.string={},Blockly.utils.string.startsWith=function(t,e){return 0==t.lastIndexOf(e,0)},Blockly.utils.string.shortestStringLength=function(t){return t.length?t.reduce((function(t,e){return t.length<e.length?t:e})).length:0},Blockly.utils.string.commonWordPrefix=function(t,e){if(!t.length)return 0;if(1==t.length)return t[0].length;for(var o=0,n=e||Blockly.utils.string.shortestStringLength(t),r=0;r<n;r++){for(var i=t[0][r],s=1;s<t.length;s++)if(i!=t[s][r])return o;" "==i&&(o=r+1)}for(s=1;s<t.length;s++)if((i=t[s][r])&&" "!=i)return o;return n},Blockly.utils.string.commonWordSuffix=function(t,e){if(!t.length)return 0;if(1==t.length)return t[0].length;for(var o=0,n=e||Blockly.utils.string.shortestStringLength(t),r=0;r<n;r++){for(var i=t[0].substr(-r-1,1),s=1;s<t.length;s++)if(i!=t[s].substr(-r-1,1))return o;" "==i&&(o=r+1)}for(s=1;s<t.length;s++)if((i=t[s].charAt(t[s].length-r-1))&&" "!=i)return o;return n},Blockly.utils.string.wrap=function(t,e){for(var o=t.split("\n"),n=0;n<o.length;n++)o[n]=Blockly.utils.string.wrapLine_(o[n],e);return o.join("\n")},Blockly.utils.string.wrapLine_=function(t,e){if(t.length<=e)return t;for(var o=t.trim().split(/\s+/),n=0;n<o.length;n++)o[n].length>e&&(e=o[n].length);n=-1/0;var r=1;do{var i=n,s=t,l=[],a=o.length/r,u=1;for(n=0;n<o.length-1;n++)u<(n+1.5)/a?(u++,l[n]=!0):l[n]=!1;l=Blockly.utils.string.wrapMutate_(o,l,e),n=Blockly.utils.string.wrapScore_(o,l,e),t=Blockly.utils.string.wrapToText_(o,l),r++}while(n>i);return s},Blockly.utils.string.wrapScore_=function(t,e,o){for(var n=[0],r=[],i=0;i<t.length;i++)n[n.length-1]+=t[i].length,!0===e[i]?(n.push(0),r.push(t[i].charAt(t[i].length-1))):!1===e[i]&&n[n.length-1]++;for(t=Math.max.apply(Math,n),i=e=0;i<n.length;i++)e-=2*Math.pow(Math.abs(o-n[i]),1.5),e-=Math.pow(t-n[i],1.5),-1!=".?!".indexOf(r[i])?e+=o/3:-1!=",;)]}".indexOf(r[i])&&(e+=o/4);return 1<n.length&&n[n.length-1]<=n[n.length-2]&&(e+=.5),e},Blockly.utils.string.wrapMutate_=function(t,e,o){for(var n,r=Blockly.utils.string.wrapScore_(t,e,o),i=0;i<e.length-1;i++)if(e[i]!=e[i+1]){var s=[].concat(e);s[i]=!s[i],s[i+1]=!s[i+1];var l=Blockly.utils.string.wrapScore_(t,s,o);l>r&&(r=l,n=s)}return n?Blockly.utils.string.wrapMutate_(t,n,o):e},Blockly.utils.string.wrapToText_=function(t,e){for(var o=[],n=0;n<t.length;n++)o.push(t[n]),void 0!==e[n]&&o.push(e[n]?"\n":" ");return o.join("")},Blockly.utils.userAgent={},function(t){function e(t){return-1!=o.indexOf(t.toUpperCase())}Blockly.utils.userAgent.raw=t;var o=Blockly.utils.userAgent.raw.toUpperCase();Blockly.utils.userAgent.IE=e("Trident")||e("MSIE"),Blockly.utils.userAgent.EDGE=e("Edge"),Blockly.utils.userAgent.JAVA_FX=e("JavaFX"),Blockly.utils.userAgent.WEBKIT=e("WebKit")&&!Blockly.utils.userAgent.EDGE,Blockly.utils.userAgent.GECKO=e("Gecko")&&!Blockly.utils.userAgent.WEBKIT&&!Blockly.utils.userAgent.IE&&!Blockly.utils.userAgent.EDGE,Blockly.utils.userAgent.ANDROID=e("Android"),Blockly.utils.userAgent.IPAD=e("iPad"),Blockly.utils.userAgent.IPOD=e("iPod"),Blockly.utils.userAgent.IPHONE=e("iPhone")&&!Blockly.utils.userAgent.IPAD&&!Blockly.utils.userAgent.IPOD,Blockly.utils.userAgent.MAC=e("Macintosh"),Blockly.utils.userAgent.TABLET=Blockly.utils.userAgent.IPAD||Blockly.utils.userAgent.ANDROID&&!e("Mobile")||e("Silk"),Blockly.utils.userAgent.MOBILE=!Blockly.utils.userAgent.TABLET&&(Blockly.utils.userAgent.IPOD||Blockly.utils.userAgent.IPHONE||Blockly.utils.userAgent.ANDROID||e("IEMobile"))}(Blockly.utils.global.navigator&&Blockly.utils.global.navigator.userAgent||""),Blockly.utils.noEvent=function(t){t.preventDefault(),t.stopPropagation()},Blockly.utils.isTargetInput=function(t){return"textarea"==t.target.type||"text"==t.target.type||"number"==t.target.type||"email"==t.target.type||"password"==t.target.type||"search"==t.target.type||"tel"==t.target.type||"url"==t.target.type||t.target.isContentEditable},Blockly.utils.getRelativeXY=function(t){var e=new Blockly.utils.Coordinate(0,0),o=t.getAttribute("x");return o&&(e.x=parseInt(o,10)),(o=t.getAttribute("y"))&&(e.y=parseInt(o,10)),(o=(o=t.getAttribute("transform"))&&o.match(Blockly.utils.getRelativeXY.XY_REGEX_))&&(e.x+=parseFloat(o[1]),o[3]&&(e.y+=parseFloat(o[3]))),(t=t.getAttribute("style"))&&-1<t.indexOf("translate")&&(t=t.match(Blockly.utils.getRelativeXY.XY_STYLE_REGEX_))&&(e.x+=parseFloat(t[1]),t[3]&&(e.y+=parseFloat(t[3]))),e},Blockly.utils.getInjectionDivXY_=function(t){for(var e=0,o=0;t;){var n=Blockly.utils.getRelativeXY(t);if(e+=n.x,o+=n.y,-1!=(" "+(t.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;t=t.parentNode}return new Blockly.utils.Coordinate(e,o)},Blockly.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,Blockly.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,Blockly.utils.isRightButton=function(t){return!(!t.ctrlKey||!Blockly.utils.userAgent.MAC)||2==t.button},Blockly.utils.mouseToSvg=function(t,e,o){var n=e.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,o||(o=e.getScreenCTM().inverse()),n.matrixTransform(o)},Blockly.utils.getScrollDeltaPixels=function(t){switch(t.deltaMode){case 0:return{x:t.deltaX,y:t.deltaY};case 1:return{x:t.deltaX*Blockly.LINE_MODE_MULTIPLIER,y:t.deltaY*Blockly.LINE_MODE_MULTIPLIER};case 2:return{x:t.deltaX*Blockly.PAGE_MODE_MULTIPLIER,y:t.deltaY*Blockly.PAGE_MODE_MULTIPLIER}}},Blockly.utils.tokenizeInterpolation=function(t){return Blockly.utils.tokenizeInterpolation_(t,!0)},Blockly.utils.replaceMessageReferences=function(t){return"string"!=typeof t?t:(t=Blockly.utils.tokenizeInterpolation_(t,!1)).length?t[0]:""},Blockly.utils.checkMessageReferences=function(t){for(var e=!0,o=Blockly.Msg,n=t.match(/%{BKY_[A-Z]\w*}/gi),r=0;r<n.length;r++)null==o[n[r].toUpperCase().slice(6,-1)]&&(console.log("WARNING: No message string for "+n[r]+" in "+t),e=!1);return e},Blockly.utils.tokenizeInterpolation_=function(t,e){var o=[],n=t.split("");n.push("");for(var r=0,i=[],s=null,l=0;l<n.length;l++){var a=n[l];0==r?"%"==a?((a=i.join(""))&&o.push(a),i.length=0,r=1):i.push(a):1==r?"%"==a?(i.push(a),r=0):e&&"0"<=a&&"9">=a?(r=2,s=a,(a=i.join(""))&&o.push(a),i.length=0):"{"==a?r=3:(i.push("%",a),r=0):2==r?"0"<=a&&"9">=a?s+=a:(o.push(parseInt(s,10)),l--,r=0):3==r&&(""==a?(i.splice(0,0,"%{"),l--,r=0):"}"!=a?i.push(a):(r=i.join(""),/[A-Z]\w*/i.test(r)?(a=r.toUpperCase(),(a=Blockly.utils.string.startsWith(a,"BKY_")?a.substring(4):null)&&a in Blockly.Msg?"string"==typeof(r=Blockly.Msg[a])?Array.prototype.push.apply(o,Blockly.utils.tokenizeInterpolation_(r,e)):o.push(e?String(r):r):o.push("%{"+r+"}")):o.push("%{"+r+"}"),r=i.length=0))}for((a=i.join(""))&&o.push(a),n=[],l=i.length=0;l<o.length;++l)"string"==typeof o[l]?i.push(o[l]):((a=i.join(""))&&n.push(a),i.length=0,n.push(o[l]));return(a=i.join(""))&&n.push(a),i.length=0,n},Blockly.utils.genUid=function(){for(var t=Blockly.utils.genUid.soup_.length,e=[],o=0;20>o;o++)e[o]=Blockly.utils.genUid.soup_.charAt(Math.random()*t);return e.join("")},Blockly.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Blockly.utils.is3dSupported=function(){if(void 0!==Blockly.utils.is3dSupported.cached_)return Blockly.utils.is3dSupported.cached_;if(!Blockly.utils.global.getComputedStyle)return!1;var t=document.createElement("p"),e="none",o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var n in document.body.insertBefore(t,null),o)if(void 0!==t.style[n]){if(t.style[n]="translate3d(1px,1px,1px)",!(e=Blockly.utils.global.getComputedStyle(t)))return document.body.removeChild(t),!1;e=e.getPropertyValue(o[n])}return document.body.removeChild(t),Blockly.utils.is3dSupported.cached_="none"!==e,Blockly.utils.is3dSupported.cached_},Blockly.utils.runAfterPageLoad=function(t){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)t();else var e=setInterval((function(){"complete"==document.readyState&&(clearInterval(e),t())}),10)},Blockly.utils.getViewportBBox=function(){var t=goog.style.getViewportPageOffset(document);return{right:document.documentElement.clientWidth+t.x,bottom:document.documentElement.clientHeight+t.y,top:t.y,left:t.x}},Blockly.utils.arrayRemove=function(t,e){var o=t.indexOf(e);return-1!=o&&(t.splice(o,1),!0)},Blockly.utils.getDocumentScroll=function(){var t=document.documentElement,e=window;return Blockly.utils.userAgent.IE&&e.pageYOffset!=t.scrollTop?new Blockly.utils.Coordinate(t.scrollLeft,t.scrollTop):new Blockly.utils.Coordinate(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)},Blockly.utils.getBlockTypeCounts=function(t,e){var o,n=Object.create(null),r=t.getDescendants(!0);if(e){var i=t.getNextBlock();i&&(i=r.indexOf(i),r.splice(i,r.length-i))}for(i=0;o=r[i];i++)n[o.type]?n[o.type]++:n[o.type]=1;return n},Blockly.Touch={},Blockly.Touch.TOUCH_ENABLED="ontouchstart"in Blockly.utils.global||!!(Blockly.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!Blockly.utils.global.navigator||!Blockly.utils.global.navigator.maxTouchPoints&&!Blockly.utils.global.navigator.msMaxTouchPoints),Blockly.Touch.touchIdentifier_=null,Blockly.Touch.TOUCH_MAP={},Blockly.utils.global.PointerEvent?Blockly.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:Blockly.Touch.TOUCH_ENABLED&&(Blockly.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),Blockly.longPid_=0,Blockly.longStart_=function(t,e){Blockly.longStop_(),t.changedTouches&&1!=t.changedTouches.length||(Blockly.longPid_=setTimeout((function(){t.changedTouches&&(t.button=2,t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),e&&e.handleRightClick(t)}),Blockly.LONGPRESS))},Blockly.longStop_=function(){Blockly.longPid_&&(clearTimeout(Blockly.longPid_),Blockly.longPid_=0)},Blockly.Touch.clearTouchIdentifier=function(){Blockly.Touch.touchIdentifier_=null},Blockly.Touch.shouldHandleEvent=function(t){return!Blockly.Touch.isMouseOrTouchEvent(t)||Blockly.Touch.checkTouchIdentifier(t)},Blockly.Touch.getTouchIdentifierFromEvent=function(t){return null!=t.pointerId?t.pointerId:t.changedTouches&&t.changedTouches[0]&&null!=t.changedTouches[0].identifier?t.changedTouches[0].identifier:"mouse"},Blockly.Touch.checkTouchIdentifier=function(t){var e=Blockly.Touch.getTouchIdentifierFromEvent(t);return null!=Blockly.Touch.touchIdentifier_?Blockly.Touch.touchIdentifier_==e:("mousedown"==t.type||"touchstart"==t.type||"pointerdown"==t.type)&&(Blockly.Touch.touchIdentifier_=e,!0)},Blockly.Touch.setClientFromTouch=function(t){if(Blockly.utils.string.startsWith(t.type,"touch")){var e=t.changedTouches[0];t.clientX=e.clientX,t.clientY=e.clientY}},Blockly.Touch.isMouseOrTouchEvent=function(t){return Blockly.utils.string.startsWith(t.type,"touch")||Blockly.utils.string.startsWith(t.type,"mouse")||Blockly.utils.string.startsWith(t.type,"pointer")},Blockly.Touch.isTouchEvent=function(t){return Blockly.utils.string.startsWith(t.type,"touch")||Blockly.utils.string.startsWith(t.type,"pointer")},Blockly.Touch.splitEventByTouches=function(t){var e=[];if(t.changedTouches)for(var o=0;o<t.changedTouches.length;o++)e[o]={type:t.type,changedTouches:[t.changedTouches[o]],target:t.target,stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()}};else e.push(t);return e},Blockly.utils.dom={},Blockly.utils.dom.SVG_NS="http://www.w3.org/2000/svg",Blockly.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml",Blockly.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink",Blockly.utils.dom.Node={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16},Blockly.utils.dom.createSvgElement=function(t,e,o){for(var n in t=document.createElementNS(Blockly.utils.dom.SVG_NS,t),e)t.setAttribute(n,e[n]);return document.body.runtimeStyle&&(t.runtimeStyle=t.currentStyle=t.style),o&&o.appendChild(t),t},Blockly.utils.dom.addClass=function(t,e){var o=t.getAttribute("class")||"";return-1==(" "+o+" ").indexOf(" "+e+" ")&&(o&&(o+=" "),t.setAttribute("class",o+e),!0)},Blockly.utils.dom.removeClass=function(t,e){var o=t.getAttribute("class");if(-1==(" "+o+" ").indexOf(" "+e+" "))return!1;o=o.split(/\s+/);for(var n=0;n<o.length;n++)o[n]&&o[n]!=e||(o.splice(n,1),n--);return o.length?t.setAttribute("class",o.join(" ")):t.removeAttribute("class"),!0},Blockly.utils.dom.hasClass=function(t,e){return-1!=(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")},Blockly.utils.dom.removeNode=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},Blockly.utils.dom.insertAfter=function(t,e){var o=e.nextSibling,n=e.parentNode;if(!n)throw Error("Reference node has no parent.");o?n.insertBefore(t,o):n.appendChild(t)},Blockly.utils.dom.containsNode=function(t,e){return!!(t.compareDocumentPosition(e)&Blockly.utils.dom.Node.DOCUMENT_POSITION_CONTAINED_BY)},Blockly.utils.dom.setCssTransform=function(t,e){t.style.transform=e,t.style["-webkit-transform"]=e},Blockly.utils.math={},Blockly.utils.math.toRadians=function(t){return t*Math.PI/180},Blockly.utils.math.toDegrees=function(t){return 180*t/Math.PI},Blockly.utils.math.clamp=function(t,e,o){if(o<t){var n=o;o=t,t=n}return Math.max(t,Math.min(e,o))},Blockly.Events={},Blockly.Events.group_="",Blockly.Events.recordUndo=!0,Blockly.Events.disabled_=0,Blockly.Events.CREATE="create",Blockly.Events.BLOCK_CREATE=Blockly.Events.CREATE,Blockly.Events.DELETE="delete",Blockly.Events.BLOCK_DELETE=Blockly.Events.DELETE,Blockly.Events.CHANGE="change",Blockly.Events.BLOCK_CHANGE=Blockly.Events.CHANGE,Blockly.Events.MOVE="move",Blockly.Events.BLOCK_MOVE=Blockly.Events.MOVE,Blockly.Events.VAR_CREATE="var_create",Blockly.Events.VAR_DELETE="var_delete",Blockly.Events.VAR_RENAME="var_rename",Blockly.Events.UI="ui",Blockly.Events.COMMENT_CREATE="comment_create",Blockly.Events.COMMENT_DELETE="comment_delete",Blockly.Events.COMMENT_CHANGE="comment_change",Blockly.Events.COMMENT_MOVE="comment_move",Blockly.Events.FINISHED_LOADING="finished_loading",Blockly.Events.BUMP_EVENTS=[Blockly.Events.BLOCK_CREATE,Blockly.Events.BLOCK_MOVE,Blockly.Events.COMMENT_CREATE,Blockly.Events.COMMENT_MOVE],Blockly.Events.FIRE_QUEUE_=[],Blockly.Events.fire=function(t){Blockly.Events.isEnabled()&&(Blockly.Events.FIRE_QUEUE_.length||setTimeout(Blockly.Events.fireNow_,0),Blockly.Events.FIRE_QUEUE_.push(t))},Blockly.Events.fireNow_=function(){for(var t,e=Blockly.Events.filter(Blockly.Events.FIRE_QUEUE_,!0),o=Blockly.Events.FIRE_QUEUE_.length=0;t=e[o];o++){var n=Blockly.Workspace.getById(t.workspaceId);n&&n.fireChangeListener(t)}},Blockly.Events.filter=function(t,e){var o=t.slice();e||o.reverse();for(var n,r=[],i=Object.create(null),s=0;n=o[s];s++)if(!n.isNull()){var l=[n.type,n.blockId,n.workspaceId].join(" "),a=i[l],u=a?a.event:null;a?n.type==Blockly.Events.MOVE&&a.index==s-1?(u.newParentId=n.newParentId,u.newInputName=n.newInputName,u.newCoordinate=n.newCoordinate,a.index=s):n.type==Blockly.Events.CHANGE&&n.element==u.element&&n.name==u.name?u.newValue=n.newValue:(n.type!=Blockly.Events.UI||"click"!=n.element||"commentOpen"!=u.element&&"mutatorOpen"!=u.element&&"warningOpen"!=u.element)&&(i[l]={event:n,index:1},r.push(n)):(i[l]={event:n,index:s},r.push(n))}for(o=r.filter((function(t){return!t.isNull()})),e||o.reverse(),s=1;n=o[s];s++)n.type==Blockly.Events.CHANGE&&"mutation"==n.element&&o.unshift(o.splice(s,1)[0]);return o},Blockly.Events.clearPendingUndo=function(){for(var t,e=0;t=Blockly.Events.FIRE_QUEUE_[e];e++)t.recordUndo=!1},Blockly.Events.disable=function(){Blockly.Events.disabled_++},Blockly.Events.enable=function(){Blockly.Events.disabled_--},Blockly.Events.isEnabled=function(){return 0==Blockly.Events.disabled_},Blockly.Events.getGroup=function(){return Blockly.Events.group_},Blockly.Events.setGroup=function(t){Blockly.Events.group_="boolean"==typeof t?t?Blockly.utils.genUid():"":t},Blockly.Events.getDescendantIds_=function(t){var e=[];t=t.getDescendants(!1);for(var o,n=0;o=t[n];n++)e[n]=o.id;return e},Blockly.Events.fromJson=function(t,e){switch(t.type){case Blockly.Events.CREATE:var o=new Blockly.Events.Create(null);break;case Blockly.Events.DELETE:o=new Blockly.Events.Delete(null);break;case Blockly.Events.CHANGE:o=new Blockly.Events.Change(null,"","","","");break;case Blockly.Events.MOVE:o=new Blockly.Events.Move(null);break;case Blockly.Events.VAR_CREATE:o=new Blockly.Events.VarCreate(null);break;case Blockly.Events.VAR_DELETE:o=new Blockly.Events.VarDelete(null);break;case Blockly.Events.VAR_RENAME:o=new Blockly.Events.VarRename(null,"");break;case Blockly.Events.UI:o=new Blockly.Events.Ui(null);break;case Blockly.Events.COMMENT_CREATE:o=new Blockly.Events.CommentCreate(null);break;case Blockly.Events.COMMENT_CHANGE:o=new Blockly.Events.CommentChange(null);break;case Blockly.Events.COMMENT_MOVE:o=new Blockly.Events.CommentMove(null);break;case Blockly.Events.COMMENT_DELETE:o=new Blockly.Events.CommentDelete(null);break;default:throw Error("Unknown event type.")}return o.fromJson(t),o.workspaceId=e.id,o},Blockly.Events.disableOrphans=function(t){if(t.type==Blockly.Events.MOVE||t.type==Blockly.Events.CREATE){var e=Blockly.Workspace.getById(t.workspaceId);if(t=e.getBlockById(t.blockId)){var o=t.getParent();if(o&&o.isEnabled())for(e=t.getDescendants(!1),t=0;o=e[t];t++)o.setEnabled(!0);else if((t.outputConnection||t.previousConnection)&&!e.isDragging())do{t.setEnabled(!1),t=t.getNextBlock()}while(t)}}},Blockly.Events.Abstract=function(){this.workspaceId=void 0,this.group=Blockly.Events.group_,this.recordUndo=Blockly.Events.recordUndo},Blockly.Events.Abstract.prototype.toJson=function(){var t={type:this.type};return this.group&&(t.group=this.group),t},Blockly.Events.Abstract.prototype.fromJson=function(t){this.group=t.group},Blockly.Events.Abstract.prototype.isNull=function(){return!1},Blockly.Events.Abstract.prototype.run=function(t){},Blockly.Events.Abstract.prototype.getEventWorkspace_=function(){var t=Blockly.Workspace.getById(this.workspaceId);if(!t)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return t},Blockly.Events.VarBase=function(t){Blockly.Events.VarBase.superClass_.constructor.call(this),this.varId=t.getId(),this.workspaceId=t.workspace.id},goog.inherits(Blockly.Events.VarBase,Blockly.Events.Abstract),Blockly.Events.VarBase.prototype.toJson=function(){var t=Blockly.Events.VarBase.superClass_.toJson.call(this);return t.varId=this.varId,t},Blockly.Events.VarBase.prototype.fromJson=function(t){Blockly.Events.VarBase.superClass_.toJson.call(this),this.varId=t.varId},Blockly.Events.VarCreate=function(t){t&&(Blockly.Events.VarCreate.superClass_.constructor.call(this,t),this.varType=t.type,this.varName=t.name)},goog.inherits(Blockly.Events.VarCreate,Blockly.Events.VarBase),Blockly.Events.VarCreate.prototype.type=Blockly.Events.VAR_CREATE,Blockly.Events.VarCreate.prototype.toJson=function(){var t=Blockly.Events.VarCreate.superClass_.toJson.call(this);return t.varType=this.varType,t.varName=this.varName,t},Blockly.Events.VarCreate.prototype.fromJson=function(t){Blockly.Events.VarCreate.superClass_.fromJson.call(this,t),this.varType=t.varType,this.varName=t.varName},Blockly.Events.VarCreate.prototype.run=function(t){var e=this.getEventWorkspace_();t?e.createVariable(this.varName,this.varType,this.varId):e.deleteVariableById(this.varId)},Blockly.Events.VarDelete=function(t){t&&(Blockly.Events.VarDelete.superClass_.constructor.call(this,t),this.varType=t.type,this.varName=t.name)},goog.inherits(Blockly.Events.VarDelete,Blockly.Events.VarBase),Blockly.Events.VarDelete.prototype.type=Blockly.Events.VAR_DELETE,Blockly.Events.VarDelete.prototype.toJson=function(){var t=Blockly.Events.VarDelete.superClass_.toJson.call(this);return t.varType=this.varType,t.varName=this.varName,t},Blockly.Events.VarDelete.prototype.fromJson=function(t){Blockly.Events.VarDelete.superClass_.fromJson.call(this,t),this.varType=t.varType,this.varName=t.varName},Blockly.Events.VarDelete.prototype.run=function(t){var e=this.getEventWorkspace_();t?e.deleteVariableById(this.varId):e.createVariable(this.varName,this.varType,this.varId)},Blockly.Events.VarRename=function(t,e){t&&(Blockly.Events.VarRename.superClass_.constructor.call(this,t),this.oldName=t.name,this.newName=e)},goog.inherits(Blockly.Events.VarRename,Blockly.Events.VarBase),Blockly.Events.VarRename.prototype.type=Blockly.Events.VAR_RENAME,Blockly.Events.VarRename.prototype.toJson=function(){var t=Blockly.Events.VarRename.superClass_.toJson.call(this);return t.oldName=this.oldName,t.newName=this.newName,t},Blockly.Events.VarRename.prototype.fromJson=function(t){Blockly.Events.VarRename.superClass_.fromJson.call(this,t),this.oldName=t.oldName,this.newName=t.newName},Blockly.Events.VarRename.prototype.run=function(t){this.getEventWorkspace_().renameVariableById(this.varId,t?this.newName:this.oldName)},Blockly.VariableMap=function(t){this.variableMap_=Object.create(null),this.workspace=t},Blockly.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},Blockly.VariableMap.prototype.renameVariable=function(t,e){var o=this.getVariable(e,t.type),n=this.workspace.getAllBlocks(!1);Blockly.Events.setGroup(!0);try{o&&o.getId()!=t.getId()?this.renameVariableWithConflict_(t,e,o,n):this.renameVariableAndUses_(t,e,n)}finally{Blockly.Events.setGroup(!1)}},Blockly.VariableMap.prototype.renameVariableById=function(t,e){var o=this.getVariableById(t);if(!o)throw Error("Tried to rename a variable that didn't exist. ID: "+t);this.renameVariable(o,e)},Blockly.VariableMap.prototype.renameVariableAndUses_=function(t,e,o){for(Blockly.Events.fire(new Blockly.Events.VarRename(t,e)),t.name=e,e=0;e<o.length;e++)o[e].updateVarName(t)},Blockly.VariableMap.prototype.renameVariableWithConflict_=function(t,e,o,n){var r=t.type;for(e!=o.name&&this.renameVariableAndUses_(o,e,n),e=0;e<n.length;e++)n[e].renameVarById(t.getId(),o.getId());Blockly.Events.fire(new Blockly.Events.VarDelete(t)),t=this.getVariablesOfType(r).indexOf(t),this.variableMap_[r].splice(t,1)},Blockly.VariableMap.prototype.createVariable=function(t,e,o){var n=this.getVariable(t,e);if(n){if(o&&n.getId()!=o)throw Error('Variable "'+t+'" is already in use and its id is "'+n.getId()+'" which conflicts with the passed in id, "'+o+'".');return n}if(o&&this.getVariableById(o))throw Error('Variable id, "'+o+'", is already in use.');return n=o||Blockly.utils.genUid(),n=new Blockly.VariableModel(this.workspace,t,e=e||"",n),(t=this.variableMap_[e]||[]).push(n),delete this.variableMap_[e],this.variableMap_[e]=t,n},Blockly.VariableMap.prototype.deleteVariable=function(t){for(var e,o=this.variableMap_[t.type],n=0;e=o[n];n++)if(e.getId()==t.getId()){o.splice(n,1),Blockly.Events.fire(new Blockly.Events.VarDelete(t));break}},Blockly.VariableMap.prototype.deleteVariableById=function(t){var e=this.getVariableById(t);if(e){var o,n=e.name,r=this.getVariableUsesById(t);for(t=0;o=r[t];t++)if("procedures_defnoreturn"==o.type||"procedures_defreturn"==o.type)return t=o.getFieldValue("NAME"),n=Blockly.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",n).replace("%2",t),void Blockly.alert(n);var i=this;1<r.length?(n=Blockly.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(r.length)).replace("%2",n),Blockly.confirm(n,(function(t){t&&i.deleteVariableInternal_(e,r)}))):i.deleteVariableInternal_(e,r)}else console.warn("Can't delete non-existent variable: "+t)},Blockly.VariableMap.prototype.deleteVariableInternal_=function(t,e){var o=Blockly.Events.getGroup();o||Blockly.Events.setGroup(!0);try{for(var n=0;n<e.length;n++)e[n].dispose(!0,!1);this.deleteVariable(t)}finally{o||Blockly.Events.setGroup(!1)}},Blockly.VariableMap.prototype.getVariable=function(t,e){var o=this.variableMap_[e||""];if(o)for(var n,r=0;n=o[r];r++)if(Blockly.Names.equals(n.name,t))return n;return null},Blockly.VariableMap.prototype.getVariableById=function(t){for(var e=Object.keys(this.variableMap_),o=0;o<e.length;o++)for(var n,r=e[o],i=0;n=this.variableMap_[r][i];i++)if(n.getId()==t)return n;return null},Blockly.VariableMap.prototype.getVariablesOfType=function(t){return(t=this.variableMap_[t||""])?t.slice():[]},Blockly.VariableMap.prototype.getVariableTypes=function(t){var e=[];t&&t.getPotentialVariableMap()&&(e=Object.keys(t.getPotentialVariableMap().variableMap_)),t=Object.keys(this.variableMap_).concat(e),e=!1;for(var o=0;o<t.length;o++)""==t[o]&&(e=!0);return e||t.push(""),t},Blockly.VariableMap.prototype.getAllVariables=function(){var t,e=[];for(t in this.variableMap_)e=e.concat(this.variableMap_[t]);return e},Blockly.VariableMap.prototype.getVariableUsesById=function(t){for(var e=[],o=this.workspace.getAllBlocks(!1),n=0;n<o.length;n++){var r=o[n].getVarModels();if(r)for(var i=0;i<r.length;i++)r[i].getId()==t&&e.push(o[n])}return e},Blockly.utils.xml={},Blockly.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml",Blockly.utils.xml.createElement=function(t){return document.createElementNS(Blockly.utils.xml.NAME_SPACE,t)},Blockly.utils.xml.createTextNode=function(t){return document.createTextNode(t)},Blockly.utils.xml.textToDomDocument=function(t){return(new DOMParser).parseFromString(t,"text/xml")},Blockly.utils.xml.domToText=function(t){return(new XMLSerializer).serializeToString(t)},Blockly.Events.BlockBase=function(t){Blockly.Events.BlockBase.superClass_.constructor.call(this),this.blockId=t.id,this.workspaceId=t.workspace.id},goog.inherits(Blockly.Events.BlockBase,Blockly.Events.Abstract),Blockly.Events.BlockBase.prototype.toJson=function(){var t=Blockly.Events.BlockBase.superClass_.toJson.call(this);return t.blockId=this.blockId,t},Blockly.Events.BlockBase.prototype.fromJson=function(t){Blockly.Events.BlockBase.superClass_.toJson.call(this),this.blockId=t.blockId},Blockly.Events.Change=function(t,e,o,n,r){t&&(Blockly.Events.Change.superClass_.constructor.call(this,t),this.element=e,this.name=o,this.oldValue=n,this.newValue=r)},goog.inherits(Blockly.Events.Change,Blockly.Events.BlockBase),Blockly.Events.BlockChange=Blockly.Events.Change,Blockly.Events.Change.prototype.type=Blockly.Events.CHANGE,Blockly.Events.Change.prototype.toJson=function(){var t=Blockly.Events.Change.superClass_.toJson.call(this);return t.element=this.element,this.name&&(t.name=this.name),t.newValue=this.newValue,t},Blockly.Events.Change.prototype.fromJson=function(t){Blockly.Events.Change.superClass_.fromJson.call(this,t),this.element=t.element,this.name=t.name,this.newValue=t.newValue},Blockly.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue},Blockly.Events.Change.prototype.run=function(t){var e=this.getEventWorkspace_().getBlockById(this.blockId);if(e)switch(e.mutator&&e.mutator.setVisible(!1),t=t?this.newValue:this.oldValue,this.element){case"field":(e=e.getField(this.name))?(e.callValidator(t),e.setValue(t)):console.warn("Can't set non-existent field: "+this.name);break;case"comment":e.setCommentText(t||null);break;case"collapsed":e.setCollapsed(t);break;case"disabled":e.setEnabled(!t);break;case"inline":e.setInputsInline(t);break;case"mutation":var o="";if(e.mutationToDom&&(o=(o=e.mutationToDom())&&Blockly.Xml.domToText(o)),e.domToMutation){var n=Blockly.Xml.textToDom(t||"<mutation/>");e.domToMutation(n)}Blockly.Events.fire(new Blockly.Events.Change(e,"mutation",null,o,t));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},Blockly.Events.Create=function(t){t&&(Blockly.Events.Create.superClass_.constructor.call(this,t),this.xml=t.workspace.rendered?Blockly.Xml.blockToDomWithXY(t):Blockly.Xml.blockToDom(t),this.ids=Blockly.Events.getDescendantIds_(t))},goog.inherits(Blockly.Events.Create,Blockly.Events.BlockBase),Blockly.Events.BlockCreate=Blockly.Events.Create,Blockly.Events.Create.prototype.type=Blockly.Events.CREATE,Blockly.Events.Create.prototype.toJson=function(){var t=Blockly.Events.Create.superClass_.toJson.call(this);return t.xml=Blockly.Xml.domToText(this.xml),t.ids=this.ids,t},Blockly.Events.Create.prototype.fromJson=function(t){Blockly.Events.Create.superClass_.fromJson.call(this,t),this.xml=Blockly.Xml.textToDom(t.xml),this.ids=t.ids},Blockly.Events.Create.prototype.run=function(t){var e=this.getEventWorkspace_();if(t)(t=Blockly.utils.xml.createElement("xml")).appendChild(this.xml),Blockly.Xml.domToWorkspace(t,e);else{t=0;for(var o;o=this.ids[t];t++){var n=e.getBlockById(o);n?n.dispose(!1,!1):o==this.blockId&&console.warn("Can't uncreate non-existent block: "+o)}}},Blockly.Events.Delete=function(t){if(t){if(t.getParent())throw Error("Connected blocks cannot be deleted.");Blockly.Events.Delete.superClass_.constructor.call(this,t),this.oldXml=t.workspace.rendered?Blockly.Xml.blockToDomWithXY(t):Blockly.Xml.blockToDom(t),this.ids=Blockly.Events.getDescendantIds_(t)}},goog.inherits(Blockly.Events.Delete,Blockly.Events.BlockBase),Blockly.Events.BlockDelete=Blockly.Events.Delete,Blockly.Events.Delete.prototype.type=Blockly.Events.DELETE,Blockly.Events.Delete.prototype.toJson=function(){var t=Blockly.Events.Delete.superClass_.toJson.call(this);return t.ids=this.ids,t},Blockly.Events.Delete.prototype.fromJson=function(t){Blockly.Events.Delete.superClass_.fromJson.call(this,t),this.ids=t.ids},Blockly.Events.Delete.prototype.run=function(t){var e=this.getEventWorkspace_();if(t){t=0;for(var o;o=this.ids[t];t++){var n=e.getBlockById(o);n?n.dispose(!1,!1):o==this.blockId&&console.warn("Can't delete non-existent block: "+o)}}else(t=Blockly.utils.xml.createElement("xml")).appendChild(this.oldXml),Blockly.Xml.domToWorkspace(t,e)},Blockly.Events.Move=function(t){t&&(Blockly.Events.Move.superClass_.constructor.call(this,t),t=this.currentLocation_(),this.oldParentId=t.parentId,this.oldInputName=t.inputName,this.oldCoordinate=t.coordinate)},goog.inherits(Blockly.Events.Move,Blockly.Events.BlockBase),Blockly.Events.BlockMove=Blockly.Events.Move,Blockly.Events.Move.prototype.type=Blockly.Events.MOVE,Blockly.Events.Move.prototype.toJson=function(){var t=Blockly.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(t.newParentId=this.newParentId),this.newInputName&&(t.newInputName=this.newInputName),this.newCoordinate&&(t.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),t},Blockly.Events.Move.prototype.fromJson=function(t){Blockly.Events.Move.superClass_.fromJson.call(this,t),this.newParentId=t.newParentId,this.newInputName=t.newInputName,t.newCoordinate&&(t=t.newCoordinate.split(","),this.newCoordinate=new Blockly.utils.Coordinate(parseFloat(t[0]),parseFloat(t[1])))},Blockly.Events.Move.prototype.recordNew=function(){var t=this.currentLocation_();this.newParentId=t.parentId,this.newInputName=t.inputName,this.newCoordinate=t.coordinate},Blockly.Events.Move.prototype.currentLocation_=function(){var t=Blockly.Workspace.getById(this.workspaceId).getBlockById(this.blockId),e={},o=t.getParent();return o?(e.parentId=o.id,(t=o.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e},Blockly.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&Blockly.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},Blockly.Events.Move.prototype.run=function(t){var e=this.getEventWorkspace_(),o=e.getBlockById(this.blockId);if(o){var n=t?this.newParentId:this.oldParentId,r=t?this.newInputName:this.oldInputName;t=t?this.newCoordinate:this.oldCoordinate;var i=null;if(n&&!(i=e.getBlockById(n)))return void console.warn("Can't connect to non-existent block: "+n);if(o.getParent()&&o.unplug(),t)r=o.getRelativeToSurfaceXY(),o.moveBy(t.x-r.x,t.y-r.y);else{if(o=o.outputConnection||o.previousConnection,r){if(e=i.getInput(r))var s=e.connection}else o.type==Blockly.PREVIOUS_STATEMENT&&(s=i.nextConnection);s?o.connect(s):console.warn("Can't connect to non-existent input: "+r)}}else console.warn("Can't move non-existent block: "+this.blockId)},Blockly.Events.FinishedLoading=function(t){this.workspaceId=t.id,this.group=Blockly.Events.group_,this.recordUndo=!1},goog.inherits(Blockly.Events.FinishedLoading,Blockly.Events.Abstract),Blockly.Events.FinishedLoading.prototype.type=Blockly.Events.FINISHED_LOADING,Blockly.Events.FinishedLoading.prototype.toJson=function(){var t={type:this.type};return this.group&&(t.group=this.group),this.workspaceId&&(t.workspaceId=this.workspaceId),t},Blockly.Events.FinishedLoading.prototype.fromJson=function(t){this.workspaceId=t.workspaceId,this.group=t.group},Blockly.Xml={},Blockly.Xml.workspaceToDom=function(t,e){var o=Blockly.utils.xml.createElement("xml"),n=Blockly.Xml.variablesToDom(Blockly.Variables.allUsedVarModels(t));n.hasChildNodes()&&o.appendChild(n);var r,i=t.getTopComments(!0);for(n=0;r=i[n];n++)o.appendChild(r.toXmlWithXY(e));for(i=t.getTopBlocks(!0),n=0;r=i[n];n++)o.appendChild(Blockly.Xml.blockToDomWithXY(r,e));return o},Blockly.Xml.variablesToDom=function(t){for(var e,o=Blockly.utils.xml.createElement("variables"),n=0;e=t[n];n++){var r=Blockly.utils.xml.createElement("variable");r.appendChild(Blockly.utils.xml.createTextNode(e.name)),e.type&&r.setAttribute("type",e.type),r.id=e.getId(),o.appendChild(r)}return o},Blockly.Xml.blockToDomWithXY=function(t,e){var o;t.workspace.RTL&&(o=t.workspace.getWidth());var n=Blockly.Xml.blockToDom(t,e),r=t.getRelativeToSurfaceXY();return n.setAttribute("x",Math.round(t.workspace.RTL?o-r.x:r.x)),n.setAttribute("y",Math.round(r.y)),n},Blockly.Xml.fieldToDom_=function(t){if(t.isSerializable()){var e=Blockly.utils.xml.createElement("field");return e.setAttribute("name",t.name),t.toXml(e)}return null},Blockly.Xml.allFieldsToDom_=function(t,e){for(var o,n=0;o=t.inputList[n];n++)for(var r,i=0;r=o.fieldRow[i];i++)(r=Blockly.Xml.fieldToDom_(r))&&e.appendChild(r)},Blockly.Xml.blockToDom=function(t,e){var o=Blockly.utils.xml.createElement(t.isShadow()?"shadow":"block");if(o.setAttribute("type",t.type),e||(o.id=t.id),t.mutationToDom){var n=t.mutationToDom();n&&(n.hasChildNodes()||n.hasAttributes())&&o.appendChild(n)}Blockly.Xml.allFieldsToDom_(t,o);var r,i=t.getCommentText();for(i&&((n=Blockly.utils.xml.createElement("comment")).appendChild(Blockly.utils.xml.createTextNode(i)),"object"==typeof t.comment&&(n.setAttribute("pinned",t.comment.isVisible()),i=t.comment.getBubbleSize(),n.setAttribute("h",i.height),n.setAttribute("w",i.width)),o.appendChild(n)),t.data&&((n=Blockly.utils.xml.createElement("data")).appendChild(Blockly.utils.xml.createTextNode(t.data)),o.appendChild(n)),i=0;r=t.inputList[i];i++){var s,l=!0;if(r.type!=Blockly.DUMMY_INPUT){var a=r.connection.targetBlock();r.type==Blockly.INPUT_VALUE?s=Blockly.utils.xml.createElement("value"):r.type==Blockly.NEXT_STATEMENT&&(s=Blockly.utils.xml.createElement("statement")),!(n=r.connection.getShadowDom())||a&&a.isShadow()||s.appendChild(Blockly.Xml.cloneShadow_(n,e)),a&&(s.appendChild(Blockly.Xml.blockToDom(a,e)),l=!1),s.setAttribute("name",r.name),l||o.appendChild(s)}}return null!=t.inputsInline&&t.inputsInline!=t.inputsInlineDefault&&o.setAttribute("inline",t.inputsInline),t.isCollapsed()&&o.setAttribute("collapsed",!0),t.isEnabled()||o.setAttribute("disabled",!0),t.isDeletable()||t.isShadow()||o.setAttribute("deletable",!1),t.isMovable()||t.isShadow()||o.setAttribute("movable",!1),t.isEditable()||o.setAttribute("editable",!1),(i=t.getNextBlock())&&((s=Blockly.utils.xml.createElement("next")).appendChild(Blockly.Xml.blockToDom(i,e)),o.appendChild(s)),!(n=t.nextConnection&&t.nextConnection.getShadowDom())||i&&i.isShadow()||s.appendChild(Blockly.Xml.cloneShadow_(n,e)),o},Blockly.Xml.cloneShadow_=function(t,e){for(var o,n=t=t.cloneNode(!0);n;)if(e&&"shadow"==n.nodeName&&n.removeAttribute("id"),n.firstChild)n=n.firstChild;else{for(;n&&!n.nextSibling;)o=n,n=n.parentNode,o.nodeType==Blockly.utils.dom.Node.TEXT_NODE&&""==o.data.trim()&&n.firstChild!=o&&Blockly.utils.dom.removeNode(o);n&&(o=n,n=n.nextSibling,o.nodeType==Blockly.utils.dom.Node.TEXT_NODE&&""==o.data.trim()&&Blockly.utils.dom.removeNode(o))}return t},Blockly.Xml.domToText=function(t){return Blockly.utils.xml.domToText(t)},Blockly.Xml.domToPrettyText=function(t){t=Blockly.Xml.domToText(t).split("<");for(var e="",o=1;o<t.length;o++){var n=t[o];"/"==n[0]&&(e=e.substring(2)),t[o]=e+"<"+n,"/"!=n[0]&&"/>"!=n.slice(-2)&&(e+="  ")}return(t=(t=t.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},Blockly.Xml.textToDom=function(t){var e=Blockly.utils.xml.textToDomDocument(t);if(!e||!e.documentElement||e.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+t);return e.documentElement},Blockly.Xml.clearWorkspaceAndLoadFromXml=function(t,e){e.setResizesEnabled(!1),e.clear();var o=Blockly.Xml.domToWorkspace(t,e);return e.setResizesEnabled(!0),o},Blockly.Xml.domToWorkspace=function(t,e){if(t instanceof Blockly.Workspace){var o=t;t=e,e=o,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var n;e.RTL&&(n=e.getWidth()),o=[],Blockly.Field.startCache();var r=t.childNodes.length,i=Blockly.Events.getGroup();i||Blockly.Events.setGroup(!0),e.setResizesEnabled&&e.setResizesEnabled(!1);var s=!0;try{for(var l=0;l<r;l++){var a=t.childNodes[l],u=a.nodeName.toLowerCase();if("block"==u||"shadow"==u&&!Blockly.Events.recordUndo){var c=Blockly.Xml.domToBlock(a,e);o.push(c.id);var p=a.hasAttribute("x")?parseInt(a.getAttribute("x"),10):10,h=a.hasAttribute("y")?parseInt(a.getAttribute("y"),10):10;isNaN(p)||isNaN(h)||c.moveBy(e.RTL?n-p:p,h),s=!1}else{if("shadow"==u)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==u)e.rendered?Blockly.WorkspaceCommentSvg.fromXml(a,e,n):Blockly.WorkspaceComment.fromXml(a,e);else if("variables"==u){if(!s)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");Blockly.Xml.domToVariables(a,e),s=!1}}}}finally{i||Blockly.Events.setGroup(!1),Blockly.Field.stopCache()}return e.setResizesEnabled&&e.setResizesEnabled(!0),Blockly.Events.fire(new Blockly.Events.FinishedLoading(e)),o},Blockly.Xml.appendDomToWorkspace=function(t,e){if(e.hasOwnProperty("scale")){var o=Blockly.BlockSvg.TAB_WIDTH;try{Blockly.BlockSvg.TAB_WIDTH=0;var n=e.getBlocksBoundingBox()}finally{Blockly.BlockSvg.TAB_WIDTH=o}}if(o=Blockly.Xml.domToWorkspace(t,e),n&&n.top!=n.bottom){var r,i=n.bottom,s=n.left,l=1/0,a=1/0;for(n=0;n<o.length;n++){var u=e.getBlockById(o[n]).getRelativeToSurfaceXY();u.y<a&&(a=u.y),u.x<l&&(l=u.x)}for(i=i-a+Blockly.BlockSvg.SEP_SPACE_Y,s-=l,e.RTL&&(r=e.getWidth()),n=0;n<o.length;n++)e.getBlockById(o[n]).moveBy(e.RTL?r-s:s,i)}return o},Blockly.Xml.domToBlock=function(t,e){if(t instanceof Blockly.Workspace){var o=t;t=e,e=o,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}Blockly.Events.disable(),o=e.getAllVariables();try{var n=Blockly.Xml.domToBlockHeadless_(t,e),r=n.getDescendants(!1);if(e.rendered){n.setConnectionsHidden(!0);for(var i=r.length-1;0<=i;i--)r[i].initSvg();for(i=r.length-1;0<=i;i--)r[i].render(!1);setTimeout((function(){n.workspace&&n.setConnectionsHidden(!1)}),1),n.updateDisabled(),e.resizeContents()}else for(i=r.length-1;0<=i;i--)r[i].initModel()}finally{Blockly.Events.enable()}if(Blockly.Events.isEnabled()){for(r=Blockly.Variables.getAddedVariables(e,o),i=0;i<r.length;i++)Blockly.Events.fire(new Blockly.Events.VarCreate(r[i]));Blockly.Events.fire(new Blockly.Events.BlockCreate(n))}return n},Blockly.Xml.domToVariables=function(t,e){for(var o,n=0;o=t.childNodes[n];n++)if(o.nodeType==Blockly.utils.dom.Node.ELEMENT_NODE){var r=o.getAttribute("type"),i=o.getAttribute("id");e.createVariable(o.textContent,r,i)}},Blockly.Xml.domToBlockHeadless_=function(t,e){var o=null,n=t.getAttribute("type");if(!n)throw TypeError("Block type unspecified: "+t.outerHTML);var r=t.getAttribute("id");o=e.newBlock(n,r);var i,s=null;for(r=0;i=t.childNodes[r];r++)if(i.nodeType!=Blockly.utils.dom.Node.TEXT_NODE){for(var l,a=s=null,u=0;l=i.childNodes[u];u++)l.nodeType==Blockly.utils.dom.Node.ELEMENT_NODE&&("block"==l.nodeName.toLowerCase()?s=l:"shadow"==l.nodeName.toLowerCase()&&(a=l));switch(!s&&a&&(s=a),u=i.getAttribute("name"),i.nodeName.toLowerCase()){case"mutation":o.domToMutation&&(o.domToMutation(i),o.initSvg&&o.initSvg());break;case"comment":o.setCommentText(i.textContent);var c=i.getAttribute("pinned");c&&!o.isInFlyout&&setTimeout((function(){o.comment&&o.comment.setVisible&&o.comment.setVisible("true"==c)}),1),s=parseInt(i.getAttribute("w"),10),i=parseInt(i.getAttribute("h"),10),!isNaN(s)&&!isNaN(i)&&o.comment&&o.comment.setVisible&&o.comment.setBubbleSize(s,i);break;case"data":o.data=i.textContent;break;case"title":case"field":Blockly.Xml.domToField_(o,u,i);break;case"value":case"statement":if(!(i=o.getInput(u))){console.warn("Ignoring non-existent input "+u+" in block "+n);break}if(a&&i.connection.setShadowDom(a),s)if((s=Blockly.Xml.domToBlockHeadless_(s,e)).outputConnection)i.connection.connect(s.outputConnection);else{if(!s.previousConnection)throw TypeError("Child block does not have output or previous statement.");i.connection.connect(s.previousConnection)}break;case"next":if(a&&o.nextConnection&&o.nextConnection.setShadowDom(a),s){if(!o.nextConnection)throw TypeError("Next statement does not exist.");if(o.nextConnection.isConnected())throw TypeError("Next statement is already connected.");if(!(s=Blockly.Xml.domToBlockHeadless_(s,e)).previousConnection)throw TypeError("Next block does not have previous statement.");o.nextConnection.connect(s.previousConnection)}break;default:console.warn("Ignoring unknown tag: "+i.nodeName)}}if((r=t.getAttribute("inline"))&&o.setInputsInline("true"==r),(r=t.getAttribute("disabled"))&&o.setEnabled("true"!=r&&"disabled"!=r),(r=t.getAttribute("deletable"))&&o.setDeletable("true"==r),(r=t.getAttribute("movable"))&&o.setMovable("true"==r),(r=t.getAttribute("editable"))&&o.setEditable("true"==r),(r=t.getAttribute("collapsed"))&&o.setCollapsed("true"==r),"shadow"==t.nodeName.toLowerCase()){for(n=o.getChildren(!1),r=0;i=n[r];r++)if(!i.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(o.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");o.setShadow(!0)}return o},Blockly.Xml.domToField_=function(t,e,o){var n=t.getField(e);n?n.fromXml(o):console.warn("Ignoring non-existent field "+e+" in block "+t.type)},Blockly.Xml.deleteNext=function(t){for(var e,o=0;e=t.childNodes[o];o++)if("next"==e.nodeName.toLowerCase()){t.removeChild(e);break}},Blockly.utils.global.Blockly||(Blockly.utils.global.Blockly={}),Blockly.utils.global.Blockly.Xml||(Blockly.utils.global.Blockly.Xml={}),Blockly.utils.global.Blockly.Xml.domToText=Blockly.Xml.domToText,Blockly.utils.global.Blockly.Xml.domToWorkspace=Blockly.Xml.domToWorkspace,Blockly.utils.global.Blockly.Xml.textToDom=Blockly.Xml.textToDom,Blockly.utils.global.Blockly.Xml.workspaceToDom=Blockly.Xml.workspaceToDom,Blockly.Events.CommentBase=function(t){this.commentId=t.id,this.workspaceId=t.workspace.id,this.group=Blockly.Events.group_,this.recordUndo=Blockly.Events.recordUndo},goog.inherits(Blockly.Events.CommentBase,Blockly.Events.Abstract),Blockly.Events.CommentBase.prototype.toJson=function(){var t={type:this.type};return this.group&&(t.group=this.group),this.commentId&&(t.commentId=this.commentId),t},Blockly.Events.CommentBase.prototype.fromJson=function(t){this.commentId=t.commentId,this.group=t.group},Blockly.Events.CommentChange=function(t,e,o){t&&(Blockly.Events.CommentChange.superClass_.constructor.call(this,t),this.oldContents_=e,this.newContents_=o)},goog.inherits(Blockly.Events.CommentChange,Blockly.Events.CommentBase),Blockly.Events.CommentChange.prototype.type=Blockly.Events.COMMENT_CHANGE,Blockly.Events.CommentChange.prototype.toJson=function(){var t=Blockly.Events.CommentChange.superClass_.toJson.call(this);return t.newContents=this.newContents_,t},Blockly.Events.CommentChange.prototype.fromJson=function(t){Blockly.Events.CommentChange.superClass_.fromJson.call(this,t),this.newContents_=t.newValue},Blockly.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_},Blockly.Events.CommentChange.prototype.run=function(t){var e=this.getEventWorkspace_().getCommentById(this.commentId);e?e.setContent(t?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},Blockly.Events.CommentCreate=function(t){t&&(Blockly.Events.CommentCreate.superClass_.constructor.call(this,t),this.xml=t.toXmlWithXY())},goog.inherits(Blockly.Events.CommentCreate,Blockly.Events.CommentBase),Blockly.Events.CommentCreate.prototype.type=Blockly.Events.COMMENT_CREATE,Blockly.Events.CommentCreate.prototype.toJson=function(){var t=Blockly.Events.CommentCreate.superClass_.toJson.call(this);return t.xml=Blockly.Xml.domToText(this.xml),t},Blockly.Events.CommentCreate.prototype.fromJson=function(t){Blockly.Events.CommentCreate.superClass_.fromJson.call(this,t),this.xml=Blockly.Xml.textToDom(t.xml)},Blockly.Events.CommentCreate.prototype.run=function(t){Blockly.Events.CommentCreateDeleteHelper(this,t)},Blockly.Events.CommentCreateDeleteHelper=function(t,e){var o=t.getEventWorkspace_();if(e){var n=Blockly.utils.xml.createElement("xml");n.appendChild(t.xml),Blockly.Xml.domToWorkspace(n,o)}else(o=o.getCommentById(t.commentId))?o.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+t.commentId)},Blockly.Events.CommentDelete=function(t){t&&(Blockly.Events.CommentDelete.superClass_.constructor.call(this,t),this.xml=t.toXmlWithXY())},goog.inherits(Blockly.Events.CommentDelete,Blockly.Events.CommentBase),Blockly.Events.CommentDelete.prototype.type=Blockly.Events.COMMENT_DELETE,Blockly.Events.CommentDelete.prototype.toJson=function(){return Blockly.Events.CommentDelete.superClass_.toJson.call(this)},Blockly.Events.CommentDelete.prototype.fromJson=function(t){Blockly.Events.CommentDelete.superClass_.fromJson.call(this,t)},Blockly.Events.CommentDelete.prototype.run=function(t){Blockly.Events.CommentCreateDeleteHelper(this,!t)},Blockly.Events.CommentMove=function(t){t&&(Blockly.Events.CommentMove.superClass_.constructor.call(this,t),this.comment_=t,this.oldCoordinate_=t.getXY(),this.newCoordinate_=null)},goog.inherits(Blockly.Events.CommentMove,Blockly.Events.CommentBase),Blockly.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},Blockly.Events.CommentMove.prototype.type=Blockly.Events.COMMENT_MOVE,Blockly.Events.CommentMove.prototype.setOldCoordinate=function(t){this.oldCoordinate_=t},Blockly.Events.CommentMove.prototype.toJson=function(){var t=Blockly.Events.CommentMove.superClass_.toJson.call(this);return this.newCoordinate_&&(t.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),t},Blockly.Events.CommentMove.prototype.fromJson=function(t){Blockly.Events.CommentMove.superClass_.fromJson.call(this,t),t.newCoordinate&&(t=t.newCoordinate.split(","),this.newCoordinate_=new Blockly.utils.Coordinate(parseFloat(t[0]),parseFloat(t[1])))},Blockly.Events.CommentMove.prototype.isNull=function(){return Blockly.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},Blockly.Events.CommentMove.prototype.run=function(t){var e=this.getEventWorkspace_().getCommentById(this.commentId);if(e){t=t?this.newCoordinate_:this.oldCoordinate_;var o=e.getXY();e.moveBy(t.x-o.x,t.y-o.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},Blockly.WorkspaceComment=function(t,e,o,n,r){this.id=r&&!t.getCommentById(r)?r:Blockly.utils.genUid(),t.addTopComment(this),this.xy_=new Blockly.utils.Coordinate(0,0),this.height_=o,this.width_=n,this.workspace=t,this.RTL=t.RTL,this.movable_=this.deletable_=!0,this.content_=e,this.isComment=!0,Blockly.WorkspaceComment.fireCreateEvent(this)},Blockly.WorkspaceComment.prototype.dispose=function(){this.workspace&&(Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.CommentDelete(this)),this.workspace.removeTopComment(this),this.workspace=null)},Blockly.WorkspaceComment.prototype.getHeight=function(){return this.height_},Blockly.WorkspaceComment.prototype.setHeight=function(t){this.height_=t},Blockly.WorkspaceComment.prototype.getWidth=function(){return this.width_},Blockly.WorkspaceComment.prototype.setWidth=function(t){this.width_=t},Blockly.WorkspaceComment.prototype.getXY=function(){return new Blockly.utils.Coordinate(this.xy_.x,this.xy_.y)},Blockly.WorkspaceComment.prototype.moveBy=function(t,e){var o=new Blockly.Events.CommentMove(this);this.xy_.translate(t,e),o.recordNew(),Blockly.Events.fire(o)},Blockly.WorkspaceComment.prototype.isDeletable=function(){return this.deletable_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.WorkspaceComment.prototype.setDeletable=function(t){this.deletable_=t},Blockly.WorkspaceComment.prototype.isMovable=function(){return this.movable_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.WorkspaceComment.prototype.setMovable=function(t){this.movable_=t},Blockly.WorkspaceComment.prototype.getContent=function(){return this.content_},Blockly.WorkspaceComment.prototype.setContent=function(t){this.content_!=t&&(Blockly.Events.fire(new Blockly.Events.CommentChange(this,this.content_,t)),this.content_=t)},Blockly.WorkspaceComment.prototype.toXmlWithXY=function(t){return(t=this.toXml(t)).setAttribute("x",Math.round(this.xy_.x)),t.setAttribute("y",Math.round(this.xy_.y)),t.setAttribute("h",this.height_),t.setAttribute("w",this.width_),t},Blockly.WorkspaceComment.prototype.toXml=function(t){var e=Blockly.utils.xml.createElement("comment");return t||(e.id=this.id),e.textContent=this.getContent(),e},Blockly.WorkspaceComment.fireCreateEvent=function(t){if(Blockly.Events.isEnabled()){var e=Blockly.Events.getGroup();e||Blockly.Events.setGroup(!0);try{Blockly.Events.fire(new Blockly.Events.CommentCreate(t))}finally{e||Blockly.Events.setGroup(!1)}}},Blockly.WorkspaceComment.fromXml=function(t,e){var o=Blockly.WorkspaceComment.parseAttributes(t);o=new Blockly.WorkspaceComment(e,o.content,o.h,o.w,o.id);var n=parseInt(t.getAttribute("x"),10),r=parseInt(t.getAttribute("y"),10);return isNaN(n)||isNaN(r)||o.moveBy(n,r),Blockly.WorkspaceComment.fireCreateEvent(o),o},Blockly.WorkspaceComment.parseAttributes=function(t){var e=t.getAttribute("h"),o=t.getAttribute("w");return{id:t.getAttribute("id"),h:e?parseInt(e,10):100,w:o?parseInt(o,10):100,x:parseInt(t.getAttribute("x"),10),y:parseInt(t.getAttribute("y"),10),content:t.textContent}},Blockly.Theme=function(t,e){this.blockStyles_=t,this.categoryStyles_=e},Blockly.Theme.prototype.setAllBlockStyles=function(t){for(var e in t)this.setBlockStyle(e,t[e])},Blockly.Theme.prototype.getAllBlockStyles=function(){return this.blockStyles_},Blockly.Theme.prototype.getBlockStyle=function(t){return this.blockStyles_[t]},Blockly.Theme.prototype.setBlockStyle=function(t,e){this.blockStyles_[t]=e},Blockly.Theme.prototype.getCategoryStyle=function(t){return this.categoryStyles_[t]},Blockly.Theme.prototype.setCategoryStyle=function(t,e){this.categoryStyles_[t]=e},Blockly.Themes={},Blockly.Themes.Classic={},Blockly.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},Blockly.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},Blockly.Themes.Classic=new Blockly.Theme(Blockly.Themes.Classic.defaultBlockStyles,Blockly.Themes.Classic.categoryStyles),Blockly.Workspace=function(t){this.id=Blockly.utils.genUid(),Blockly.Workspace.WorkspaceDB_[this.id]=this,this.options=t||{},this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new Blockly.VariableMap(this),this.potentialVariableMap_=null,Blockly.getTheme()||Blockly.setTheme(Blockly.Themes.Classic)},Blockly.Workspace.prototype.rendered=!1,Blockly.Workspace.prototype.isClearing=!1,Blockly.Workspace.prototype.MAX_UNDO=1024,Blockly.Workspace.prototype.connectionDBList=null,Blockly.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete Blockly.Workspace.WorkspaceDB_[this.id]},Blockly.Workspace.SCAN_ANGLE=3,Blockly.Workspace.prototype.sortObjects_=function(t,e){var o=t.getRelativeToSurfaceXY(),n=e.getRelativeToSurfaceXY();return o.y+Blockly.Workspace.prototype.sortObjects_.offset*o.x-(n.y+Blockly.Workspace.prototype.sortObjects_.offset*n.x)},Blockly.Workspace.prototype.addTopBlock=function(t){this.topBlocks_.push(t)},Blockly.Workspace.prototype.removeTopBlock=function(t){if(!Blockly.utils.arrayRemove(this.topBlocks_,t))throw Error("Block not present in workspace's list of top-most blocks.")},Blockly.Workspace.prototype.getTopBlocks=function(t){var e=[].concat(this.topBlocks_);return t&&1<e.length&&(this.sortObjects_.offset=Math.sin(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),e.sort(this.sortObjects_)),e},Blockly.Workspace.prototype.addTypedBlock=function(t){this.typedBlocksDB_[t.type]||(this.typedBlocksDB_[t.type]=[]),this.typedBlocksDB_[t.type].push(t)},Blockly.Workspace.prototype.removeTypedBlock=function(t){this.typedBlocksDB_[t.type].splice(this.typedBlocksDB_[t.type].indexOf(t),1),this.typedBlocksDB_[t.type].length||delete this.typedBlocksDB_[t.type]},Blockly.Workspace.prototype.getBlocksByType=function(t,e){if(!this.typedBlocksDB_[t])return[];var o=this.typedBlocksDB_[t].slice(0);return e&&1<o.length&&(this.sortObjects_.offset=Math.sign(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),o.sort(this.sortObjects_)),o},Blockly.Workspace.prototype.addTopComment=function(t){this.topComments_.push(t),this.commentDB_[t.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+t.id+'"'),this.commentDB_[t.id]=t},Blockly.Workspace.prototype.removeTopComment=function(t){if(!Blockly.utils.arrayRemove(this.topComments_,t))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[t.id]},Blockly.Workspace.prototype.getTopComments=function(t){var e=[].concat(this.topComments_);return t&&1<e.length&&(this.sortObjects_.offset=Math.sin(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),e.sort(this.sortObjects_)),e},Blockly.Workspace.prototype.getAllBlocks=function(t){if(t){t=this.getTopBlocks(!0);for(var e=[],o=0;o<t.length;o++)e.push.apply(e,t[o].getDescendants(!0))}else for(e=this.getTopBlocks(!1),o=0;o<e.length;o++)e.push.apply(e,e[o].getChildren(!1));return e.filter((function(t){return!t.isInsertionMarker()}))},Blockly.Workspace.prototype.clear=function(){this.isClearing=!0;try{var t=Blockly.Events.getGroup();for(t||Blockly.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose();for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose();t||Blockly.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},Blockly.Workspace.prototype.renameVariableById=function(t,e){this.variableMap_.renameVariableById(t,e)},Blockly.Workspace.prototype.createVariable=function(t,e,o){return this.variableMap_.createVariable(t,e,o)},Blockly.Workspace.prototype.getVariableUsesById=function(t){return this.variableMap_.getVariableUsesById(t)},Blockly.Workspace.prototype.deleteVariableById=function(t){this.variableMap_.deleteVariableById(t)},Blockly.Workspace.prototype.deleteVariableInternal_=function(t,e){this.variableMap_.deleteVariableInternal_(t,e)},Blockly.Workspace.prototype.variableIndexOf=function(t){return console.warn("Deprecated call to Blockly.Workspace.prototype.variableIndexOf"),-1},Blockly.Workspace.prototype.getVariable=function(t,e){return this.variableMap_.getVariable(t,e)},Blockly.Workspace.prototype.getVariableById=function(t){return this.variableMap_.getVariableById(t)},Blockly.Workspace.prototype.getVariablesOfType=function(t){return this.variableMap_.getVariablesOfType(t)},Blockly.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},Blockly.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},Blockly.Workspace.prototype.getWidth=function(){return 0},Blockly.Workspace.prototype.newBlock=function(t,e){return new Blockly.Block(this,t,e)},Blockly.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks().length},Blockly.Workspace.prototype.remainingCapacityOfType=function(t){return this.options.maxInstances?(this.options.maxInstances[t]||1/0)-this.getBlocksByType(t).length:1/0},Blockly.Workspace.prototype.isCapacityAvailable=function(t){if(!this.hasBlockLimits())return!0;var e,o=0;for(e in t){if(t[e]>this.remainingCapacityOfType(e))return!1;o+=t[e]}return!(o>this.remainingCapacity())},Blockly.Workspace.prototype.hasBlockLimits=function(){return 1/0!=this.options.maxBlocks||!!this.options.maxInstances},Blockly.Workspace.prototype.undo=function(t){var e=t?this.redoStack_:this.undoStack_,o=t?this.undoStack_:this.redoStack_,n=e.pop();if(n){for(var r=[n];e.length&&n.group&&n.group==e[e.length-1].group;)r.push(e.pop());for(e=0;n=r[e];e++)o.push(n);r=Blockly.Events.filter(r,t),Blockly.Events.recordUndo=!1;try{for(e=0;n=r[e];e++)n.run(t)}finally{Blockly.Events.recordUndo=!0}}},Blockly.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,Blockly.Events.clearPendingUndo()},Blockly.Workspace.prototype.addChangeListener=function(t){return this.listeners_.push(t),t},Blockly.Workspace.prototype.removeChangeListener=function(t){Blockly.utils.arrayRemove(this.listeners_,t)},Blockly.Workspace.prototype.fireChangeListener=function(t){if(t.recordUndo)for(this.undoStack_.push(t),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var e,o=0;e=this.listeners_[o];o++)e(t)},Blockly.Workspace.prototype.getBlockById=function(t){return this.blockDB_[t]||null},Blockly.Workspace.prototype.getCommentById=function(t){return this.commentDB_[t]||null},Blockly.Workspace.prototype.allInputsFilled=function(t){for(var e,o=this.getTopBlocks(!1),n=0;e=o[n];n++)if(!e.allInputsFilled(t))return!1;return!0},Blockly.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},Blockly.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new Blockly.VariableMap(this)},Blockly.Workspace.prototype.getVariableMap=function(){return this.variableMap_},Blockly.Workspace.WorkspaceDB_=Object.create(null),Blockly.Workspace.getById=function(t){return Blockly.Workspace.WorkspaceDB_[t]||null},Blockly.Workspace.getAll=function(){var t,e=[];for(t in Blockly.Workspace.WorkspaceDB_)e.push(Blockly.Workspace.WorkspaceDB_[t]);return e},Blockly.Workspace.prototype.clear=Blockly.Workspace.prototype.clear,Blockly.Workspace.prototype.clearUndo=Blockly.Workspace.prototype.clearUndo,Blockly.Workspace.prototype.addChangeListener=Blockly.Workspace.prototype.addChangeListener,Blockly.Workspace.prototype.removeChangeListener=Blockly.Workspace.prototype.removeChangeListener,Blockly.Bubble=function(t,e,o,n,r,i){this.workspace_=t,this.content_=e,this.shape_=o,o=Blockly.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(o=-o),this.arrow_radians_=Blockly.utils.math.toRadians(o),t.getBubbleCanvas().appendChild(this.createDom_(e,!(!r||!i))),this.setAnchorLocation(n),r&&i||(r=(e=this.content_.getBBox()).width+2*Blockly.Bubble.BORDER_WIDTH,i=e.height+2*Blockly.Bubble.BORDER_WIDTH),this.setBubbleSize(r,i),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0,t.options.readOnly||(Blockly.bindEventWithChecks_(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&Blockly.bindEventWithChecks_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))},Blockly.Bubble.BORDER_WIDTH=6,Blockly.Bubble.ARROW_THICKNESS=5,Blockly.Bubble.ARROW_ANGLE=20,Blockly.Bubble.ARROW_BEND=4,Blockly.Bubble.ANCHOR_RADIUS=8,Blockly.Bubble.onMouseUpWrapper_=null,Blockly.Bubble.onMouseMoveWrapper_=null,Blockly.Bubble.prototype.resizeCallback_=null,Blockly.Bubble.unbindDragEvents_=function(){Blockly.Bubble.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseUpWrapper_),Blockly.Bubble.onMouseUpWrapper_=null),Blockly.Bubble.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseMoveWrapper_),Blockly.Bubble.onMouseMoveWrapper_=null)},Blockly.Bubble.bubbleMouseUp_=function(){Blockly.Touch.clearTouchIdentifier(),Blockly.Bubble.unbindDragEvents_()},Blockly.Bubble.prototype.rendered_=!1,Blockly.Bubble.prototype.anchorXY_=null,Blockly.Bubble.prototype.relativeLeft_=0,Blockly.Bubble.prototype.relativeTop_=0,Blockly.Bubble.prototype.width_=0,Blockly.Bubble.prototype.height_=0,Blockly.Bubble.prototype.autoLayout_=!0,Blockly.Bubble.prototype.createDom_=function(t,e){this.bubbleGroup_=Blockly.utils.dom.createSvgElement("g",{},null);var o={filter:"url(#"+this.workspace_.options.embossFilterId+")"};return Blockly.utils.userAgent.JAVA_FX&&(o={}),o=Blockly.utils.dom.createSvgElement("g",o,this.bubbleGroup_),this.bubbleArrow_=Blockly.utils.dom.createSvgElement("path",{},o),this.bubbleBack_=Blockly.utils.dom.createSvgElement("rect",{class:"blocklyDraggable",x:0,y:0,rx:Blockly.Bubble.BORDER_WIDTH,ry:Blockly.Bubble.BORDER_WIDTH},o),e?(this.resizeGroup_=Blockly.utils.dom.createSvgElement("g",{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),Blockly.utils.dom.createSvgElement("polygon",{points:"0,x x,x x,0".replace(/x/g,(o=2*Blockly.Bubble.BORDER_WIDTH).toString())},this.resizeGroup_),Blockly.utils.dom.createSvgElement("line",{class:"blocklyResizeLine",x1:o/3,y1:o-1,x2:o-1,y2:o/3},this.resizeGroup_),Blockly.utils.dom.createSvgElement("line",{class:"blocklyResizeLine",x1:2*o/3,y1:o-1,x2:o-1,y2:2*o/3},this.resizeGroup_)):this.resizeGroup_=null,this.bubbleGroup_.appendChild(t),this.bubbleGroup_},Blockly.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},Blockly.Bubble.prototype.setSvgId=function(t){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=t)},Blockly.Bubble.prototype.bubbleMouseDown_=function(t){var e=this.workspace_.getGesture(t);e&&e.handleBubbleStart(t,this)},Blockly.Bubble.prototype.showContextMenu_=function(t){},Blockly.Bubble.prototype.isDeletable=function(){return!1},Blockly.Bubble.prototype.resizeMouseDown_=function(t){this.promote_(),Blockly.Bubble.unbindDragEvents_(),Blockly.utils.isRightButton(t)||(this.workspace_.startDrag(t,new Blockly.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),Blockly.Bubble.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,Blockly.Bubble.bubbleMouseUp_),Blockly.Bubble.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,this.resizeMouseMove_),Blockly.hideChaff()),t.stopPropagation()},Blockly.Bubble.prototype.resizeMouseMove_=function(t){this.autoLayout_=!1,t=this.workspace_.moveDrag(t),this.setBubbleSize(this.workspace_.RTL?-t.x:t.x,t.y),this.workspace_.RTL&&this.positionBubble_()},Blockly.Bubble.prototype.registerResizeEvent=function(t){this.resizeCallback_=t},Blockly.Bubble.prototype.promote_=function(){var t=this.bubbleGroup_.parentNode;return t.lastChild!==this.bubbleGroup_&&(t.appendChild(this.bubbleGroup_),!0)},Blockly.Bubble.prototype.setAnchorLocation=function(t){this.anchorXY_=t,this.rendered_&&this.positionBubble_()},Blockly.Bubble.prototype.layoutBubble_=function(){var t=this.workspace_.getMetrics();t.viewLeft/=this.workspace_.scale,t.viewWidth/=this.workspace_.scale,t.viewTop/=this.workspace_.scale,t.viewHeight/=this.workspace_.scale;var e=this.getOptimalRelativeLeft_(t),o=this.getOptimalRelativeTop_(t),n=this.shape_.getBBox(),r={x:e,y:-this.height_-Blockly.BlockSvg.MIN_BLOCK_Y},i={x:-this.width_-30,y:o};o={x:n.width,y:o};var s={x:e,y:n.height};e=n.width<n.height?o:s,n=n.width<n.height?s:o,o=this.getOverlap_(r,t),s=this.getOverlap_(i,t);var l=this.getOverlap_(e,t);t=this.getOverlap_(n,t),o==(t=Math.max(o,s,l,t))?(this.relativeLeft_=r.x,this.relativeTop_=r.y):s==t?(this.relativeLeft_=i.x,this.relativeTop_=i.y):l==t?(this.relativeLeft_=e.x,this.relativeTop_=e.y):(this.relativeLeft_=n.x,this.relativeTop_=n.y)},Blockly.Bubble.prototype.getOverlap_=function(t,e){var o=this.workspace_.RTL?this.anchorXY_.x-t.x-this.width_:t.x+this.anchorXY_.x,n=t.y+this.anchorXY_.y;return Math.max(0,Math.min(1,(Math.min(o+this.width_,e.viewLeft+e.viewWidth)-Math.max(o,e.viewLeft))*(Math.min(n+this.height_,e.viewTop+e.viewHeight)-Math.max(n,e.viewTop))/(this.width_*this.height_)))},Blockly.Bubble.prototype.getOptimalRelativeLeft_=function(t){var e=-this.width_/4;if(this.width_>t.viewWidth)return e;if(this.workspace_.RTL)var o=this.anchorXY_.x-e,n=o-this.width_,r=t.viewLeft+t.viewWidth,i=t.viewLeft+Blockly.Scrollbar.scrollbarThickness/this.workspace_.scale;else o=(n=e+this.anchorXY_.x)+this.width_,i=t.viewLeft,r=t.viewLeft+t.viewWidth-Blockly.Scrollbar.scrollbarThickness/this.workspace_.scale;return this.workspace_.RTL?n<i?e=-(i-this.anchorXY_.x+this.width_):o>r&&(e=-(r-this.anchorXY_.x)):n<i?e=i-this.anchorXY_.x:o>r&&(e=r-this.anchorXY_.x-this.width_),e},Blockly.Bubble.prototype.getOptimalRelativeTop_=function(t){var e=-this.height_/4;if(this.height_>t.viewHeight)return e;var o=this.anchorXY_.y+e,n=t.viewTop;t=t.viewTop+t.viewHeight-Blockly.Scrollbar.scrollbarThickness/this.workspace_.scale;var r=this.anchorXY_.y;return o<n?e=n-r:o+this.height_>t&&(e=t-r-this.height_),e},Blockly.Bubble.prototype.positionBubble_=function(){var t=this.anchorXY_.x;this.moveTo(t=this.workspace_.RTL?t-(this.relativeLeft_+this.width_):t+this.relativeLeft_,this.relativeTop_+this.anchorXY_.y)},Blockly.Bubble.prototype.moveTo=function(t,e){this.bubbleGroup_.setAttribute("transform","translate("+t+","+e+")")},Blockly.Bubble.prototype.getBubbleSize=function(){return{width:this.width_,height:this.height_}},Blockly.Bubble.prototype.setBubbleSize=function(t,e){var o=2*Blockly.Bubble.BORDER_WIDTH;t=Math.max(t,o+45),e=Math.max(e,o+20),this.width_=t,this.height_=e,this.bubbleBack_.setAttribute("width",t),this.bubbleBack_.setAttribute("height",e),this.resizeGroup_&&this.resizeGroup_.setAttribute("transform",this.workspace_.RTL?"translate("+2*Blockly.Bubble.BORDER_WIDTH+","+(e-o)+") scale(-1 1)":"translate("+(t-o)+","+(e-o)+")"),this.rendered_&&(this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_()),this.resizeCallback_&&this.resizeCallback_()},Blockly.Bubble.prototype.renderArrow_=function(){var t=[],e=this.width_/2,o=this.height_/2,n=-this.relativeLeft_,r=-this.relativeTop_;if(e==n&&o==r)t.push("M "+e+","+o);else{r-=o,n-=e,this.workspace_.RTL&&(n*=-1);var i=Math.sqrt(r*r+n*n),s=Math.acos(n/i);0>r&&(s=2*Math.PI-s);var l=s+Math.PI/2;l>2*Math.PI&&(l-=2*Math.PI);var a=Math.sin(l),u=Math.cos(l),c=this.getBubbleSize();l=(c.width+c.height)/Blockly.Bubble.ARROW_THICKNESS,l=Math.min(l,c.width,c.height)/4,n=e+(c=1-Blockly.Bubble.ANCHOR_RADIUS/i)*n,r=o+c*r,c=e+l*u;var p=o+l*a;e-=l*u,o-=l*a,(a=s+this.arrow_radians_)>2*Math.PI&&(a-=2*Math.PI),s=Math.sin(a)*i/Blockly.Bubble.ARROW_BEND,i=Math.cos(a)*i/Blockly.Bubble.ARROW_BEND,t.push("M"+c+","+p),t.push("C"+(c+i)+","+(p+s)+" "+n+","+r+" "+n+","+r),t.push("C"+n+","+r+" "+(e+i)+","+(o+s)+" "+e+","+o)}t.push("z"),this.bubbleArrow_.setAttribute("d",t.join(" "))},Blockly.Bubble.prototype.setColour=function(t){this.bubbleBack_.setAttribute("fill",t),this.bubbleArrow_.setAttribute("fill",t)},Blockly.Bubble.prototype.dispose=function(){Blockly.Bubble.unbindDragEvents_(),Blockly.utils.dom.removeNode(this.bubbleGroup_),this.shape_=this.content_=this.workspace_=this.resizeGroup_=this.bubbleBack_=this.bubbleArrow_=this.bubbleGroup_=null},Blockly.Bubble.prototype.moveDuringDrag=function(t,e){t?t.translateSurface(e.x,e.y):this.moveTo(e.x,e.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x-this.anchorXY_.x,this.relativeTop_=e.y-this.anchorXY_.y,this.renderArrow_()},Blockly.Bubble.prototype.getRelativeToSurfaceXY=function(){return new Blockly.utils.Coordinate(this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},Blockly.Bubble.prototype.setAutoLayout=function(t){this.autoLayout_=t},Blockly.Events.Ui=function(t,e,o,n){Blockly.Events.Ui.superClass_.constructor.call(this),this.blockId=t?t.id:null,this.workspaceId=t?t.workspace.id:null,this.element=e,this.oldValue=o,this.newValue=n,this.recordUndo=!1},goog.inherits(Blockly.Events.Ui,Blockly.Events.Abstract),Blockly.Events.Ui.prototype.type=Blockly.Events.UI,Blockly.Events.Ui.prototype.toJson=function(){var t=Blockly.Events.Ui.superClass_.toJson.call(this);return t.element=this.element,void 0!==this.newValue&&(t.newValue=this.newValue),this.blockId&&(t.blockId=this.blockId),t},Blockly.Events.Ui.prototype.fromJson=function(t){Blockly.Events.Ui.superClass_.fromJson.call(this,t),this.element=t.element,this.newValue=t.newValue,this.blockId=t.blockId},Blockly.Icon=function(t){this.block_=t},Blockly.Icon.prototype.collapseHidden=!0,Blockly.Icon.prototype.SIZE=17,Blockly.Icon.prototype.bubble_=null,Blockly.Icon.prototype.iconXY_=null,Blockly.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=Blockly.utils.dom.createSvgElement("g",{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&Blockly.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),Blockly.bindEventWithChecks_(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},Blockly.Icon.prototype.dispose=function(){Blockly.utils.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},Blockly.Icon.prototype.updateEditable=function(){},Blockly.Icon.prototype.isVisible=function(){return!!this.bubble_},Blockly.Icon.prototype.iconClick_=function(t){this.block_.workspace.isDragging()||this.block_.isInFlyout||Blockly.utils.isRightButton(t)||this.setVisible(!this.isVisible())},Blockly.Icon.prototype.updateColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.getColour())},Blockly.Icon.prototype.renderIcon=function(t){if(this.collapseHidden&&this.block_.isCollapsed()||this.block_.isInsertionMarker())return this.iconGroup_.setAttribute("display","none"),t;this.iconGroup_.setAttribute("display","block");var e=this.SIZE;return this.block_.RTL&&(t-=e),this.iconGroup_.setAttribute("transform","translate("+t+",5)"),this.computeIconLocation(),this.block_.RTL?t-Blockly.BlockSvg.SEP_SPACE_X:t+(e+Blockly.BlockSvg.SEP_SPACE_X)},Blockly.Icon.prototype.setIconLocation=function(t){this.iconXY_=t,this.isVisible()&&this.bubble_.setAnchorLocation(t)},Blockly.Icon.prototype.computeIconLocation=function(){var t=this.block_.getRelativeToSurfaceXY(),e=Blockly.utils.getRelativeXY(this.iconGroup_);t=new Blockly.utils.Coordinate(t.x+e.x+this.SIZE/2,t.y+e.y+this.SIZE/2),Blockly.utils.Coordinate.equals(this.getIconLocation(),t)||this.setIconLocation(t)},Blockly.Icon.prototype.getIconLocation=function(){return this.iconXY_},Blockly.Comment=function(t){Blockly.Comment.superClass_.constructor.call(this,t),this.createIcon()},goog.inherits(Blockly.Comment,Blockly.Icon),Blockly.Comment.prototype.text_="",Blockly.Comment.prototype.width_=160,Blockly.Comment.prototype.height_=80,Blockly.Comment.prototype.drawIcon_=function(t){Blockly.utils.dom.createSvgElement("circle",{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},t),Blockly.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},t),Blockly.utils.dom.createSvgElement("rect",{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},t)},Blockly.Comment.prototype.createEditor_=function(){this.foreignObject_=Blockly.utils.dom.createSvgElement("foreignObject",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null);var t=document.createElementNS(Blockly.utils.dom.HTML_NS,"body");t.setAttribute("xmlns",Blockly.utils.dom.HTML_NS),t.className="blocklyMinimalBody";var e=document.createElementNS(Blockly.utils.dom.HTML_NS,"textarea");return e.className="blocklyCommentTextarea",e.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),t.appendChild(e),this.textarea_=e,this.foreignObject_.appendChild(t),Blockly.bindEventWithChecks_(e,"mouseup",this,this.textareaFocus_,!0,!0),Blockly.bindEventWithChecks_(e,"wheel",this,(function(t){t.stopPropagation()})),Blockly.bindEventWithChecks_(e,"change",this,(function(t){this.text_!=e.value&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this.block_,"comment",null,this.text_,e.value)),this.text_=e.value)})),setTimeout((function(){e.focus()}),0),this.foreignObject_},Blockly.Comment.prototype.updateEditable=function(){this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)),Blockly.Icon.prototype.updateEditable.call(this)},Blockly.Comment.prototype.resizeBubble_=function(){if(this.isVisible()){var t=this.bubble_.getBubbleSize(),e=2*Blockly.Bubble.BORDER_WIDTH;this.foreignObject_.setAttribute("width",t.width-e),this.foreignObject_.setAttribute("height",t.height-e),this.textarea_.style.width=t.width-e-4+"px",this.textarea_.style.height=t.height-e-4+"px"}},Blockly.Comment.prototype.setVisible=function(t){if(t!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"commentOpen",!t,t)),!this.block_.isEditable()&&!this.textarea_||Blockly.utils.userAgent.IE)Blockly.Warning.prototype.setVisible.call(this,t);else{var e=this.getText(),o=this.getBubbleSize();t?(this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,this.width_,this.height_),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.resizeBubble_.bind(this)),this.updateColour()):(this.bubble_.dispose(),this.foreignObject_=this.textarea_=this.bubble_=null),this.setText(e),this.setBubbleSize(o.width,o.height)}},Blockly.Comment.prototype.textareaFocus_=function(t){this.bubble_.promote_()&&this.textarea_.focus()},Blockly.Comment.prototype.getBubbleSize=function(){return this.isVisible()?this.bubble_.getBubbleSize():{width:this.width_,height:this.height_}},Blockly.Comment.prototype.setBubbleSize=function(t,e){this.textarea_?this.bubble_.setBubbleSize(t,e):(this.width_=t,this.height_=e)},Blockly.Comment.prototype.getText=function(){return this.textarea_?this.textarea_.value:this.text_},Blockly.Comment.prototype.setText=function(t){this.text_!=t&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this.block_,"comment",null,this.text_,t)),this.text_=t),this.textarea_&&(this.textarea_.value=t)},Blockly.Comment.prototype.dispose=function(){Blockly.Events.isEnabled()&&this.setText(""),this.block_.comment=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.Connection=function(t,e){this.sourceBlock_=t,this.type=e,t.workspace.connectionDBList&&(this.db_=t.workspace.connectionDBList[e],this.dbOpposite_=t.workspace.connectionDBList[Blockly.OPPOSITE_TYPE[e]],this.hidden_=!this.db_)},Blockly.Connection.CAN_CONNECT=0,Blockly.Connection.REASON_SELF_CONNECTION=1,Blockly.Connection.REASON_WRONG_TYPE=2,Blockly.Connection.REASON_TARGET_NULL=3,Blockly.Connection.REASON_CHECKS_FAILED=4,Blockly.Connection.REASON_DIFFERENT_WORKSPACES=5,Blockly.Connection.REASON_SHADOW_PARENT=6,Blockly.Connection.prototype.targetConnection=null,Blockly.Connection.prototype.check_=null,Blockly.Connection.prototype.shadowDom_=null,Blockly.Connection.prototype.x_=0,Blockly.Connection.prototype.y_=0,Blockly.Connection.prototype.inDB_=!1,Blockly.Connection.prototype.db_=null,Blockly.Connection.prototype.dbOpposite_=null,Blockly.Connection.prototype.hidden_=null,Blockly.Connection.prototype.connect_=function(t){var e,o=this,n=o.getSourceBlock(),r=t.getSourceBlock();if(t.isConnected()&&t.disconnect(),o.isConnected()){var i=o.targetBlock(),s=o.getShadowDom();if(o.setShadowDom(null),i.isShadow())s=Blockly.Xml.blockToDom(i),i.dispose(),i=null;else if(o.type==Blockly.INPUT_VALUE){if(!i.outputConnection)throw Error("Orphan block does not have an output connection.");var l=Blockly.Connection.lastConnectionInRow_(r,i);l&&(i.outputConnection.connect(l),i=null)}else if(o.type==Blockly.NEXT_STATEMENT){if(!i.previousConnection)throw Error("Orphan block does not have a previous connection.");for(l=r;l.nextConnection;){var a=l.getNextBlock();if(!a||a.isShadow()){i.previousConnection.checkType_(l.nextConnection)&&(l.nextConnection.connect(i.previousConnection),i=null);break}l=a}}if(i&&(o.disconnect(),Blockly.Events.recordUndo)){var u=Blockly.Events.getGroup();setTimeout((function(){i.workspace&&!i.getParent()&&(Blockly.Events.setGroup(u),i.outputConnection?i.outputConnection.bumpAwayFrom_(o):i.previousConnection&&i.previousConnection.bumpAwayFrom_(o),Blockly.Events.setGroup(!1))}),Blockly.BUMP_DELAY)}o.setShadowDom(s)}Blockly.Events.isEnabled()&&(e=new Blockly.Events.BlockMove(r)),Blockly.Connection.connectReciprocally_(o,t),r.setParent(n),e&&(e.recordNew(),Blockly.Events.fire(e))},Blockly.Connection.prototype.dispose=function(){if(this.isConnected())throw Error("Disconnect connection before disposing of it.");this.inDB_&&this.db_.removeConnection_(this)},Blockly.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},Blockly.Connection.prototype.isSuperior=function(){return this.type==Blockly.INPUT_VALUE||this.type==Blockly.NEXT_STATEMENT},Blockly.Connection.prototype.isConnected=function(){return!!this.targetConnection},Blockly.Connection.prototype.canConnectWithReason_=function(t){if(!t)return Blockly.Connection.REASON_TARGET_NULL;if(this.isSuperior())var e=this.sourceBlock_,o=t.getSourceBlock();else o=this.sourceBlock_,e=t.getSourceBlock();return e&&e==o?Blockly.Connection.REASON_SELF_CONNECTION:t.type!=Blockly.OPPOSITE_TYPE[this.type]?Blockly.Connection.REASON_WRONG_TYPE:e&&o&&e.workspace!==o.workspace?Blockly.Connection.REASON_DIFFERENT_WORKSPACES:this.checkType_(t)?e.isShadow()&&!o.isShadow()?Blockly.Connection.REASON_SHADOW_PARENT:Blockly.Connection.CAN_CONNECT:Blockly.Connection.REASON_CHECKS_FAILED},Blockly.Connection.prototype.checkConnection_=function(t){switch(this.canConnectWithReason_(t)){case Blockly.Connection.CAN_CONNECT:break;case Blockly.Connection.REASON_SELF_CONNECTION:throw Error("Attempted to connect a block to itself.");case Blockly.Connection.REASON_DIFFERENT_WORKSPACES:throw Error("Blocks not on same workspace.");case Blockly.Connection.REASON_WRONG_TYPE:throw Error("Attempt to connect incompatible types.");case Blockly.Connection.REASON_TARGET_NULL:throw Error("Target connection is null.");case Blockly.Connection.REASON_CHECKS_FAILED:throw Error("Connection checks failed. "+this+" expected "+this.check_+", found "+t.check_);case Blockly.Connection.REASON_SHADOW_PARENT:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!")}},Blockly.Connection.prototype.canConnectToPrevious_=function(t){return!(this.targetConnection||-1!=Blockly.draggingConnections_.indexOf(t)||t.targetConnection&&(!(t=t.targetBlock()).isInsertionMarker()||t.getPreviousBlock()))},Blockly.Connection.prototype.isConnectionAllowed=function(t){if(t.sourceBlock_.isInsertionMarker()||this.canConnectWithReason_(t)!=Blockly.Connection.CAN_CONNECT)return!1;switch(t.type){case Blockly.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(t);case Blockly.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||this.isConnected())return!1;break;case Blockly.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case Blockly.NEXT_STATEMENT:if(t.isConnected()&&!this.sourceBlock_.nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed")}return-1==Blockly.draggingConnections_.indexOf(t)},Blockly.Connection.prototype.connect=function(t){if(this.targetConnection!=t){this.checkConnection_(t);var e=Blockly.Events.getGroup();e||Blockly.Events.setGroup(!0),this.isSuperior()?this.connect_(t):t.connect_(this),e||Blockly.Events.setGroup(!1)}},Blockly.Connection.connectReciprocally_=function(t,e){if(!t||!e)throw Error("Cannot connect null connections.");t.targetConnection=e,e.targetConnection=t},Blockly.Connection.singleConnection_=function(t,e){for(var o=!1,n=0;n<t.inputList.length;n++){var r=t.inputList[n].connection;if(r&&r.type==Blockly.INPUT_VALUE&&e.outputConnection.checkType_(r)){if(o)return null;o=r}}return o},Blockly.Connection.lastConnectionInRow_=function(t,e){for(var o,n=t;o=Blockly.Connection.singleConnection_(n,e);)if(!(n=o.targetBlock())||n.isShadow())return o;return null},Blockly.Connection.prototype.disconnect=function(){var t=this.targetConnection;if(!t)throw Error("Source connection not connected.");if(t.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var e=this.sourceBlock_,o=t.getSourceBlock();t=this}else e=t.getSourceBlock(),o=this.sourceBlock_;var n=Blockly.Events.getGroup();n||Blockly.Events.setGroup(!0),this.disconnectInternal_(e,o),t.respawnShadow_(),n||Blockly.Events.setGroup(!1)},Blockly.Connection.prototype.disconnectInternal_=function(t,e){var o;Blockly.Events.isEnabled()&&(o=new Blockly.Events.BlockMove(e)),this.targetConnection=this.targetConnection.targetConnection=null,e.setParent(null),o&&(o.recordNew(),Blockly.Events.fire(o))},Blockly.Connection.prototype.respawnShadow_=function(){var t=this.getSourceBlock(),e=this.getShadowDom();if(t.workspace&&e&&Blockly.Events.recordUndo)if((t=Blockly.Xml.domToBlock(e,t.workspace)).outputConnection)this.connect(t.outputConnection);else{if(!t.previousConnection)throw Error("Child block does not have output or previous statement.");this.connect(t.previousConnection)}},Blockly.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},Blockly.Connection.prototype.checkType_=function(t){if(!this.check_||!t.check_)return!0;for(var e=0;e<this.check_.length;e++)if(-1!=t.check_.indexOf(this.check_[e]))return!0;return!1},Blockly.Connection.prototype.onCheckChanged_=function(){this.isConnected()&&!this.checkType_(this.targetConnection)&&(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},Blockly.Connection.prototype.setCheck=function(t){return t?(Array.isArray(t)||(t=[t]),this.check_=t,this.onCheckChanged_()):this.check_=null,this},Blockly.Connection.prototype.getCheck=function(){return this.check_},Blockly.Connection.prototype.setShadowDom=function(t){this.shadowDom_=t},Blockly.Connection.prototype.getShadowDom=function(){return this.shadowDom_},Blockly.Connection.prototype.neighbours_=function(t){return[]},Blockly.Connection.prototype.toString=function(){var t=this.sourceBlock_;if(!t)return"Orphan Connection";if(t.outputConnection==this)var e="Output Connection of ";else if(t.previousConnection==this)e="Previous Connection of ";else if(t.nextConnection==this)e="Next Connection of ";else{e=null;for(var o,n=0;o=t.inputList[n];n++)if(o.connection==this){e=o;break}if(!e)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";e='Input "'+e.name+'" connection on '}return e+t.toDevString()},Blockly.ConnectionDB=function(){this.connections_=[]},Blockly.ConnectionDB.prototype.addConnection=function(t){if(t.inDB_)throw Error("Connection already in database.");if(!t.getSourceBlock().isInFlyout){var e=this.findPositionForConnection_(t);this.connections_.splice(e,0,t),t.inDB_=!0}},Blockly.ConnectionDB.prototype.findConnection=function(t){if(!this.connections_.length)return-1;var e=this.findPositionForConnection_(t);if(e>=this.connections_.length)return-1;for(var o=t.y_,n=e;0<=n&&this.connections_[n].y_==o;){if(this.connections_[n]==t)return n;n--}for(;e<this.connections_.length&&this.connections_[e].y_==o;){if(this.connections_[e]==t)return e;e++}return-1},Blockly.ConnectionDB.prototype.findPositionForConnection_=function(t){if(!this.connections_.length)return 0;for(var e=0,o=this.connections_.length;e<o;){var n=Math.floor((e+o)/2);if(this.connections_[n].y_<t.y_)e=n+1;else{if(!(this.connections_[n].y_>t.y_)){e=n;break}o=n}}return e},Blockly.ConnectionDB.prototype.removeConnection_=function(t){if(!t.inDB_)throw Error("Connection not in database.");var e=this.findConnection(t);if(-1==e)throw Error("Unable to find connection in connectionDB.");t.inDB_=!1,this.connections_.splice(e,1)},Blockly.ConnectionDB.prototype.getNeighbours=function(t,e){function o(t){var o=r-n[t].x_,s=i-n[t].y_;return Math.sqrt(o*o+s*s)<=e&&u.push(n[t]),s<e}for(var n=this.connections_,r=t.x_,i=t.y_,s=0,l=n.length-2,a=l;s<a;)n[a].y_<i?s=a:l=a,a=Math.floor((s+l)/2);var u=[];if(l=s=a,n.length){for(;0<=s&&o(s);)s--;do{l++}while(l<n.length&&o(l))}return u},Blockly.ConnectionDB.prototype.isInYRange_=function(t,e,o){return Math.abs(this.connections_[t].y_-e)<=o},Blockly.ConnectionDB.prototype.searchForClosest=function(t,e,o){if(!this.connections_.length)return{connection:null,radius:e};var n=t.y_,r=t.x_;t.x_=r+o.x,t.y_=n+o.y;var i=this.findPositionForConnection_(t);o=null;for(var s,l=e,a=i-1;0<=a&&this.isInYRange_(a,t.y_,e);)t.isConnectionAllowed(s=this.connections_[a],l)&&(o=s,l=s.distanceFrom(t)),a--;for(;i<this.connections_.length&&this.isInYRange_(i,t.y_,e);)t.isConnectionAllowed(s=this.connections_[i],l)&&(o=s,l=s.distanceFrom(t)),i++;return t.x_=r,t.y_=n,{connection:o,radius:l}},Blockly.ConnectionDB.init=function(){var t=[];return t[Blockly.INPUT_VALUE]=new Blockly.ConnectionDB,t[Blockly.OUTPUT_VALUE]=new Blockly.ConnectionDB,t[Blockly.NEXT_STATEMENT]=new Blockly.ConnectionDB,t[Blockly.PREVIOUS_STATEMENT]=new Blockly.ConnectionDB,t},Blockly.constants={},Blockly.LINE_MODE_MULTIPLIER=40,Blockly.PAGE_MODE_MULTIPLIER=125,Blockly.DRAG_RADIUS=5,Blockly.FLYOUT_DRAG_RADIUS=10,Blockly.SNAP_RADIUS=28,Blockly.CONNECTING_SNAP_RADIUS=Blockly.SNAP_RADIUS,Blockly.CURRENT_CONNECTION_PREFERENCE=8,Blockly.INSERTION_MARKER_COLOUR="#000000",Blockly.BUMP_DELAY=250,Blockly.BUMP_RANDOMNESS=10,Blockly.COLLAPSE_CHARS=30,Blockly.LONGPRESS=750,Blockly.SOUND_LIMIT=100,Blockly.DRAG_STACK=!0,Blockly.HSV_SATURATION=.45,Blockly.HSV_VALUE=.65,Blockly.SPRITE={width:96,height:124,url:"sprites.png"},Blockly.INPUT_VALUE=1,Blockly.OUTPUT_VALUE=2,Blockly.NEXT_STATEMENT=3,Blockly.PREVIOUS_STATEMENT=4,Blockly.DUMMY_INPUT=5,Blockly.ALIGN_LEFT=-1,Blockly.ALIGN_CENTRE=0,Blockly.ALIGN_RIGHT=1,Blockly.DRAG_NONE=0,Blockly.DRAG_STICKY=1,Blockly.DRAG_BEGIN=1,Blockly.DRAG_FREE=2,Blockly.OPPOSITE_TYPE=[],Blockly.OPPOSITE_TYPE[Blockly.INPUT_VALUE]=Blockly.OUTPUT_VALUE,Blockly.OPPOSITE_TYPE[Blockly.OUTPUT_VALUE]=Blockly.INPUT_VALUE,Blockly.OPPOSITE_TYPE[Blockly.NEXT_STATEMENT]=Blockly.PREVIOUS_STATEMENT,Blockly.OPPOSITE_TYPE[Blockly.PREVIOUS_STATEMENT]=Blockly.NEXT_STATEMENT,Blockly.TOOLBOX_AT_TOP=0,Blockly.TOOLBOX_AT_BOTTOM=1,Blockly.TOOLBOX_AT_LEFT=2,Blockly.TOOLBOX_AT_RIGHT=3,Blockly.DELETE_AREA_NONE=null,Blockly.DELETE_AREA_TRASH=1,Blockly.DELETE_AREA_TOOLBOX=2,Blockly.VARIABLE_CATEGORY_NAME="VARIABLE",Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",Blockly.PROCEDURE_CATEGORY_NAME="PROCEDURE",Blockly.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",Blockly.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",Blockly.blockAnimations={},Blockly.blockAnimations.disconnectPid_=0,Blockly.blockAnimations.disconnectGroup_=null,Blockly.blockAnimations.disposeUiEffect=function(t){var e=t.workspace,o=t.getSvgRoot();e.getAudioManager().play("delete"),t=e.getSvgXY(o),(o=o.cloneNode(!0)).translateX_=t.x,o.translateY_=t.y,o.setAttribute("transform","translate("+t.x+","+t.y+")"),e.getParentSvg().appendChild(o),o.bBox_=o.getBBox(),Blockly.blockAnimations.disposeUiStep_(o,e.RTL,new Date,e.scale)},Blockly.blockAnimations.disposeUiStep_=function(t,e,o,n){var r=(new Date-o)/150;1<r?Blockly.utils.dom.removeNode(t):(t.setAttribute("transform","translate("+(t.translateX_+(e?-1:1)*t.bBox_.width*n/2*r)+","+(t.translateY_+t.bBox_.height*n*r)+") scale("+(1-r)*n+")"),setTimeout(Blockly.blockAnimations.disposeUiStep_,10,t,e,o,n))},Blockly.blockAnimations.connectionUiEffect=function(t){var e=t.workspace,o=e.scale;if(e.getAudioManager().play("click"),!(1>o)){var n=e.getSvgXY(t.getSvgRoot());t.outputConnection?(n.x+=(t.RTL?3:-3)*o,n.y+=13*o):t.previousConnection&&(n.x+=(t.RTL?-23:23)*o,n.y+=3*o),t=Blockly.utils.dom.createSvgElement("circle",{cx:n.x,cy:n.y,r:0,fill:"none",stroke:"#888","stroke-width":10},e.getParentSvg()),Blockly.blockAnimations.connectionUiStep_(t,new Date,o)}},Blockly.blockAnimations.connectionUiStep_=function(t,e,o){var n=(new Date-e)/150;1<n?Blockly.utils.dom.removeNode(t):(t.setAttribute("r",25*n*o),t.style.opacity=1-n,Blockly.blockAnimations.disconnectPid_=setTimeout(Blockly.blockAnimations.connectionUiStep_,10,t,e,o))},Blockly.blockAnimations.disconnectUiEffect=function(t){if(t.workspace.getAudioManager().play("disconnect"),!(1>t.workspace.scale)){var e=t.getHeightWidth().height;e=Math.atan(10/e)/Math.PI*180,t.RTL||(e*=-1),Blockly.blockAnimations.disconnectUiStep_(t.getSvgRoot(),e,new Date)}},Blockly.blockAnimations.disconnectUiStep_=function(t,e,o){var n=(new Date-o)/200;1<n?t.skew_="":(t.skew_="skewX("+Math.round(Math.sin(n*Math.PI*3)*(1-n)*e)+")",Blockly.blockAnimations.disconnectGroup_=t,Blockly.blockAnimations.disconnectPid_=setTimeout(Blockly.blockAnimations.disconnectUiStep_,10,t,e,o)),t.setAttribute("transform",t.translate_+t.skew_)},Blockly.blockAnimations.disconnectUiStop=function(){if(Blockly.blockAnimations.disconnectGroup_){clearTimeout(Blockly.blockAnimations.disconnectPid_);var t=Blockly.blockAnimations.disconnectGroup_;t.skew_="",t.setAttribute("transform",t.translate_),Blockly.blockAnimations.disconnectGroup_=null}},Blockly.RenderedConnection=function(t,e){Blockly.RenderedConnection.superClass_.constructor.call(this,t,e),this.offsetInBlock_=new Blockly.utils.Coordinate(0,0)},goog.inherits(Blockly.RenderedConnection,Blockly.Connection),Blockly.RenderedConnection.prototype.distanceFrom=function(t){var e=this.x_-t.x_;return t=this.y_-t.y_,Math.sqrt(e*e+t*t)},Blockly.RenderedConnection.prototype.bumpAwayFrom_=function(t){if(!this.sourceBlock_.workspace.isDragging()){var e=this.sourceBlock_.getRootBlock();if(!e.isInFlyout){var o=!1;if(!e.isMovable()){if(!(e=t.getSourceBlock().getRootBlock()).isMovable())return;t=this,o=!0}var n=Blockly.selected==e;n||e.addSelect();var r=t.x_+Blockly.SNAP_RADIUS+Math.floor(Math.random()*Blockly.BUMP_RANDOMNESS)-this.x_,i=t.y_+Blockly.SNAP_RADIUS+Math.floor(Math.random()*Blockly.BUMP_RANDOMNESS)-this.y_;o&&(i=-i),e.RTL&&(r=t.x_-Blockly.SNAP_RADIUS-Math.floor(Math.random()*Blockly.BUMP_RANDOMNESS)-this.x_),e.moveBy(r,i),n||e.removeSelect()}}},Blockly.RenderedConnection.prototype.moveTo=function(t,e){this.inDB_&&this.db_.removeConnection_(this),this.x_=t,this.y_=e,this.hidden_||this.db_.addConnection(this)},Blockly.RenderedConnection.prototype.moveBy=function(t,e){this.moveTo(this.x_+t,this.y_+e)},Blockly.RenderedConnection.prototype.moveToOffset=function(t){this.moveTo(t.x+this.offsetInBlock_.x,t.y+this.offsetInBlock_.y)},Blockly.RenderedConnection.prototype.setOffsetInBlock=function(t,e){this.offsetInBlock_.x=t,this.offsetInBlock_.y=e},Blockly.RenderedConnection.prototype.tighten_=function(){var t=this.targetConnection.x_-this.x_,e=this.targetConnection.y_-this.y_;if(0!=t||0!=e){var o=this.targetBlock(),n=o.getSvgRoot();if(!n)throw Error("block is not rendered.");n=Blockly.utils.getRelativeXY(n),o.getSvgRoot().setAttribute("transform","translate("+(n.x-t)+","+(n.y-e)+")"),o.moveConnections_(-t,-e)}},Blockly.RenderedConnection.prototype.closest=function(t,e){return this.dbOpposite_.searchForClosest(this,t,e)},Blockly.RenderedConnection.prototype.highlight=function(){var t=this.type==Blockly.INPUT_VALUE||this.type==Blockly.OUTPUT_VALUE?"m 0,0 "+Blockly.BlockSvg.TAB_PATH_DOWN+" v 5":"m -20,0 h 5 "+Blockly.BlockSvg.NOTCH_PATH_LEFT+" h 5",e=this.sourceBlock_.getRelativeToSurfaceXY();Blockly.Connection.highlightedPath_=Blockly.utils.dom.createSvgElement("path",{class:"blocklyHighlightedConnectionPath",d:t,transform:"translate("+(this.x_-e.x)+","+(this.y_-e.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},Blockly.RenderedConnection.prototype.unhideAll=function(){this.setHidden(!1);var t=[];if(this.type!=Blockly.INPUT_VALUE&&this.type!=Blockly.NEXT_STATEMENT)return t;var e=this.targetBlock();if(e){if(e.isCollapsed()){var o=[];e.outputConnection&&o.push(e.outputConnection),e.nextConnection&&o.push(e.nextConnection),e.previousConnection&&o.push(e.previousConnection)}else o=e.getConnections_(!0);for(var n=0;n<o.length;n++)t.push.apply(t,o[n].unhideAll());t.length||(t[0]=e)}return t},Blockly.RenderedConnection.prototype.unhighlight=function(){Blockly.utils.dom.removeNode(Blockly.Connection.highlightedPath_),delete Blockly.Connection.highlightedPath_},Blockly.RenderedConnection.prototype.setHidden=function(t){(this.hidden_=t)&&this.inDB_?this.db_.removeConnection_(this):t||this.inDB_||this.db_.addConnection(this)},Blockly.RenderedConnection.prototype.hideAll=function(){if(this.setHidden(!0),this.targetConnection)for(var t=this.targetBlock().getDescendants(!1),e=0;e<t.length;e++){for(var o=t[e],n=o.getConnections_(!0),r=0;r<n.length;r++)n[r].setHidden(!0);for(o=o.getIcons(),r=0;r<o.length;r++)o[r].setVisible(!1)}},Blockly.RenderedConnection.prototype.isConnectionAllowed=function(t,e){return!(this.distanceFrom(t)>e)&&Blockly.RenderedConnection.superClass_.isConnectionAllowed.call(this,t)},Blockly.RenderedConnection.prototype.disconnectInternal_=function(t,e){Blockly.RenderedConnection.superClass_.disconnectInternal_.call(this,t,e),t.rendered&&t.render(),e.rendered&&(e.updateDisabled(),e.render())},Blockly.RenderedConnection.prototype.respawnShadow_=function(){var t=this.getSourceBlock(),e=this.getShadowDom();if(t.workspace&&e&&Blockly.Events.recordUndo){if(Blockly.RenderedConnection.superClass_.respawnShadow_.call(this),!(e=this.targetBlock()))throw Error("Couldn't respawn the shadow block that should exist here.");e.initSvg(),e.render(!1),t.rendered&&t.render()}},Blockly.RenderedConnection.prototype.neighbours_=function(t){return this.dbOpposite_.getNeighbours(this,t)},Blockly.RenderedConnection.prototype.connect_=function(t){Blockly.RenderedConnection.superClass_.connect_.call(this,t);var e=this.getSourceBlock();t=t.getSourceBlock(),e.rendered&&e.updateDisabled(),t.rendered&&t.updateDisabled(),e.rendered&&t.rendered&&(this.type==Blockly.NEXT_STATEMENT||this.type==Blockly.PREVIOUS_STATEMENT?t.render():e.render())},Blockly.RenderedConnection.prototype.onCheckChanged_=function(){this.isConnected()&&!this.checkType_(this.targetConnection)&&((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours_())},Blockly.InsertionMarkerManager=function(t){this.topBlock_=Blockly.selected=t,this.workspace_=t.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.markerConnection_=null,this.highlightingBlock_=!1,this.highlightedBlock_=null,this.availableConnections_=this.initAvailableConnections_()},Blockly.InsertionMarkerManager.prototype.dispose=function(){this.workspace_=this.topBlock_=null,this.availableConnections_.length=0,this.localConnection_=this.closestConnection_=null,Blockly.Events.disable();try{this.firstMarker_&&(this.firstMarker_.dispose(),this.firstMarker_=null),this.lastMarker_&&(this.lastMarker_.dispose(),this.lastMarker_=null)}finally{Blockly.Events.enable()}this.highlightedBlock_=null},Blockly.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},Blockly.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},Blockly.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(Blockly.Events.disable(),this.hidePreview_(),Blockly.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var t=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;Blockly.blockAnimations.connectionUiEffect(t.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},Blockly.InsertionMarkerManager.prototype.update=function(t,e){var o=this.getCandidate_(t);((this.wouldDeleteBlock_=this.shouldDelete_(o,e))||this.shouldUpdatePreviews_(o,t))&&(Blockly.Events.disable(),this.maybeHidePreview_(o),this.maybeShowPreview_(o),Blockly.Events.enable())},Blockly.InsertionMarkerManager.prototype.createMarkerBlock_=function(t){var e=t.type;Blockly.Events.disable();try{var o=this.workspace_.newBlock(e);if(o.setInsertionMarker(!0,t.width),o.setCollapsed(t.isCollapsed()),t.mutationToDom){var n=t.mutationToDom();n&&o.domToMutation(n)}for(e=0;e<t.inputList.length;e++){var r=t.inputList[e];for(n=0;n<r.fieldRow.length;n++){var i=r.fieldRow[n];o.setFieldValue(i.getValue(),i.name)}}o.initSvg(),o.getSvgRoot().setAttribute("visibility","hidden")}finally{Blockly.Events.enable()}return o},Blockly.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var t=this.topBlock_.getConnections_(!1),e=this.topBlock_.lastConnectionInStack();return e&&e!=this.topBlock_.nextConnection&&(t.push(e),this.lastOnStack_=e,this.lastMarker_=this.createMarkerBlock_(e.sourceBlock_)),t},Blockly.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(t,e){var o=t.local,n=t.closest,r=t.radius;if(!o||!n)return!(!this.localConnection_||!this.closestConnection_);if(this.localConnection_&&this.closestConnection_){if(this.closestConnection_==n&&this.localConnection_==o)return!1;o=this.localConnection_.x_+e.x-this.closestConnection_.x_;var i=this.localConnection_.y_+e.y-this.closestConnection_.y_;return o=Math.sqrt(o*o+i*i),!(n&&r>o-Blockly.CURRENT_CONNECTION_PREFERENCE)}return!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0)},Blockly.InsertionMarkerManager.prototype.getCandidate_=function(t){for(var e=this.getStartRadius_(),o=null,n=null,r=0;r<this.availableConnections_.length;r++){var i=this.availableConnections_[r],s=i.closest(e,t);s.connection&&(o=s.connection,n=i,e=s.radius)}return{closest:o,local:n,radius:e}},Blockly.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?Blockly.CONNECTING_SNAP_RADIUS:Blockly.SNAP_RADIUS},Blockly.InsertionMarkerManager.prototype.shouldReplace_=function(){var t=this.closestConnection_,e=this.localConnection_;return e.type==Blockly.OUTPUT_VALUE?!(!t.isConnected()||Blockly.Connection.lastConnectionInRow_(this.topBlock_,t.targetConnection.getSourceBlock())):e!=e.sourceBlock_.getFirstStatementConnection()&&!(this.topBlock_.nextConnection||e.type!=Blockly.PREVIOUS_STATEMENT||!t.isConnected())},Blockly.InsertionMarkerManager.prototype.shouldDelete_=function(t,e){var o=t&&!!t.closest&&e!=Blockly.DELETE_AREA_TOOLBOX;return!!e&&!this.topBlock_.getParent()&&this.topBlock_.isDeletable()&&!o},Blockly.InsertionMarkerManager.prototype.maybeShowPreview_=function(t){if(!this.wouldDeleteBlock_){var e=t.closest;t=t.local,e&&(e==this.closestConnection_||e.sourceBlock_.isInsertionMarker()?console.log("trying to connect to an insertion marker"):(this.closestConnection_=e,this.localConnection_=t,this.showPreview_()))}},Blockly.InsertionMarkerManager.prototype.showPreview_=function(){this.shouldReplace_()?this.highlightBlock_():this.connectMarker_(),this.closestConnection_&&this.closestConnection_.highlight()},Blockly.InsertionMarkerManager.prototype.maybeHidePreview_=function(t){if(t.closest){var e=this.closestConnection_!=t.closest;t=this.localConnection_!=t.local,this.closestConnection_&&this.localConnection_&&(e||t||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},Blockly.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.unhighlight(),this.highlightingBlock_?this.unhighlightBlock_():this.markerConnection_&&this.disconnectMarker_()},Blockly.InsertionMarkerManager.prototype.highlightBlock_=function(){var t=this.closestConnection_,e=this.localConnection_;t.targetBlock()?(this.highlightedBlock_=t.targetBlock(),t.targetBlock().highlightForReplacement(!0)):e.type==Blockly.OUTPUT_VALUE&&(this.highlightedBlock_=t.sourceBlock_,t.sourceBlock_.highlightShapeForInput(t,!0)),this.highlightingBlock_=!0},Blockly.InsertionMarkerManager.prototype.unhighlightBlock_=function(){var t=this.closestConnection_;t.type!=Blockly.INPUT_VALUE||t.isConnected()?this.highlightedBlock_.highlightForReplacement(!1):this.highlightedBlock_.highlightShapeForInput(t,!1),this.highlightedBlock_=null,this.highlightingBlock_=!1},Blockly.InsertionMarkerManager.prototype.disconnectMarker_=function(){if(this.markerConnection_){var t=this.markerConnection_,e=t.sourceBlock_,o=e.nextConnection,n=e.previousConnection,r=e.outputConnection;if(r=t.type==Blockly.INPUT_VALUE&&!(r&&r.targetConnection),!(t!=o||n&&n.targetConnection)||r?t.targetBlock().unplug(!1):t.type==Blockly.NEXT_STATEMENT&&t!=o?((o=t.targetConnection).sourceBlock_.unplug(!1),n=n?n.targetConnection:null,e.unplug(!0),n&&n.connect(o)):e.unplug(!0),t.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,e.getSvgRoot().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},Blockly.InsertionMarkerManager.prototype.connectMarker_=function(){var t=this.localConnection_,e=this.closestConnection_,o=this.lastOnStack_&&t==this.lastOnStack_?this.lastMarker_:this.firstMarker_;if((t=o.getMatchingConnection(t.sourceBlock_,t))==this.markerConnection_)throw Error("Made it to connectMarker_ even though the marker isn't changing");o.render(),o.rendered=!0,o.getSvgRoot().setAttribute("visibility","visible"),o.positionNewBlock(o,t,e),t.connect(e),this.markerConnection_=t},Blockly.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var t=[];return this.firstMarker_&&t.push(this.firstMarker_),this.lastMarker_&&t.push(this.lastMarker_),t},Blockly.BlockDragger=function(t,e){this.draggingBlock_=t,this.workspace_=e,this.draggedConnectionManager_=new Blockly.InsertionMarkerManager(this.draggingBlock_),this.deleteArea_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=Blockly.BlockDragger.initIconData_(t)},Blockly.BlockDragger.prototype.dispose=function(){this.startWorkspace_=this.workspace_=this.draggingBlock_=null,this.dragIconData_.length=0,this.draggedConnectionManager_&&(this.draggedConnectionManager_.dispose(),this.draggedConnectionManager_=null)},Blockly.BlockDragger.initIconData_=function(t){var e=[];t=t.getDescendants(!1);for(var o,n=0;o=t[n];n++){o=o.getIcons();for(var r=0;r<o.length;r++){var i={location:o[r].getIconLocation(),icon:o[r]};e.push(i)}}return e},Blockly.BlockDragger.prototype.startBlockDrag=function(t,e){if(Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),Blockly.Field.startCache(),this.workspace_.setResizesEnabled(!1),Blockly.blockAnimations.disconnectUiStop(),this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock()){this.draggingBlock_.unplug(e);var o=this.pixelsToWorkspaceUnits_(t);o=Blockly.utils.Coordinate.sum(this.startXY_,o),this.draggingBlock_.translate(o.x,o.y),Blockly.blockAnimations.disconnectUiEffect(this.draggingBlock_)}if(this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface_(),o=this.workspace_.getToolbox()){var n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";o.addStyle(n)}},Blockly.BlockDragger.prototype.dragBlock=function(t,e){var o=this.pixelsToWorkspaceUnits_(e),n=Blockly.utils.Coordinate.sum(this.startXY_,o);this.draggingBlock_.moveDuringDrag(n),this.dragIcons_(o),this.deleteArea_=this.workspace_.isDeleteArea(t),this.draggedConnectionManager_.update(o,this.deleteArea_),this.updateCursorDuringBlockDrag_()},Blockly.BlockDragger.prototype.endBlockDrag=function(t,e){this.dragBlock(t,e),this.dragIconData_=[],Blockly.Field.stopCache(),Blockly.blockAnimations.disconnectUiStop();var o=this.pixelsToWorkspaceUnits_(e),n=Blockly.utils.Coordinate.sum(this.startXY_,o);this.draggingBlock_.moveOffDragSurface_(n),this.maybeDeleteBlock_()||(this.draggingBlock_.moveConnections_(o.x,o.y),this.draggingBlock_.setDragging(!1),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()),this.workspace_.setResizesEnabled(!0),(o=this.workspace_.getToolbox())&&(n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",o.removeStyle(n)),Blockly.Events.setGroup(!1)},Blockly.BlockDragger.prototype.fireMoveEvent_=function(){var t=new Blockly.Events.BlockMove(this.draggingBlock_);t.oldCoordinate=this.startXY_,t.recordNew(),Blockly.Events.fire(t)},Blockly.BlockDragger.prototype.maybeDeleteBlock_=function(){var t=this.workspace_.trashcan;return this.wouldDeleteBlock_?(t&&setTimeout(t.close.bind(t),100),this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0)):t&&t.close(),this.wouldDeleteBlock_},Blockly.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock();var t=this.workspace_.trashcan;this.wouldDeleteBlock_?(this.draggingBlock_.setDeleteStyle(!0),this.deleteArea_==Blockly.DELETE_AREA_TRASH&&t&&t.setOpen_(!0)):(this.draggingBlock_.setDeleteStyle(!1),t&&t.setOpen_(!1))},Blockly.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(t){return t=new Blockly.utils.Coordinate(t.x/this.workspace_.scale,t.y/this.workspace_.scale),this.workspace_.isMutator&&t.scale(1/this.workspace_.options.parentWorkspace.scale),t},Blockly.BlockDragger.prototype.dragIcons_=function(t){for(var e=0;e<this.dragIconData_.length;e++){var o=this.dragIconData_[e];o.icon.setIconLocation(Blockly.utils.Coordinate.sum(o.location,t))}},Blockly.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},Blockly.utils.Rect=function(t,e,o,n){this.top=t,this.bottom=e,this.left=o,this.right=n},Blockly.utils.Rect.prototype.contains=function(t,e){return t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom},Blockly.WorkspaceCommentSvg=function(t,e,o,n,r){this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{class:"blocklyComment"},null),this.svgGroup_.translate_="",this.svgRect_=Blockly.utils.dom.createSvgElement("rect",{class:"blocklyCommentRect",x:0,y:0,rx:Blockly.WorkspaceCommentSvg.BORDER_RADIUS,ry:Blockly.WorkspaceCommentSvg.BORDER_RADIUS}),this.svgGroup_.appendChild(this.svgRect_),this.rendered_=!1,this.useDragSurface_=Blockly.utils.is3dSupported()&&!!t.blockDragSurface_,Blockly.WorkspaceCommentSvg.superClass_.constructor.call(this,t,e,o,n,r),this.render()},goog.inherits(Blockly.WorkspaceCommentSvg,Blockly.WorkspaceComment),Blockly.WorkspaceCommentSvg.DEFAULT_SIZE=100,Blockly.WorkspaceCommentSvg.prototype.dispose=function(){this.workspace&&(Blockly.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.CommentDelete(this)),Blockly.utils.dom.removeNode(this.svgGroup_),this.svgRect_=this.svgGroup_=null,this.disposeInternal_(),Blockly.Events.disable(),Blockly.WorkspaceCommentSvg.superClass_.dispose.call(this),Blockly.Events.enable())},Blockly.WorkspaceCommentSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit_||(Blockly.bindEventWithChecks_(this.svgRectTarget_,"mousedown",this,this.pathMouseDown_),Blockly.bindEventWithChecks_(this.svgHandleTarget_,"mousedown",this,this.pathMouseDown_)),this.eventsInit_=!0,this.updateMovable(),this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot())},Blockly.WorkspaceCommentSvg.prototype.pathMouseDown_=function(t){var e=this.workspace.getGesture(t);e&&e.handleBubbleStart(t,this)},Blockly.WorkspaceCommentSvg.prototype.showContextMenu_=function(t){if(!this.workspace.options.readOnly){var e=[];this.isDeletable()&&this.isMovable()&&(e.push(Blockly.ContextMenu.commentDuplicateOption(this)),e.push(Blockly.ContextMenu.commentDeleteOption(this))),Blockly.ContextMenu.show(t,e,this.RTL)}},Blockly.WorkspaceCommentSvg.prototype.select=function(){if(Blockly.selected!=this){var t=null;if(Blockly.selected){t=Blockly.selected.id,Blockly.Events.disable();try{Blockly.selected.unselect()}finally{Blockly.Events.enable()}}(t=new Blockly.Events.Ui(null,"selected",t,this.id)).workspaceId=this.workspace.id,Blockly.Events.fire(t),Blockly.selected=this,this.addSelect()}},Blockly.WorkspaceCommentSvg.prototype.unselect=function(){if(Blockly.selected==this){var t=new Blockly.Events.Ui(null,"selected",this.id,null);t.workspaceId=this.workspace.id,Blockly.Events.fire(t),Blockly.selected=null,this.removeSelect(),this.blurFocus()}},Blockly.WorkspaceCommentSvg.prototype.addSelect=function(){Blockly.utils.dom.addClass(this.svgGroup_,"blocklySelected"),this.setFocus()},Blockly.WorkspaceCommentSvg.prototype.removeSelect=function(){Blockly.utils.dom.removeClass(this.svgGroup_,"blocklySelected"),this.blurFocus()},Blockly.WorkspaceCommentSvg.prototype.addFocus=function(){Blockly.utils.dom.addClass(this.svgGroup_,"blocklyFocused")},Blockly.WorkspaceCommentSvg.prototype.removeFocus=function(){Blockly.utils.dom.removeClass(this.svgGroup_,"blocklyFocused")},Blockly.WorkspaceCommentSvg.prototype.getRelativeToSurfaceXY=function(){var t=0,e=0,o=this.useDragSurface_?this.workspace.blockDragSurface_.getGroup():null,n=this.getSvgRoot();if(n)do{var r=Blockly.utils.getRelativeXY(n);t+=r.x,e+=r.y,this.useDragSurface_&&this.workspace.blockDragSurface_.getCurrentBlock()==n&&(t+=(r=this.workspace.blockDragSurface_.getSurfaceTranslation()).x,e+=r.y),n=n.parentNode}while(n&&n!=this.workspace.getBubbleCanvas()&&n!=o);return this.xy_=new Blockly.utils.Coordinate(t,e)},Blockly.WorkspaceCommentSvg.prototype.moveBy=function(t,e){var o=new Blockly.Events.CommentMove(this),n=this.getRelativeToSurfaceXY();this.translate(n.x+t,n.y+e),this.xy_=new Blockly.utils.Coordinate(n.x+t,n.y+e),o.recordNew(),Blockly.Events.fire(o),this.workspace.resizeContents()},Blockly.WorkspaceCommentSvg.prototype.translate=function(t,e){this.xy_=new Blockly.utils.Coordinate(t,e),this.getSvgRoot().setAttribute("transform","translate("+t+","+e+")")},Blockly.WorkspaceCommentSvg.prototype.moveToDragSurface_=function(){if(this.useDragSurface_){var t=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.blockDragSurface_.translateSurface(t.x,t.y),this.workspace.blockDragSurface_.setBlocksAndShow(this.getSvgRoot())}},Blockly.WorkspaceCommentSvg.prototype.moveOffDragSurface_=function(t){this.useDragSurface_&&(this.translate(t.x,t.y),this.workspace.blockDragSurface_.clearAndHide(this.workspace.getCanvas()))},Blockly.WorkspaceCommentSvg.prototype.moveDuringDrag=function(t,e){t?t.translateSurface(e.x,e.y):(this.svgGroup_.translate_="translate("+e.x+","+e.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},Blockly.WorkspaceCommentSvg.prototype.moveTo=function(t,e){this.translate(t,e)},Blockly.WorkspaceCommentSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},Blockly.WorkspaceCommentSvg.prototype.getBoundingRectangle=function(){var t=this.getRelativeToSurfaceXY(),e=this.getHeightWidth(),o=t.y,n=t.y+e.height;if(this.RTL){var r=t.x-e.width;t=t.x}else r=t.x,t=t.x+e.width;return new Blockly.utils.Rect(o,n,r,t)},Blockly.WorkspaceCommentSvg.prototype.updateMovable=function(){this.isMovable()?Blockly.utils.dom.addClass(this.svgGroup_,"blocklyDraggable"):Blockly.utils.dom.removeClass(this.svgGroup_,"blocklyDraggable")},Blockly.WorkspaceCommentSvg.prototype.setMovable=function(t){Blockly.WorkspaceCommentSvg.superClass_.setMovable.call(this,t),this.updateMovable()},Blockly.WorkspaceCommentSvg.prototype.setDragging=function(t){t?((t=this.getSvgRoot()).translate_="",t.skew_="",Blockly.utils.dom.addClass(this.svgGroup_,"blocklyDragging")):Blockly.utils.dom.removeClass(this.svgGroup_,"blocklyDragging")},Blockly.WorkspaceCommentSvg.prototype.getSvgRoot=function(){return this.svgGroup_},Blockly.WorkspaceCommentSvg.prototype.getContent=function(){return this.textarea_?this.textarea_.value:this.content_},Blockly.WorkspaceCommentSvg.prototype.setContent=function(t){Blockly.WorkspaceCommentSvg.superClass_.setContent.call(this,t),this.textarea_&&(this.textarea_.value=t)},Blockly.WorkspaceCommentSvg.prototype.setDeleteStyle=function(t){t?Blockly.utils.dom.addClass(this.svgGroup_,"blocklyDraggingDelete"):Blockly.utils.dom.removeClass(this.svgGroup_,"blocklyDraggingDelete")},Blockly.WorkspaceCommentSvg.prototype.setAutoLayout=function(){},Blockly.WorkspaceCommentSvg.fromXml=function(t,e,o){Blockly.Events.disable();try{var n=Blockly.WorkspaceComment.parseAttributes(t),r=new Blockly.WorkspaceCommentSvg(e,n.content,n.h,n.w,n.id);if(e.rendered&&(r.initSvg(),r.render(!1)),!isNaN(n.x)&&!isNaN(n.y))if(e.RTL){var i=o||e.getWidth();r.moveBy(i-n.x,n.y)}else r.moveBy(n.x,n.y)}finally{Blockly.Events.enable()}return Blockly.WorkspaceComment.fireCreateEvent(r),r},Blockly.WorkspaceCommentSvg.prototype.toXmlWithXY=function(t){var e;this.workspace.RTL&&(e=this.workspace.getWidth()),t=this.toXml(t);var o=this.getRelativeToSurfaceXY();return t.setAttribute("x",Math.round(this.workspace.RTL?e-o.x:o.x)),t.setAttribute("y",Math.round(o.y)),t.setAttribute("h",this.getHeight()),t.setAttribute("w",this.getWidth()),t},Blockly.BubbleDragger=function(t,e){this.draggingBubble_=t,this.workspace_=e,this.deleteArea_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=Blockly.utils.is3dSupported()&&e.getBlockDragSurface()?e.getBlockDragSurface():null},Blockly.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},Blockly.BubbleDragger.prototype.startBubbleDrag=function(){Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0);var t=this.workspace_.getToolbox();if(t){var e=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";t.addStyle(e)}},Blockly.BubbleDragger.prototype.dragBubble=function(t,e){var o=this.pixelsToWorkspaceUnits_(e);o=Blockly.utils.Coordinate.sum(this.startXY_,o),this.draggingBubble_.moveDuringDrag(this.dragSurface_,o),this.draggingBubble_.isDeletable()&&(this.deleteArea_=this.workspace_.isDeleteArea(t),this.updateCursorDuringBubbleDrag_())},Blockly.BubbleDragger.prototype.maybeDeleteBubble_=function(){var t=this.workspace_.trashcan;return this.wouldDeleteBubble_?(t&&setTimeout(t.close.bind(t),100),this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):t&&t.close(),this.wouldDeleteBubble_},Blockly.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.wouldDeleteBubble_=this.deleteArea_!=Blockly.DELETE_AREA_NONE;var t=this.workspace_.trashcan;this.wouldDeleteBubble_?(this.draggingBubble_.setDeleteStyle(!0),this.deleteArea_==Blockly.DELETE_AREA_TRASH&&t&&t.setOpen_(!0)):(this.draggingBubble_.setDeleteStyle(!1),t&&t.setOpen_(!1))},Blockly.BubbleDragger.prototype.endBubbleDrag=function(t,e){this.dragBubble(t,e);var o=this.pixelsToWorkspaceUnits_(e);o=Blockly.utils.Coordinate.sum(this.startXY_,o),this.draggingBubble_.moveTo(o.x,o.y),this.maybeDeleteBubble_()||(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),this.workspace_.toolbox_&&(o=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",this.workspace_.toolbox_.removeStyle(o)),Blockly.Events.setGroup(!1)},Blockly.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var t=new Blockly.Events.CommentMove(this.draggingBubble_);t.setOldCoordinate(this.startXY_),t.recordNew(),Blockly.Events.fire(t)}},Blockly.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(t){return t=new Blockly.utils.Coordinate(t.x/this.workspace_.scale,t.y/this.workspace_.scale),this.workspace_.isMutator&&t.scale(1/this.workspace_.options.parentWorkspace.scale),t},Blockly.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},Blockly.WorkspaceDragger=function(t){this.workspace_=t,this.startScrollXY_=new Blockly.utils.Coordinate(t.scrollX,t.scrollY)},Blockly.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},Blockly.WorkspaceDragger.prototype.startDrag=function(){Blockly.selected&&Blockly.selected.unselect(),this.workspace_.setupDragSurface()},Blockly.WorkspaceDragger.prototype.endDrag=function(t){this.drag(t),this.workspace_.resetDragSurface()},Blockly.WorkspaceDragger.prototype.drag=function(t){t=Blockly.utils.Coordinate.sum(this.startScrollXY_,t),this.workspace_.scroll(t.x,t.y)},Blockly.FlyoutDragger=function(t){Blockly.FlyoutDragger.superClass_.constructor.call(this,t.getWorkspace()),this.scrollbar_=t.scrollbar_,this.horizontalLayout_=t.horizontalLayout_},goog.inherits(Blockly.FlyoutDragger,Blockly.WorkspaceDragger),Blockly.FlyoutDragger.prototype.updateScroll_=function(t,e){this.scrollbar_.set(this.horizontalLayout_?t:e)},Blockly.Tooltip={},Blockly.Tooltip.visible=!1,Blockly.Tooltip.blocked_=!1,Blockly.Tooltip.LIMIT=50,Blockly.Tooltip.mouseOutPid_=0,Blockly.Tooltip.showPid_=0,Blockly.Tooltip.lastX_=0,Blockly.Tooltip.lastY_=0,Blockly.Tooltip.element_=null,Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.OFFSET_X=0,Blockly.Tooltip.OFFSET_Y=10,Blockly.Tooltip.RADIUS_OK=10,Blockly.Tooltip.HOVER_MS=750,Blockly.Tooltip.MARGINS=5,Blockly.Tooltip.DIV=null,Blockly.Tooltip.createDom=function(){Blockly.Tooltip.DIV||(Blockly.Tooltip.DIV=document.createElement("div"),Blockly.Tooltip.DIV.className="blocklyTooltipDiv",document.body.appendChild(Blockly.Tooltip.DIV))},Blockly.Tooltip.bindMouseEvents=function(t){Blockly.bindEvent_(t,"mouseover",null,Blockly.Tooltip.onMouseOver_),Blockly.bindEvent_(t,"mouseout",null,Blockly.Tooltip.onMouseOut_),t.addEventListener("mousemove",Blockly.Tooltip.onMouseMove_,!1)},Blockly.Tooltip.onMouseOver_=function(t){if(!Blockly.Tooltip.blocked_){for(t=t.currentTarget;"string"!=typeof t.tooltip&&"function"!=typeof t.tooltip;)t=t.tooltip;Blockly.Tooltip.element_!=t&&(Blockly.Tooltip.hide(),Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.element_=t),clearTimeout(Blockly.Tooltip.mouseOutPid_)}},Blockly.Tooltip.onMouseOut_=function(t){Blockly.Tooltip.blocked_||(Blockly.Tooltip.mouseOutPid_=setTimeout((function(){Blockly.Tooltip.element_=null,Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.hide()}),1),clearTimeout(Blockly.Tooltip.showPid_))},Blockly.Tooltip.onMouseMove_=function(t){if(Blockly.Tooltip.element_&&Blockly.Tooltip.element_.tooltip&&!Blockly.Tooltip.blocked_)if(Blockly.Tooltip.visible){var e=Blockly.Tooltip.lastX_-t.pageX;t=Blockly.Tooltip.lastY_-t.pageY,Math.sqrt(e*e+t*t)>Blockly.Tooltip.RADIUS_OK&&Blockly.Tooltip.hide()}else Blockly.Tooltip.poisonedElement_!=Blockly.Tooltip.element_&&(clearTimeout(Blockly.Tooltip.showPid_),Blockly.Tooltip.lastX_=t.pageX,Blockly.Tooltip.lastY_=t.pageY,Blockly.Tooltip.showPid_=setTimeout(Blockly.Tooltip.show_,Blockly.Tooltip.HOVER_MS))},Blockly.Tooltip.hide=function(){Blockly.Tooltip.visible&&(Blockly.Tooltip.visible=!1,Blockly.Tooltip.DIV&&(Blockly.Tooltip.DIV.style.display="none")),Blockly.Tooltip.showPid_&&clearTimeout(Blockly.Tooltip.showPid_)},Blockly.Tooltip.block=function(){Blockly.Tooltip.hide(),Blockly.Tooltip.blocked_=!0},Blockly.Tooltip.unblock=function(){Blockly.Tooltip.blocked_=!1},Blockly.Tooltip.show_=function(){if(!Blockly.Tooltip.blocked_&&(Blockly.Tooltip.poisonedElement_=Blockly.Tooltip.element_,Blockly.Tooltip.DIV)){Blockly.Tooltip.DIV.innerHTML="";for(var t=Blockly.Tooltip.element_.tooltip;"function"==typeof t;)t=t();t=(t=Blockly.utils.string.wrap(t,Blockly.Tooltip.LIMIT)).split("\n");for(var e=0;e<t.length;e++){var o=document.createElement("div");o.appendChild(document.createTextNode(t[e])),Blockly.Tooltip.DIV.appendChild(o)}t=Blockly.Tooltip.element_.RTL,e=document.documentElement.clientWidth,o=document.documentElement.clientHeight,Blockly.Tooltip.DIV.style.direction=t?"rtl":"ltr",Blockly.Tooltip.DIV.style.display="block",Blockly.Tooltip.visible=!0;var n=Blockly.Tooltip.lastX_;n=t?n-(Blockly.Tooltip.OFFSET_X+Blockly.Tooltip.DIV.offsetWidth):n+Blockly.Tooltip.OFFSET_X;var r=Blockly.Tooltip.lastY_+Blockly.Tooltip.OFFSET_Y;r+Blockly.Tooltip.DIV.offsetHeight>o+window.scrollY&&(r-=Blockly.Tooltip.DIV.offsetHeight+2*Blockly.Tooltip.OFFSET_Y),t?n=Math.max(Blockly.Tooltip.MARGINS-window.scrollX,n):n+Blockly.Tooltip.DIV.offsetWidth>e+window.scrollX-2*Blockly.Tooltip.MARGINS&&(n=e-Blockly.Tooltip.DIV.offsetWidth-2*Blockly.Tooltip.MARGINS),Blockly.Tooltip.DIV.style.top=r+"px",Blockly.Tooltip.DIV.style.left=n+"px"}},Blockly.Gesture=function(t,e){this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=this.currentDragDeltaXY_=this.mouseDownXY_=null,this.creatorWorkspace_=e,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=t,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!Blockly.DRAG_STACK},Blockly.Gesture.prototype.dispose=function(){Blockly.Touch.clearTouchIdentifier(),Blockly.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&Blockly.unbindEvent_(this.onMoveWrapper_),this.onUpWrapper_&&Blockly.unbindEvent_(this.onUpWrapper_),this.flyout_=this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=null,this.blockDragger_&&(this.blockDragger_.dispose(),this.blockDragger_=null),this.workspaceDragger_&&(this.workspaceDragger_.dispose(),this.workspaceDragger_=null),this.bubbleDragger_&&(this.bubbleDragger_.dispose(),this.bubbleDragger_=null)},Blockly.Gesture.prototype.updateFromEvent_=function(t){var e=new Blockly.utils.Coordinate(t.clientX,t.clientY);this.updateDragDelta_(e)&&(this.updateIsDragging_(),Blockly.longStop_()),this.mostRecentEvent_=t},Blockly.Gesture.prototype.updateDragDelta_=function(t){return this.currentDragDeltaXY_=Blockly.utils.Coordinate.difference(t,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=Blockly.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?Blockly.FLYOUT_DRAG_RADIUS:Blockly.DRAG_RADIUS))},Blockly.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!(!this.flyout_.isBlockCreatable_(this.targetBlock_)||this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)||(this.startWorkspace_=this.flyout_.targetWorkspace_,this.startWorkspace_.updateScreenCalculationsIfScrolled(),Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),0))},Blockly.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},Blockly.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},Blockly.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=this.flyout_?new Blockly.FlyoutDragger(this.flyout_):new Blockly.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},Blockly.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},Blockly.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new Blockly.BlockDragger(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startBlockDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_)},Blockly.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new Blockly.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},Blockly.Gesture.prototype.doStart=function(t){Blockly.utils.isTargetInput(t)?this.cancel():(this.hasStarted_=!0,Blockly.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.startWorkspace_.markFocused(),this.mostRecentEvent_=t,Blockly.hideChaff(!!this.flyout_),Blockly.Tooltip.block(),this.targetBlock_&&this.targetBlock_.select(),Blockly.utils.isRightButton(t)?this.handleRightClick(t):("touchstart"!=t.type.toLowerCase()&&"pointerdown"!=t.type.toLowerCase()||"mouse"==t.pointerType||Blockly.longStart_(t,this),this.mouseDownXY_=new Blockly.utils.Coordinate(t.clientX,t.clientY),this.healStack_=t.altKey||t.ctrlKey||t.metaKey,this.bindMouseEvents(t)))},Blockly.Gesture.prototype.bindMouseEvents=function(t){this.onMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this)),t.preventDefault(),t.stopPropagation()},Blockly.Gesture.prototype.handleMove=function(t){this.updateFromEvent_(t),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),t.preventDefault(),t.stopPropagation()},Blockly.Gesture.prototype.handleUp=function(t){this.updateFromEvent_(t),Blockly.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(t,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(t,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(),t.preventDefault(),t.stopPropagation(),this.dispose())},Blockly.Gesture.prototype.cancel=function(){this.isEnding_||(Blockly.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},Blockly.Gesture.prototype.handleRightClick=function(t){this.targetBlock_?(this.bringBlockToFront_(),Blockly.hideChaff(this.flyout_),this.targetBlock_.showContextMenu_(t)):this.startBubble_?this.startBubble_.showContextMenu_(t):this.startWorkspace_&&!this.flyout_&&(Blockly.hideChaff(),this.startWorkspace_.showContextMenu_(t)),t.preventDefault(),t.stopPropagation(),this.dispose()},Blockly.Gesture.prototype.handleWsStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(e),this.mostRecentEvent_=t,this.doStart(t)},Blockly.Gesture.prototype.handleFlyoutStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(e),this.handleWsStart(t,e.getWorkspace())},Blockly.Gesture.prototype.handleBlockStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(e),this.mostRecentEvent_=t},Blockly.Gesture.prototype.handleBubbleStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(e),this.mostRecentEvent_=t},Blockly.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},Blockly.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor_(),this.bringBlockToFront_()},Blockly.Gesture.prototype.doBlockClick_=function(){this.flyout_&&this.flyout_.autoClose?this.targetBlock_.isEnabled()&&(Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump()):Blockly.Events.fire(new Blockly.Events.Ui(this.startBlock_,"click",void 0,void 0)),this.bringBlockToFront_(),Blockly.Events.setGroup(!1)},Blockly.Gesture.prototype.doWorkspaceClick_=function(){Blockly.selected&&Blockly.selected.unselect()},Blockly.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},Blockly.Gesture.prototype.setStartField=function(t){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=t)},Blockly.Gesture.prototype.setStartBubble=function(t){this.startBubble_||(this.startBubble_=t)},Blockly.Gesture.prototype.setStartBlock=function(t){this.startBlock_||this.startBubble_||(this.startBlock_=t,t.isInFlyout&&t!=t.getRootBlock()?this.setTargetBlock_(t.getRootBlock()):this.setTargetBlock_(t))},Blockly.Gesture.prototype.setTargetBlock_=function(t){t.isShadow()?this.setTargetBlock_(t.getParent()):this.targetBlock_=t},Blockly.Gesture.prototype.setStartWorkspace_=function(t){this.startWorkspace_||(this.startWorkspace_=t)},Blockly.Gesture.prototype.setStartFlyout_=function(t){this.flyout_||(this.flyout_=t)},Blockly.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},Blockly.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},Blockly.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},Blockly.Gesture.prototype.isWorkspaceClick_=function(){return!(this.startBlock_||this.startBubble_||this.startField_||this.hasExceededDragRadius_)},Blockly.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},Blockly.Gesture.prototype.hasStarted=function(){return this.hasStarted_},Blockly.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},Blockly.Gesture.inProgress=function(){for(var t,e=Blockly.Workspace.getAll(),o=0;t=e[o];o++)if(t.currentGesture_)return!0;return!1},Blockly.Grid=function(t,e){this.gridPattern_=t,this.spacing_=e.spacing,this.length_=e.length,this.line2_=(this.line1_=t.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=e.snap},Blockly.Grid.prototype.scale_=1,Blockly.Grid.prototype.dispose=function(){this.gridPattern_=null},Blockly.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},Blockly.Grid.prototype.getSpacing=function(){return this.spacing_},Blockly.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},Blockly.Grid.prototype.update=function(t){this.scale_=t;var e=this.spacing_*t||100;this.gridPattern_.setAttribute("width",e),this.gridPattern_.setAttribute("height",e);var o=(e=Math.floor(this.spacing_/2)+.5)-this.length_/2,n=e+this.length_/2;this.setLineAttributes_(this.line1_,t,o*=t,n*=t,e*=t,e),this.setLineAttributes_(this.line2_,t,e,e,o,n)},Blockly.Grid.prototype.setLineAttributes_=function(t,e,o,n,r,i){t&&(t.setAttribute("stroke-width",e),t.setAttribute("x1",o),t.setAttribute("y1",r),t.setAttribute("x2",n),t.setAttribute("y2",i))},Blockly.Grid.prototype.moveTo=function(t,e){this.gridPattern_.setAttribute("x",t),this.gridPattern_.setAttribute("y",e),(Blockly.utils.userAgent.IE||Blockly.utils.userAgent.EDGE)&&this.update(this.scale_)},Blockly.Grid.createDom=function(t,e,o){return t=Blockly.utils.dom.createSvgElement("pattern",{id:"blocklyGridPattern"+t,patternUnits:"userSpaceOnUse"},o),0<e.length&&0<e.spacing?(Blockly.utils.dom.createSvgElement("line",{stroke:e.colour},t),1<e.length&&Blockly.utils.dom.createSvgElement("line",{stroke:e.colour},t)):Blockly.utils.dom.createSvgElement("line",{},t),t},Blockly.Options=function(t){var e=!!t.readOnly;if(e)var o=null,n=!1,r=!1,i=!1,s=!1,l=!1,a=!1;else{n=!(!(o=Blockly.Options.parseToolboxTree(t.toolbox||null))||!o.getElementsByTagName("category").length),void 0===(r=t.trashcan)&&(r=n);var u=t.maxTrashcanContents;r?void 0===u&&(u=32):u=0,void 0===(i=t.collapse)&&(i=n),void 0===(s=t.comments)&&(s=n),void 0===(l=t.disable)&&(l=n),void 0===(a=t.sounds)&&(a=!0)}var c=!!t.rtl,p=t.horizontalLayout;void 0===p&&(p=!1);var h=t.toolboxPosition;h="end"!==h,h=p?h?Blockly.TOOLBOX_AT_TOP:Blockly.TOOLBOX_AT_BOTTOM:h==c?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT;var g=t.css;void 0===g&&(g=!0);var d="https://blockly-demo.appspot.com/static/media/";t.media?d=t.media:t.path&&(d=t.path+"media/");var f=void 0===t.oneBasedIndex||!!t.oneBasedIndex,m=t.theme||Blockly.Themes.Classic;this.RTL=c,this.oneBasedIndex=f,this.collapse=i,this.comments=s,this.disable=l,this.readOnly=e,this.maxBlocks=t.maxBlocks||1/0,this.maxInstances=t.maxInstances,this.pathToMedia=d,this.hasCategories=n,this.moveOptions=Blockly.Options.parseMoveOptions(t,n),this.hasScrollbars=this.moveOptions.scrollbars,this.hasTrashcan=r,this.maxTrashcanContents=u,this.hasSounds=a,this.hasCss=g,this.horizontalLayout=p,this.languageTree=o,this.gridOptions=Blockly.Options.parseGridOptions_(t),this.zoomOptions=Blockly.Options.parseZoomOptions_(t),this.toolboxPosition=h,this.theme=m},Blockly.Options.prototype.parentWorkspace=null,Blockly.Options.prototype.setMetrics=null,Blockly.Options.prototype.getMetrics=null,Blockly.Options.parseMoveOptions=function(t,e){var o=t.move||{},n={};return n.scrollbars=void 0===o.scrollbars&&void 0===t.scrollbars?e:!!o.scrollbars||!!t.scrollbars,n.wheel=!(!n.scrollbars||void 0===o.wheel||!o.wheel),n.drag=!(!n.scrollbars||void 0!==o.drag&&!o.drag),n},Blockly.Options.parseZoomOptions_=function(t){var e={};return e.controls=void 0!==(t=t.zoom||{}).controls&&!!t.controls,e.wheel=void 0!==t.wheel&&!!t.wheel,e.startScale=void 0===t.startScale?1:parseFloat(t.startScale),e.maxScale=void 0===t.maxScale?3:parseFloat(t.maxScale),e.minScale=void 0===t.minScale?.3:parseFloat(t.minScale),e.scaleSpeed=void 0===t.scaleSpeed?1.2:parseFloat(t.scaleSpeed),e},Blockly.Options.parseGridOptions_=function(t){t=t.grid||{};var e={};return e.spacing=parseFloat(t.spacing)||0,e.colour=t.colour||"#888",e.length=parseFloat(t.length)||1,e.snap=0<e.spacing&&!!t.snap,e},Blockly.Options.parseToolboxTree=function(t){if(t){if("string"!=typeof t&&(Blockly.utils.userAgent.IE&&t.outerHTML?t=t.outerHTML:t instanceof Element||(t=null)),"string"==typeof t&&"xml"!=(t=Blockly.Xml.textToDom(t)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else t=null;return t},Blockly.ScrollbarPair=function(t){this.workspace_=t,this.hScroll=new Blockly.Scrollbar(t,!0,!0,"blocklyMainWorkspaceScrollbar"),this.vScroll=new Blockly.Scrollbar(t,!1,!0,"blocklyMainWorkspaceScrollbar"),this.corner_=Blockly.utils.dom.createSvgElement("rect",{height:Blockly.Scrollbar.scrollbarThickness,width:Blockly.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),Blockly.utils.dom.insertAfter(this.corner_,t.getBubbleCanvas())},Blockly.ScrollbarPair.prototype.oldHostMetrics_=null,Blockly.ScrollbarPair.prototype.dispose=function(){Blockly.utils.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll.dispose(),this.hScroll=null,this.vScroll.dispose(),this.vScroll=null},Blockly.ScrollbarPair.prototype.resize=function(){var t=this.workspace_.getMetrics();if(t){var e=!1,o=!1;this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==t.viewWidth&&this.oldHostMetrics_.viewHeight==t.viewHeight&&this.oldHostMetrics_.absoluteTop==t.absoluteTop&&this.oldHostMetrics_.absoluteLeft==t.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.contentWidth==t.contentWidth&&this.oldHostMetrics_.viewLeft==t.viewLeft&&this.oldHostMetrics_.contentLeft==t.contentLeft||(e=!0),this.oldHostMetrics_&&this.oldHostMetrics_.contentHeight==t.contentHeight&&this.oldHostMetrics_.viewTop==t.viewTop&&this.oldHostMetrics_.contentTop==t.contentTop||(o=!0)):o=e=!0,e&&this.hScroll.resize(t),o&&this.vScroll.resize(t),this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==t.viewWidth&&this.oldHostMetrics_.absoluteLeft==t.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position_.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==t.viewHeight&&this.oldHostMetrics_.absoluteTop==t.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position_.y),this.oldHostMetrics_=t}},Blockly.ScrollbarPair.prototype.set=function(t,e){var o={},n=t*this.hScroll.ratio_,r=e*this.vScroll.ratio_,i=this.vScroll.scrollViewSize_;o.x=this.getRatio_(n,this.hScroll.scrollViewSize_),o.y=this.getRatio_(r,i),this.workspace_.setMetrics(o),this.hScroll.setHandlePosition(n),this.vScroll.setHandlePosition(r)},Blockly.ScrollbarPair.prototype.getRatio_=function(t,e){var o=t/e;return isNaN(o)?0:o},Blockly.Scrollbar=function(t,e,o,n){this.workspace_=t,this.pair_=o||!1,this.horizontal_=e,this.oldHostMetrics_=null,this.createDom_(n),this.position_=new Blockly.utils.Coordinate(0,0),t=Blockly.Scrollbar.scrollbarThickness,e?(this.svgBackground_.setAttribute("height",t),this.outerSvg_.setAttribute("height",t),this.svgHandle_.setAttribute("height",t-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",t),this.outerSvg_.setAttribute("width",t),this.svgHandle_.setAttribute("width",t-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=Blockly.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=Blockly.bindEventWithChecks_(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},Blockly.Scrollbar.prototype.origin_=new Blockly.utils.Coordinate(0,0),Blockly.Scrollbar.prototype.startDragMouse_=0,Blockly.Scrollbar.prototype.scrollViewSize_=0,Blockly.Scrollbar.prototype.handleLength_=0,Blockly.Scrollbar.prototype.handlePosition_=0,Blockly.Scrollbar.prototype.isVisible_=!0,Blockly.Scrollbar.prototype.containerVisible_=!0,Blockly.Scrollbar.scrollbarThickness=15,Blockly.Touch.TOUCH_ENABLED&&(Blockly.Scrollbar.scrollbarThickness=25),Blockly.Scrollbar.metricsAreEquivalent_=function(t,e){return!(!t||!e||t.viewWidth!=e.viewWidth||t.viewHeight!=e.viewHeight||t.viewLeft!=e.viewLeft||t.viewTop!=e.viewTop||t.absoluteTop!=e.absoluteTop||t.absoluteLeft!=e.absoluteLeft||t.contentWidth!=e.contentWidth||t.contentHeight!=e.contentHeight||t.contentLeft!=e.contentLeft||t.contentTop!=e.contentTop)},Blockly.Scrollbar.prototype.dispose=function(){this.cleanUp_(),Blockly.unbindEvent_(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,Blockly.unbindEvent_(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,Blockly.utils.dom.removeNode(this.outerSvg_),this.workspace_=this.svgHandle_=this.svgBackground_=this.svgGroup_=this.outerSvg_=null},Blockly.Scrollbar.prototype.setHandleLength_=function(t){this.handleLength_=t,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},Blockly.Scrollbar.prototype.setHandlePosition=function(t){this.handlePosition_=t,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},Blockly.Scrollbar.prototype.setScrollViewSize_=function(t){this.scrollViewSize_=t,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollViewSize_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollViewSize_)},Blockly.ScrollbarPair.prototype.setContainerVisible=function(t){this.hScroll.setContainerVisible(t),this.vScroll.setContainerVisible(t)},Blockly.Scrollbar.prototype.setPosition_=function(t,e){this.position_.x=t,this.position_.y=e,Blockly.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position_.x+this.origin_.x)+"px,"+(this.position_.y+this.origin_.y)+"px)")},Blockly.Scrollbar.prototype.resize=function(t){(t||(t=this.workspace_.getMetrics()))&&(Blockly.Scrollbar.metricsAreEquivalent_(t,this.oldHostMetrics_)||(this.oldHostMetrics_=t,this.horizontal_?this.resizeHorizontal_(t):this.resizeVertical_(t),this.onScroll_()))},Blockly.Scrollbar.prototype.resizeHorizontal_=function(t){this.resizeViewHorizontal(t)},Blockly.Scrollbar.prototype.resizeViewHorizontal=function(t){var e=t.viewWidth-1;this.pair_&&(e-=Blockly.Scrollbar.scrollbarThickness),this.setScrollViewSize_(Math.max(0,e)),e=t.absoluteLeft+.5,this.pair_&&this.workspace_.RTL&&(e+=Blockly.Scrollbar.scrollbarThickness),this.setPosition_(e,t.absoluteTop+t.viewHeight-Blockly.Scrollbar.scrollbarThickness-.5),this.resizeContentHorizontal(t)},Blockly.Scrollbar.prototype.resizeContentHorizontal=function(t){this.pair_||this.setVisible(this.scrollViewSize_<t.contentWidth),this.ratio_=this.scrollViewSize_/t.contentWidth,(-1/0==this.ratio_||1/0==this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0),this.setHandleLength_(Math.max(0,t.viewWidth*this.ratio_)),this.setHandlePosition(this.constrainHandle_((t.viewLeft-t.contentLeft)*this.ratio_))},Blockly.Scrollbar.prototype.resizeVertical_=function(t){this.resizeViewVertical(t)},Blockly.Scrollbar.prototype.resizeViewVertical=function(t){var e=t.viewHeight-1;this.pair_&&(e-=Blockly.Scrollbar.scrollbarThickness),this.setScrollViewSize_(Math.max(0,e)),e=t.absoluteLeft+.5,this.workspace_.RTL||(e+=t.viewWidth-Blockly.Scrollbar.scrollbarThickness-1),this.setPosition_(e,t.absoluteTop+.5),this.resizeContentVertical(t)},Blockly.Scrollbar.prototype.resizeContentVertical=function(t){this.pair_||this.setVisible(this.scrollViewSize_<t.contentHeight),this.ratio_=this.scrollViewSize_/t.contentHeight,(-1/0==this.ratio_||1/0==this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0),this.setHandleLength_(Math.max(0,t.viewHeight*this.ratio_)),this.setHandlePosition(this.constrainHandle_((t.viewTop-t.contentTop)*this.ratio_))},Blockly.Scrollbar.prototype.createDom_=function(t){var e="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");t&&(e+=" "+t),this.outerSvg_=Blockly.utils.dom.createSvgElement("svg",{class:e},null),this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{},this.outerSvg_),this.svgBackground_=Blockly.utils.dom.createSvgElement("rect",{class:"blocklyScrollbarBackground"},this.svgGroup_),t=Math.floor((Blockly.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=Blockly.utils.dom.createSvgElement("rect",{class:"blocklyScrollbarHandle",rx:t,ry:t},this.svgGroup_),Blockly.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())},Blockly.Scrollbar.prototype.isVisible=function(){return this.isVisible_},Blockly.Scrollbar.prototype.setContainerVisible=function(t){var e=t!=this.containerVisible_;this.containerVisible_=t,e&&this.updateDisplay_()},Blockly.Scrollbar.prototype.setVisible=function(t){var e=t!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=t,e&&this.updateDisplay_()},Blockly.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},Blockly.Scrollbar.prototype.onMouseDownBar_=function(t){if(this.workspace_.markFocused(),Blockly.Touch.clearTouchIdentifier(),this.cleanUp_(),Blockly.utils.isRightButton(t))t.stopPropagation();else{var e=Blockly.utils.mouseToSvg(t,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());e=this.horizontal_?e.x:e.y;var o=Blockly.utils.getInjectionDivXY_(this.svgHandle_),n=this.handlePosition_,r=.95*this.handleLength_;e<=(o=this.horizontal_?o.x:o.y)?n-=r:e>=o+this.handleLength_&&(n+=r),this.setHandlePosition(this.constrainHandle_(n)),this.onScroll_(),t.stopPropagation(),t.preventDefault()}},Blockly.Scrollbar.prototype.onMouseDownHandle_=function(t){this.workspace_.markFocused(),this.cleanUp_(),Blockly.utils.isRightButton(t)?t.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?t.clientX:t.clientY,Blockly.Scrollbar.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,this.onMouseUpHandle_),Blockly.Scrollbar.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,this.onMouseMoveHandle_),t.stopPropagation(),t.preventDefault())},Blockly.Scrollbar.prototype.onMouseMoveHandle_=function(t){this.setHandlePosition(this.constrainHandle_(this.startDragHandle+((this.horizontal_?t.clientX:t.clientY)-this.startDragMouse_))),this.onScroll_()},Blockly.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),Blockly.Touch.clearTouchIdentifier(),this.cleanUp_()},Blockly.Scrollbar.prototype.cleanUp_=function(){Blockly.hideChaff(!0),Blockly.Scrollbar.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseUpWrapper_),Blockly.Scrollbar.onMouseUpWrapper_=null),Blockly.Scrollbar.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseMoveWrapper_),Blockly.Scrollbar.onMouseMoveWrapper_=null)},Blockly.Scrollbar.prototype.constrainHandle_=function(t){return 0>=t||isNaN(t)||this.scrollViewSize_<this.handleLength_?0:Math.min(t,this.scrollViewSize_-this.handleLength_)},Blockly.Scrollbar.prototype.onScroll_=function(){var t=this.handlePosition_/this.scrollViewSize_;isNaN(t)&&(t=0);var e={};this.horizontal_?e.x=t:e.y=t,this.workspace_.setMetrics(e)},Blockly.Scrollbar.prototype.set=function(t){this.setHandlePosition(this.constrainHandle_(t*this.ratio_)),this.onScroll_()},Blockly.Scrollbar.prototype.setOrigin=function(t,e){this.origin_=new Blockly.utils.Coordinate(t,e)},Blockly.TouchGesture=function(t,e){Blockly.TouchGesture.superClass_.constructor.call(this,t,e),this.isMultiTouch_=!1,this.cachedPoints_={},this.startDistance_=this.previousScale_=0,this.onStartWrapper_=null},goog.inherits(Blockly.TouchGesture,Blockly.Gesture),Blockly.TouchGesture.ZOOM_IN_MULTIPLIER=5,Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER=6,Blockly.TouchGesture.prototype.doStart=function(t){Blockly.TouchGesture.superClass_.doStart.call(this,t),!this.isEnding_&&Blockly.Touch.isTouchEvent(t)&&this.handleTouchStart(t)},Blockly.TouchGesture.prototype.bindMouseEvents=function(t){this.onStartWrapper_=Blockly.bindEventWithChecks_(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this),!0),t.preventDefault(),t.stopPropagation()},Blockly.TouchGesture.prototype.handleStart=function(t){!this.isDragging()&&Blockly.Touch.isTouchEvent(t)&&(this.handleTouchStart(t),this.isMultiTouch()&&Blockly.longStop_())},Blockly.TouchGesture.prototype.handleMove=function(t){this.isDragging()?Blockly.Touch.shouldHandleEvent(t)&&Blockly.TouchGesture.superClass_.handleMove.call(this,t):this.isMultiTouch()?(Blockly.Touch.isTouchEvent(t)&&this.handleTouchMove(t),Blockly.longStop_()):Blockly.TouchGesture.superClass_.handleMove.call(this,t)},Blockly.TouchGesture.prototype.handleUp=function(t){Blockly.Touch.isTouchEvent(t)&&!this.isDragging()&&this.handleTouchEnd(t),!this.isMultiTouch()||this.isDragging()?Blockly.Touch.shouldHandleEvent(t)&&Blockly.TouchGesture.superClass_.handleUp.call(this,t):(t.preventDefault(),t.stopPropagation(),this.dispose())},Blockly.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},Blockly.TouchGesture.prototype.dispose=function(){Blockly.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&Blockly.unbindEvent_(this.onStartWrapper_)},Blockly.TouchGesture.prototype.handleTouchStart=function(t){var e=Blockly.Touch.getTouchIdentifierFromEvent(t);this.cachedPoints_[e]=this.getTouchPoint(t),2==(e=Object.keys(this.cachedPoints_)).length&&(this.startDistance_=Blockly.utils.Coordinate.distance(this.cachedPoints_[e[0]],this.cachedPoints_[e[1]]),this.isMultiTouch_=!0,t.preventDefault())},Blockly.TouchGesture.prototype.handleTouchMove=function(t){var e=Blockly.Touch.getTouchIdentifierFromEvent(t);if(this.cachedPoints_[e]=this.getTouchPoint(t),2==(e=Object.keys(this.cachedPoints_)).length){if(e=this.touchScale_=Blockly.utils.Coordinate.distance(this.cachedPoints_[e[0]],this.cachedPoints_[e[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var o=e-this.previousScale_;o=0<o?o*Blockly.TouchGesture.ZOOM_IN_MULTIPLIER:o*Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER;var n=this.startWorkspace_,r=Blockly.utils.mouseToSvg(t,n.getParentSvg(),n.getInverseScreenCTM());n.zoom(r.x,r.y,o)}this.previousScale_=e,t.preventDefault()}},Blockly.TouchGesture.prototype.handleTouchEnd=function(t){t=Blockly.Touch.getTouchIdentifierFromEvent(t),this.cachedPoints_[t]&&delete this.cachedPoints_[t],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_={},this.previousScale_=0)},Blockly.TouchGesture.prototype.getTouchPoint=function(t){return this.startWorkspace_?new Blockly.utils.Coordinate(t.pageX?t.pageX:t.changedTouches[0].pageX,t.pageY?t.pageY:t.changedTouches[0].pageY):null},Blockly.Trashcan=function(t){this.workspace_=t,this.hasBlocks_=!1,this.contents_=[],0>=this.workspace_.options.maxTrashcanContents||(t={scrollbars:!0,disabledPatternId:this.workspace_.options.disabledPatternId,parentWorkspace:this.workspace_,RTL:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex},this.workspace_.horizontalLayout?(t.toolboxPosition=this.workspace_.toolboxPosition==Blockly.TOOLBOX_AT_TOP?Blockly.TOOLBOX_AT_BOTTOM:Blockly.TOOLBOX_AT_TOP,this.flyout_=new Blockly.HorizontalFlyout(t)):(t.toolboxPosition=this.workspace_.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?Blockly.TOOLBOX_AT_LEFT:Blockly.TOOLBOX_AT_RIGHT,this.flyout_=new Blockly.VerticalFlyout(t)),this.workspace_.addChangeListener(this.onDelete_()))},Blockly.Trashcan.prototype.WIDTH_=47,Blockly.Trashcan.prototype.BODY_HEIGHT_=44,Blockly.Trashcan.prototype.LID_HEIGHT_=16,Blockly.Trashcan.prototype.MARGIN_BOTTOM_=20,Blockly.Trashcan.prototype.MARGIN_SIDE_=20,Blockly.Trashcan.prototype.MARGIN_HOTSPOT_=10,Blockly.Trashcan.prototype.SPRITE_LEFT_=0,Blockly.Trashcan.prototype.SPRITE_TOP_=32,Blockly.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE=.1,Blockly.Trashcan.prototype.isOpen=!1,Blockly.Trashcan.prototype.minOpenness_=0,Blockly.Trashcan.prototype.svgGroup_=null;Blockly.Trashcan.prototype.svgLid_=null,Blockly.Trashcan.prototype.lidTask_=0,Blockly.Trashcan.prototype.lidOpen_=0,Blockly.Trashcan.prototype.left_=0,Blockly.Trashcan.prototype.top_=0,Blockly.Trashcan.prototype.createDom=function(){this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{class:"blocklyTrash"},null);var t=String(Math.random()).substring(2),e=Blockly.utils.dom.createSvgElement("clipPath",{id:"blocklyTrashBodyClipPath"+t},this.svgGroup_);Blockly.utils.dom.createSvgElement("rect",{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},e);var o=Blockly.utils.dom.createSvgElement("image",{width:Blockly.SPRITE.width,x:-this.SPRITE_LEFT_,height:Blockly.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup_);return o.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+Blockly.SPRITE.url),e=Blockly.utils.dom.createSvgElement("clipPath",{id:"blocklyTrashLidClipPath"+t},this.svgGroup_),Blockly.utils.dom.createSvgElement("rect",{width:this.WIDTH_,height:this.LID_HEIGHT_},e),this.svgLid_=Blockly.utils.dom.createSvgElement("image",{width:Blockly.SPRITE.width,x:-this.SPRITE_LEFT_,height:Blockly.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup_),this.svgLid_.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+Blockly.SPRITE.url),Blockly.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.click),Blockly.bindEvent_(o,"mouseover",this,this.mouseOver_),Blockly.bindEvent_(o,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},Blockly.Trashcan.prototype.init=function(t){return 0<this.workspace_.options.maxTrashcanContents&&(Blockly.utils.dom.insertAfter(this.flyout_.createDom("svg"),this.workspace_.getParentSvg()),this.flyout_.init(this.workspace_),this.flyout_.isBlockCreatable_=function(){return!0}),this.verticalSpacing_=this.MARGIN_BOTTOM_+t,this.setOpen_(!1),this.verticalSpacing_+this.BODY_HEIGHT_+this.LID_HEIGHT_},Blockly.Trashcan.prototype.dispose=function(){this.svgGroup_&&(Blockly.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},Blockly.Trashcan.prototype.position=function(){if(this.verticalSpacing_){var t=this.workspace_.getMetrics();t&&(this.left_=t.toolboxPosition==Blockly.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?t.viewWidth+t.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness,this.top_=t.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM?this.verticalSpacing_:t.viewHeight+t.absoluteTop-(this.BODY_HEIGHT_+this.LID_HEIGHT_)-this.verticalSpacing_,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))}},Blockly.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var t=this.svgGroup_.getBoundingClientRect(),e=t.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;return new Blockly.utils.Rect(e,e+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,t=t.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,t+this.WIDTH_+2*this.MARGIN_HOTSPOT_)},Blockly.Trashcan.prototype.setOpen_=function(t){this.isOpen!=t&&(clearTimeout(this.lidTask_),this.isOpen=t,this.animateLid_())},Blockly.Trashcan.prototype.animateLid_=function(){this.lidOpen_+=this.isOpen?.2:-.2,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(45*this.lidOpen_),this.svgGroup_.style.opacity=.4+.4*this.lidOpen_,this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),20))},Blockly.Trashcan.prototype.setLidAngle_=function(t){var e=this.workspace_.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(e?-t:t)+","+(e?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")},Blockly.Trashcan.prototype.close=function(){this.setOpen_(!1)},Blockly.Trashcan.prototype.click=function(){if(this.hasBlocks_){for(var t,e=[],o=0;t=this.contents_[o];o++)e[o]=Blockly.Xml.textToDom(t);this.flyout_.show(e)}},Blockly.Trashcan.prototype.mouseOver_=function(){this.hasBlocks_&&this.setOpen_(!0)},Blockly.Trashcan.prototype.mouseOut_=function(){this.setOpen_(!1)},Blockly.Trashcan.prototype.onDelete_=function(){var t=this;return function(e){0>=t.workspace_.options.maxTrashcanContents||e.type!=Blockly.Events.BLOCK_DELETE||"shadow"==e.oldXml.tagName.toLowerCase()||(e=t.cleanBlockXML_(e.oldXml),-1==t.contents_.indexOf(e)&&(t.contents_.unshift(e),t.contents_.length>t.workspace_.options.maxTrashcanContents&&t.contents_.splice(t.workspace_.options.maxTrashcanContents,t.contents_.length-t.workspace_.options.maxTrashcanContents),t.hasBlocks_=!0,t.minOpenness_=t.HAS_BLOCKS_LID_ANGLE,t.setLidAngle_(45*t.minOpenness_)))}},Blockly.Trashcan.prototype.cleanBlockXML_=function(t){for(var e=t=t.cloneNode(!0);e;){e.removeAttribute&&(e.removeAttribute("x"),e.removeAttribute("y"),e.removeAttribute("id"));var o=e.firstChild||e.nextSibling;if(!o)for(o=e.parentNode;o;){if(o.nextSibling){o=o.nextSibling;break}o=o.parentNode}e=o}return Blockly.Xml.domToText(t)},Blockly.VariableModel=function(t,e,o,n){this.workspace=t,this.name=e,this.type=o||"",this.id_=n||Blockly.utils.genUid(),Blockly.Events.fire(new Blockly.Events.VarCreate(this))},Blockly.VariableModel.prototype.getId=function(){return this.id_},Blockly.VariableModel.compareByName=function(t,e){var o=t.name.toLowerCase(),n=e.name.toLowerCase();return o<n?-1:o==n?0:1},Blockly.Variables={},Blockly.Variables.NAME_TYPE=Blockly.VARIABLE_CATEGORY_NAME,Blockly.Variables.allUsedVarModels=function(t){var e=t.getAllBlocks(!1);t=Object.create(null);for(var o=0;o<e.length;o++){var n=e[o].getVarModels();if(n)for(var r=0;r<n.length;r++){var i=n[r],s=i.getId();s&&(t[s]=i)}}for(s in e=[],t)e.push(t[s]);return e},Blockly.Variables.allUsedVariables=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")},Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={},Blockly.Variables.allDeveloperVariables=function(t){t=t.getAllBlocks(!1);for(var e,o=Object.create(null),n=0;e=t[n];n++){var r=e.getDeveloperVariables;if(!r&&e.getDeveloperVars&&(r=e.getDeveloperVars,Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[e.type]=!0)),r)for(e=r(),r=0;r<e.length;r++)o[e[r]]=!0}return Object.keys(o)},Blockly.Variables.flyoutCategory=function(t){var e=[],o=document.createElement("button");return o.setAttribute("text","%{BKY_NEW_VARIABLE}"),o.setAttribute("callbackKey","CREATE_VARIABLE"),t.registerButtonCallback("CREATE_VARIABLE",(function(t){Blockly.Variables.createVariableButtonHandler(t.getTargetWorkspace())})),e.push(o),t=Blockly.Variables.flyoutCategoryBlocks(t),e.concat(t)},Blockly.Variables.flyoutCategoryBlocks=function(t){var e=[];if(0<(t=t.getVariablesOfType("")).length){var o=t[t.length-1];if(Blockly.Blocks.variables_set){var n=Blockly.utils.xml.createElement("block");n.setAttribute("type","variables_set"),n.setAttribute("gap",Blockly.Blocks.math_change?8:24),n.appendChild(Blockly.Variables.generateVariableFieldDom(o)),e.push(n)}if(Blockly.Blocks.math_change&&((n=Blockly.utils.xml.createElement("block")).setAttribute("type","math_change"),n.setAttribute("gap",Blockly.Blocks.variables_get?20:8),n.appendChild(Blockly.Variables.generateVariableFieldDom(o)),o=Blockly.Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),n.appendChild(o),e.push(n)),Blockly.Blocks.variables_get){t.sort(Blockly.VariableModel.compareByName),o=0;for(var r;r=t[o];o++)(n=Blockly.utils.xml.createElement("block")).setAttribute("type","variables_get"),n.setAttribute("gap",8),n.appendChild(Blockly.Variables.generateVariableFieldDom(r)),e.push(n)}}return e},Blockly.Variables.generateUniqueName=function(t){var e="";if((t=t.getAllVariables()).length)for(var o=1,n=0,r="ijkmnopqrstuvwxyzabcdefgh".charAt(n);!e;){for(var i=!1,s=0;s<t.length;s++)if(t[s].name.toLowerCase()==r){i=!0;break}i?(25==++n&&(n=0,o++),r="ijkmnopqrstuvwxyzabcdefgh".charAt(n),1<o&&(r+=o)):e=r}else e="i";return e},Blockly.Variables.createVariableButtonHandler=function(t,e,o){var n=o||"",r=function(o){Blockly.Variables.promptName(Blockly.Msg.NEW_VARIABLE_TITLE,o,(function(o){if(o){var i=Blockly.Variables.nameUsedWithAnyType_(o,t);if(i){var s=o.toLowerCase();if(i.type==n)var l=Blockly.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",s);else l=(l=Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",s).replace("%2",i.type);Blockly.alert(l,(function(){r(o)}))}else t.createVariable(o,n),e&&e(o)}else e&&e(null)}))};r("")},goog.exportSymbol("Blockly.Variables.createVariableButtonHandler",Blockly.Variables.createVariableButtonHandler),Blockly.Variables.createVariable=Blockly.Variables.createVariableButtonHandler,goog.exportSymbol("Blockly.Variables.createVariable",Blockly.Variables.createVariable),Blockly.Variables.renameVariable=function(t,e,o){var n=function(r){var i=Blockly.Msg.RENAME_VARIABLE_TITLE.replace("%1",e.name);Blockly.Variables.promptName(i,r,(function(r){if(r){var i=Blockly.Variables.nameUsedWithOtherType_(r,e.type,t);i?(i=Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",r.toLowerCase()).replace("%2",i.type),Blockly.alert(i,(function(){n(r)}))):(t.renameVariableById(e.getId(),r),o&&o(r))}else o&&o(null)}))};n("")},Blockly.Variables.promptName=function(t,e,o){Blockly.prompt(t,e,(function(t){t&&((t=t.replace(/[\s\xa0]+/g," ").trim())==Blockly.Msg.RENAME_VARIABLE||t==Blockly.Msg.NEW_VARIABLE)&&(t=null),o(t)}))},Blockly.Variables.nameUsedWithOtherType_=function(t,e,o){o=o.getVariableMap().getAllVariables(),t=t.toLowerCase();for(var n,r=0;n=o[r];r++)if(n.name.toLowerCase()==t&&n.type!=e)return n;return null},Blockly.Variables.nameUsedWithAnyType_=function(t,e){var o=e.getVariableMap().getAllVariables();t=t.toLowerCase();for(var n,r=0;n=o[r];r++)if(n.name.toLowerCase()==t)return n;return null},Blockly.Variables.generateVariableFieldDom=function(t){var e=Blockly.utils.xml.createElement("field");return e.setAttribute("name","VAR"),e.setAttribute("id",t.getId()),e.setAttribute("variabletype",t.type),t=Blockly.utils.xml.createTextNode(t.name),e.appendChild(t),e},Blockly.Variables.getOrCreateVariablePackage=function(t,e,o,n){var r=Blockly.Variables.getVariable(t,e,o,n);return r||(r=Blockly.Variables.createVariable_(t,e,o,n)),r},Blockly.Variables.getVariable=function(t,e,o,n){var r=t.getPotentialVariableMap();if(e){var i=t.getVariableById(e);if(!i&&r&&(i=r.getVariableById(e)),i)return i}if(o){if(null==n)throw Error("Tried to look up a variable by name without a type");!(i=t.getVariable(o,n))&&r&&(i=r.getVariable(o,n))}return i},Blockly.Variables.createVariable_=function(t,e,o,n){var r=t.getPotentialVariableMap();return o||(o=Blockly.Variables.generateUniqueName(t.isFlyout?t.targetWorkspace:t)),r?r.createVariable(o,n,e):t.createVariable(o,n,e)},Blockly.Variables.getAddedVariables=function(t,e){var o=t.getAllVariables(),n=[];if(e.length!=o.length)for(var r=0;r<o.length;r++){var i=o[r];-1==e.indexOf(i)&&n.push(i)}return n},Blockly.VariablesDynamic={},Blockly.VariablesDynamic.onCreateVariableButtonClick_String=function(t){Blockly.Variables.createVariableButtonHandler(t.getTargetWorkspace(),null,"String")},Blockly.VariablesDynamic.onCreateVariableButtonClick_Number=function(t){Blockly.Variables.createVariableButtonHandler(t.getTargetWorkspace(),null,"Number")},Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour=function(t){Blockly.Variables.createVariableButtonHandler(t.getTargetWorkspace(),null,"Colour")},Blockly.VariablesDynamic.flyoutCategory=function(t){var e=[],o=document.createElement("button");return o.setAttribute("text",Blockly.Msg.NEW_STRING_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),e.push(o),(o=document.createElement("button")).setAttribute("text",Blockly.Msg.NEW_NUMBER_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),e.push(o),(o=document.createElement("button")).setAttribute("text",Blockly.Msg.NEW_COLOUR_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),e.push(o),t.registerButtonCallback("CREATE_VARIABLE_STRING",Blockly.VariablesDynamic.onCreateVariableButtonClick_String),t.registerButtonCallback("CREATE_VARIABLE_NUMBER",Blockly.VariablesDynamic.onCreateVariableButtonClick_Number),t.registerButtonCallback("CREATE_VARIABLE_COLOUR",Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour),t=Blockly.VariablesDynamic.flyoutCategoryBlocks(t),e.concat(t)},Blockly.VariablesDynamic.flyoutCategoryBlocks=function(t){var e=[];if(0<(t=t.getAllVariables()).length){if(Blockly.Blocks.variables_set_dynamic){var o=t[t.length-1],n=Blockly.utils.xml.createElement("block");n.setAttribute("type","variables_set_dynamic"),n.setAttribute("gap",24),n.appendChild(Blockly.Variables.generateVariableFieldDom(o)),e.push(n)}if(Blockly.Blocks.variables_get_dynamic){t.sort(Blockly.VariableModel.compareByName),o=0;for(var r;r=t[o];o++)(n=Blockly.utils.xml.createElement("block")).setAttribute("type","variables_get_dynamic"),n.setAttribute("gap",8),n.appendChild(Blockly.Variables.generateVariableFieldDom(r)),e.push(n)}}return e},Blockly.WorkspaceAudio=function(t){this.parentWorkspace_=t,this.SOUNDS_=Object.create(null)},Blockly.WorkspaceAudio.prototype.lastSound_=null,Blockly.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},Blockly.WorkspaceAudio.prototype.load=function(t,e){if(t.length){try{var o=new Blockly.utils.global.Audio}catch(l){return}for(var n,r=0;r<t.length;r++){var i=t[r],s=i.match(/\.(\w+)$/);if(s&&o.canPlayType("audio/"+s[1])){n=new Blockly.utils.global.Audio(i);break}}n&&n.play&&(this.SOUNDS_[e]=n)}},Blockly.WorkspaceAudio.prototype.preload=function(){for(var t in this.SOUNDS_){var e=this.SOUNDS_[t];if(e.volume=.01,e.play().catch((function(){})),e.pause(),Blockly.utils.userAgent.IPAD||Blockly.utils.userAgent.IPHONE)break}},Blockly.WorkspaceAudio.prototype.play=function(t,e){var o=this.SOUNDS_[t];if(o){var n=new Date;null!=this.lastSound_&&n-this.lastSound_<Blockly.SOUND_LIMIT||(this.lastSound_=n,(o=Blockly.utils.userAgent.IPAD||Blockly.utils.userAgent.ANDROID?o:o.cloneNode()).volume=void 0===e?1:e,o.play())}else this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(t,e)},Blockly.WorkspaceCommentSvg.render={},Blockly.WorkspaceCommentSvg.RESIZE_SIZE=8,Blockly.WorkspaceCommentSvg.BORDER_RADIUS=3,Blockly.WorkspaceCommentSvg.TEXTAREA_OFFSET=2,Blockly.WorkspaceCommentSvg.TOP_OFFSET=10,Blockly.WorkspaceCommentSvg.prototype.getHeightWidth=function(){return{width:this.getWidth(),height:this.getHeight()}},Blockly.WorkspaceCommentSvg.prototype.render=function(){if(!this.rendered_){var t=this.getHeightWidth();this.createEditor_(),this.svgGroup_.appendChild(this.foreignObject_),this.svgHandleTarget_=Blockly.utils.dom.createSvgElement("rect",{class:"blocklyCommentHandleTarget",x:0,y:0}),this.svgGroup_.appendChild(this.svgHandleTarget_),this.svgRectTarget_=Blockly.utils.dom.createSvgElement("rect",{class:"blocklyCommentTarget",x:0,y:0,rx:Blockly.WorkspaceCommentSvg.BORDER_RADIUS,ry:Blockly.WorkspaceCommentSvg.BORDER_RADIUS}),this.svgGroup_.appendChild(this.svgRectTarget_),this.addResizeDom_(),this.isDeletable()&&this.addDeleteDom_(),this.setSize_(t.width,t.height),this.textarea_.value=this.content_,this.rendered_=!0,this.resizeGroup_&&Blockly.bindEventWithChecks_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_),this.isDeletable()&&(Blockly.bindEventWithChecks_(this.deleteGroup_,"mousedown",this,this.deleteMouseDown_),Blockly.bindEventWithChecks_(this.deleteGroup_,"mouseout",this,this.deleteMouseOut_),Blockly.bindEventWithChecks_(this.deleteGroup_,"mouseup",this,this.deleteMouseUp_))}},Blockly.WorkspaceCommentSvg.prototype.createEditor_=function(){this.foreignObject_=Blockly.utils.dom.createSvgElement("foreignObject",{x:0,y:Blockly.WorkspaceCommentSvg.TOP_OFFSET,class:"blocklyCommentForeignObject"},null);var t=document.createElementNS(Blockly.utils.dom.HTML_NS,"body");t.setAttribute("xmlns",Blockly.utils.dom.HTML_NS),t.className="blocklyMinimalBody";var e=document.createElementNS(Blockly.utils.dom.HTML_NS,"textarea");return e.className="blocklyCommentTextarea",e.setAttribute("dir",this.RTL?"RTL":"LTR"),t.appendChild(e),this.textarea_=e,this.foreignObject_.appendChild(t),Blockly.bindEventWithChecks_(e,"wheel",this,(function(t){t.stopPropagation()})),Blockly.bindEventWithChecks_(e,"change",this,(function(t){this.setContent(e.value)})),this.foreignObject_},Blockly.WorkspaceCommentSvg.prototype.addResizeDom_=function(){this.resizeGroup_=Blockly.utils.dom.createSvgElement("g",{class:this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup_);var t=Blockly.WorkspaceCommentSvg.RESIZE_SIZE;Blockly.utils.dom.createSvgElement("polygon",{points:"0,x x,x x,0".replace(/x/g,t.toString())},this.resizeGroup_),Blockly.utils.dom.createSvgElement("line",{class:"blocklyResizeLine",x1:t/3,y1:t-1,x2:t-1,y2:t/3},this.resizeGroup_),Blockly.utils.dom.createSvgElement("line",{class:"blocklyResizeLine",x1:2*t/3,y1:t-1,x2:t-1,y2:2*t/3},this.resizeGroup_)},Blockly.WorkspaceCommentSvg.prototype.addDeleteDom_=function(){this.deleteGroup_=Blockly.utils.dom.createSvgElement("g",{class:"blocklyCommentDeleteIcon"},this.svgGroup_),this.deleteIconBorder_=Blockly.utils.dom.createSvgElement("circle",{class:"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup_),Blockly.utils.dom.createSvgElement("line",{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup_),Blockly.utils.dom.createSvgElement("line",{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.deleteGroup_)},Blockly.WorkspaceCommentSvg.prototype.resizeMouseDown_=function(t){this.unbindDragEvents_(),Blockly.utils.isRightButton(t)||(this.workspace.startDrag(t,new Blockly.utils.Coordinate(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,this.resizeMouseUp_),this.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,this.resizeMouseMove_),Blockly.hideChaff()),t.stopPropagation()},Blockly.WorkspaceCommentSvg.prototype.deleteMouseDown_=function(t){Blockly.utils.dom.addClass(this.deleteIconBorder_,"blocklyDeleteIconHighlighted"),t.stopPropagation()},Blockly.WorkspaceCommentSvg.prototype.deleteMouseOut_=function(t){Blockly.utils.dom.removeClass(this.deleteIconBorder_,"blocklyDeleteIconHighlighted")},Blockly.WorkspaceCommentSvg.prototype.deleteMouseUp_=function(t){this.dispose(!0,!0),t.stopPropagation()},Blockly.WorkspaceCommentSvg.prototype.unbindDragEvents_=function(){this.onMouseUpWrapper_&&(Blockly.unbindEvent_(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(Blockly.unbindEvent_(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)},Blockly.WorkspaceCommentSvg.prototype.resizeMouseUp_=function(){Blockly.Touch.clearTouchIdentifier(),this.unbindDragEvents_()},Blockly.WorkspaceCommentSvg.prototype.resizeMouseMove_=function(t){this.autoLayout_=!1,t=this.workspace.moveDrag(t),this.setSize_(this.RTL?-t.x:t.x,t.y)},Blockly.WorkspaceCommentSvg.prototype.resizeComment_=function(){var t=this.getHeightWidth(),e=Blockly.WorkspaceCommentSvg.TOP_OFFSET,o=2*Blockly.WorkspaceCommentSvg.TEXTAREA_OFFSET;this.foreignObject_.setAttribute("width",t.width),this.foreignObject_.setAttribute("height",t.height-e),this.RTL&&this.foreignObject_.setAttribute("x",-t.width),this.textarea_.style.width=t.width-o+"px",this.textarea_.style.height=t.height-o-e+"px"},Blockly.WorkspaceCommentSvg.prototype.setSize_=function(t,e){t=Math.max(t,45),e=Math.max(e,20+Blockly.WorkspaceCommentSvg.TOP_OFFSET),this.width_=t,this.height_=e,this.svgRect_.setAttribute("width",t),this.svgRect_.setAttribute("height",e),this.svgRectTarget_.setAttribute("width",t),this.svgRectTarget_.setAttribute("height",e),this.svgHandleTarget_.setAttribute("width",t),this.svgHandleTarget_.setAttribute("height",Blockly.WorkspaceCommentSvg.TOP_OFFSET),this.RTL&&(this.svgRect_.setAttribute("transform","scale(-1 1)"),this.svgRectTarget_.setAttribute("transform","scale(-1 1)"));var o=Blockly.WorkspaceCommentSvg.RESIZE_SIZE;this.resizeGroup_&&(this.RTL?(this.resizeGroup_.setAttribute("transform","translate("+(-t+o)+","+(e-o)+") scale(-1 1)"),this.deleteGroup_.setAttribute("transform","translate("+(-t+o)+","+-o+") scale(-1 1)")):(this.resizeGroup_.setAttribute("transform","translate("+(t-o)+","+(e-o)+")"),this.deleteGroup_.setAttribute("transform","translate("+(t-o)+","+-o+")"))),this.resizeComment_()},Blockly.WorkspaceCommentSvg.prototype.disposeInternal_=function(){this.svgHandleTarget_=this.svgRectTarget_=this.foreignObject_=this.textarea_=null,this.disposed_=!0},Blockly.WorkspaceCommentSvg.prototype.setFocus=function(){var t=this;this.focused_=!0,setTimeout((function(){t.disposed_||(t.textarea_.focus(),t.addFocus(),Blockly.utils.dom.addClass(t.svgRectTarget_,"blocklyCommentTargetFocused"),Blockly.utils.dom.addClass(t.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))}),0)},Blockly.WorkspaceCommentSvg.prototype.blurFocus=function(){var t=this;this.focused_=!1,setTimeout((function(){t.disposed_||(t.textarea_.blur(),t.removeFocus(),Blockly.utils.dom.removeClass(t.svgRectTarget_,"blocklyCommentTargetFocused"),Blockly.utils.dom.removeClass(t.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))}),0)},Blockly.WorkspaceDragSurfaceSvg=function(t){this.container_=t,this.createDom()},Blockly.WorkspaceDragSurfaceSvg.prototype.SVG_=null,Blockly.WorkspaceDragSurfaceSvg.prototype.dragGroup_=null,Blockly.WorkspaceDragSurfaceSvg.prototype.container_=null,Blockly.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=Blockly.utils.dom.createSvgElement("svg",{xmlns:Blockly.utils.dom.SVG_NS,"xmlns:html":Blockly.utils.dom.HTML_NS,"xmlns:xlink":Blockly.utils.dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},Blockly.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(t,e){var o=t.toFixed(0),n=e.toFixed(0);this.SVG_.style.display="block",Blockly.utils.dom.setCssTransform(this.SVG_,"translate3d("+o+"px, "+n+"px, 0px)")},Blockly.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return Blockly.utils.getRelativeXY(this.SVG_)},Blockly.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(t){if(!t)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var e=this.SVG_.childNodes[0],o=this.SVG_.childNodes[1];if(!(e&&o&&Blockly.utils.dom.hasClass(e,"blocklyBlockCanvas")&&Blockly.utils.dom.hasClass(o,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!=this.previousSibling_?Blockly.utils.dom.insertAfter(e,this.previousSibling_):t.insertBefore(e,t.firstChild),Blockly.utils.dom.insertAfter(o,e),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");Blockly.utils.dom.setCssTransform(this.SVG_,""),this.previousSibling_=null},Blockly.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(t,e,o,n,r,i){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=o,t.setAttribute("transform","translate(0, 0) scale("+i+")"),e.setAttribute("transform","translate(0, 0) scale("+i+")"),this.SVG_.setAttribute("width",n),this.SVG_.setAttribute("height",r),this.SVG_.appendChild(t),this.SVG_.appendChild(e),this.SVG_.style.display="block"},Blockly.ZoomControls=function(t){this.workspace_=t},Blockly.ZoomControls.prototype.WIDTH_=32,Blockly.ZoomControls.prototype.HEIGHT_=110,Blockly.ZoomControls.prototype.MARGIN_BOTTOM_=20,Blockly.ZoomControls.prototype.MARGIN_SIDE_=20,Blockly.ZoomControls.prototype.svgGroup_=null,Blockly.ZoomControls.prototype.left_=0,Blockly.ZoomControls.prototype.top_=0,Blockly.ZoomControls.prototype.createDom=function(){this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{},null);var t=String(Math.random()).substring(2);return this.createZoomOutSvg_(t),this.createZoomInSvg_(t),this.workspace_.isMovable()&&this.createZoomResetSvg_(t),this.svgGroup_},Blockly.ZoomControls.prototype.init=function(t){return this.verticalSpacing_=this.MARGIN_BOTTOM_+t,this.verticalSpacing_+this.HEIGHT_},Blockly.ZoomControls.prototype.dispose=function(){this.svgGroup_&&(Blockly.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=null},Blockly.ZoomControls.prototype.position=function(){if(this.verticalSpacing_){var t=this.workspace_.getMetrics();t&&(this.left_=t.toolboxPosition==Blockly.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?t.viewWidth+t.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness,t.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM?(this.top_=this.verticalSpacing_,this.zoomInGroup_.setAttribute("transform","translate(0, 34)"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, 77)")):(this.top_=t.viewHeight+t.absoluteTop-this.HEIGHT_-this.verticalSpacing_,this.zoomInGroup_.setAttribute("transform","translate(0, 43)"),this.zoomOutGroup_.setAttribute("transform","translate(0, 77)")),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))}},Blockly.ZoomControls.prototype.createZoomOutSvg_=function(t){var e=this.workspace_;this.zoomOutGroup_=Blockly.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var o=Blockly.utils.dom.createSvgElement("clipPath",{id:"blocklyZoomoutClipPath"+t},this.zoomOutGroup_);Blockly.utils.dom.createSvgElement("rect",{width:32,height:32},o),(t=Blockly.utils.dom.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+t+")"},this.zoomOutGroup_)).setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",e.options.pathToMedia+Blockly.SPRITE.url),Blockly.bindEventWithChecks_(t,"mousedown",null,(function(t){e.markFocused(),e.zoomCenter(-1),Blockly.Touch.clearTouchIdentifier(),t.stopPropagation(),t.preventDefault()}))},Blockly.ZoomControls.prototype.createZoomInSvg_=function(t){var e=this.workspace_;this.zoomInGroup_=Blockly.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var o=Blockly.utils.dom.createSvgElement("clipPath",{id:"blocklyZoominClipPath"+t},this.zoomInGroup_);Blockly.utils.dom.createSvgElement("rect",{width:32,height:32},o),(t=Blockly.utils.dom.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+t+")"},this.zoomInGroup_)).setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",e.options.pathToMedia+Blockly.SPRITE.url),Blockly.bindEventWithChecks_(t,"mousedown",null,(function(t){e.markFocused(),e.zoomCenter(1),Blockly.Touch.clearTouchIdentifier(),t.stopPropagation(),t.preventDefault()}))},Blockly.ZoomControls.prototype.createZoomResetSvg_=function(t){var e=this.workspace_;this.zoomResetGroup_=Blockly.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var o=Blockly.utils.dom.createSvgElement("clipPath",{id:"blocklyZoomresetClipPath"+t},this.zoomResetGroup_);Blockly.utils.dom.createSvgElement("rect",{width:32,height:32},o),(t=Blockly.utils.dom.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+t+")"},this.zoomResetGroup_)).setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",e.options.pathToMedia+Blockly.SPRITE.url),Blockly.bindEventWithChecks_(t,"mousedown",null,(function(t){e.markFocused(),e.setScale(e.options.zoomOptions.startScale),e.beginCanvasTransition(),e.scrollCenter(),setTimeout((function(){e.endCanvasTransition()}),500),Blockly.Touch.clearTouchIdentifier(),t.stopPropagation(),t.preventDefault()}))},Blockly.WorkspaceSvg=function(t,e,o){Blockly.WorkspaceSvg.superClass_.constructor.call(this,t),this.getMetrics=t.getMetrics||Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_,this.setMetrics=t.setMetrics||Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.connectionDBList=Blockly.ConnectionDB.init(),e&&(this.blockDragSurface_=e),o&&(this.workspaceDragSurface_=o),this.useWorkspaceDragSurface_=this.workspaceDragSurface_&&Blockly.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new Blockly.WorkspaceAudio(t.parentWorkspace),this.grid_=this.options.gridPattern?new Blockly.Grid(t.gridPattern,t.gridOptions):null,Blockly.Variables&&Blockly.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(Blockly.VARIABLE_CATEGORY_NAME,Blockly.Variables.flyoutCategory),Blockly.VariablesDynamic&&Blockly.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME,Blockly.VariablesDynamic.flyoutCategory),Blockly.Procedures&&Blockly.Procedures.flyoutCategory&&this.registerToolboxCategoryCallback(Blockly.PROCEDURE_CATEGORY_NAME,Blockly.Procedures.flyoutCategory)},goog.inherits(Blockly.WorkspaceSvg,Blockly.Workspace),Blockly.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,Blockly.WorkspaceSvg.prototype.rendered=!0,Blockly.WorkspaceSvg.prototype.isVisible_=!0,Blockly.WorkspaceSvg.prototype.isFlyout=!1,Blockly.WorkspaceSvg.prototype.isMutator=!1,Blockly.WorkspaceSvg.prototype.resizesEnabled_=!0,Blockly.WorkspaceSvg.prototype.scrollX=0,Blockly.WorkspaceSvg.prototype.scrollY=0,Blockly.WorkspaceSvg.prototype.startScrollX=0,Blockly.WorkspaceSvg.prototype.startScrollY=0,Blockly.WorkspaceSvg.prototype.dragDeltaXY_=null,Blockly.WorkspaceSvg.prototype.scale=1,Blockly.WorkspaceSvg.prototype.trashcan=null,Blockly.WorkspaceSvg.prototype.scrollbar=null,Blockly.WorkspaceSvg.prototype.flyout_=null,Blockly.WorkspaceSvg.prototype.toolbox_=null,Blockly.WorkspaceSvg.prototype.currentGesture_=null,Blockly.WorkspaceSvg.prototype.blockDragSurface_=null,Blockly.WorkspaceSvg.prototype.workspaceDragSurface_=null,Blockly.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,Blockly.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,Blockly.WorkspaceSvg.prototype.injectionDiv_=null,Blockly.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,Blockly.WorkspaceSvg.prototype.flyoutButtonCallbacks_={},Blockly.WorkspaceSvg.prototype.toolboxCategoryCallbacks_={},Blockly.WorkspaceSvg.prototype.configureContextMenu=null,Blockly.WorkspaceSvg.prototype.targetWorkspace=null,Blockly.WorkspaceSvg.prototype.inverseScreenCTM_=null,Blockly.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,Blockly.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var t=this.getParentSvg().getScreenCTM();t&&(this.inverseScreenCTM_=t.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},Blockly.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},Blockly.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},Blockly.WorkspaceSvg.prototype.getSvgXY=function(t){var e=0,o=0,n=1;(Blockly.utils.dom.containsNode(this.getCanvas(),t)||Blockly.utils.dom.containsNode(this.getBubbleCanvas(),t))&&(n=this.scale);do{var r=Blockly.utils.getRelativeXY(t);t!=this.getCanvas()&&t!=this.getBubbleCanvas()||(n=1),e+=r.x*n,o+=r.y*n,t=t.parentNode}while(t&&t!=this.getParentSvg());return new Blockly.utils.Coordinate(e,o)},Blockly.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return Blockly.utils.getInjectionDivXY_(this.svgBlockCanvas_)},Blockly.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var t=this.svgGroup_;t;){if(-1!=(" "+(t.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=t;break}t=t.parentNode}return this.injectionDiv_},Blockly.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(t){this.resizeHandlerWrapper_=t},Blockly.WorkspaceSvg.prototype.createDom=function(t){return this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{class:"blocklyWorkspace"},null),t&&(this.svgBackground_=Blockly.utils.dom.createSvgElement("rect",{height:"100%",width:"100%",class:t},this.svgGroup_),"blocklyMainBackground"==t&&this.grid_&&(this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")")),this.svgBlockCanvas_=Blockly.utils.dom.createSvgElement("g",{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=Blockly.utils.dom.createSvgElement("g",{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(Blockly.bindEventWithChecks_(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),Blockly.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new Blockly.Toolbox(this)),this.grid_&&this.grid_.update(this.scale),this.recordDeleteAreas(),this.svgGroup_},Blockly.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),Blockly.WorkspaceSvg.superClass_.dispose.call(this),this.svgGroup_&&(Blockly.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var t=this.getParentSvg().parentNode;t&&Blockly.utils.dom.removeNode(t)}this.resizeHandlerWrapper_&&(Blockly.unbindEvent_(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},Blockly.WorkspaceSvg.prototype.newBlock=function(t,e){return new Blockly.BlockSvg(this,t,e)},Blockly.WorkspaceSvg.prototype.addTrashcan=function(){this.trashcan=new Blockly.Trashcan(this);var t=this.trashcan.createDom();this.svgGroup_.insertBefore(t,this.svgBlockCanvas_)},Blockly.WorkspaceSvg.prototype.addZoomControls=function(){this.zoomControls_=new Blockly.ZoomControls(this);var t=this.zoomControls_.createDom();this.svgGroup_.appendChild(t)},Blockly.WorkspaceSvg.prototype.addFlyout_=function(t){var e={disabledPatternId:this.options.disabledPatternId,parentWorkspace:this,RTL:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,toolboxPosition:this.options.toolboxPosition};return this.flyout_=this.horizontalLayout?new Blockly.HorizontalFlyout(e):new Blockly.VerticalFlyout(e),this.flyout_.autoClose=!1,this.flyout_.createDom(t)},Blockly.WorkspaceSvg.prototype.getFlyout=function(){return this.flyout_?this.flyout_:this.toolbox_?this.toolbox_.flyout_:null},Blockly.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},Blockly.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDeleteAreas()},Blockly.WorkspaceSvg.prototype.resizeContents=function(){if(this.resizesEnabled_&&this.rendered){if(this.scrollbar){var t=this.getMetrics();this.scrollbar.hScroll.resizeContentHorizontal(t),this.scrollbar.vScroll.resizeContentVertical(t)}this.updateInverseScreenCTM()}},Blockly.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position(),this.trashcan&&this.trashcan.position(),this.zoomControls_&&this.zoomControls_.position(),this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},Blockly.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var t=Blockly.utils.getDocumentScroll();Blockly.utils.Coordinate.equals(this.lastRecordedPageScroll_,t)||(this.lastRecordedPageScroll_=t,this.updateScreenCalculations_())},Blockly.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},Blockly.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},Blockly.WorkspaceSvg.prototype.getParentSvg=function(){if(this.cachedParentSvg_)return this.cachedParentSvg_;for(var t=this.svgGroup_;t;){if("svg"==t.tagName)return this.cachedParentSvg_=t;t=t.parentNode}return null},Blockly.WorkspaceSvg.prototype.translate=function(t,e){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(t,e);else{var o="translate("+t+","+e+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",o),this.svgBubbleCanvas_.setAttribute("transform",o)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(t,e,this.scale),this.grid_&&this.grid_.moveTo(t,e)},Blockly.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var t=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),this.svgBlockCanvas_.setAttribute("transform",t="translate("+t.x+","+t.y+") scale("+this.scale+")"),this.svgBubbleCanvas_.setAttribute("transform",t)}},Blockly.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var t=this.svgBlockCanvas_.previousSibling,e=parseInt(this.getParentSvg().getAttribute("width"),10),o=parseInt(this.getParentSvg().getAttribute("height"),10),n=Blockly.utils.getRelativeXY(this.svgBlockCanvas_);this.workspaceDragSurface_.setContentsAndShow(this.svgBlockCanvas_,this.svgBubbleCanvas_,t,e,o,this.scale),this.workspaceDragSurface_.translateSurface(n.x,n.y)}},Blockly.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},Blockly.WorkspaceSvg.prototype.getWidth=function(){var t=this.getMetrics();return t?t.viewWidth/this.scale:0},Blockly.WorkspaceSvg.prototype.setVisible=function(t){this.scrollbar&&this.scrollbar.setContainerVisible(t),this.getFlyout()&&this.getFlyout().setContainerVisible(t),this.getParentSvg().style.display=t?"block":"none",this.toolbox_&&(this.toolbox_.HtmlDiv.style.display=t?"block":"none"),t?(this.render(),this.toolbox_&&this.toolbox_.position()):Blockly.hideChaff(!0),this.isVisible_=t},Blockly.WorkspaceSvg.prototype.render=function(){for(var t=this.getAllBlocks(!1),e=t.length-1;0<=e;e--)t[e].render(!1);if(this.currentGesture_)for(t=this.currentGesture_.getInsertionMarkers(),e=0;e<t.length;e++)t[e].render(!1)},Blockly.WorkspaceSvg.prototype.traceOn=function(){console.warn("Deprecated call to traceOn, delete this.")},Blockly.WorkspaceSvg.prototype.highlightBlock=function(t,e){if(void 0===e){for(var o,n=0;o=this.highlightedBlocks_[n];n++)o.setHighlighted(!1);this.highlightedBlocks_.length=0}(o=t?this.getBlockById(t):null)&&((n=void 0===e||e)?-1==this.highlightedBlocks_.indexOf(o)&&this.highlightedBlocks_.push(o):Blockly.utils.arrayRemove(this.highlightedBlocks_,o),o.setHighlighted(n))},Blockly.WorkspaceSvg.prototype.paste=function(t){!this.rendered||t.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==t.tagName.toLowerCase()?this.pasteWorkspaceComment_(t):this.pasteBlock_(t))},Blockly.WorkspaceSvg.prototype.pasteBlock_=function(t){Blockly.Events.disable();try{var e=Blockly.Xml.domToBlock(t,this),o=parseInt(t.getAttribute("x"),10),n=parseInt(t.getAttribute("y"),10);if(!isNaN(o)&&!isNaN(n)){this.RTL&&(o=-o);do{t=!1;for(var r,i=this.getAllBlocks(!1),s=0;r=i[s];s++){var l=r.getRelativeToSurfaceXY();if(1>=Math.abs(o-l.x)&&1>=Math.abs(n-l.y)){t=!0;break}}if(!t){var a,u=e.getConnections_(!1);for(s=0;a=u[s];s++)if(a.closest(Blockly.SNAP_RADIUS,new Blockly.utils.Coordinate(o,n)).connection){t=!0;break}}t&&(o=this.RTL?o-Blockly.SNAP_RADIUS:o+Blockly.SNAP_RADIUS,n+=2*Blockly.SNAP_RADIUS)}while(t);e.moveBy(o,n)}}finally{Blockly.Events.enable()}Blockly.Events.isEnabled()&&!e.isShadow()&&Blockly.Events.fire(new Blockly.Events.BlockCreate(e)),e.select()},Blockly.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(t){Blockly.Events.disable();try{var e=Blockly.WorkspaceCommentSvg.fromXml(t,this),o=parseInt(t.getAttribute("x"),10),n=parseInt(t.getAttribute("y"),10);isNaN(o)||isNaN(n)||(this.RTL&&(o=-o),e.moveBy(o+50,n+50))}finally{Blockly.Events.enable()}Blockly.Events.isEnabled(),e.select()},Blockly.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var t=this.isFlyout?this.targetWorkspace:this;t&&!t.currentGesture_&&t.toolbox_&&t.toolbox_.flyout_&&t.toolbox_.refreshSelection()},Blockly.WorkspaceSvg.prototype.renameVariableById=function(t,e){Blockly.WorkspaceSvg.superClass_.renameVariableById.call(this,t,e),this.refreshToolboxSelection()},Blockly.WorkspaceSvg.prototype.deleteVariableById=function(t){Blockly.WorkspaceSvg.superClass_.deleteVariableById.call(this,t),this.refreshToolboxSelection()},Blockly.WorkspaceSvg.prototype.createVariable=function(t,e,o){return t=Blockly.WorkspaceSvg.superClass_.createVariable.call(this,t,e,o),this.refreshToolboxSelection(),t},Blockly.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan&&this.svgGroup_.parentNode?this.trashcan.getClientRect():null,this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_?this.toolbox_.getClientRect():null},Blockly.WorkspaceSvg.prototype.isDeleteArea=function(t){return this.deleteAreaTrash_&&this.deleteAreaTrash_.contains(t.clientX,t.clientY)?Blockly.DELETE_AREA_TRASH:this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(t.clientX,t.clientY)?Blockly.DELETE_AREA_TOOLBOX:Blockly.DELETE_AREA_NONE},Blockly.WorkspaceSvg.prototype.onMouseDown_=function(t){var e=this.getGesture(t);e&&e.handleWsStart(t,this)},Blockly.WorkspaceSvg.prototype.startDrag=function(t,e){var o=Blockly.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM());o.x/=this.scale,o.y/=this.scale,this.dragDeltaXY_=Blockly.utils.Coordinate.difference(e,o)},Blockly.WorkspaceSvg.prototype.moveDrag=function(t){return(t=Blockly.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,t.y/=this.scale,Blockly.utils.Coordinate.sum(this.dragDeltaXY_,t)},Blockly.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},Blockly.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},Blockly.WorkspaceSvg.prototype.isContentBounded=function(){return this.options.moveOptions&&this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.controls||this.options.zoomOptions&&this.options.zoomOptions.wheel},Blockly.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel},Blockly.WorkspaceSvg.prototype.onMouseWheel_=function(t){if(Blockly.Gesture.inProgress())t.preventDefault(),t.stopPropagation();else{var e=this.options.zoomOptions&&this.options.zoomOptions.wheel,o=this.options.moveOptions&&this.options.moveOptions.wheel;if(e||o){var n=Blockly.utils.getScrollDeltaPixels(t);!e||!t.ctrlKey&&o?(e=this.scrollX-n.x,o=this.scrollY-n.y,t.shiftKey&&!n.x&&(e=this.scrollX-n.y,o=this.scrollY),this.scroll(e,o)):(n=-n.y/50,e=Blockly.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(e.x,e.y,n)),t.preventDefault()}}},Blockly.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var t=this.getTopBlocks(!1),e=this.getTopComments(!1);if(!(t=t.concat(e)).length)return new Blockly.utils.Rect(0,0,0,0);e=t[0].getBoundingRectangle();for(var o=1;o<t.length;o++){var n=t[o].getBoundingRectangle();n.top<e.top&&(e.top=n.top),n.bottom>e.bottom&&(e.bottom=n.bottom),n.left<e.left&&(e.left=n.left),n.right>e.right&&(e.right=n.right)}return e},Blockly.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),Blockly.Events.setGroup(!0);for(var t,e=this.getTopBlocks(!0),o=0,n=0;t=e[n];n++)if(t.isMovable()){var r=t.getRelativeToSurfaceXY();t.moveBy(-r.x,o-r.y),t.snapToGrid(),o=t.getRelativeToSurfaceXY().y+t.getHeightWidth().height+Blockly.BlockSvg.MIN_BLOCK_Y}Blockly.Events.setGroup(!1),this.setResizesEnabled(!0)},Blockly.WorkspaceSvg.prototype.showContextMenu_=function(t){function e(t){if(t.isDeletable())h=h.concat(t.getDescendants(!1));else{t=t.getChildren(!1);for(var o=0;o<t.length;o++)e(t[o])}}function o(){Blockly.Events.setGroup(i);var t=h.shift();t&&(t.workspace?(t.dispose(!1,!0),setTimeout(o,10)):o()),Blockly.Events.setGroup(!1)}if(!this.options.readOnly&&!this.isFlyout){var n=[],r=this.getTopBlocks(!0),i=Blockly.utils.genUid(),s=this,l={};if(l.text=Blockly.Msg.UNDO,l.enabled=0<this.undoStack_.length,l.callback=this.undo.bind(this,!1),n.push(l),(l={}).text=Blockly.Msg.REDO,l.enabled=0<this.redoStack_.length,l.callback=this.undo.bind(this,!0),n.push(l),this.isMovable()&&((l={}).text=Blockly.Msg.CLEAN_UP,l.enabled=1<r.length,l.callback=this.cleanUp.bind(this),n.push(l)),this.options.collapse){for(var a=l=!1,u=0;u<r.length;u++)for(var c=r[u];c;)c.isCollapsed()?l=!0:a=!0,c=c.getNextBlock();var p=function(t){for(var e=0,o=0;o<r.length;o++)for(var n=r[o];n;)setTimeout(n.setCollapsed.bind(n,t),e),n=n.getNextBlock(),e+=10};(a={enabled:a}).text=Blockly.Msg.COLLAPSE_ALL,a.callback=function(){p(!0)},n.push(a),(l={enabled:l}).text=Blockly.Msg.EXPAND_ALL,l.callback=function(){p(!1)},n.push(l)}var h=[];for(u=0;u<r.length;u++)e(r[u]);l={text:1==h.length?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(h.length)),enabled:0<h.length,callback:function(){s.currentGesture_&&s.currentGesture_.cancel(),2>h.length?o():Blockly.confirm(Blockly.Msg.DELETE_ALL_BLOCKS.replace("%1",h.length),(function(t){t&&o()}))}},n.push(l),this.configureContextMenu&&this.configureContextMenu(n),Blockly.ContextMenu.show(t,n,this.RTL)}},Blockly.WorkspaceSvg.prototype.updateToolbox=function(t){if(t=Blockly.Options.parseToolboxTree(t)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(t.getElementsByTagName("category").length){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=t,t=this.toolbox_.populate_(t),this.toolbox_.addColour_(),this.toolbox_.position(),this.toolbox_.tree_.setSelectedItem(t)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=t,this.flyout_.show(t.childNodes)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},Blockly.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(Blockly.mainWorkspace=this,this.setBrowserFocus())},Blockly.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur();try{this.getParentSvg().focus()}catch(t){try{this.getParentSvg().parentNode.setActive()}catch(e){this.getParentSvg().parentNode.focus()}}},Blockly.WorkspaceSvg.prototype.zoom=function(t,e,o){o=Math.pow(this.options.zoomOptions.scaleSpeed,o);var n=this.scale*o;if(this.scale!=n){n>this.options.zoomOptions.maxScale?o=this.options.zoomOptions.maxScale/this.scale:n<this.options.zoomOptions.minScale&&(o=this.options.zoomOptions.minScale/this.scale);var r=this.getCanvas().getCTM(),i=this.getParentSvg().createSVGPoint();i.x=t,i.y=e,i=i.matrixTransform(r.inverse()),r=r.translate((t=i.x)*(1-o),(e=i.y)*(1-o)).scale(o),this.scrollX=r.e,this.scrollY=r.f,this.setScale(n)}},Blockly.WorkspaceSvg.prototype.zoomCenter=function(t){var e=this.getMetrics();if(this.flyout_){var o=e.svgWidth/2;e=e.svgHeight/2}else o=e.viewWidth/2+e.absoluteLeft,e=e.viewHeight/2+e.absoluteTop;this.zoom(o,e,t)},Blockly.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var t=this.getMetrics(),e=t.viewWidth;t=t.viewHeight;var o=this.getBlocksBoundingBox(),n=o.right-o.left;o=o.bottom-o.top,n&&(this.flyout_&&(this.horizontalLayout?(t+=this.flyout_.height_,o+=this.flyout_.height_/this.scale):(e+=this.flyout_.getWidth(),n+=this.flyout_.getWidth()/this.scale)),this.setScale(Math.min(e/n,t/o)),this.scrollCenter())}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},Blockly.WorkspaceSvg.prototype.beginCanvasTransition=function(){Blockly.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),Blockly.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},Blockly.WorkspaceSvg.prototype.endCanvasTransition=function(){Blockly.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),Blockly.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},Blockly.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var t=this.getMetrics(),e=(t.contentWidth-t.viewWidth)/2,o=(t.contentHeight-t.viewHeight)/2;this.scroll(e=-e-t.contentLeft,o=-o-t.contentTop)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},Blockly.WorkspaceSvg.prototype.centerOnBlock=function(t){if(this.isMovable()){if(t=this.getBlockById(t)){var e=t.getRelativeToSurfaceXY(),o=t.getHeightWidth(),n=this.scale;t=(e.x+(this.RTL?-1:1)*o.width/2)*n,e=(e.y+o.height/2)*n,t=-(t-(o=this.getMetrics()).contentLeft-o.viewWidth/2)-o.contentLeft,e=-(e-o.contentTop-o.viewHeight/2)-o.contentTop,Blockly.hideChaff(),this.scroll(t,e)}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},Blockly.WorkspaceSvg.prototype.setScale=function(t){this.options.zoomOptions.maxScale&&t>this.options.zoomOptions.maxScale?t=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&t<this.options.zoomOptions.minScale&&(t=this.options.zoomOptions.minScale),this.scale=t,Blockly.hideChaff(!1),this.flyout_&&(this.flyout_.reflow(),this.recordDeleteAreas()),this.grid_&&this.grid_.update(this.scale),t=this.getMetrics(),this.scrollX-=t.absoluteLeft,this.scrollY-=t.absoluteTop,t.viewLeft+=t.absoluteLeft,t.viewTop+=t.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?(this.scrollbar.hScroll.resizeViewHorizontal(t),this.scrollbar.vScroll.resizeViewVertical(t)):(this.scrollbar.hScroll.resizeContentHorizontal(t),this.scrollbar.vScroll.resizeContentVertical(t)))},Blockly.WorkspaceSvg.prototype.scroll=function(t,e){Blockly.hideChaff(!0);var o=this.getMetrics(),n=o.contentWidth+o.contentLeft-o.viewWidth,r=o.contentHeight+o.contentTop-o.viewHeight;t=Math.min(t,-o.contentLeft),e=Math.min(e,-o.contentTop),t=Math.max(t,-n),e=Math.max(e,-r),this.scrollX=t,this.scrollY=e,this.scrollbar&&(this.scrollbar.hScroll.setHandlePosition(-(t+o.contentLeft)*this.scrollbar.hScroll.ratio_),this.scrollbar.vScroll.setHandlePosition(-(e+o.contentTop)*this.scrollbar.vScroll.ratio_)),this.translate(t+=o.absoluteLeft,e+=o.absoluteTop)},Blockly.WorkspaceSvg.getDimensionsPx_=function(t){var e=0,o=0;return t&&(e=t.getWidth(),o=t.getHeight()),{width:e,height:o}},Blockly.WorkspaceSvg.getContentDimensions_=function(t,e){return t.isContentBounded()?Blockly.WorkspaceSvg.getContentDimensionsBounded_(t,e):Blockly.WorkspaceSvg.getContentDimensionsExact_(t)},Blockly.WorkspaceSvg.getContentDimensionsExact_=function(t){var e=t.getBlocksBoundingBox(),o=t.scale,n=e.bottom*o,r=e.left*o;return{top:t=e.top*o,bottom:n,left:r,right:e=e.right*o,width:e-r,height:n-t}},Blockly.WorkspaceSvg.getContentDimensionsBounded_=function(t,e){var o=Blockly.WorkspaceSvg.getContentDimensionsExact_(t),n=e.width,r=e.height,i=n/2,s=r/2,l=Math.min(o.left-i,o.right-n),a=Math.min(o.top-s,o.bottom-r);return{left:l,top:a,height:Math.max(o.bottom+s,o.top+r)-a,width:Math.max(o.right+i,o.left+n)-l}},Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_=function(){var t=Blockly.WorkspaceSvg.getDimensionsPx_(this.toolbox_),e=Blockly.WorkspaceSvg.getDimensionsPx_(this.flyout_),o=Blockly.svgSize(this.getParentSvg()),n={height:o.height,width:o.width};this.toolbox_?this.toolboxPosition==Blockly.TOOLBOX_AT_TOP||this.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM?n.height-=t.height:this.toolboxPosition!=Blockly.TOOLBOX_AT_LEFT&&this.toolboxPosition!=Blockly.TOOLBOX_AT_RIGHT||(n.width-=t.width):this.flyout_&&(this.toolboxPosition==Blockly.TOOLBOX_AT_TOP||this.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM?n.height-=e.height:this.toolboxPosition!=Blockly.TOOLBOX_AT_LEFT&&this.toolboxPosition!=Blockly.TOOLBOX_AT_RIGHT||(n.width-=e.width));var r=Blockly.WorkspaceSvg.getContentDimensions_(this,n),i=0;this.toolbox_&&this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT?i=t.width:this.flyout_&&this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(i=e.width);var s=0;return this.toolbox_&&this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?s=t.height:this.flyout_&&this.toolboxPosition==Blockly.TOOLBOX_AT_TOP&&(s=e.height),{contentHeight:r.height,contentWidth:r.width,contentTop:r.top,contentLeft:r.left,viewHeight:n.height,viewWidth:n.width,viewTop:-this.scrollY,viewLeft:-this.scrollX,absoluteTop:s,absoluteLeft:i,svgHeight:o.height,svgWidth:o.width,toolboxWidth:t.width,toolboxHeight:t.height,flyoutWidth:e.width,flyoutHeight:e.height,toolboxPosition:this.toolboxPosition}},Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(t){var e=this.getMetrics();"number"==typeof t.x&&(this.scrollX=-e.contentWidth*t.x-e.contentLeft),"number"==typeof t.y&&(this.scrollY=-e.contentHeight*t.y-e.contentTop),this.translate(this.scrollX+e.absoluteLeft,this.scrollY+e.absoluteTop)},Blockly.WorkspaceSvg.prototype.setResizesEnabled=function(t){var e=!this.resizesEnabled_&&t;this.resizesEnabled_=t,e&&this.resizeContents()},Blockly.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),Blockly.WorkspaceSvg.superClass_.clear.call(this),this.setResizesEnabled(!0)},Blockly.WorkspaceSvg.prototype.registerButtonCallback=function(t,e){if("function"!=typeof e)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[t]=e},Blockly.WorkspaceSvg.prototype.getButtonCallback=function(t){return(t=this.flyoutButtonCallbacks_[t])?t:null},Blockly.WorkspaceSvg.prototype.removeButtonCallback=function(t){this.flyoutButtonCallbacks_[t]=null},Blockly.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(t,e){if("function"!=typeof e)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[t]=e},Blockly.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(t){return this.toolboxCategoryCallbacks_[t]||null},Blockly.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(t){this.toolboxCategoryCallbacks_[t]=null},Blockly.WorkspaceSvg.prototype.getGesture=function(t){var e="mousedown"==t.type||"touchstart"==t.type||"pointerdown"==t.type,o=this.currentGesture_;return o?e&&o.hasStarted()?(console.warn("Tried to start the same gesture twice."),o.cancel(),null):o:e?this.currentGesture_=new Blockly.TouchGesture(t,this):null},Blockly.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},Blockly.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},Blockly.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},Blockly.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},Blockly.WorkspaceSvg.prototype.setVisible=Blockly.WorkspaceSvg.prototype.setVisible,Blockly.Mutator=function(t){Blockly.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=t},goog.inherits(Blockly.Mutator,Blockly.Icon),Blockly.Mutator.prototype.workspaceWidth_=0,Blockly.Mutator.prototype.workspaceHeight_=0,Blockly.Mutator.prototype.drawIcon_=function(t){Blockly.utils.dom.createSvgElement("rect",{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},t),Blockly.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},t),Blockly.utils.dom.createSvgElement("circle",{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},t)},Blockly.Mutator.prototype.iconClick_=function(t){this.block_.isEditable()&&Blockly.Icon.prototype.iconClick_.call(this,t)},Blockly.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=Blockly.utils.dom.createSvgElement("svg",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var t,e=Blockly.utils.xml.createElement("xml"),o=0;t=this.quarkNames_[o];o++){var n=Blockly.utils.xml.createElement("block");n.setAttribute("type",t),e.appendChild(n)}else e=null;return e={disable:!1,disabledPatternId:this.block_.workspace.options.disabledPatternId,languageTree:e,parentWorkspace:this.block_.workspace,pathToMedia:this.block_.workspace.options.pathToMedia,RTL:this.block_.RTL,toolboxPosition:this.block_.RTL?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT,horizontalLayout:!1,getMetrics:this.getFlyoutMetrics_.bind(this),setMetrics:null},this.workspace_=new Blockly.WorkspaceSvg(e),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(Blockly.Events.disableOrphans),e=this.workspace_.addFlyout_("g"),(o=this.workspace_.createDom("blocklyMutatorBackground")).insertBefore(e,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(o),this.svgDialog_},Blockly.Mutator.prototype.updateEditable=function(){this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&Blockly.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&Blockly.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"))),Blockly.Icon.prototype.updateEditable.call(this)},Blockly.Mutator.prototype.resizeBubble_=function(){var t=2*Blockly.Bubble.BORDER_WIDTH,e=this.workspace_.getCanvas().getBBox(),o=this.block_.RTL?-e.x:e.width+e.x;if(e=e.height+3*t,this.workspace_.flyout_){var n=this.workspace_.flyout_.getMetrics_();e=Math.max(e,n.contentHeight+20)}o+=3*t,(Math.abs(this.workspaceWidth_-o)>t||Math.abs(this.workspaceHeight_-e)>t)&&(this.workspaceWidth_=o,this.workspaceHeight_=e,this.bubble_.setBubbleSize(o+t,e+t),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_)),this.block_.RTL&&(t="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",t)),this.workspace_.resize()},Blockly.Mutator.prototype.setVisible=function(t){if(t!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"mutatorOpen",!t,t)),t){this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),(t=this.workspace_.options.languageTree)&&(this.workspace_.flyout_.init(this.workspace_),this.workspace_.flyout_.show(t.childNodes)),this.rootBlock_=this.block_.decompose(this.workspace_),t=this.rootBlock_.getDescendants(!1);for(var e,o=0;e=t[o];o++)e.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),this.workspace_.flyout_?(t=2*this.workspace_.flyout_.CORNER_RADIUS,o=this.workspace_.getFlyout().getWidth()+t):o=t=16,this.block_.RTL&&(o=-o),this.rootBlock_.moveBy(o,t),this.block_.saveConnections){var n=this;this.block_.saveConnections(this.rootBlock_),this.sourceListener_=function(){n.block_.saveConnections(n.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.updateColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},Blockly.Mutator.prototype.workspaceChanged_=function(t){if(t.type!=Blockly.Events.UI&&(t.type!=Blockly.Events.CHANGE||"disabled"!=t.element)){if(!this.workspace_.isDragging()){t=this.workspace_.getTopBlocks(!1);for(var e,o=0;e=t[o];o++){var n=e.getRelativeToSurfaceXY(),r=e.getHeightWidth();20>n.y+r.height&&e.moveBy(0,20-r.height-n.y)}}if(this.rootBlock_.workspace==this.workspace_){if(Blockly.Events.setGroup(!0),t=(t=(e=this.block_).mutationToDom())&&Blockly.Xml.domToText(t),o=e.rendered,e.rendered=!1,e.compose(this.rootBlock_),e.rendered=o,e.initSvg(),t!=(o=(o=e.mutationToDom())&&Blockly.Xml.domToText(o))){Blockly.Events.fire(new Blockly.Events.BlockChange(e,"mutation",null,t,o));var i=Blockly.Events.getGroup();setTimeout((function(){Blockly.Events.setGroup(i),e.bumpNeighbours_(),Blockly.Events.setGroup(!1)}),Blockly.BUMP_DELAY)}e.rendered&&e.render(),this.workspace_.isDragging()||this.resizeBubble_(),Blockly.Events.setGroup(!1)}}},Blockly.Mutator.prototype.getFlyoutMetrics_=function(){return{viewHeight:this.workspaceHeight_,viewWidth:this.workspaceWidth_-this.workspace_.getFlyout().getWidth(),absoluteTop:0,absoluteLeft:this.workspace_.RTL?0:this.workspace_.getFlyout().getWidth()}},Blockly.Mutator.prototype.dispose=function(){this.block_.mutator=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.Mutator.prototype.updateBlockStyle=function(){var t=this.workspace_;if(t&&t.getAllBlocks()){for(var e=t.getAllBlocks(),o=0;o<e.length;o++){var n=e[o];n.setStyle(n.getStyleName())}for(t=t.flyout_.workspace_.getAllBlocks(),o=0;o<t.length;o++)(n=t[o]).setStyle(n.getStyleName())}},Blockly.Mutator.reconnect=function(t,e,o){if(!t||!t.getSourceBlock().workspace)return!1;o=e.getInput(o).connection;var n=t.targetBlock();return!(n&&n!=e||o.targetConnection==t||(o.isConnected()&&o.disconnect(),o.connect(t),0))},Blockly.Mutator.findParentWs=function(t){var e=null;if(t&&t.options){var o=t.options.parentWorkspace;t.isFlyout?o&&o.options&&(e=o.options.parentWorkspace):o&&(e=o)}return e},Blockly.utils.global.Blockly||(Blockly.utils.global.Blockly={}),Blockly.utils.global.Blockly.Mutator||(Blockly.utils.global.Blockly.Mutator={}),Blockly.utils.global.Blockly.Mutator.reconnect=Blockly.Mutator.reconnect,Blockly.Extensions={},Blockly.Extensions.ALL_={},Blockly.Extensions.register=function(t,e){if("string"!=typeof t||""==t.trim())throw Error('Error: Invalid extension name "'+t+'"');if(Blockly.Extensions.ALL_[t])throw Error('Error: Extension "'+t+'" is already registered.');if("function"!=typeof e)throw Error('Error: Extension "'+t+'" must be a function');Blockly.Extensions.ALL_[t]=e},Blockly.Extensions.registerMixin=function(t,e){if(!e||"object"!=typeof e)throw Error('Error: Mixin "'+t+'" must be a object');Blockly.Extensions.register(t,(function(){this.mixin(e)}))},Blockly.Extensions.registerMutator=function(t,e,o,n){var r='Error when registering mutator "'+t+'": ';Blockly.Extensions.checkHasFunction_(r,e.domToMutation,"domToMutation"),Blockly.Extensions.checkHasFunction_(r,e.mutationToDom,"mutationToDom");var i=Blockly.Extensions.checkMutatorDialog_(e,r);if(o&&"function"!=typeof o)throw Error('Extension "'+t+'" is not a function');Blockly.Extensions.register(t,(function(){i&&this.setMutator(new Blockly.Mutator(n)),this.mixin(e),o&&o.apply(this)}))},Blockly.Extensions.apply=function(t,e,o){var n=Blockly.Extensions.ALL_[t];if("function"!=typeof n)throw Error('Error: Extension "'+t+'" not found.');if(o)Blockly.Extensions.checkNoMutatorProperties_(t,e);else var r=Blockly.Extensions.getMutatorProperties_(e);if(n.apply(e),o)Blockly.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+t+'": ',e);else if(!Blockly.Extensions.mutatorPropertiesMatch_(r,e))throw Error('Error when applying extension "'+t+'": mutation properties changed when applying a non-mutator extension.')},Blockly.Extensions.checkHasFunction_=function(t,e,o){if(!e)throw Error(t+'missing required property "'+o+'"');if("function"!=typeof e)throw Error(t+'" required property "'+o+'" must be a function')},Blockly.Extensions.checkNoMutatorProperties_=function(t,e){if(Blockly.Extensions.getMutatorProperties_(e).length)throw Error('Error: tried to apply mutation "'+t+'" to a block that already has mutator functions.  Block id: '+e.id)},Blockly.Extensions.checkMutatorDialog_=function(t,e){var o=void 0!==t.compose,n=void 0!==t.decompose;if(o&&n){if("function"!=typeof t.compose)throw Error(e+"compose must be a function.");if("function"!=typeof t.decompose)throw Error(e+"decompose must be a function.");return!0}if(o||n)throw Error(e+'Must have both or neither of "compose" and "decompose"');return!1},Blockly.Extensions.checkBlockHasMutatorProperties_=function(t,e){if("function"!=typeof e.domToMutation)throw Error(t+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof e.mutationToDom)throw Error(t+'Applying a mutator didn\'t add "mutationToDom"');Blockly.Extensions.checkMutatorDialog_(e,t)},Blockly.Extensions.getMutatorProperties_=function(t){var e=[];return void 0!==t.domToMutation&&e.push(t.domToMutation),void 0!==t.mutationToDom&&e.push(t.mutationToDom),void 0!==t.compose&&e.push(t.compose),void 0!==t.decompose&&e.push(t.decompose),e},Blockly.Extensions.mutatorPropertiesMatch_=function(t,e){var o=Blockly.Extensions.getMutatorProperties_(e);if(o.length!=t.length)return!1;for(var n=0;n<o.length;n++)if(t[n]!=o[n])return!1;return!0},Blockly.Extensions.buildTooltipForDropdown=function(t,e){var o=[];return"object"==typeof document&&Blockly.utils.runAfterPageLoad((function(){for(var t in e)Blockly.utils.checkMessageReferences(e[t])})),function(){this.type&&-1===o.indexOf(this.type)&&(Blockly.Extensions.checkDropdownOptionsInTable_(this,t,e),o.push(this.type)),this.setTooltip((function(){var n=this.getFieldValue(t),r=e[n];return null==r?-1===o.indexOf(this.type)&&(n="No tooltip mapping for value "+n+" of field "+t,null!=this.type&&(n+=" of block type "+this.type),console.warn(n+".")):r=Blockly.utils.replaceMessageReferences(r),r}).bind(this))}},Blockly.Extensions.checkDropdownOptionsInTable_=function(t,e,o){var n=t.getField(e);if(!n.isOptionListDynamic()){n=n.getOptions();for(var r=0;r<n.length;++r){var i=n[r][1];null==o[i]&&console.warn("No tooltip mapping for value "+i+" of field "+e+" of block type "+t.type)}}},Blockly.Extensions.buildTooltipWithFieldText=function(t,e){return"object"==typeof document&&Blockly.utils.runAfterPageLoad((function(){Blockly.utils.checkMessageReferences(t)})),function(){this.setTooltip((function(){var o=this.getField(e);return Blockly.utils.replaceMessageReferences(t).replace("%1",o?o.getText():"")}).bind(this))}},Blockly.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip((function(){var t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||this.tooltipWhenNotConnected_}).bind(this))},Blockly.Extensions.register("parent_tooltip_when_inline",Blockly.Extensions.extensionParentTooltip_),Blockly.Field=function(t,e){this.size_=new goog.math.Size(0,Blockly.BlockSvg.MIN_BLOCK_Y),this.setValue(t),this.setValidator(e)},Blockly.Field.TYPE_MAP_={},Blockly.Field.register=function(t,e){if("string"!=typeof t||""==t.trim())throw Error('Invalid field type "'+t+'"');if(!e||"function"!=typeof e.fromJson)throw Error('Field "'+e+'" must have a fromJson function');Blockly.Field.TYPE_MAP_[t]=e},Blockly.Field.fromJson=function(t){var e=Blockly.Field.TYPE_MAP_[t.type];return e?e.fromJson(t):null},Blockly.Field.cacheWidths_=null,Blockly.Field.cacheReference_=0,Blockly.Field.prototype.name=void 0,Blockly.Field.prototype.maxDisplayLength=50,Blockly.Field.prototype.value_=null,Blockly.Field.prototype.text_="",Blockly.Field.prototype.tooltip_=null,Blockly.Field.prototype.sourceBlock_=null,Blockly.Field.prototype.isDirty_=!0,Blockly.Field.prototype.visible_=!0,Blockly.Field.prototype.validator_=null,Blockly.Field.prototype.clickTarget_=null,Blockly.Field.NBSP="",Blockly.Field.prototype.EDITABLE=!0,Blockly.Field.prototype.SERIALIZABLE=!1,Blockly.Field.prototype.setSourceBlock=function(t){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=t},Blockly.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},Blockly.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=Blockly.utils.dom.createSvgElement("g",{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},Blockly.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},Blockly.Field.prototype.createBorderRect_=function(){this.borderRect_=Blockly.utils.dom.createSvgElement("rect",{rx:4,ry:4,x:-Blockly.BlockSvg.SEP_SPACE_X/2,y:0,height:16,width:this.size_.width+Blockly.BlockSvg.SEP_SPACE_X},this.fieldGroup_)},Blockly.Field.prototype.createTextElement_=function(){this.textElement_=Blockly.utils.dom.createSvgElement("text",{class:"blocklyText",y:this.size_.height-12.5},this.fieldGroup_),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},Blockly.Field.prototype.bindEvents_=function(){Blockly.Tooltip.bindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_=Blockly.bindEventWithChecks_(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},Blockly.Field.prototype.initModel=function(){},Blockly.Field.prototype.fromXml=function(t){this.setValue(t.textContent)},Blockly.Field.prototype.toXml=function(t){return t.textContent=this.getValue(),t},Blockly.Field.prototype.dispose=function(){Blockly.DropDownDiv.hideIfOwner(this),Blockly.WidgetDiv.hideIfOwner(this),this.mouseDownWrapper_&&Blockly.unbindEvent_(this.mouseDownWrapper_),Blockly.utils.dom.removeNode(this.fieldGroup_),this.disposed=!0},Blockly.Field.prototype.updateEditable=function(){var t=this.getClickTarget_();this.EDITABLE&&t&&(this.sourceBlock_.isEditable()?(Blockly.utils.dom.addClass(t,"blocklyEditableText"),Blockly.utils.dom.removeClass(t,"blocklyNonEditableText"),t.style.cursor=this.CURSOR):(Blockly.utils.dom.addClass(t,"blocklyNonEditableText"),Blockly.utils.dom.removeClass(t,"blocklyEditableText"),t.style.cursor=""))},Blockly.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"==typeof this.showEditor_},Blockly.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},Blockly.Field.prototype.isSerializable=function(){var t=!1;return this.name&&(this.SERIALIZABLE?t=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),t=!0)),t},Blockly.Field.prototype.isVisible=function(){return this.visible_},Blockly.Field.prototype.setVisible=function(t){if(this.visible_!=t){this.visible_=t;var e=this.getSvgRoot();e&&(e.style.display=t?"block":"none")}},Blockly.Field.prototype.setValidator=function(t){this.validator_=t},Blockly.Field.prototype.getValidator=function(){return this.validator_},Blockly.Field.prototype.classValidator=function(t){return t},Blockly.Field.prototype.callValidator=function(t){var e=this.classValidator(t);if(null===e)return null;if(void 0!==e&&(t=e),e=this.getValidator()){if(null===(e=e.call(this,t)))return null;void 0!==e&&(t=e)}return t},Blockly.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},Blockly.Field.prototype.updateColour=function(){},Blockly.Field.prototype.render_=function(){this.textContent_.nodeValue=this.getDisplayText_(),this.updateSize_()},Blockly.Field.prototype.updateWidth=function(){console.warn("Deprecated call to updateWidth, call Blockly.Field.updateSize_ to force an update to the size of the field, or Blockly.Field.getCachedWidth() to check the size of the field."),this.updateSize_()},Blockly.Field.prototype.updateSize_=function(){var t=Blockly.Field.getCachedWidth(this.textElement_);this.borderRect_&&this.borderRect_.setAttribute("width",t+Blockly.BlockSvg.SEP_SPACE_X),this.size_.width=t},Blockly.Field.getCachedWidth=function(t){var e,o=t.textContent+"\n"+t.className.baseVal;if(Blockly.Field.cacheWidths_&&(e=Blockly.Field.cacheWidths_[o]))return e;try{e=Blockly.utils.userAgent.IE||Blockly.utils.userAgent.EDGE?t.getBBox().width:t.getComputedTextLength()}catch(n){return 8*t.textContent.length}return Blockly.Field.cacheWidths_&&(Blockly.Field.cacheWidths_[o]=e),e},Blockly.Field.startCache=function(){Blockly.Field.cacheReference_++,Blockly.Field.cacheWidths_||(Blockly.Field.cacheWidths_={})},Blockly.Field.stopCache=function(){Blockly.Field.cacheReference_--,Blockly.Field.cacheReference_||(Blockly.Field.cacheWidths_=null)},Blockly.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new goog.math.Size(0,0)},Blockly.Field.prototype.getScaledBBox_=function(){var t=this.borderRect_.getBBox(),e=t.height*this.sourceBlock_.workspace.scale;t=t.width*this.sourceBlock_.workspace.scale;var o=this.getAbsoluteXY_();return{top:o.y,bottom:o.y+e,left:o.x,right:o.x+t}},Blockly.Field.prototype.getDisplayText_=function(){var t=this.text_;return t?(t.length>this.maxDisplayLength&&(t=t.substring(0,this.maxDisplayLength-2)+""),t=t.replace(/\s/g,Blockly.Field.NBSP),this.sourceBlock_.RTL&&(t+=""),t):Blockly.Field.NBSP},Blockly.Field.prototype.getText=function(){return this.text_},Blockly.Field.prototype.setText=function(t){null!==t&&(t=String(t))!==this.text_&&(this.text_=t,this.forceRerender())},Blockly.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_())},Blockly.Field.prototype.setValue=function(t){if(null!==t){var e=this.doClassValidation_(t);if(!((t=this.processValidation_(t,e))instanceof Error)){if((e=this.getValidator())&&(e=e.call(this,t),(t=this.processValidation_(t,e))instanceof Error))return;(e=this.getValue())!==t&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,e,t)),this.doValueUpdate_(t),this.isDirty_&&this.forceRerender())}}},Blockly.Field.prototype.processValidation_=function(t,e){return null===e?(this.doValueInvalid_(t),this.isDirty_&&this.forceRerender(),Error()):(void 0!==e&&(t=e),t)},Blockly.Field.prototype.getValue=function(){return this.value_},Blockly.Field.prototype.doClassValidation_=function(t){return this.classValidator(t)},Blockly.Field.prototype.doValueUpdate_=function(t){this.value_=t,this.isDirty_=!0,this.text_=String(t)},Blockly.Field.prototype.doValueInvalid_=function(t){},Blockly.Field.prototype.onMouseDown_=function(t){this.sourceBlock_&&this.sourceBlock_.workspace&&(t=this.sourceBlock_.workspace.getGesture(t))&&t.setStartField(this)},Blockly.Field.prototype.setTooltip=function(t){var e=this.getClickTarget_();e?e.tooltip=t||""===t?t:this.sourceBlock_:this.tooltip_=t},Blockly.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},Blockly.Field.prototype.getAbsoluteXY_=function(){return goog.style.getPageOffset(this.borderRect_)},Blockly.Field.prototype.referencesVariables=function(){return!1},Blockly.FieldLabel=function(t,e){this.size_=new goog.math.Size(0,17.5),this.class_=e,null===(t=this.doClassValidation_(t))&&(t=""),this.setValue(t)},goog.inherits(Blockly.FieldLabel,Blockly.Field),Blockly.FieldLabel.fromJson=function(t){var e=Blockly.utils.replaceMessageReferences(t.text);return new Blockly.FieldLabel(e,t.class)},Blockly.FieldLabel.prototype.EDITABLE=!1,Blockly.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.textElement_.setAttribute("y",this.size_.height-5),this.class_&&Blockly.utils.dom.addClass(this.textElement_,this.class_)},Blockly.FieldLabel.prototype.doClassValidation_=function(t){return null==t?null:String(t)},Blockly.Field.register("field_label",Blockly.FieldLabel),Blockly.Input=function(t,e,o,n){if(t!=Blockly.DUMMY_INPUT&&!e)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=t,this.name=e,this.sourceBlock_=o,this.connection=n,this.fieldRow=[]},Blockly.Input.prototype.align=Blockly.ALIGN_LEFT,Blockly.Input.prototype.visible_=!0,Blockly.Input.prototype.appendField=function(t,e){return this.insertFieldAt(this.fieldRow.length,t,e),this},Blockly.Input.prototype.insertFieldAt=function(t,e,o){if(0>t||t>this.fieldRow.length)throw Error("index "+t+" out of bounds.");return e||o?("string"==typeof e&&(e=new Blockly.FieldLabel(e)),e.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&e.init(),e.name=o,e.prefixField&&(t=this.insertFieldAt(t,e.prefixField)),this.fieldRow.splice(t,0,e),++t,e.suffixField&&(t=this.insertFieldAt(t,e.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_()),t):t},Blockly.Input.prototype.removeField=function(t){for(var e,o=0;e=this.fieldRow[o];o++)if(e.name===t)return e.dispose(),this.fieldRow.splice(o,1),void(this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_()));throw Error('Field "%s" not found.',t)},Blockly.Input.prototype.isVisible=function(){return this.visible_},Blockly.Input.prototype.setVisible=function(t){var e=[];if(this.visible_==t)return e;for(var o,n=(this.visible_=t)?"block":"none",r=0;o=this.fieldRow[r];r++)o.setVisible(t);return this.connection&&(t?e=this.connection.unhideAll():this.connection.hideAll(),r=this.connection.targetBlock())&&(r.getSvgRoot().style.display=n,t||(r.rendered=!1)),e},Blockly.Input.prototype.setCheck=function(t){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(t),this},Blockly.Input.prototype.setAlign=function(t){return this.align=t,this.sourceBlock_.rendered&&this.sourceBlock_.render(),this},Blockly.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var t=0;t<this.fieldRow.length;t++)this.fieldRow[t].init()},Blockly.Input.prototype.dispose=function(){for(var t,e=0;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},Blockly.Warning=function(t){Blockly.Warning.superClass_.constructor.call(this,t),this.createIcon(),this.text_={}},goog.inherits(Blockly.Warning,Blockly.Icon),Blockly.Warning.prototype.collapseHidden=!1,Blockly.Warning.prototype.drawIcon_=function(t){Blockly.utils.dom.createSvgElement("path",{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},t),Blockly.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},t),Blockly.utils.dom.createSvgElement("rect",{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},t)},Blockly.Warning.textToDom_=function(t){var e=Blockly.utils.dom.createSvgElement("text",{class:"blocklyText blocklyBubbleText",y:Blockly.Bubble.BORDER_WIDTH},null);t=t.split("\n");for(var o=0;o<t.length;o++){var n=Blockly.utils.dom.createSvgElement("tspan",{dy:"1em",x:Blockly.Bubble.BORDER_WIDTH},e),r=document.createTextNode(t[o]);n.appendChild(r)}return e},Blockly.Warning.prototype.setVisible=function(t){if(t!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"warningOpen",!t,t)),t){if(t=Blockly.Warning.textToDom_(this.getText()),this.bubble_=new Blockly.Bubble(this.block_.workspace,t,this.block_.svgPath_,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.block_.RTL)for(var e,o=t.getBBox().width,n=0;e=t.childNodes[n];n++)e.setAttribute("text-anchor","end"),e.setAttribute("x",o+Blockly.Bubble.BORDER_WIDTH);this.updateColour(),t=this.bubble_.getBubbleSize(),this.bubble_.setBubbleSize(t.width,t.height)}else this.bubble_.dispose(),this.body_=this.bubble_=null},Blockly.Warning.prototype.bodyFocus_=function(t){this.bubble_.promote_()},Blockly.Warning.prototype.setText=function(t,e){this.text_[e]!=t&&(t?this.text_[e]=t:delete this.text_[e],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},Blockly.Warning.prototype.getText=function(){var t,e=[];for(t in this.text_)e.push(this.text_[t]);return e.join("\n")},Blockly.Warning.prototype.dispose=function(){this.block_.warning=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.Block=function(t,e,o){if(void 0!==Blockly.Generator.prototype[e])throw Error('Block prototypeName "'+e+'" conflicts with Blockly.Generator members.');if(this.id=o&&!t.getBlockById(o)?o:Blockly.utils.genUid(),t.blockDB_[this.id]=this,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=null,this.xy_=new Blockly.utils.Coordinate(0,0),this.workspace=t,this.isInFlyout=t.isFlyout,this.isInMutator=t.isMutator,this.RTL=t.RTL,this.isInsertionMarker_=!1,this.hat=void 0,e){if(this.type=e,!(o=Blockly.Blocks[e])||"object"!=typeof o)throw TypeError("Unknown block type: "+e);goog.mixin(this,o)}if(t.addTopBlock(this),t.addTypedBlock(this),"function"==typeof this.init&&this.init(),this.inputsInlineDefault=this.inputsInline,Blockly.Events.isEnabled()){(t=Blockly.Events.getGroup())||Blockly.Events.setGroup(!0);try{Blockly.Events.fire(new Blockly.Events.BlockCreate(this))}finally{t||Blockly.Events.setGroup(!1)}}"function"==typeof this.onchange&&this.setOnChange(this.onchange)},Blockly.Block.obtain=function(t,e){return console.warn("Deprecated call to Blockly.Block.obtain, use workspace.newBlock instead."),t.newBlock(e)},Blockly.Block.prototype.data=null,Blockly.Block.prototype.hue_=null,Blockly.Block.prototype.colour_="#000000",Blockly.Block.prototype.colourSecondary_=null,Blockly.Block.prototype.colourTertiary_=null,Blockly.Block.prototype.styleName_=null,Blockly.Block.prototype.dispose=function(t){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(t),Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockDelete(this)),Blockly.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),delete this.workspace.blockDB_[this.id],this.workspace=null),Blockly.selected==this&&(Blockly.selected=null);for(var e=this.childBlocks_.length-1;0<=e;e--)this.childBlocks_[e].dispose(!1);e=0;for(var o;o=this.inputList[e];e++)o.dispose();this.inputList.length=0;var n=this.getConnections_(!0);for(e=0;e<n.length;e++){var r=n[e];r.isConnected()&&r.disconnect(),n[e].dispose()}}finally{Blockly.Events.enable()}}},Blockly.Block.prototype.initModel=function(){for(var t,e=0;t=this.inputList[e];e++)for(var o,n=0;o=t.fieldRow[n];n++)o.initModel&&o.initModel()},Blockly.Block.prototype.unplug=function(t){this.outputConnection?this.unplugFromRow_(t):this.previousConnection&&this.unplugFromStack_(t)},Blockly.Block.prototype.unplugFromRow_=function(t){var e=null;this.outputConnection.isConnected()&&(e=this.outputConnection.targetConnection,this.outputConnection.disconnect()),e&&t&&(t=this.getOnlyValueConnection_())&&t.isConnected()&&!t.targetBlock().isShadow()&&(t=t.targetConnection).checkType_(e)&&(t.disconnect(),e.connect(t))},Blockly.Block.prototype.getOnlyValueConnection_=function(){for(var t=null,e=0;e<this.inputList.length;e++){var o=this.inputList[e].connection;if(o&&o.type==Blockly.INPUT_VALUE&&o.targetConnection){if(t)return null;t=o}}return t},Blockly.Block.prototype.unplugFromStack_=function(t){var e=null;this.previousConnection.isConnected()&&(e=this.previousConnection.targetConnection,this.previousConnection.disconnect());var o=this.getNextBlock();t&&o&&!o.isShadow()&&((t=this.nextConnection.targetConnection).disconnect(),e&&e.checkType_(t)&&e.connect(t))},Blockly.Block.prototype.getConnections_=function(t){t=[],this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection);for(var e,o=0;e=this.inputList[o];o++)e.connection&&t.push(e.connection);return t},Blockly.Block.prototype.lastConnectionInStack=function(){for(var t=this.nextConnection;t;){var e=t.targetBlock();if(!e)return t;t=e.nextConnection}return null},Blockly.Block.prototype.bumpNeighbours_=function(){console.warn("Not expected to reach Block.bumpNeighbours_ function. BlockSvg.bumpNeighbours_ was expected to be called instead.")},Blockly.Block.prototype.getParent=function(){return this.parentBlock_},Blockly.Block.prototype.getInputWithBlock=function(t){for(var e,o=0;e=this.inputList[o];o++)if(e.connection&&e.connection.targetBlock()==t)return e;return null},Blockly.Block.prototype.getSurroundParent=function(){var t=this;do{var e=t;if(!(t=t.getParent()))return null}while(t.getNextBlock()==e);return t},Blockly.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},Blockly.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},Blockly.Block.prototype.getFirstStatementConnection=function(){for(var t,e=0;t=this.inputList[e];e++)if(t.connection&&t.connection.type==Blockly.NEXT_STATEMENT)return t.connection;return null},Blockly.Block.prototype.getRootBlock=function(){var t=this;do{var e=t;t=e.parentBlock_}while(t);return e},Blockly.Block.prototype.getChildren=function(t){if(!t)return this.childBlocks_;t=[];for(var e,o=0;e=this.inputList[o];o++)e.connection&&(e=e.connection.targetBlock())&&t.push(e);return(o=this.getNextBlock())&&t.push(o),t},Blockly.Block.prototype.setParent=function(t){if(t!=this.parentBlock_){if(this.parentBlock_){if(Blockly.utils.arrayRemove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=t)?t.childBlocks_.push(this):this.workspace.addTopBlock(this)}},Blockly.Block.prototype.getDescendants=function(t){for(var e,o=[this],n=this.getChildren(t),r=0;e=n[r];r++)o.push.apply(o,e.getDescendants(t));return o},Blockly.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.Block.prototype.setDeletable=function(t){this.deletable_=t},Blockly.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.Block.prototype.setMovable=function(t){this.movable_=t},Blockly.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(Blockly.utils.getBlockTypeCounts(this,!0))},Blockly.Block.prototype.isShadow=function(){return this.isShadow_},Blockly.Block.prototype.setShadow=function(t){this.isShadow_=t},Blockly.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},Blockly.Block.prototype.setInsertionMarker=function(t){this.isInsertionMarker_=t},Blockly.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.Block.prototype.setEditable=function(t){this.editable_=t,t=0;for(var e;e=this.inputList[t];t++)for(var o,n=0;o=e.fieldRow[n];n++)o.updateEditable()},Blockly.Block.prototype.setConnectionsHidden=function(t){if(!t&&this.isCollapsed()){if(this.outputConnection&&this.outputConnection.setHidden(t),this.previousConnection&&this.previousConnection.setHidden(t),this.nextConnection){this.nextConnection.setHidden(t);var e=this.nextConnection.targetBlock();e&&e.setConnectionsHidden(t)}}else for(var o=this.getConnections_(!0),n=0;e=o[n];n++)e.setHidden(t),e.isSuperior()&&(e=e.targetBlock())&&e.setConnectionsHidden(t)},Blockly.Block.prototype.getMatchingConnection=function(t,e){var o=this.getConnections_(!0),n=t.getConnections_(!0);if(o.length!=n.length)throw Error("Connection lists did not match in length.");for(var r=0;r<n.length;r++)if(n[r]==e)return o[r];return null},Blockly.Block.prototype.setHelpUrl=function(t){this.helpUrl=t},Blockly.Block.prototype.setTooltip=function(t){this.tooltip=t},Blockly.Block.prototype.getColour=function(){return this.colour_},Blockly.Block.prototype.getColourSecondary=function(){return this.colourSecondary_},Blockly.Block.prototype.getColourTertiary=function(){return this.colourTertiary_},Blockly.Block.prototype.getColourShadow=function(){return this.getColourSecondary()||Blockly.utils.colour.blend("white",this.getColour(),.6)},Blockly.Block.prototype.getColourBorder=function(){var t=this.getColourTertiary();return t?{colourBorder:t,colourLight:null,colourDark:null}:(t=this.getColour(),{colourBorder:null,colourLight:Blockly.utils.colour.blend("white",t,.3),colourDark:Blockly.utils.colour.blend("black",t,.2)})},Blockly.Block.prototype.getStyleName=function(){return this.styleName_},Blockly.Block.prototype.getHue=function(){return this.hue_},Blockly.Block.prototype.setColour=function(t){var e="string"==typeof t?Blockly.utils.replaceMessageReferences(t):t,o=Number(e);if(!isNaN(o)&&0<=o&&360>=o)this.hue_=o,this.colour_=Blockly.hueToHex(o);else{if(!(o=Blockly.utils.colour.parse(e)))throw o='Invalid colour: "'+e+'"',t!=e&&(o+=' (from "'+t+'")'),Error(o);this.colour_=o,this.hue_=null}},Blockly.Block.prototype.setStyle=function(t){var e=Blockly.getTheme();if(!e)throw Error("Trying to set block style to "+t+" before theme was defined via Blockly.setTheme().");if(e=e.getBlockStyle(t),this.styleName_=t,!e)throw Error("Invalid style name: "+t);this.colourSecondary_=e.colourSecondary,this.colourTertiary_=e.colourTertiary,this.hat=e.hat,this.setColour(e.colourPrimary)},Blockly.Block.prototype.setOnChange=function(t){if(t&&"function"!=typeof t)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=t)&&(this.onchangeWrapper_=t.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},Blockly.Block.prototype.getField=function(t){for(var e,o=0;e=this.inputList[o];o++)for(var n,r=0;n=e.fieldRow[r];r++)if(n.name===t)return n;return null},Blockly.Block.prototype.getVars=function(){for(var t,e=[],o=0;t=this.inputList[o];o++)for(var n,r=0;n=t.fieldRow[r];r++)n.referencesVariables()&&e.push(n.getValue());return e},Blockly.Block.prototype.getVarModels=function(){for(var t,e=[],o=0;t=this.inputList[o];o++)for(var n,r=0;n=t.fieldRow[r];r++)n.referencesVariables()&&(n=this.workspace.getVariableById(n.getValue()))&&e.push(n);return e},Blockly.Block.prototype.updateVarName=function(t){for(var e,o=0;e=this.inputList[o];o++)for(var n,r=0;n=e.fieldRow[r];r++)n.referencesVariables()&&t.getId()==n.getValue()&&n.setText(t.name)},Blockly.Block.prototype.renameVarById=function(t,e){for(var o,n=0;o=this.inputList[n];n++)for(var r,i=0;r=o.fieldRow[i];i++)r.referencesVariables()&&t==r.getValue()&&r.setValue(e)},Blockly.Block.prototype.getFieldValue=function(t){return(t=this.getField(t))?t.getValue():null},Blockly.Block.prototype.setFieldValue=function(t,e){var o=this.getField(e);if(!o)throw Error('Field "'+e+'" not found.');o.setValue(t)},Blockly.Block.prototype.setPreviousStatement=function(t,e){if(t){if(void 0===e&&(e=null),!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(Blockly.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(e)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},Blockly.Block.prototype.setNextStatement=function(t,e){if(t)void 0===e&&(e=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Blockly.NEXT_STATEMENT)),this.nextConnection.setCheck(e);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},Blockly.Block.prototype.setOutput=function(t,e){if(t){if(void 0===e&&(e=null),!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(Blockly.OUTPUT_VALUE)}this.outputConnection.setCheck(e)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},Blockly.Block.prototype.setInputsInline=function(t){this.inputsInline!=t&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"inline",null,this.inputsInline,t)),this.inputsInline=t)},Blockly.Block.prototype.getInputsInline=function(){if(null!=this.inputsInline)return this.inputsInline;for(var t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type==Blockly.DUMMY_INPUT&&this.inputList[t].type==Blockly.DUMMY_INPUT)return!1;for(t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type==Blockly.INPUT_VALUE&&this.inputList[t].type==Blockly.DUMMY_INPUT)return!0;return!1},Blockly.Block.prototype.setDisabled=function(t){console.warn("Deprecated call to Blockly.Block.prototype.setDisabled, use Blockly.Block.prototype.setEnabled instead."),this.setEnabled(!t)},Blockly.Block.prototype.isEnabled=function(){return!this.disabled},Blockly.Block.prototype.setEnabled=function(t){this.isEnabled()!=t&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"disabled",null,this.disabled,!t)),this.disabled=!t)},Blockly.Block.prototype.getInheritedDisabled=function(){for(var t=this.getSurroundParent();t;){if(t.disabled)return!0;t=t.getSurroundParent()}return!1},Blockly.Block.prototype.isCollapsed=function(){return this.collapsed_},Blockly.Block.prototype.setCollapsed=function(t){this.collapsed_!=t&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"collapsed",null,this.collapsed_,t)),this.collapsed_=t)},Blockly.Block.prototype.toString=function(t,e){var o=[],n=e||"?";if(this.collapsed_)o.push(this.getInput("_TEMP_COLLAPSED_INPUT").fieldRow[0].text_);else for(var r,i=0;r=this.inputList[i];i++){for(var s,l=0;s=r.fieldRow[l];l++)s instanceof Blockly.FieldDropdown&&!s.getValue()?o.push(n):o.push(s.getText());r.connection&&((r=r.connection.targetBlock())?o.push(r.toString(void 0,e)):o.push(n))}return o=o.join(" ").trim()||"???",t&&o.length>t&&(o=o.substring(0,t-3)+"..."),o},Blockly.Block.prototype.appendValueInput=function(t){return this.appendInput_(Blockly.INPUT_VALUE,t)},Blockly.Block.prototype.appendStatementInput=function(t){return this.appendInput_(Blockly.NEXT_STATEMENT,t)},Blockly.Block.prototype.appendDummyInput=function(t){return this.appendInput_(Blockly.DUMMY_INPUT,t||"")},Blockly.Block.prototype.jsonInit=function(t){var e=t.type?'Block "'+t.type+'": ':"";if(t.output&&t.previousStatement)throw Error(e+"Must not have both an output and a previousStatement.");if(t.style&&t.style.hat&&(this.hat=t.style.hat,t.style=null),t.style&&t.colour)throw Error(e+"Must not have both a colour and a style.");t.style?this.jsonInitStyle_(t,e):this.jsonInitColour_(t,e);for(var o=0;void 0!==t["message"+o];)this.interpolate_(t["message"+o],t["args"+o]||[],t["lastDummyAlign"+o]),o++;if(void 0!==t.inputsInline&&this.setInputsInline(t.inputsInline),void 0!==t.output&&this.setOutput(!0,t.output),void 0!==t.previousStatement&&this.setPreviousStatement(!0,t.previousStatement),void 0!==t.nextStatement&&this.setNextStatement(!0,t.nextStatement),void 0!==t.tooltip&&(o=Blockly.utils.replaceMessageReferences(o=t.tooltip),this.setTooltip(o)),void 0!==t.enableContextMenu&&(this.contextMenu=!!(o=t.enableContextMenu)),void 0!==t.helpUrl&&(o=Blockly.utils.replaceMessageReferences(o=t.helpUrl),this.setHelpUrl(o)),"string"==typeof t.extensions&&(console.warn(e+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+t.type+"' block."),t.extensions=[t.extensions]),void 0!==t.mutator&&Blockly.Extensions.apply(t.mutator,this,!0),Array.isArray(t.extensions))for(t=t.extensions,e=0;e<t.length;++e)Blockly.Extensions.apply(t[e],this,!1)},Blockly.Block.prototype.jsonInitColour_=function(t,e){if("colour"in t)if(void 0===t.colour)console.warn(e+"Undefined colour value.");else{var o=t.colour;try{this.setColour(o)}catch(n){console.warn(e+"Illegal colour value: ",o)}}},Blockly.Block.prototype.jsonInitStyle_=function(t,e){var o=t.style;try{this.setStyle(o)}catch(n){console.warn(e+"Style does not exist: ",o)}},Blockly.Block.prototype.mixin=function(t,e){if(void 0!==e&&"boolean"!=typeof e)throw Error("opt_disableCheck must be a boolean if provided");if(!e){var o,n=[];for(o in t)void 0!==this[o]&&n.push(o);if(n.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(n))}goog.mixin(this,t)},Blockly.Block.prototype.interpolate_=function(t,e,o){var n=Blockly.utils.tokenizeInterpolation(t),r=[],i=0;t=[];for(var s=0;s<n.length;s++){var l=n[s];if("number"==typeof l){if(0>=l||l>e.length)throw Error('Block "'+this.type+'": Message index %'+l+" out of range.");if(r[l])throw Error('Block "'+this.type+'": Message index %'+l+" duplicated.");r[l]=!0,i++,t.push(e[l-1])}else(l=l.trim())&&t.push(l)}if(i!=e.length)throw Error('Block "'+this.type+'": Message does not reference all '+e.length+" arg(s).");for(t.length&&("string"==typeof t[t.length-1]||Blockly.utils.string.startsWith(t[t.length-1].type,"field_"))&&(s={type:"input_dummy"},o&&(s.align=o),t.push(s)),o={LEFT:Blockly.ALIGN_LEFT,RIGHT:Blockly.ALIGN_RIGHT,CENTRE:Blockly.ALIGN_CENTRE},e=[],s=0;s<t.length;s++)if("string"==typeof(r=t[s]))e.push([r,void 0]);else{n=i=null;do{if(l=!1,"string"==typeof r)i=new Blockly.FieldLabel(r);else switch(r.type){case"input_value":n=this.appendValueInput(r.name);break;case"input_statement":n=this.appendStatementInput(r.name);break;case"input_dummy":n=this.appendDummyInput(r.name);break;default:(i=Blockly.Field.fromJson(r))||(r.alt?(r=r.alt,l=!0):console.warn("Blockly could not create a field of type "+r.type+". You may need to register your custom field.  See github.com/google/blockly/issues/1584"))}}while(l);if(i)e.push([i,r.name]);else if(n){for(r.check&&n.setCheck(r.check),r.align&&n.setAlign(o[r.align]),r=0;r<e.length;r++)n.appendField(e[r][0],e[r][1]);e.length=0}}},Blockly.Block.prototype.appendInput_=function(t,e){var o=null;return t!=Blockly.INPUT_VALUE&&t!=Blockly.NEXT_STATEMENT||(o=this.makeConnection_(t)),o=new Blockly.Input(t,e,this,o),this.inputList.push(o),o},Blockly.Block.prototype.moveInputBefore=function(t,e){if(t!=e){for(var o,n=-1,r=e?-1:this.inputList.length,i=0;o=this.inputList[i];i++)if(o.name==t){if(n=i,-1!=r)break}else if(e&&o.name==e&&(r=i,-1!=n))break;if(-1==n)throw Error('Named input "'+t+'" not found.');if(-1==r)throw Error('Reference input "'+e+'" not found.');this.moveNumberedInputBefore(n,r)}},Blockly.Block.prototype.moveNumberedInputBefore=function(t,e){if(t==e)throw Error("Can't move input to itself.");if(t>=this.inputList.length)throw RangeError("Input index "+t+" out of bounds.");if(e>this.inputList.length)throw RangeError("Reference input "+e+" out of bounds.");var o=this.inputList[t];this.inputList.splice(t,1),t<e&&e--,this.inputList.splice(e,0,o)},Blockly.Block.prototype.removeInput=function(t,e){for(var o,n=0;o=this.inputList[n];n++)if(o.name==t){if(o.connection&&o.connection.isConnected()){o.connection.setShadowDom(null);var r=o.connection.targetBlock();r.isShadow()?r.dispose():r.unplug()}return o.dispose(),void this.inputList.splice(n,1)}if(!e)throw Error("Input not found: "+t)},Blockly.Block.prototype.getInput=function(t){for(var e,o=0;e=this.inputList[o];o++)if(e.name==t)return e;return null},Blockly.Block.prototype.getInputTargetBlock=function(t){return(t=this.getInput(t))&&t.connection&&t.connection.targetBlock()},Blockly.Block.prototype.getCommentText=function(){return this.comment||""},Blockly.Block.prototype.setCommentText=function(t){this.comment!=t&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"comment",null,this.comment,t||"")),this.comment=t)},Blockly.Block.prototype.setWarningText=function(t,e){},Blockly.Block.prototype.setMutator=function(t){},Blockly.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},Blockly.Block.prototype.moveBy=function(t,e){if(this.parentBlock_)throw Error("Block has parent.");var o=new Blockly.Events.BlockMove(this);this.xy_.translate(t,e),o.recordNew(),Blockly.Events.fire(o)},Blockly.Block.prototype.makeConnection_=function(t){return new Blockly.Connection(this,t)},Blockly.Block.prototype.allInputsFilled=function(t){if(void 0===t&&(t=!0),!t&&this.isShadow())return!1;for(var e,o=0;e=this.inputList[o];o++)if(e.connection&&(!(e=e.connection.targetBlock())||!e.allInputsFilled(t)))return!1;return!(o=this.getNextBlock())||o.allInputsFilled(t)},Blockly.Block.prototype.toDevString=function(){var t=this.type?'"'+this.type+'" block':"Block";return this.id&&(t+=' (id="'+this.id+'")'),t},Blockly.BlockDragSurfaceSvg=function(t){this.container_=t,this.createDom()},Blockly.BlockDragSurfaceSvg.prototype.SVG_=null,Blockly.BlockDragSurfaceSvg.prototype.dragGroup_=null,Blockly.BlockDragSurfaceSvg.prototype.container_=null,Blockly.BlockDragSurfaceSvg.prototype.scale_=1,Blockly.BlockDragSurfaceSvg.prototype.surfaceXY_=null,Blockly.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=Blockly.utils.dom.createSvgElement("svg",{xmlns:Blockly.utils.dom.SVG_NS,"xmlns:html":Blockly.utils.dom.HTML_NS,"xmlns:xlink":Blockly.utils.dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=Blockly.utils.dom.createSvgElement("g",{},this.SVG_))},Blockly.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(t){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(t),this.SVG_.style.display="block",this.surfaceXY_=new Blockly.utils.Coordinate(0,0)},Blockly.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(t,e,o){this.scale_=o,t=t.toFixed(0),e=e.toFixed(0),this.dragGroup_.setAttribute("transform","translate("+t+","+e+") scale("+o+")")},Blockly.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var t=this.surfaceXY_.x,e=this.surfaceXY_.y;t=t.toFixed(0),e=e.toFixed(0),this.SVG_.style.display="block",Blockly.utils.dom.setCssTransform(this.SVG_,"translate3d("+t+"px, "+e+"px, 0px)")},Blockly.BlockDragSurfaceSvg.prototype.translateSurface=function(t,e){this.surfaceXY_=new Blockly.utils.Coordinate(t*this.scale_,e*this.scale_),this.translateSurfaceInternal_()},Blockly.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var t=Blockly.utils.getRelativeXY(this.SVG_);return new Blockly.utils.Coordinate(t.x/this.scale_,t.y/this.scale_)},Blockly.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},Blockly.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},Blockly.BlockDragSurfaceSvg.prototype.clearAndHide=function(t){if(t?t.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null},Blockly.utils.uiMenu={},Blockly.utils.uiMenu.getSize=function(t){t=t.getElement();var e=goog.style.getSize(t);return e.height=t.scrollHeight,e},Blockly.utils.uiMenu.adjustBBoxesForRTL=function(t,e,o){e.left+=o.width,e.right+=o.width,t.left+=o.width,t.right+=o.width},Blockly.ContextMenu={},Blockly.ContextMenu.currentBlock=null,Blockly.ContextMenu.eventWrapper_=null,Blockly.ContextMenu.show=function(t,e,o){if(Blockly.WidgetDiv.show(Blockly.ContextMenu,o,null),e.length){var n=Blockly.ContextMenu.populate_(e,o);goog.events.listen(n,goog.ui.Component.EventType.ACTION,Blockly.ContextMenu.hide),Blockly.ContextMenu.position_(n,t,o),setTimeout((function(){n.getElement().focus()}),1),Blockly.ContextMenu.currentBlock=null}else Blockly.ContextMenu.hide()},Blockly.ContextMenu.populate_=function(t,e){var o=new goog.ui.Menu;o.setRightToLeft(e);for(var n,r=0;n=t[r];r++){var i=new goog.ui.MenuItem(n.text);i.setRightToLeft(e),o.addChild(i,!0),i.setEnabled(n.enabled),n.enabled&&(goog.events.listen(i,goog.ui.Component.EventType.ACTION,n.callback),i.handleContextMenu=function(){goog.events.dispatchEvent(this,goog.ui.Component.EventType.ACTION)})}return o},Blockly.ContextMenu.position_=function(t,e,o){var n=Blockly.utils.getViewportBBox();e={top:e.clientY+n.top,bottom:e.clientY+n.top,left:e.clientX+n.left,right:e.clientX+n.left},Blockly.ContextMenu.createWidget_(t);var r=Blockly.utils.uiMenu.getSize(t);o&&Blockly.utils.uiMenu.adjustBBoxesForRTL(n,e,r),Blockly.WidgetDiv.positionWithAnchor(n,e,r,o),t.getElement().focus()},Blockly.ContextMenu.createWidget_=function(t){t.render(Blockly.WidgetDiv.DIV);var e=t.getElement();Blockly.utils.dom.addClass(e,"blocklyContextMenu"),Blockly.bindEventWithChecks_(e,"contextmenu",null,Blockly.utils.noEvent),t.setAllowAutoFocus(!0)},Blockly.ContextMenu.hide=function(){Blockly.WidgetDiv.hideIfOwner(Blockly.ContextMenu),Blockly.ContextMenu.currentBlock=null,Blockly.ContextMenu.eventWrapper_&&Blockly.unbindEvent_(Blockly.ContextMenu.eventWrapper_)},Blockly.ContextMenu.callbackFactory=function(t,e){return function(){Blockly.Events.disable();try{var o=Blockly.Xml.domToBlock(e,t.workspace),n=t.getRelativeToSurfaceXY();n.x=t.RTL?n.x-Blockly.SNAP_RADIUS:n.x+Blockly.SNAP_RADIUS,n.y+=2*Blockly.SNAP_RADIUS,o.moveBy(n.x,n.y)}finally{Blockly.Events.enable()}Blockly.Events.isEnabled()&&!o.isShadow()&&Blockly.Events.fire(new Blockly.Events.BlockCreate(o)),o.select()}},Blockly.ContextMenu.blockDeleteOption=function(t){var e=t.getDescendants(!1).length,o=t.getNextBlock();return o&&(e-=o.getDescendants(!1).length),{text:1==e?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(e)),enabled:!0,callback:function(){Blockly.Events.setGroup(!0),t.dispose(!0,!0),Blockly.Events.setGroup(!1)}}},Blockly.ContextMenu.blockHelpOption=function(t){return{enabled:!("function"==typeof t.helpUrl?!t.helpUrl():!t.helpUrl),text:Blockly.Msg.HELP,callback:function(){t.showHelp_()}}},Blockly.ContextMenu.blockDuplicateOption=function(t){var e=t.isDuplicatable();return{text:Blockly.Msg.DUPLICATE_BLOCK,enabled:e,callback:function(){Blockly.duplicate_(t)}}},Blockly.ContextMenu.blockCommentOption=function(t){var e={enabled:!Blockly.utils.userAgent.IE};return t.comment?(e.text=Blockly.Msg.REMOVE_COMMENT,e.callback=function(){t.setCommentText(null)}):(e.text=Blockly.Msg.ADD_COMMENT,e.callback=function(){t.setCommentText("")}),e},Blockly.ContextMenu.commentDeleteOption=function(t){return{text:Blockly.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){Blockly.Events.setGroup(!0),t.dispose(!0,!0),Blockly.Events.setGroup(!1)}}},Blockly.ContextMenu.commentDuplicateOption=function(t){return{text:Blockly.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){Blockly.duplicate_(t)}}},Blockly.ContextMenu.workspaceCommentOption=function(t,e){var o={enabled:!Blockly.utils.userAgent.IE};return o.text=Blockly.Msg.ADD_COMMENT,o.callback=function(){var o=new Blockly.WorkspaceCommentSvg(t,Blockly.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,Blockly.WorkspaceCommentSvg.DEFAULT_SIZE,Blockly.WorkspaceCommentSvg.DEFAULT_SIZE),n=t.getInjectionDiv().getBoundingClientRect();n=new Blockly.utils.Coordinate(e.clientX-n.left,e.clientY-n.top);var r=t.getOriginOffsetInPixels();(n=Blockly.utils.Coordinate.difference(n,r)).scale(1/t.scale),o.moveBy(n.x,n.y),t.rendered&&(o.initSvg(),o.render(!1),o.select())},o},Blockly.BlockSvg=function(t,e,o){this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{},null),this.svgGroup_.translate_="",this.svgPathDark_=Blockly.utils.dom.createSvgElement("path",{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgGroup_),this.svgPath_=Blockly.utils.dom.createSvgElement("path",{class:"blocklyPath"},this.svgGroup_),this.svgPathLight_=Blockly.utils.dom.createSvgElement("path",{class:"blocklyPathLight"},this.svgGroup_),this.svgPath_.tooltip=this,this.rendered=!1,this.useDragSurface_=Blockly.utils.is3dSupported()&&!!t.blockDragSurface_,Blockly.Tooltip.bindMouseEvents(this.svgPath_),Blockly.BlockSvg.superClass_.constructor.call(this,t,e,o),this.svgGroup_.dataset&&(this.svgGroup_.dataset.id=this.id)},goog.inherits(Blockly.BlockSvg,Blockly.Block),Blockly.BlockSvg.prototype.height=0,Blockly.BlockSvg.prototype.width=0,Blockly.BlockSvg.prototype.dragStartXY_=null,Blockly.BlockSvg.prototype.warningTextDb_=null,Blockly.BlockSvg.INLINE=-1,Blockly.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",Blockly.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var t,e=0;t=this.inputList[e];e++)t.init();for(t=this.getIcons(),e=0;e<t.length;e++)t[e].createIcon();this.updateColour(),this.updateMovable(),this.workspace.options.readOnly||this.eventsInit_||Blockly.bindEventWithChecks_(this.getSvgRoot(),"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,this.getSvgRoot().parentNode||this.workspace.getCanvas().appendChild(this.getSvgRoot())},Blockly.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(Blockly.selected!=this){var t=null;if(Blockly.selected){t=Blockly.selected.id,Blockly.Events.disable();try{Blockly.selected.unselect()}finally{Blockly.Events.enable()}}(t=new Blockly.Events.Ui(null,"selected",t,this.id)).workspaceId=this.workspace.id,Blockly.Events.fire(t),Blockly.selected=this,this.addSelect()}},Blockly.BlockSvg.prototype.unselect=function(){if(Blockly.selected==this){var t=new Blockly.Events.Ui(null,"selected",this.id,null);t.workspaceId=this.workspace.id,Blockly.Events.fire(t),Blockly.selected=null,this.removeSelect()}},Blockly.BlockSvg.prototype.mutator=null,Blockly.BlockSvg.prototype.comment=null,Blockly.BlockSvg.prototype.warning=null,Blockly.BlockSvg.prototype.getIcons=function(){var t=[];return this.mutator&&t.push(this.mutator),this.comment&&t.push(this.comment),this.warning&&t.push(this.warning),t},Blockly.BlockSvg.prototype.setParent=function(t){var e=this.parentBlock_;if(t!=e){Blockly.Field.startCache(),Blockly.BlockSvg.superClass_.setParent.call(this,t),Blockly.Field.stopCache();var o=this.getSvgRoot();if(!this.workspace.isClearing&&o){var n=this.getRelativeToSurfaceXY();t?(t.getSvgRoot().appendChild(o),t=this.getRelativeToSurfaceXY(),this.moveConnections_(t.x-n.x,t.y-n.y)):e&&(this.workspace.getCanvas().appendChild(o),this.translate(n.x,n.y))}}},Blockly.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var t=0,e=0,o=this.useDragSurface_?this.workspace.blockDragSurface_.getGroup():null,n=this.getSvgRoot();if(n)do{var r=Blockly.utils.getRelativeXY(n);t+=r.x,e+=r.y,this.useDragSurface_&&this.workspace.blockDragSurface_.getCurrentBlock()==n&&(t+=(r=this.workspace.blockDragSurface_.getSurfaceTranslation()).x,e+=r.y),n=n.parentNode}while(n&&n!=this.workspace.getCanvas()&&n!=o);return new Blockly.utils.Coordinate(t,e)},Blockly.BlockSvg.prototype.moveBy=function(t,e){if(this.parentBlock_)throw Error("Block has parent.");var o=Blockly.Events.isEnabled();if(o)var n=new Blockly.Events.BlockMove(this);var r=this.getRelativeToSurfaceXY();this.translate(r.x+t,r.y+e),this.moveConnections_(t,e),o&&(n.recordNew(),Blockly.Events.fire(n)),this.workspace.resizeContents()},Blockly.BlockSvg.prototype.translate=function(t,e){this.getSvgRoot().setAttribute("transform","translate("+t+","+e+")")},Blockly.BlockSvg.prototype.moveToDragSurface_=function(){if(this.useDragSurface_){var t=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.blockDragSurface_.translateSurface(t.x,t.y),this.workspace.blockDragSurface_.setBlocksAndShow(this.getSvgRoot())}},Blockly.BlockSvg.prototype.moveOffDragSurface_=function(t){this.useDragSurface_&&(this.translate(t.x,t.y),this.workspace.blockDragSurface_.clearAndHide(this.workspace.getCanvas()))},Blockly.BlockSvg.prototype.moveDuringDrag=function(t){this.useDragSurface_?this.workspace.blockDragSurface_.translateSurface(t.x,t.y):(this.svgGroup_.translate_="translate("+t.x+","+t.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},Blockly.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},Blockly.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var t=this.workspace.getGrid();if(t&&t.shouldSnap()){var e=t.getSpacing(),o=e/2,n=this.getRelativeToSurfaceXY();t=Math.round((n.x-o)/e)*e+o-n.x,e=Math.round((n.y-o)/e)*e+o-n.y,t=Math.round(t),e=Math.round(e),0==t&&0==e||this.moveBy(t,e)}}},Blockly.BlockSvg.prototype.getBoundingRectangle=function(){var t=this.getRelativeToSurfaceXY(this),e=this.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,o=this.getHeightWidth(),n=t.y,r=t.y+o.height;if(this.RTL){var i=t.x-(o.width-e);t=t.x+e}else i=t.x-e,t=t.x+o.width-e;return new Blockly.utils.Rect(n,r,i,t)},Blockly.BlockSvg.prototype.setCollapsed=function(t){if(this.collapsed_!=t){for(var e,o=[],n=0;e=this.inputList[n];n++)o.push.apply(o,e.setVisible(!t));if(t){for(e=this.getIcons(),n=0;n<e.length;n++)e[n].setVisible(!1);n=this.toString(Blockly.COLLAPSE_CHARS),this.appendDummyInput("_TEMP_COLLAPSED_INPUT").appendField(n).init(),e=this.getDescendants(!0),(n=this.getNextBlock())&&(n=e.indexOf(n),e.splice(n,e.length-n)),n=1;for(var r;r=e[n];n++)if(r.warning){this.setWarningText(Blockly.Msg.COLLAPSED_WARNINGS_WARNING,Blockly.BlockSvg.COLLAPSED_WARNING_ID);break}}else this.removeInput("_TEMP_COLLAPSED_INPUT"),this.warning&&(this.warning.setText("",Blockly.BlockSvg.COLLAPSED_WARNING_ID),Object.keys(this.warning.text_).length||this.setWarningText(null));if(Blockly.BlockSvg.superClass_.setCollapsed.call(this,t),o.length||(o[0]=this),this.rendered)for(n=0;r=o[n];n++)r.render()}},Blockly.BlockSvg.prototype.tab=function(t,e){var o=this.createTabList_(),n=o.indexOf(t);-1==n&&(n=e?-1:o.length),(o=o[e?n+1:n-1])?o instanceof Blockly.Field?o.showEditor_():o.tab(null,e):(o=this.getParent())&&o.tab(this,e)},Blockly.BlockSvg.prototype.createTabList_=function(){for(var t,e=[],o=0;t=this.inputList[o];o++){for(var n,r=0;n=t.fieldRow[r];r++)n instanceof Blockly.FieldTextInput&&e.push(n);t.connection&&(t=t.connection.targetBlock())&&e.push(t)}return e},Blockly.BlockSvg.prototype.onMouseDown_=function(t){var e=this.workspace&&this.workspace.getGesture(t);e&&e.handleBlockStart(t,this)},Blockly.BlockSvg.prototype.showHelp_=function(){var t="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;t&&window.open(t)},Blockly.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var t=this,e=[];if(!this.isInFlyout){if(this.isDeletable()&&this.isMovable()&&e.push(Blockly.ContextMenu.blockDuplicateOption(t)),this.workspace.options.comments&&!this.collapsed_&&this.isEditable()&&e.push(Blockly.ContextMenu.blockCommentOption(t)),this.isMovable())if(this.collapsed_)this.workspace.options.collapse&&((o={enabled:!0}).text=Blockly.Msg.EXPAND_BLOCK,o.callback=function(){t.setCollapsed(!1)},e.push(o));else{for(var o=1;o<this.inputList.length;o++)if(this.inputList[o-1].type!=Blockly.NEXT_STATEMENT&&this.inputList[o].type!=Blockly.NEXT_STATEMENT){o={enabled:!0};var n=this.getInputsInline();o.text=n?Blockly.Msg.EXTERNAL_INPUTS:Blockly.Msg.INLINE_INPUTS,o.callback=function(){t.setInputsInline(!n)},e.push(o);break}this.workspace.options.collapse&&((o={enabled:!0}).text=Blockly.Msg.COLLAPSE_BLOCK,o.callback=function(){t.setCollapsed(!0)},e.push(o))}this.workspace.options.disable&&this.isEditable()&&(o={text:this.isEnabled()?Blockly.Msg.DISABLE_BLOCK:Blockly.Msg.ENABLE_BLOCK,enabled:!this.getInheritedDisabled(),callback:function(){var e=Blockly.Events.getGroup();e||Blockly.Events.setGroup(!0),t.setEnabled(!t.isEnabled()),e||Blockly.Events.setGroup(!1)}},e.push(o)),this.isDeletable()&&e.push(Blockly.ContextMenu.blockDeleteOption(t))}return e.push(Blockly.ContextMenu.blockHelpOption(t)),this.customContextMenu&&this.customContextMenu(e),e},Blockly.BlockSvg.prototype.showContextMenu_=function(t){var e=this.generateContextMenu();e&&e.length&&(Blockly.ContextMenu.show(t,e,this.RTL),Blockly.ContextMenu.currentBlock=this)},Blockly.BlockSvg.prototype.moveConnections_=function(t,e){if(this.rendered){for(var o=this.getConnections_(!1),n=0;n<o.length;n++)o[n].moveBy(t,e);for(o=this.getIcons(),n=0;n<o.length;n++)o[n].computeIconLocation();for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].moveConnections_(t,e)}},Blockly.BlockSvg.prototype.setDragging=function(t){if(t){var e=this.getSvgRoot();e.translate_="",e.skew_="",Blockly.draggingConnections_=Blockly.draggingConnections_.concat(this.getConnections_(!0)),Blockly.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else Blockly.draggingConnections_=[],Blockly.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(e=0;e<this.childBlocks_.length;e++)this.childBlocks_[e].setDragging(t)},Blockly.BlockSvg.prototype.updateMovable=function(){this.isMovable()?Blockly.utils.dom.addClass(this.svgGroup_,"blocklyDraggable"):Blockly.utils.dom.removeClass(this.svgGroup_,"blocklyDraggable")},Blockly.BlockSvg.prototype.setMovable=function(t){Blockly.BlockSvg.superClass_.setMovable.call(this,t),this.updateMovable()},Blockly.BlockSvg.prototype.setEditable=function(t){Blockly.BlockSvg.superClass_.setEditable.call(this,t),t=this.getIcons();for(var e=0;e<t.length;e++)t[e].updateEditable()},Blockly.BlockSvg.prototype.setShadow=function(t){Blockly.BlockSvg.superClass_.setShadow.call(this,t),this.updateColour()},Blockly.BlockSvg.prototype.setInsertionMarker=function(t){this.isInsertionMarker_!=t&&(this.isInsertionMarker_=t)&&(this.setColour(Blockly.INSERTION_MARKER_COLOUR),Blockly.utils.dom.addClass(this.svgGroup_,"blocklyInsertionMarker"))},Blockly.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},Blockly.BlockSvg.prototype.dispose=function(t,e){if(this.workspace){Blockly.Tooltip.hide(),Blockly.Field.startCache();var o,n=this.workspace;if(Blockly.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),Blockly.ContextMenu.currentBlock==this&&Blockly.ContextMenu.hide(),e&&this.rendered&&(this.unplug(t),Blockly.blockAnimations.disposeUiEffect(this)),this.rendered=!1,this.warningTextDb_){for(var r in this.warningTextDb_)clearTimeout(this.warningTextDb_[r]);this.warningTextDb_=null}this.unplug(t),Blockly.Events.isEnabled()&&(o=new Blockly.Events.BlockDelete(this)),Blockly.Events.disable();try{var i=this.getIcons();for(r=0;r<i.length;r++)i[r].dispose();Blockly.BlockSvg.superClass_.dispose.call(this,t)}finally{Blockly.Events.enable()}Blockly.Events.isEnabled()&&o&&Blockly.Events.fire(o),Blockly.utils.dom.removeNode(this.svgGroup_),n.resizeContents(),this.svgPathDark_=this.svgPathLight_=this.svgPath_=this.svgGroup_=null,Blockly.Field.stopCache()}},Blockly.BlockSvg.prototype.updateColour=function(){if(this.isEnabled()){this.isShadow()?this.setShadowColour_():(this.setBorderColour_(),this.svgPath_.setAttribute("fill",this.getColour()));for(var t=this.getIcons(),e=0;e<t.length;e++)t[e].updateColour();for(t=0;e=this.inputList[t];t++)for(var o,n=0;o=e.fieldRow[n];n++)o.updateColour()}},Blockly.BlockSvg.prototype.setBorderColour_=function(){var t=this.getColourBorder();t.colourBorder?(this.svgPathLight_.style.display="none",this.svgPathDark_.style.display="none",this.svgPath_.setAttribute("stroke",t.colourBorder)):(this.svgPathLight_.style.display="",this.svgPathDark_.style.display="",this.svgPath_.setAttribute("stroke","none"),this.svgPathLight_.setAttribute("stroke",t.colourLight),this.svgPathDark_.setAttribute("fill",t.colourDark))},Blockly.BlockSvg.prototype.setShadowColour_=function(){var t=this.getColourShadow();return this.svgPathLight_.style.display="none",this.svgPathDark_.setAttribute("fill",t),this.svgPath_.setAttribute("stroke","none"),this.svgPath_.setAttribute("fill",t),t},Blockly.BlockSvg.prototype.updateDisabled=function(){!this.isEnabled()||this.getInheritedDisabled()?Blockly.utils.dom.addClass(this.svgGroup_,"blocklyDisabled")&&this.svgPath_.setAttribute("fill","url(#"+this.workspace.options.disabledPatternId+")"):Blockly.utils.dom.removeClass(this.svgGroup_,"blocklyDisabled")&&this.updateColour();for(var t,e=this.getChildren(!1),o=0;t=e[o];o++)t.updateDisabled()},Blockly.BlockSvg.prototype.getCommentText=function(){return this.comment?this.comment.getText().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""},Blockly.BlockSvg.prototype.setCommentText=function(t){var e=!1;"string"==typeof t?(this.comment||(this.comment=new Blockly.Comment(this),e=!0),this.comment.setText(t)):this.comment&&(this.comment.dispose(),e=!0),e&&this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setWarningText=function(t,e){this.warningTextDb_||(this.warningTextDb_=Object.create(null));var o=e||"";if(o)this.warningTextDb_[o]&&(clearTimeout(this.warningTextDb_[o]),delete this.warningTextDb_[o]);else for(var n in this.warningTextDb_)clearTimeout(this.warningTextDb_[n]),delete this.warningTextDb_[n];if(this.workspace.isDragging()){var r=this;this.warningTextDb_[o]=setTimeout((function(){r.workspace&&(delete r.warningTextDb_[o],r.setWarningText(t,o))}),100)}else{this.isInFlyout&&(t=null),n=this.getSurroundParent();for(var i=null;n;)n.isCollapsed()&&(i=n),n=n.getSurroundParent();i&&i.setWarningText(Blockly.Msg.COLLAPSED_WARNINGS_WARNING,Blockly.BlockSvg.COLLAPSED_WARNING_ID),n=!1,"string"==typeof t?(this.warning||(this.warning=new Blockly.Warning(this),n=!0),this.warning.setText(t,o)):this.warning&&!o?(this.warning.dispose(),n=!0):this.warning&&(n=this.warning.getText(),this.warning.setText("",o),(i=this.warning.getText())||this.warning.dispose(),n=n!=i),n&&this.rendered&&(this.render(),this.bumpNeighbours_())}},Blockly.BlockSvg.prototype.setMutator=function(t){this.mutator&&this.mutator!==t&&this.mutator.dispose(),t&&(t.block_=this,this.mutator=t,t.createIcon())},Blockly.BlockSvg.prototype.setDisabled=function(t){console.warn("Deprecated call to Blockly.BlockSvg.prototype.setDisabled, use Blockly.BlockSvg.prototype.setEnabled instead."),this.setEnabled(!t)},Blockly.BlockSvg.prototype.setEnabled=function(t){this.isEnabled()!=t&&(Blockly.BlockSvg.superClass_.setEnabled.call(this,t),this.rendered&&this.updateDisabled())},Blockly.BlockSvg.prototype.setHighlighted=function(t){this.rendered&&(t?(this.svgPath_.setAttribute("filter","url(#"+this.workspace.options.embossFilterId+")"),this.svgPathLight_.style.display="none"):(this.svgPath_.setAttribute("filter","none"),this.svgPathLight_.style.display="inline"))},Blockly.BlockSvg.prototype.addSelect=function(){Blockly.utils.dom.addClass(this.svgGroup_,"blocklySelected")},Blockly.BlockSvg.prototype.removeSelect=function(){Blockly.utils.dom.removeClass(this.svgGroup_,"blocklySelected")},Blockly.BlockSvg.prototype.setDeleteStyle=function(t){t?Blockly.utils.dom.addClass(this.svgGroup_,"blocklyDraggingDelete"):Blockly.utils.dom.removeClass(this.svgGroup_,"blocklyDraggingDelete")},Blockly.BlockSvg.prototype.setColour=function(t){Blockly.BlockSvg.superClass_.setColour.call(this,t),this.rendered&&this.updateColour()},Blockly.BlockSvg.prototype.bringToFront=function(){var t=this;do{var e=t.getSvgRoot();e.parentNode.appendChild(e),t=t.getParent()}while(t)},Blockly.BlockSvg.prototype.setPreviousStatement=function(t,e){Blockly.BlockSvg.superClass_.setPreviousStatement.call(this,t,e),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setNextStatement=function(t,e){Blockly.BlockSvg.superClass_.setNextStatement.call(this,t,e),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setOutput=function(t,e){Blockly.BlockSvg.superClass_.setOutput.call(this,t,e),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setInputsInline=function(t){Blockly.BlockSvg.superClass_.setInputsInline.call(this,t),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.removeInput=function(t,e){Blockly.BlockSvg.superClass_.removeInput.call(this,t,e),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.moveNumberedInputBefore=function(t,e){Blockly.BlockSvg.superClass_.moveNumberedInputBefore.call(this,t,e),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.appendInput_=function(t,e){var o=Blockly.BlockSvg.superClass_.appendInput_.call(this,t,e);return this.rendered&&(this.render(),this.bumpNeighbours_()),o},Blockly.BlockSvg.prototype.getConnections_=function(t){var e=[];if((t||this.rendered)&&(this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection),t||!this.collapsed_)){t=0;for(var o;o=this.inputList[t];t++)o.connection&&e.push(o.connection)}return e},Blockly.BlockSvg.prototype.makeConnection_=function(t){return new Blockly.RenderedConnection(this,t)},Blockly.BlockSvg.prototype.bumpNeighbours_=function(){if(this.workspace&&!this.workspace.isDragging()){var t=this.getRootBlock();if(!t.isInFlyout)for(var e,o=this.getConnections_(!1),n=0;e=o[n];n++){e.isConnected()&&e.isSuperior()&&e.targetBlock().bumpNeighbours_();for(var r,i=e.neighbours_(Blockly.SNAP_RADIUS),s=0;r=i[s];s++)e.isConnected()&&r.isConnected()||r.getSourceBlock().getRootBlock()!=t&&(e.isSuperior()?r.bumpAwayFrom_(e):e.bumpAwayFrom_(r))}}},Blockly.BlockSvg.prototype.scheduleSnapAndBump=function(){var t=this,e=Blockly.Events.getGroup();setTimeout((function(){Blockly.Events.setGroup(e),t.snapToGrid(),Blockly.Events.setGroup(!1)}),Blockly.BUMP_DELAY/2),setTimeout((function(){Blockly.Events.setGroup(e),t.bumpNeighbours_(),Blockly.Events.setGroup(!1)}),Blockly.BUMP_DELAY)},Blockly.BlockSvg.render={},Blockly.BlockSvg.PathObject=function(){this.steps=[],this.highlightSteps=[],this.inlineSteps=[],this.highlightInlineSteps=[]},Blockly.BlockSvg.SEP_SPACE_X=10,Blockly.BlockSvg.SEP_SPACE_Y=10,Blockly.BlockSvg.INLINE_PADDING_Y=5,Blockly.BlockSvg.MIN_BLOCK_Y=25,Blockly.BlockSvg.TAB_HEIGHT=20,Blockly.BlockSvg.TAB_WIDTH=8,Blockly.BlockSvg.NOTCH_WIDTH=30,Blockly.BlockSvg.CORNER_RADIUS=8,Blockly.BlockSvg.START_HAT=!1,Blockly.BlockSvg.START_HAT_HEIGHT=15,Blockly.BlockSvg.START_HAT_PATH="c 30,-"+Blockly.BlockSvg.START_HAT_HEIGHT+" 70,-"+Blockly.BlockSvg.START_HAT_HEIGHT+" 100,0",Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR="c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5",Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL="m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7",Blockly.BlockSvg.DISTANCE_45_INSIDE=(1-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS-.5)+.5,Blockly.BlockSvg.DISTANCE_45_OUTSIDE=(1-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS+.5)-.5,Blockly.BlockSvg.NOTCH_PATH_LEFT="l 6,4 3,0 6,-4",Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT="l 6,4 3,0 6,-4",Blockly.BlockSvg.NOTCH_PATH_RIGHT="l -6,4 -3,0 -6,-4",Blockly.BlockSvg.JAGGED_TEETH="l 8,0 0,4 8,4 -16,8 8,4",Blockly.BlockSvg.JAGGED_TEETH_HEIGHT=20,Blockly.BlockSvg.JAGGED_TEETH_WIDTH=15,Blockly.BlockSvg.TAB_PATH_DOWN="v 5 c 0,10 -"+Blockly.BlockSvg.TAB_WIDTH+",-8 -"+Blockly.BlockSvg.TAB_WIDTH+",7.5 s "+Blockly.BlockSvg.TAB_WIDTH+",-2.5 "+Blockly.BlockSvg.TAB_WIDTH+",7.5",Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL="v 6.5 m -"+.97*Blockly.BlockSvg.TAB_WIDTH+",3 q -"+.05*Blockly.BlockSvg.TAB_WIDTH+",10 "+.3*Blockly.BlockSvg.TAB_WIDTH+",9.5 m "+.67*Blockly.BlockSvg.TAB_WIDTH+",-1.9 v 1.4",Blockly.BlockSvg.TOP_LEFT_CORNER_START="m 0,"+Blockly.BlockSvg.CORNER_RADIUS,Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL="m "+Blockly.BlockSvg.DISTANCE_45_INSIDE+","+Blockly.BlockSvg.DISTANCE_45_INSIDE,Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR="m 0.5,"+(Blockly.BlockSvg.CORNER_RADIUS-.5),Blockly.BlockSvg.TOP_LEFT_CORNER="A "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,1 "+Blockly.BlockSvg.CORNER_RADIUS+",0",Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT="A "+(Blockly.BlockSvg.CORNER_RADIUS-.5)+","+(Blockly.BlockSvg.CORNER_RADIUS-.5)+" 0 0,1 "+Blockly.BlockSvg.CORNER_RADIUS+",0.5",Blockly.BlockSvg.INNER_TOP_LEFT_CORNER=Blockly.BlockSvg.NOTCH_PATH_RIGHT+" h -"+(Blockly.BlockSvg.NOTCH_WIDTH-15-Blockly.BlockSvg.CORNER_RADIUS)+" a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 -"+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS,Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER="a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS,Blockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL="a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 "+(-Blockly.BlockSvg.DISTANCE_45_OUTSIDE-.5)+","+(Blockly.BlockSvg.CORNER_RADIUS-Blockly.BlockSvg.DISTANCE_45_OUTSIDE),Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL="a "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5)+" 0 0,0 "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5),Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR="a "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5)+" 0 0,0 "+(Blockly.BlockSvg.CORNER_RADIUS-Blockly.BlockSvg.DISTANCE_45_OUTSIDE)+","+(Blockly.BlockSvg.DISTANCE_45_OUTSIDE+.5),Blockly.BlockSvg.prototype.getHeightWidth=function(){var t=this.height,e=this.width,o=this.getNextBlock();return o?(t+=(o=o.getHeightWidth()).height-4,e=Math.max(e,o.width)):this.nextConnection||this.outputConnection||(t+=2),{height:t,width:e}},Blockly.BlockSvg.prototype.render=function(t){Blockly.Field.startCache(),this.rendered=!0;var e=Blockly.BlockSvg.SEP_SPACE_X;this.RTL&&(e=-e);for(var o=this.getIcons(),n=0;n<o.length;n++)e=o[n].renderIcon(e);o=this.renderCompute_(e+=this.RTL?Blockly.BlockSvg.SEP_SPACE_X:-Blockly.BlockSvg.SEP_SPACE_X),this.renderDraw_(e,o),this.renderMoveConnections_(),!1!==t&&((t=this.getParent())?t.render(!0):this.workspace.resizeContents()),Blockly.Field.stopCache()},Blockly.BlockSvg.prototype.renderFields_=function(t,e,o){o+=Blockly.BlockSvg.INLINE_PADDING_Y,this.RTL&&(e=-e);for(var n,r=0;n=t[r];r++){var i=n.getSvgRoot();if(i){var s="";if(this.RTL){var l=e-=n.renderSep+n.renderWidth;n.renderWidth&&(e-=Blockly.BlockSvg.SEP_SPACE_X)}else l=e+n.renderSep,n.renderWidth&&(e+=n.renderSep+n.renderWidth+Blockly.BlockSvg.SEP_SPACE_X);this.RTL&&n instanceof Blockly.FieldImage&&n.getFlipRtl()&&(s="scale(-1 1)",l+=n.renderWidth),i.setAttribute("transform","translate("+l+","+o+")"+s),this.isInsertionMarker()&&i.setAttribute("display","none")}}return this.RTL?-e:e},Blockly.BlockSvg.prototype.renderCompute_=function(t){var e=this.inputList,o=[];o.rightEdge=t+2*Blockly.BlockSvg.SEP_SPACE_X,(this.previousConnection||this.nextConnection)&&(o.rightEdge=Math.max(o.rightEdge,Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.SEP_SPACE_X));for(var n,r=0,i=0,s=!1,l=!1,a=!1,u=void 0,c=this.getInputsInline()&&!this.isCollapsed(),p=0;n=e[p];p++)if(n.isVisible()){if(c&&u&&u!=Blockly.NEXT_STATEMENT&&n.type!=Blockly.NEXT_STATEMENT)var h=o[o.length-1];else u=n.type,(h=[]).type=c&&n.type!=Blockly.NEXT_STATEMENT?Blockly.BlockSvg.INLINE:n.type,h.height=0,o.push(h);if(h.push(n),n.renderHeight=Blockly.BlockSvg.MIN_BLOCK_Y,n.renderWidth=c&&n.type==Blockly.INPUT_VALUE?Blockly.BlockSvg.TAB_WIDTH+1.25*Blockly.BlockSvg.SEP_SPACE_X:0,n.connection&&n.connection.isConnected()){var g=n.connection.targetBlock().getHeightWidth();n.renderHeight=Math.max(n.renderHeight,g.height),n.renderWidth=Math.max(n.renderWidth,g.width)}c||p!=e.length-1?!c&&n.type==Blockly.INPUT_VALUE&&e[p+1]&&e[p+1].type==Blockly.NEXT_STATEMENT&&n.renderHeight--:n.renderHeight--,h.height=Math.max(h.height,n.renderHeight),n.fieldWidth=0,1==o.length&&(n.fieldWidth+=this.RTL?-t:t),g=!1;for(var d,f=0;d=n.fieldRow[f];f++){0!=f&&(n.fieldWidth+=Blockly.BlockSvg.SEP_SPACE_X);var m=d.getSize();d.renderWidth=m.width,d.renderSep=g&&d.EDITABLE?Blockly.BlockSvg.SEP_SPACE_X:0,n.fieldWidth+=d.renderWidth+d.renderSep,h.height=Math.max(h.height,m.height),g=d.EDITABLE}h.type!=Blockly.BlockSvg.INLINE&&(h.type==Blockly.NEXT_STATEMENT?(l=!0,i=Math.max(i,n.fieldWidth)):(h.type==Blockly.INPUT_VALUE?s=!0:h.type==Blockly.DUMMY_INPUT&&(a=!0),r=Math.max(r,n.fieldWidth)))}for(t=0;h=o[t];t++)if(h.thicker=!1,h.type==Blockly.BlockSvg.INLINE)for(e=0;n=h[e];e++)if(n.type==Blockly.INPUT_VALUE){h.height+=2*Blockly.BlockSvg.INLINE_PADDING_Y,h.thicker=!0;break}return o.statementEdge=2*Blockly.BlockSvg.SEP_SPACE_X+i,l&&(o.rightEdge=Math.max(o.rightEdge,o.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH)),s?o.rightEdge=Math.max(o.rightEdge,r+2*Blockly.BlockSvg.SEP_SPACE_X+Blockly.BlockSvg.TAB_WIDTH):a&&(o.rightEdge=Math.max(o.rightEdge,r+2*Blockly.BlockSvg.SEP_SPACE_X)),o.hasValue=s,o.hasStatement=l,o.hasDummy=a,o},Blockly.BlockSvg.prototype.renderDraw_=function(t,e){if(this.startHat_=!1,this.height=0,this.outputConnection)this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!0;else{var o=this.hat?"cap"===this.hat:Blockly.BlockSvg.START_HAT;this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!1,this.previousConnection?(o=this.previousConnection.targetBlock())&&o.getNextBlock()==this&&(this.squareTopLeftCorner_=!0):o&&(this.startHat_=this.squareTopLeftCorner_=!0,this.height+=Blockly.BlockSvg.START_HAT_HEIGHT,e.rightEdge=Math.max(e.rightEdge,100)),this.getNextBlock()&&(this.squareBottomLeftCorner_=!0)}o=new Blockly.BlockSvg.PathObject,this.renderDrawTop_(o,e.rightEdge);var n=this.renderDrawRight_(o,e,t);this.renderDrawBottom_(o,n),this.renderDrawLeft_(o),this.setPaths_(o)},Blockly.BlockSvg.prototype.setPaths_=function(t){var e=t.steps.join(" ")+"\n"+t.inlineSteps.join(" ");this.svgPath_.setAttribute("d",e),this.svgPathDark_.setAttribute("d",e),e=t.highlightSteps.join(" ")+"\n"+t.highlightInlineSteps.join(" "),this.svgPathLight_.setAttribute("d",e),this.RTL&&(this.svgPath_.setAttribute("transform","scale(-1 1)"),this.svgPathLight_.setAttribute("transform","scale(-1 1)"),this.svgPathDark_.setAttribute("transform","translate(1,1) scale(-1 1)"))},Blockly.BlockSvg.prototype.renderMoveConnections_=function(){var t=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(t),this.outputConnection&&this.outputConnection.moveToOffset(t);for(var e=0;e<this.inputList.length;e++){var o=this.inputList[e].connection;o&&(o.moveToOffset(t),o.isConnected()&&o.tighten_())}this.nextConnection&&(this.nextConnection.moveToOffset(t),this.nextConnection.isConnected()&&this.nextConnection.tighten_())},Blockly.BlockSvg.prototype.renderDrawTop_=function(t,e){var o=t.steps,n=t.highlightSteps;this.squareTopLeftCorner_?(o.push("m 0,0"),n.push("m 0.5,0.5"),this.startHat_&&(o.push(Blockly.BlockSvg.START_HAT_PATH),n.push(this.RTL?Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL:Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR))):(o.push(Blockly.BlockSvg.TOP_LEFT_CORNER_START),n.push(this.RTL?Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL:Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR),o.push(Blockly.BlockSvg.TOP_LEFT_CORNER),n.push(Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT)),this.previousConnection&&(o.push("H",Blockly.BlockSvg.NOTCH_WIDTH-15),n.push("H",Blockly.BlockSvg.NOTCH_WIDTH-15),o.push(Blockly.BlockSvg.NOTCH_PATH_LEFT),n.push(Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT),this.previousConnection.setOffsetInBlock(this.RTL?-Blockly.BlockSvg.NOTCH_WIDTH:Blockly.BlockSvg.NOTCH_WIDTH,0)),o.push("H",e),n.push("H",e-.5),this.width=e},Blockly.BlockSvg.prototype.renderDrawRight_=function(t,e,o){for(var n,r={x:0,y:0},i={x:0,y:0},s=0;n=e[s];s++)r.x=Blockly.BlockSvg.SEP_SPACE_X,0==s&&(r.x+=this.RTL?-o:o),t.highlightSteps.push("M",e.rightEdge-.5+","+(r.y+.5)),this.isCollapsed()?this.renderJaggedEdge_(t,n,r):n.type==Blockly.BlockSvg.INLINE?this.renderInlineRow_(t,n,r,i,e.rightEdge):n.type==Blockly.INPUT_VALUE?this.renderExternalValueInput_(t,n,r,i,e.rightEdge):n.type==Blockly.DUMMY_INPUT?this.renderDummyInput_(t,n,r,e.rightEdge,e.hasValue):n.type==Blockly.NEXT_STATEMENT&&this.renderStatementInput_(t,n,r,i,e,s),r.y+=n.height;return e.length||(r.y=Blockly.BlockSvg.MIN_BLOCK_Y,t.steps.push("V",r.y),this.RTL&&t.highlightSteps.push("V",r.y-1)),r.y},Blockly.BlockSvg.prototype.renderDrawBottom_=function(t,e){var o=t.steps,n=t.highlightSteps;this.height+=e+1,this.nextConnection&&(o.push("H",Blockly.BlockSvg.NOTCH_WIDTH+(this.RTL?.5:-.5)+" "+Blockly.BlockSvg.NOTCH_PATH_RIGHT),this.nextConnection.setOffsetInBlock(this.RTL?-Blockly.BlockSvg.NOTCH_WIDTH:Blockly.BlockSvg.NOTCH_WIDTH,e+1),this.height+=4),this.squareBottomLeftCorner_?(o.push("H 0"),this.RTL||n.push("M","0.5,"+(e-.5))):(o.push("H",Blockly.BlockSvg.CORNER_RADIUS),o.push("a",Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,1 -"+Blockly.BlockSvg.CORNER_RADIUS+",-"+Blockly.BlockSvg.CORNER_RADIUS),this.RTL||(n.push("M",Blockly.BlockSvg.DISTANCE_45_INSIDE+","+(e-Blockly.BlockSvg.DISTANCE_45_INSIDE)),n.push("A",Blockly.BlockSvg.CORNER_RADIUS-.5+","+(Blockly.BlockSvg.CORNER_RADIUS-.5)+" 0 0,1 0.5,"+(e-Blockly.BlockSvg.CORNER_RADIUS))))},Blockly.BlockSvg.prototype.renderDrawLeft_=function(t){var e=t.steps;t=t.highlightSteps,this.outputConnection?(this.outputConnection.setOffsetInBlock(0,0),e.push("V",Blockly.BlockSvg.TAB_HEIGHT),e.push("c 0,-10 -"+Blockly.BlockSvg.TAB_WIDTH+",8 -"+Blockly.BlockSvg.TAB_WIDTH+",-7.5 s "+Blockly.BlockSvg.TAB_WIDTH+",2.5 "+Blockly.BlockSvg.TAB_WIDTH+",-7.5"),this.RTL?(t.push("M",-.25*Blockly.BlockSvg.TAB_WIDTH+",8.4"),t.push("l",-.45*Blockly.BlockSvg.TAB_WIDTH+",-2.1")):(t.push("V",Blockly.BlockSvg.TAB_HEIGHT-1.5),t.push("m",-.92*Blockly.BlockSvg.TAB_WIDTH+",-0.5 q "+-.19*Blockly.BlockSvg.TAB_WIDTH+",-5.5 0,-11"),t.push("m",.92*Blockly.BlockSvg.TAB_WIDTH+",1 V 0.5 H 1")),this.width+=Blockly.BlockSvg.TAB_WIDTH):this.RTL||t.push("V",this.squareTopLeftCorner_?.5:Blockly.BlockSvg.CORNER_RADIUS),e.push("z")},Blockly.BlockSvg.prototype.renderJaggedEdge_=function(t,e,o){var n=t.steps;t=t.highlightSteps,this.renderFields_(e[0].fieldRow,o.x,o.y),n.push(Blockly.BlockSvg.JAGGED_TEETH),t.push("h 8"),n.push("v",e=e.height-Blockly.BlockSvg.JAGGED_TEETH_HEIGHT),this.RTL&&(t.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),t.push("v",e-.7)),this.width+=Blockly.BlockSvg.JAGGED_TEETH_WIDTH},Blockly.BlockSvg.prototype.renderInlineRow_=function(t,e,o,n,r){var i=t.inlineSteps,s=t.highlightInlineSteps,l=t.steps;t=t.highlightSteps;for(var a,u=0;a=e[u];u++){var c=o.y;e.thicker&&(c+=Blockly.BlockSvg.INLINE_PADDING_Y),o.x=this.renderFields_(a.fieldRow,o.x,c),a.type!=Blockly.DUMMY_INPUT&&(o.x+=a.renderWidth+Blockly.BlockSvg.SEP_SPACE_X),a.type==Blockly.INPUT_VALUE&&(i.push("M",o.x-Blockly.BlockSvg.SEP_SPACE_X+","+(o.y+Blockly.BlockSvg.INLINE_PADDING_Y)),i.push("h",Blockly.BlockSvg.TAB_WIDTH-2-a.renderWidth),i.push(Blockly.BlockSvg.TAB_PATH_DOWN),i.push("v",a.renderHeight+1-Blockly.BlockSvg.TAB_HEIGHT),i.push("h",a.renderWidth+2-Blockly.BlockSvg.TAB_WIDTH),i.push("z"),this.RTL?(s.push("M",o.x-Blockly.BlockSvg.SEP_SPACE_X-2.5+Blockly.BlockSvg.TAB_WIDTH-a.renderWidth+","+(o.y+Blockly.BlockSvg.INLINE_PADDING_Y+.5)),s.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL),s.push("v",a.renderHeight-Blockly.BlockSvg.TAB_HEIGHT+2.5),s.push("h",a.renderWidth-Blockly.BlockSvg.TAB_WIDTH+2)):(s.push("M",o.x-Blockly.BlockSvg.SEP_SPACE_X+.5+","+(o.y+Blockly.BlockSvg.INLINE_PADDING_Y+.5)),s.push("v",a.renderHeight+1),s.push("h",Blockly.BlockSvg.TAB_WIDTH-2-a.renderWidth),s.push("M",o.x-a.renderWidth-Blockly.BlockSvg.SEP_SPACE_X+.9+","+(o.y+Blockly.BlockSvg.INLINE_PADDING_Y+Blockly.BlockSvg.TAB_HEIGHT-.7)),s.push("l",.46*Blockly.BlockSvg.TAB_WIDTH+",-2.1")),n.x=this.RTL?-o.x-Blockly.BlockSvg.TAB_WIDTH+Blockly.BlockSvg.SEP_SPACE_X+a.renderWidth+1:o.x+Blockly.BlockSvg.TAB_WIDTH-Blockly.BlockSvg.SEP_SPACE_X-a.renderWidth-1,n.y=o.y+Blockly.BlockSvg.INLINE_PADDING_Y+1,a.connection.setOffsetInBlock(n.x,n.y))}o.x=Math.max(o.x,r),this.width=Math.max(this.width,o.x),l.push("H",o.x),t.push("H",o.x-.5),l.push("v",e.height),this.RTL&&t.push("v",e.height-1)},Blockly.BlockSvg.prototype.renderExternalValueInput_=function(t,e,o,n,r){var i=t.steps;t=t.highlightSteps;var s=e[0],l=o.x;if(s.align!=Blockly.ALIGN_LEFT){var a=r-s.fieldWidth-Blockly.BlockSvg.TAB_WIDTH-2*Blockly.BlockSvg.SEP_SPACE_X;s.align==Blockly.ALIGN_RIGHT?l+=a:s.align==Blockly.ALIGN_CENTRE&&(l+=a/2)}this.renderFields_(s.fieldRow,l,o.y),i.push(Blockly.BlockSvg.TAB_PATH_DOWN),i.push("v",e=e.height-Blockly.BlockSvg.TAB_HEIGHT),this.RTL?(t.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL),t.push("v",e+.5)):(t.push("M",r-5+","+(o.y+Blockly.BlockSvg.TAB_HEIGHT-.7)),t.push("l",.46*Blockly.BlockSvg.TAB_WIDTH+",-2.1")),n.x=this.RTL?-r-1:r+1,s.connection.setOffsetInBlock(n.x,o.y),s.connection.isConnected()&&(this.width=Math.max(this.width,r+s.connection.targetBlock().getHeightWidth().width-Blockly.BlockSvg.TAB_WIDTH+1))},Blockly.BlockSvg.prototype.renderDummyInput_=function(t,e,o,n,r){var i=t.steps;t=t.highlightSteps;var s=e[0],l=o.x;s.align!=Blockly.ALIGN_LEFT&&(n=n-s.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X,r&&(n-=Blockly.BlockSvg.TAB_WIDTH),s.align==Blockly.ALIGN_RIGHT?l+=n:s.align==Blockly.ALIGN_CENTRE&&(l+=n/2)),this.renderFields_(s.fieldRow,l,o=o.y),i.push("v",e.height),this.RTL&&t.push("v",e.height-1)},Blockly.BlockSvg.prototype.renderStatementInput_=function(t,e,o,n,r,i){var s=t.steps;t=t.highlightSteps;var l=e[0];0==i&&(s.push("v",Blockly.BlockSvg.SEP_SPACE_Y),this.RTL&&t.push("v",Blockly.BlockSvg.SEP_SPACE_Y-1),o.y+=Blockly.BlockSvg.SEP_SPACE_Y);var a=o.x;if(l.align!=Blockly.ALIGN_LEFT){var u=r.statementEdge-l.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X;l.align==Blockly.ALIGN_RIGHT?a+=u:l.align==Blockly.ALIGN_CENTRE&&(a+=u/2)}this.renderFields_(l.fieldRow,a,o.y),o.x=r.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH,s.push("H",o.x),s.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER),s.push("v",e.height-2*Blockly.BlockSvg.CORNER_RADIUS),s.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER),s.push("H",r.rightEdge),this.RTL?(t.push("M",o.x-Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.DISTANCE_45_OUTSIDE+","+(o.y+Blockly.BlockSvg.DISTANCE_45_OUTSIDE)),t.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL),t.push("v",e.height-2*Blockly.BlockSvg.CORNER_RADIUS),t.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL)):(t.push("M",o.x-Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.DISTANCE_45_OUTSIDE+","+(o.y+e.height-Blockly.BlockSvg.DISTANCE_45_OUTSIDE)),t.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR)),t.push("H",r.rightEdge-.5),n.x=this.RTL?-o.x:o.x+1,l.connection.setOffsetInBlock(n.x,o.y+1),l.connection.isConnected()&&(this.width=Math.max(this.width,r.statementEdge+l.connection.targetBlock().getHeightWidth().width)),i!=r.length-1&&r[i+1].type!=Blockly.NEXT_STATEMENT||(s.push("v",Blockly.BlockSvg.SEP_SPACE_Y),this.RTL&&t.push("v",Blockly.BlockSvg.SEP_SPACE_Y-1),o.y+=Blockly.BlockSvg.SEP_SPACE_Y)},Blockly.BlockSvg.prototype.positionNewBlock=function(t,e,o){e.type!=Blockly.NEXT_STATEMENT&&e.type!=Blockly.INPUT_VALUE||t.moveBy(o.x_-e.x_,o.y_-e.y_)},Blockly.BlockSvg.prototype.highlightForReplacement=function(t){t?Blockly.utils.dom.addClass(this.svgGroup_,"blocklyReplaceable"):Blockly.utils.dom.removeClass(this.svgGroup_,"blocklyReplaceable")},Blockly.DropDownDiv=function(){},Blockly.DropDownDiv.DIV_=null,Blockly.DropDownDiv.boundsElement_=null,Blockly.DropDownDiv.owner_=null,Blockly.DropDownDiv.positionToField_=null,Blockly.DropDownDiv.ARROW_SIZE=16,Blockly.DropDownDiv.BORDER_SIZE=1,Blockly.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,Blockly.DropDownDiv.PADDING_Y=16,Blockly.DropDownDiv.ANIMATION_TIME=.25,Blockly.DropDownDiv.animateOutTimer_=null,Blockly.DropDownDiv.onHide_=0,Blockly.DropDownDiv.createDom=function(){if(!Blockly.DropDownDiv.DIV_){var t=document.createElement("div");t.className="blocklyDropDownDiv",document.body.appendChild(t),Blockly.DropDownDiv.DIV_=t;var e=document.createElement("div");e.className="blocklyDropDownContent",t.appendChild(e),Blockly.DropDownDiv.content_=e,(e=document.createElement("div")).className="blocklyDropDownArrow",t.appendChild(e),Blockly.DropDownDiv.arrow_=e,Blockly.DropDownDiv.DIV_.style.opacity=0,Blockly.DropDownDiv.DIV_.style.transition="transform "+Blockly.DropDownDiv.ANIMATION_TIME+"s, opacity "+Blockly.DropDownDiv.ANIMATION_TIME+"s"}},Blockly.DropDownDiv.setBoundsElement=function(t){Blockly.DropDownDiv.boundsElement_=t},Blockly.DropDownDiv.getContentDiv=function(){return Blockly.DropDownDiv.content_},Blockly.DropDownDiv.clearContent=function(){Blockly.DropDownDiv.content_.innerHTML="",Blockly.DropDownDiv.content_.style.width=""},Blockly.DropDownDiv.setColour=function(t,e){Blockly.DropDownDiv.DIV_.style.backgroundColor=t,Blockly.DropDownDiv.DIV_.style.borderColor=e},Blockly.DropDownDiv.setCategory=function(t){Blockly.DropDownDiv.DIV_.setAttribute("data-category",t)},Blockly.DropDownDiv.showPositionedByBlock=function(t,e,o,n){var r=e.workspace.scale,i=e.width,s=e.height;return i*=r,s*=r,i=(r=e.getSvgRoot().getBoundingClientRect()).left+i/2,s=r.top+s,r=r.top,n&&(r+=n),Blockly.DropDownDiv.setBoundsElement(e.workspace.getParentSvg().parentNode),Blockly.DropDownDiv.show(t,i,s,i,r,o)},Blockly.DropDownDiv.showPositionedByField=function(t,e,o){var n=t.fieldGroup_.getBoundingClientRect(),r=n.left+n.width/2,i=n.bottom;return n=n.top,o&&(n+=o),Blockly.DropDownDiv.positionToField_=!0,Blockly.DropDownDiv.setBoundsElement(t.getSourceBlock().workspace.getParentSvg().parentNode),Blockly.DropDownDiv.show(t,r,i,r,n,e)},Blockly.DropDownDiv.show=function(t,e,o,n,r,i){return Blockly.DropDownDiv.owner_=t,Blockly.DropDownDiv.onHide_=i,t=Blockly.DropDownDiv.getPositionMetrics(e,o,n,r),Blockly.DropDownDiv.arrow_.style.transform="translate("+t.arrowX+"px,"+t.arrowY+"px) rotate(45deg)",Blockly.DropDownDiv.arrow_.setAttribute("class",t.arrowAtTop?"blocklyDropDownArrow arrowTop":"blocklyDropDownArrow arrowBottom"),Blockly.DropDownDiv.arrow_.style.display=t.arrowVisible?"":"none",Blockly.DropDownDiv.positionInternal_(t.initialX,t.initialY,t.finalX,t.finalY),t.arrowAtTop},Blockly.DropDownDiv.getBoundsInfo_=function(){var t=Blockly.DropDownDiv.boundsElement_.getBoundingClientRect(),e=goog.style.getSize(Blockly.DropDownDiv.boundsElement_);return{left:t.left,right:t.left+e.width,top:t.top,bottom:t.top+e.height,width:e.width,height:e.height}},Blockly.DropDownDiv.getPositionMetrics=function(t,e,o,n){var r=Blockly.DropDownDiv.getBoundsInfo_(),i=goog.style.getSize(Blockly.DropDownDiv.DIV_);if(e+i.height>r.bottom)if(n-i.height<r.top){o=0;var s=!1,l=!0}else t=o,o=n-i.height-Blockly.DropDownDiv.PADDING_Y,s=!0;else o=e+Blockly.DropDownDiv.PADDING_Y,s=!1;var a=t;return t=Blockly.utils.math.clamp(r.left,t-=i.width/2,r.right-i.width),a=Blockly.utils.math.clamp(r.left,a-=Blockly.DropDownDiv.ARROW_SIZE/2,r.right),r=Blockly.utils.math.clamp(Blockly.DropDownDiv.ARROW_HORIZONTAL_PADDING,a-t,i.width-Blockly.DropDownDiv.ARROW_HORIZONTAL_PADDING-Blockly.DropDownDiv.ARROW_SIZE),a=s?i.height-Blockly.DropDownDiv.BORDER_SIZE:0,{initialX:t,initialY:s?n-i.height:e,finalX:t,finalY:o,arrowX:r,arrowY:a-=Blockly.DropDownDiv.ARROW_SIZE/2+Blockly.DropDownDiv.BORDER_SIZE,arrowAtTop:!s,arrowVisible:!l}},Blockly.DropDownDiv.isVisible=function(){return!!Blockly.DropDownDiv.owner_},Blockly.DropDownDiv.hideIfOwner=function(t){return Blockly.DropDownDiv.owner_===t&&(Blockly.DropDownDiv.hide(),!0)},Blockly.DropDownDiv.hide=function(){var t=Blockly.DropDownDiv.DIV_;t.style.transform="translate(0px, 0px)",t.style.opacity=0,Blockly.DropDownDiv.animateOutTimer_=setTimeout((function(){Blockly.DropDownDiv.hideWithoutAnimation()}),1e3*Blockly.DropDownDiv.ANIMATION_TIME),Blockly.DropDownDiv.onHide_&&(Blockly.DropDownDiv.onHide_(),Blockly.DropDownDiv.onHide_=null)},Blockly.DropDownDiv.hideWithoutAnimation=function(){if(Blockly.DropDownDiv.isVisible()){Blockly.DropDownDiv.animateOutTimer_&&clearTimeout(Blockly.DropDownDiv.animateOutTimer_);var t=Blockly.DropDownDiv.DIV_;t.style.transform="",t.style.left="",t.style.top="",t.style.opacity=0,t.style.display="none",Blockly.DropDownDiv.clearContent(),Blockly.DropDownDiv.owner_=null,Blockly.DropDownDiv.onHide_&&(Blockly.DropDownDiv.onHide_(),Blockly.DropDownDiv.onHide_=null)}},Blockly.DropDownDiv.positionInternal_=function(t,e,o,n){t=Math.floor(t),e=Math.floor(e),o=Math.floor(o),n=Math.floor(n);var r=Blockly.DropDownDiv.DIV_;r.style.left=t+"px",r.style.top=e+"px",r.style.display="block",r.style.opacity=1,r.style.transform="translate("+(o-t)+"px,"+(n-e)+"px)"},Blockly.DropDownDiv.repositionForWindowResize=function(){if(Blockly.DropDownDiv.owner_){var t=Blockly.DropDownDiv.owner_.getSourceBlock(),e=t.workspace.scale,o=Blockly.DropDownDiv.positionToField_?Blockly.DropDownDiv.owner_.size_.width:t.width,n=Blockly.DropDownDiv.positionToField_?Blockly.DropDownDiv.owner_.size_.height:t.height;o*=e,n*=e,t=Blockly.DropDownDiv.positionToField_?Blockly.DropDownDiv.owner_.fieldGroup_.getBoundingClientRect():t.getSvgRoot().getBoundingClientRect(),n=Blockly.DropDownDiv.getPositionMetrics(o=t.left+o/2,t.top+n,o,t.top),Blockly.DropDownDiv.positionInternal_(n.initialX,n.initialY,n.finalX,n.finalY)}else Blockly.DropDownDiv.hide()},Blockly.FieldTextInput=function(t,e){null===(t=this.doClassValidation_(t))&&(t=""),Blockly.FieldTextInput.superClass_.constructor.call(this,t,e)},goog.inherits(Blockly.FieldTextInput,Blockly.Field),Blockly.FieldTextInput.fromJson=function(t){var e=Blockly.utils.replaceMessageReferences(t.text);return e=new Blockly.FieldTextInput(e),"boolean"==typeof t.spellcheck&&e.setSpellcheck(t.spellcheck),e},Blockly.FieldTextInput.prototype.SERIALIZABLE=!0,Blockly.FieldTextInput.FONTSIZE=11,Blockly.FieldTextInput.prototype.CURSOR="text",Blockly.FieldTextInput.prototype.spellcheck_=!0,Blockly.FieldTextInput.prototype.doClassValidation_=function(t){return null==t?null:String(t)},Blockly.FieldTextInput.prototype.doValueInvalid_=function(t){this.isBeingEdited_&&(this.isTextValid_=!1,t=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,t,this.value_)))},Blockly.FieldTextInput.prototype.doValueUpdate_=function(t){this.isTextValid_=!0,this.value_=t,this.isBeingEdited_||(this.text_=String(t),this.isDirty_=!0)},Blockly.FieldTextInput.prototype.render_=function(){Blockly.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_&&(this.resizeEditor_(),this.isTextValid_?Blockly.utils.dom.removeClass(this.htmlInput_,"blocklyInvalidInput"):Blockly.utils.dom.addClass(this.htmlInput_,"blocklyInvalidInput"))},Blockly.FieldTextInput.prototype.setSpellcheck=function(t){this.spellcheck_=t},Blockly.FieldTextInput.prototype.showEditor_=function(t){this.workspace_=this.sourceBlock_.workspace,!(t=t||!1)&&(Blockly.utils.userAgent.MOBILE||Blockly.utils.userAgent.ANDROID||Blockly.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(t)},Blockly.FieldTextInput.prototype.showPromptEditor_=function(){var t=this;Blockly.prompt(Blockly.Msg.CHANGE_VALUE_TITLE,this.text_,(function(e){t.setValue(e)}))},Blockly.FieldTextInput.prototype.showInlineEditor_=function(t){this.isBeingEdited_=!0,Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),t||(this.htmlInput_.focus(),this.htmlInput_.select())},Blockly.FieldTextInput.prototype.widgetCreate_=function(){var t=Blockly.WidgetDiv.DIV,e=document.createElement("input");e.className="blocklyHtmlInput",e.setAttribute("spellcheck",this.spellcheck_);var o=Blockly.FieldTextInput.FONTSIZE*this.workspace_.scale+"pt";return t.style.fontSize=o,e.style.fontSize=o,t.appendChild(e),e.value=e.defaultValue=this.value_,e.untypedDefaultValue_=this.value_,e.oldValue_=null,this.resizeEditor_(),this.bindInputEvents_(e),e},Blockly.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.value_!==this.text_&&(this.text_=String(this.value_),this.isTextValid_=!0,this.forceRerender()),this.onFinishEditing_&&this.onFinishEditing_(this.value_),this.unbindInputEvents_();var t=Blockly.WidgetDiv.DIV.style;t.width="auto",t.height="auto",t.fontSize=""},Blockly.FieldTextInput.prototype.bindInputEvents_=function(t){this.onKeyDownWrapper_=Blockly.bindEventWithChecks_(t,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyUpWrapper_=Blockly.bindEventWithChecks_(t,"keyup",this,this.onHtmlInputChange_),this.onKeyPressWrapper_=Blockly.bindEventWithChecks_(t,"keypress",this,this.onHtmlInputChange_),this.onWorkspaceChangeWrapper_=this.resizeEditor_.bind(this),this.workspace_.addChangeListener(this.onWorkspaceChangeWrapper_)},Blockly.FieldTextInput.prototype.unbindInputEvents_=function(){Blockly.unbindEvent_(this.onKeyDownWrapper_),Blockly.unbindEvent_(this.onKeyUpWrapper_),Blockly.unbindEvent_(this.onKeyPressWrapper_),this.workspace_.removeChangeListener(this.onWorkspaceChangeWrapper_)},Blockly.FieldTextInput.prototype.onHtmlInputKeyDown_=function(t){13==t.keyCode?Blockly.WidgetDiv.hide():27==t.keyCode?(this.htmlInput_.value=this.htmlInput_.defaultValue,Blockly.WidgetDiv.hide()):9==t.keyCode&&(Blockly.WidgetDiv.hide(),this.sourceBlock_.tab(this,!t.shiftKey),t.preventDefault())},Blockly.FieldTextInput.prototype.onHtmlInputChange_=function(t){(t=this.htmlInput_.value)!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=t,Blockly.Events.setGroup(!0),this.setValue(t),this.text_=this.htmlInput_.value,this.forceRerender(),Blockly.Events.setGroup(!1))},Blockly.FieldTextInput.prototype.resizeEditor_=function(){var t=Blockly.WidgetDiv.DIV,e=this.getScaledBBox_();t.style.width=e.right-e.left+"px",t.style.height=e.bottom-e.top+"px",(e=new Blockly.utils.Coordinate(this.sourceBlock_.RTL?e.right-t.offsetWidth:e.left,e.top)).y+=1,Blockly.utils.userAgent.GECKO&&Blockly.WidgetDiv.DIV.style.top&&(--e.x,--e.y),Blockly.utils.userAgent.WEBKIT&&(e.y-=3),t.style.left=e.x+"px",t.style.top=e.y+"px"},Blockly.FieldTextInput.numberValidator=function(t){return console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead."),null===t?null:(t=(t=(t=String(t)).replace(/O/gi,"0")).replace(/,/g,""),t=parseFloat(t||0),isNaN(t)?null:String(t))},Blockly.FieldTextInput.nonnegativeIntegerValidator=function(t){return(t=Blockly.FieldTextInput.numberValidator(t))&&(t=String(Math.max(0,Math.floor(t)))),t},Blockly.Field.register("field_input",Blockly.FieldTextInput),Blockly.FieldAngle=function(t,e){null===(t=this.doClassValidation_(t))&&(t=0),Blockly.FieldAngle.superClass_.constructor.call(this,t,e)},goog.inherits(Blockly.FieldAngle,Blockly.FieldTextInput),Blockly.FieldAngle.fromJson=function(t){return new Blockly.FieldAngle(t.angle)},Blockly.FieldAngle.prototype.SERIALIZABLE=!0,Blockly.FieldAngle.ROUND=15,Blockly.FieldAngle.HALF=50,Blockly.FieldAngle.CLOCKWISE=!1,Blockly.FieldAngle.OFFSET=0,Blockly.FieldAngle.WRAP=360,Blockly.FieldAngle.RADIUS=Blockly.FieldAngle.HALF-1,Blockly.FieldAngle.prototype.initView=function(){Blockly.FieldAngle.superClass_.initView.call(this),this.symbol_=Blockly.utils.dom.createSvgElement("tspan",{},null),this.symbol_.appendChild(document.createTextNode("")),this.textElement_.appendChild(this.symbol_)},Blockly.FieldAngle.prototype.render_=function(){Blockly.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},Blockly.FieldAngle.prototype.showEditor_=function(){Blockly.FieldAngle.superClass_.showEditor_.call(this,Blockly.utils.userAgent.MOBILE||Blockly.utils.userAgent.ANDROID||Blockly.utils.userAgent.IPAD);var t=this.dropdownCreate_();Blockly.DropDownDiv.getContentDiv().appendChild(t),t=(t=this.sourceBlock_.getColourBorder()).colourBorder||t.colourLight,Blockly.DropDownDiv.setColour(this.sourceBlock_.getColour(),t),Blockly.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},Blockly.FieldAngle.prototype.dropdownCreate_=function(){var t=Blockly.utils.dom.createSvgElement("svg",{xmlns:Blockly.utils.dom.SVG_NS,"xmlns:html":Blockly.utils.dom.HTML_NS,"xmlns:xlink":Blockly.utils.dom.XLINK_NS,version:"1.1",height:2*Blockly.FieldAngle.HALF+"px",width:2*Blockly.FieldAngle.HALF+"px"},null),e=Blockly.utils.dom.createSvgElement("circle",{cx:Blockly.FieldAngle.HALF,cy:Blockly.FieldAngle.HALF,r:Blockly.FieldAngle.RADIUS,class:"blocklyAngleCircle"},t);this.gauge_=Blockly.utils.dom.createSvgElement("path",{class:"blocklyAngleGauge"},t),this.line_=Blockly.utils.dom.createSvgElement("line",{x1:Blockly.FieldAngle.HALF,y1:Blockly.FieldAngle.HALF,class:"blocklyAngleLine"},t);for(var o=0;360>o;o+=15)Blockly.utils.dom.createSvgElement("line",{x1:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS,y1:Blockly.FieldAngle.HALF,x2:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS-(0==o%45?10:5),y2:Blockly.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+o+","+Blockly.FieldAngle.HALF+","+Blockly.FieldAngle.HALF+")"},t);return this.clickWrapper_=Blockly.bindEvent_(t,"click",this,this.hide_),this.moveWrapper1_=Blockly.bindEvent_(e,"mousemove",this,this.onMouseMove),this.moveWrapper2_=Blockly.bindEvent_(this.gauge_,"mousemove",this,this.onMouseMove),t},Blockly.FieldAngle.prototype.dropdownDispose_=function(){Blockly.unbindEvent_(this.clickWrapper_),Blockly.unbindEvent_(this.moveWrapper1_),Blockly.unbindEvent_(this.moveWrapper2_)},Blockly.FieldAngle.prototype.hide_=function(){Blockly.DropDownDiv.hideIfOwner(this),Blockly.WidgetDiv.hide()},Blockly.FieldAngle.prototype.onMouseMove=function(t){var e=this.gauge_.ownerSVGElement.getBoundingClientRect(),o=t.clientX-e.left-Blockly.FieldAngle.HALF;e=t.clientY-e.top-Blockly.FieldAngle.HALF,t=Math.atan(-e/o),isNaN(t)||(t=Blockly.utils.math.toDegrees(t),0>o?t+=180:0<e&&(t+=360),360<(t=Blockly.FieldAngle.CLOCKWISE?Blockly.FieldAngle.OFFSET+360-t:360-(Blockly.FieldAngle.OFFSET-t))&&(t-=360),Blockly.FieldAngle.ROUND&&(t=Math.round(t/Blockly.FieldAngle.ROUND)*Blockly.FieldAngle.ROUND),t>Blockly.FieldAngle.WRAP&&(t-=360),(o=String(t))!=this.text_&&(this.htmlInput_.value=t,this.setValue(t),this.text_=o,this.forceRerender()))},Blockly.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var t=Number(this.getText())+Blockly.FieldAngle.OFFSET,e=Blockly.utils.math.toRadians(t%360);t=["M ",Blockly.FieldAngle.HALF,",",Blockly.FieldAngle.HALF];var o=Blockly.FieldAngle.HALF,n=Blockly.FieldAngle.HALF;if(!isNaN(e)){var r=Blockly.utils.math.toRadians(Blockly.FieldAngle.OFFSET),i=Math.cos(r)*Blockly.FieldAngle.RADIUS,s=Math.sin(r)*-Blockly.FieldAngle.RADIUS;Blockly.FieldAngle.CLOCKWISE&&(e=2*r-e),o+=Math.cos(e)*Blockly.FieldAngle.RADIUS,n-=Math.sin(e)*Blockly.FieldAngle.RADIUS,e=Math.abs(Math.floor((e-r)/Math.PI)%2),Blockly.FieldAngle.CLOCKWISE&&(e=1-e),t.push(" l ",i,",",s," A ",Blockly.FieldAngle.RADIUS,",",Blockly.FieldAngle.RADIUS," 0 ",e," ",Number(Blockly.FieldAngle.CLOCKWISE)," ",o,",",n," z")}this.gauge_.setAttribute("d",t.join("")),this.line_.setAttribute("x2",o),this.line_.setAttribute("y2",n)}},Blockly.FieldAngle.prototype.doClassValidation_=function(t){return isNaN(t)?null:(t=parseFloat(t||0),0>(t%=360)&&(t+=360),t>Blockly.FieldAngle.WRAP&&(t-=360),t)},Blockly.Field.register("field_angle",Blockly.FieldAngle),Blockly.FieldCheckbox=function(t,e){null===(t=this.doClassValidation_(t))&&(t="FALSE"),Blockly.FieldCheckbox.superClass_.constructor.call(this,t,e),this.size_.width=Blockly.FieldCheckbox.WIDTH},goog.inherits(Blockly.FieldCheckbox,Blockly.Field),Blockly.FieldCheckbox.fromJson=function(t){return new Blockly.FieldCheckbox(t.checked)},Blockly.FieldCheckbox.WIDTH=5,Blockly.FieldCheckbox.CHECK_CHAR="",Blockly.FieldCheckbox.CHECK_X_OFFSET=-3,Blockly.FieldCheckbox.CHECK_Y_OFFSET=14,Blockly.FieldCheckbox.prototype.SERIALIZABLE=!0,Blockly.FieldCheckbox.prototype.CURSOR="default",Blockly.FieldCheckbox.prototype.isDirty_=!1,Blockly.FieldCheckbox.prototype.initView=function(){Blockly.FieldCheckbox.superClass_.initView.call(this),this.textElement_.setAttribute("x",Blockly.FieldCheckbox.CHECK_X_OFFSET),this.textElement_.setAttribute("y",Blockly.FieldCheckbox.CHECK_Y_OFFSET),Blockly.utils.dom.addClass(this.textElement_,"blocklyCheckbox");var t=document.createTextNode(Blockly.FieldCheckbox.CHECK_CHAR);this.textElement_.appendChild(t),this.textElement_.style.display=this.value_?"block":"none"},Blockly.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},Blockly.FieldCheckbox.prototype.doClassValidation_=function(t){return!0===t||"TRUE"===t?"TRUE":!1===t||"FALSE"===t?"FALSE":null},Blockly.FieldCheckbox.prototype.doValueUpdate_=function(t){this.value_=this.convertValueToBool_(t),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},Blockly.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},Blockly.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},Blockly.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},Blockly.FieldCheckbox.prototype.convertValueToBool_=function(t){return"string"==typeof t?"TRUE"==t:!!t},Blockly.Field.register("field_checkbox",Blockly.FieldCheckbox),Blockly.utils.colour={},Blockly.utils.colour.parse=function(t){t=String(t).toLowerCase().trim();var e=Blockly.utils.colour.names[t];if(e)return e;if(/^#[0-9a-f]{6}$/.test(e="#"==t[0]?t:"#"+t))return e;if(/^#[0-9a-f]{3}$/.test(e))return["#",e[1],e[1],e[2],e[2],e[3],e[3]].join("");var o=t.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return o&&(t=Number(o[1]),e=Number(o[2]),o=Number(o[3]),0<=t&&256>t&&0<=e&&256>e&&0<=o&&256>o)?Blockly.utils.colour.rgbToHex(t,e,o):null},Blockly.utils.colour.rgbToHex=function(t,e,o){return e=t<<16|e<<8|o,16>t?"#"+(16777216|e).toString(16).substr(1):"#"+e.toString(16)},Blockly.utils.colour.hexToRgb=function(t){return[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t]},Blockly.utils.colour.hsvToHex=function(t,e,o){var n=0,r=0,i=0;if(0==e)i=r=n=o;else{var s=Math.floor(t/60),l=t/60-s;t=o*(1-e);var a=o*(1-e*l);switch(e=o*(1-e*(1-l)),s){case 1:n=a,r=o,i=t;break;case 2:n=t,r=o,i=e;break;case 3:n=t,r=a,i=o;break;case 4:n=e,r=t,i=o;break;case 5:n=o,r=t,i=a;break;case 6:case 0:n=o,r=e,i=t}}return Blockly.utils.colour.rgbToHex(Math.floor(n),Math.floor(r),Math.floor(i))},Blockly.utils.colour.blend=function(t,e,o){return t=Blockly.utils.colour.hexToRgb(Blockly.utils.colour.parse(t)),e=Blockly.utils.colour.hexToRgb(Blockly.utils.colour.parse(e)),Blockly.utils.colour.rgbToHex(Math.round(e[0]+o*(t[0]-e[0])),Math.round(e[1]+o*(t[1]-e[1])),Math.round(e[2]+o*(t[2]-e[2])))},Blockly.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},Blockly.FieldColour=function(t,e){null===(t=this.doClassValidation_(t))&&(t=Blockly.FieldColour.COLOURS[0]),Blockly.FieldColour.superClass_.constructor.call(this,t,e)},goog.inherits(Blockly.FieldColour,Blockly.Field),Blockly.FieldColour.fromJson=function(t){return new Blockly.FieldColour(t.colour)},Blockly.FieldColour.DEFAULT_WIDTH=16,Blockly.FieldColour.DEFAULT_HEIGHT=12,Blockly.FieldColour.prototype.SERIALIZABLE=!0,Blockly.FieldColour.prototype.CURSOR="default",Blockly.FieldColour.prototype.isDirty_=!1,Blockly.FieldColour.prototype.colours_=null,Blockly.FieldColour.prototype.titles_=null,Blockly.FieldColour.prototype.columns_=0,Blockly.FieldColour.prototype.DROPDOWN_BORDER_COLOUR="silver",Blockly.FieldColour.prototype.DROPDOWN_BACKGROUND_COLOUR="white",Blockly.FieldColour.prototype.initView=function(){this.size_=new goog.math.Size(Blockly.FieldColour.DEFAULT_WIDTH,Blockly.FieldColour.DEFAULT_HEIGHT),this.createBorderRect_(),this.borderRect_.style.fillOpacity=1,this.borderRect_.style.fill=this.value_},Blockly.FieldColour.prototype.doClassValidation_=function(t){return"string"!=typeof t?null:Blockly.utils.colour.parse(t)},Blockly.FieldColour.prototype.doValueUpdate_=function(t){this.value_=t,this.borderRect_&&(this.borderRect_.style.fill=t)},Blockly.FieldColour.prototype.getText=function(){var t=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(t)&&(t="#"+t[1]+t[3]+t[5]),t},Blockly.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Blockly.FieldColour.TITLES=[],Blockly.FieldColour.COLUMNS=7,Blockly.FieldColour.prototype.setColours=function(t,e){return this.colours_=t,void 0!==e&&(this.titles_=e),this},Blockly.FieldColour.prototype.setColumns=function(t){return this.columns_=t,this},Blockly.FieldColour.prototype.showEditor_=function(){var t=this.dropdownCreate_();Blockly.DropDownDiv.getContentDiv().appendChild(t),Blockly.DropDownDiv.setColour(this.DROPDOWN_BACKGROUND_COLOUR,this.DROPDOWN_BORDER_COLOUR),Blockly.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this))},Blockly.FieldColour.prototype.onClick_=function(t){(t=t.target)&&!t.label&&(t=t.parentNode),null!==(t=t&&t.label)&&(this.setValue(t),Blockly.DropDownDiv.hideIfOwner(this))},Blockly.FieldColour.prototype.dropdownCreate_=function(){var t=this.columns_||Blockly.FieldColour.COLUMNS,e=this.colours_||Blockly.FieldColour.COLOURS,o=this.titles_||Blockly.FieldColour.TITLES,n=this.getValue(),r=document.createElement("table");r.className="blocklyColourTable";for(var i,s=0;s<e.length;s++){0==s%t&&(i=document.createElement("tr"),r.appendChild(i));var l=document.createElement("td");i.appendChild(l);var a=document.createElement("div");l.appendChild(a),l.label=e[s],l.title=o[s]||e[s],a.style.backgroundColor=e[s],e[s]==n&&(a.className="blocklyColourSelected")}return this.onUpWrapper_=Blockly.bindEvent_(r,"mouseup",this,this.onClick_),r},Blockly.FieldColour.prototype.dropdownDispose_=function(){Blockly.unbindEvent_(this.onUpWrapper_)},Blockly.Field.register("field_colour",Blockly.FieldColour),Blockly.FieldDropdown=function(t,e){"function"!=typeof t&&Blockly.FieldDropdown.validateOptions_(t),this.menuGenerator_=t,this.trimOptions_();var o=this.getOptions()[0];Blockly.FieldDropdown.superClass_.constructor.call(this,o[1],e)},goog.inherits(Blockly.FieldDropdown,Blockly.Field),Blockly.FieldDropdown.fromJson=function(t){return new Blockly.FieldDropdown(t.options)},Blockly.FieldDropdown.prototype.SERIALIZABLE=!0,Blockly.FieldDropdown.CHECKMARK_OVERHANG=25,Blockly.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,Blockly.FieldDropdown.IMAGE_Y_OFFSET=5,Blockly.FieldDropdown.ARROW_CHAR=Blockly.utils.userAgent.ANDROID?"":"",Blockly.FieldDropdown.prototype.CURSOR="default",Blockly.FieldDropdown.prototype.imageElement_=null,Blockly.FieldDropdown.prototype.imageJson_=null,Blockly.FieldDropdown.prototype.initView=function(){Blockly.FieldDropdown.superClass_.initView.call(this),this.imageElement_=Blockly.utils.dom.createSvgElement("image",{y:Blockly.FieldDropdown.IMAGE_Y_OFFSET},this.fieldGroup_),this.arrow_=Blockly.utils.dom.createSvgElement("tspan",{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?Blockly.FieldDropdown.ARROW_CHAR+" ":" "+Blockly.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},Blockly.FieldDropdown.prototype.showEditor_=function(){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.menu_=this.widgetCreate_(),this.menu_.render(Blockly.WidgetDiv.DIV),Blockly.utils.dom.addClass(this.menu_.getElement(),"blocklyDropdownMenu"),this.positionMenu_(this.menu_),this.menu_.setAllowAutoFocus(!0),this.menu_.getElement().focus()},Blockly.FieldDropdown.prototype.widgetCreate_=function(){var t=new goog.ui.Menu;t.setRightToLeft(this.sourceBlock_.RTL);for(var e=this.getOptions(),o=0;o<e.length;o++){var n=e[o][0],r=e[o][1];if("object"==typeof n){var i=new Image(n.width,n.height);i.src=n.src,i.alt=n.alt||"",n=i}(n=new goog.ui.MenuItem(n)).setRightToLeft(this.sourceBlock_.RTL),n.setValue(r),n.setCheckable(!0),t.addChild(n,!0),n.setChecked(r==this.value_)}return this.menuActionEventKey_=goog.events.listen(t,goog.ui.Component.EventType.ACTION,this.handleMenuActionEvent_,!1,this),t},Blockly.FieldDropdown.prototype.widgetDispose_=function(){goog.events.unlistenByKey(this.menuActionEventKey_)},Blockly.FieldDropdown.prototype.handleMenuActionEvent_=function(t){Blockly.WidgetDiv.hideIfOwner(this),this.onItemSelected(this.menu_,t.target)},Blockly.FieldDropdown.prototype.positionMenu_=function(t){var e=Blockly.utils.getViewportBBox(),o=this.getAnchorDimensions_();t=Blockly.utils.uiMenu.getSize(t);var n=Blockly.FieldDropdown.MAX_MENU_HEIGHT_VH*document.documentElement.clientHeight;t.height>n&&(t.height=n),this.sourceBlock_.RTL&&Blockly.utils.uiMenu.adjustBBoxesForRTL(e,o,t),Blockly.WidgetDiv.positionWithAnchor(e,o,t,this.sourceBlock_.RTL)},Blockly.FieldDropdown.prototype.getAnchorDimensions_=function(){var t=this.getScaledBBox_();return this.sourceBlock_.RTL?t.right+=Blockly.FieldDropdown.CHECKMARK_OVERHANG:t.left-=Blockly.FieldDropdown.CHECKMARK_OVERHANG,t},Blockly.FieldDropdown.prototype.onItemSelected=function(t,e){this.setValue(e.getValue())},Blockly.FieldDropdown.prototype.trimOptions_=function(){this.suffixField=this.prefixField=null;var t=this.menuGenerator_;if(Array.isArray(t)){for(var e=!1,o=0;o<t.length;o++){var n=t[o][0];"string"==typeof n?t[o][0]=Blockly.utils.replaceMessageReferences(n):(null!=n.alt&&(t[o][0].alt=Blockly.utils.replaceMessageReferences(n.alt)),e=!0)}if(!(e||2>t.length)){for(e=[],o=0;o<t.length;o++)e.push(t[o][0]);o=Blockly.utils.string.shortestStringLength(e),n=Blockly.utils.string.commonWordPrefix(e,o);var r=Blockly.utils.string.commonWordSuffix(e,o);!n&&!r||o<=n+r||(n&&(this.prefixField=e[0].substring(0,n-1)),r&&(this.suffixField=e[0].substr(1-r)),this.menuGenerator_=Blockly.FieldDropdown.applyTrim_(t,n,r))}}},Blockly.FieldDropdown.applyTrim_=function(t,e,o){for(var n=[],r=0;r<t.length;r++){var i=t[r][0],s=t[r][1];i=i.substring(e,i.length-o),n[r]=[i,s]}return n},Blockly.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},Blockly.FieldDropdown.prototype.getOptions=function(){if(this.isOptionListDynamic()){var t=this.menuGenerator_.call(this);return Blockly.FieldDropdown.validateOptions_(t),t}return this.menuGenerator_},Blockly.FieldDropdown.prototype.doClassValidation_=function(t){for(var e,o=!1,n=this.getOptions(),r=0;e=n[r];r++)if(e[1]==t){o=!0;break}return o?t:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+t),null)},Blockly.FieldDropdown.prototype.doValueUpdate_=function(t){Blockly.FieldDropdown.superClass_.doValueUpdate_.call(this,t),t=this.getOptions();for(var e,o=0;e=t[o];o++)e[1]==this.value_&&("object"==typeof(e=e[0])?(this.imageJson_=e,this.text_=e.alt):(this.imageJson_=null,this.text_=e))},Blockly.FieldDropdown.prototype.updateColour=function(){this.sourceBlock_&&this.arrow_&&(this.arrow_.style.fill=this.sourceBlock_.isShadow()?this.sourceBlock_.getColourShadow():this.sourceBlock_.getColour())},Blockly.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none",this.imageJson_?this.renderSelectedImage_():this.renderSelectedText_(),this.borderRect_.setAttribute("height",this.size_.height-9),this.borderRect_.setAttribute("width",this.size_.width+Blockly.BlockSvg.SEP_SPACE_X)},Blockly.FieldDropdown.prototype.renderSelectedImage_=function(){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",this.imageJson_.src),this.imageElement_.setAttribute("height",this.imageJson_.height),this.imageElement_.setAttribute("width",this.imageJson_.width);var t=Blockly.Field.getCachedWidth(this.arrow_);this.size_.height=Number(this.imageJson_.height)+19,this.size_.width=Number(this.imageJson_.width)+t,this.sourceBlock_.RTL?(this.imageElement_.setAttribute("x",t),this.textElement_.setAttribute("x",-1)):(this.textElement_.setAttribute("text-anchor","end"),this.textElement_.setAttribute("x",this.size_.width+1))},Blockly.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),this.textElement_.setAttribute("text-anchor","start"),this.textElement_.setAttribute("x",0),this.size_.height=Blockly.BlockSvg.MIN_BLOCK_Y,this.size_.width=Blockly.Field.getCachedWidth(this.textElement_)},Blockly.FieldDropdown.validateOptions_=function(t){if(!Array.isArray(t))throw TypeError("FieldDropdown options must be an array.");for(var e=!1,o=0;o<t.length;++o){var n=t[o];Array.isArray(n)?"string"!=typeof n[1]?(e=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option id must be a string. Found "+n[1]+" in: ",n)):"string"!=typeof n[0]&&"string"!=typeof n[0].src&&(e=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must have a string label or image description. Found"+n[0]+" in: ",n)):(e=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must be an array. Found: ",n))}if(e)throw TypeError("Found invalid FieldDropdown options.")},Blockly.Field.register("field_dropdown",Blockly.FieldDropdown),Blockly.FieldLabelSerializable=function(t,e){Blockly.FieldLabelSerializable.superClass_.constructor.call(this,t,e)},goog.inherits(Blockly.FieldLabelSerializable,Blockly.FieldLabel),Blockly.FieldLabelSerializable.fromJson=function(t){var e=Blockly.utils.replaceMessageReferences(t.text);return new Blockly.FieldLabelSerializable(e,t.class)},Blockly.FieldLabelSerializable.prototype.EDITABLE=!1,Blockly.FieldLabelSerializable.prototype.SERIALIZABLE=!0,Blockly.Field.register("field_label_serializable",Blockly.FieldLabelSerializable),Blockly.FieldImage=function(t,e,o,n,r,i){if(this.sourceBlock_=null,isNaN(o)||isNaN(e))throw Error("Height and width values of an image field must cast to numbers.");if(this.height_=Number(o),this.width_=Number(e),0>=this.height_||0>=this.width_)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new goog.math.Size(this.width_,this.height_+2*Blockly.BlockSvg.INLINE_PADDING_Y),this.flipRtl_=i,this.text_=n||"",this.setValue(t||""),"function"==typeof r&&(this.clickHandler_=r)},goog.inherits(Blockly.FieldImage,Blockly.Field),Blockly.FieldImage.fromJson=function(t){var e=Blockly.utils.replaceMessageReferences(t.src),o=Number(Blockly.utils.replaceMessageReferences(t.width)),n=Number(Blockly.utils.replaceMessageReferences(t.height)),r=Blockly.utils.replaceMessageReferences(t.alt);return new Blockly.FieldImage(e,o,n,r,null,!!t.flipRtl)},Blockly.FieldImage.prototype.EDITABLE=!1,Blockly.FieldImage.prototype.isDirty_=!1,Blockly.FieldImage.prototype.initView=function(){this.imageElement_=Blockly.utils.dom.createSvgElement("image",{height:this.height_+"px",width:this.width_+"px",alt:this.text_},this.fieldGroup_),this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",this.value_)},Blockly.FieldImage.prototype.doClassValidation_=function(t){return"string"!=typeof t?null:t},Blockly.FieldImage.prototype.doValueUpdate_=function(t){this.value_=t,this.imageElement_&&this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",this.value_||"")},Blockly.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},Blockly.FieldImage.prototype.setText=function(t){null!==t&&(this.text_=t,this.imageElement_&&this.imageElement_.setAttribute("alt",t||""))},Blockly.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},Blockly.Field.register("field_image",Blockly.FieldImage),Blockly.FieldNumber=function(t,e,o,n,r){this.setConstraints(e,o,n),null===(t=this.doClassValidation_(t))&&(t=0),Blockly.FieldNumber.superClass_.constructor.call(this,t,r)},goog.inherits(Blockly.FieldNumber,Blockly.FieldTextInput),Blockly.FieldNumber.fromJson=function(t){return new Blockly.FieldNumber(t.value,t.min,t.max,t.precision)},Blockly.FieldNumber.prototype.SERIALIZABLE=!0,Blockly.FieldNumber.prototype.setConstraints=function(t,e,o){o=parseFloat(o),this.precision_=isNaN(o)?0:o;var n=(o=this.precision_.toString()).indexOf(".");this.fractionalDigits_=-1==n?-1:o.length-(n+1),t=parseFloat(t),this.min_=isNaN(t)?-1/0:t,e=parseFloat(e),this.max_=isNaN(e)?1/0:e,this.setValue(this.getValue())},Blockly.FieldNumber.prototype.doClassValidation_=function(t){return null==t?null:(t=(t=(t=String(t)).replace(/O/gi,"0")).replace(/,/g,""),t=parseFloat(t||0),isNaN(t)?null:(t=Math.min(Math.max(t,this.min_),this.max_),this.precision_&&isFinite(t)&&(t=Math.round(t/this.precision_)*this.precision_),-1==this.fractionalDigits_?t:Number(t.toFixed(this.fractionalDigits_))))},Blockly.Field.register("field_number",Blockly.FieldNumber),Blockly.FieldVariable=function(t,e,o,n){this.menuGenerator_=Blockly.FieldVariable.dropdownCreate,this.size_=new goog.math.Size(0,Blockly.BlockSvg.MIN_BLOCK_Y),this.setValidator(e),this.defaultVariableName=t||"",this.setTypes_(o,n),this.value_=null},goog.inherits(Blockly.FieldVariable,Blockly.FieldDropdown),Blockly.FieldVariable.fromJson=function(t){var e=Blockly.utils.replaceMessageReferences(t.variable);return new Blockly.FieldVariable(e,null,t.variableTypes,t.defaultType)},Blockly.FieldVariable.prototype.workspace_=null,Blockly.FieldVariable.prototype.SERIALIZABLE=!0,Blockly.FieldVariable.prototype.initModel=function(){if(!this.variable_){var t=Blockly.Variables.getOrCreateVariablePackage(this.workspace_,null,this.defaultVariableName,this.defaultType_);Blockly.Events.disable(),this.setValue(t.getId()),Blockly.Events.enable()}},Blockly.FieldVariable.prototype.fromXml=function(t){var e=t.getAttribute("id"),o=t.textContent,n=t.getAttribute("variabletype")||t.getAttribute("variableType")||"";if(e=Blockly.Variables.getOrCreateVariablePackage(this.workspace_,e,o,n),null!=n&&n!==e.type)throw Error("Serialized variable type with id '"+e.getId()+"' had type "+e.type+", and does not match variable field that references it: "+Blockly.Xml.domToText(t)+".");this.setValue(e.getId())},Blockly.FieldVariable.prototype.toXml=function(t){return this.initModel(),t.id=this.variable_.getId(),t.textContent=this.variable_.name,this.variable_.type&&t.setAttribute("variabletype",this.variable_.type),t},Blockly.FieldVariable.prototype.setSourceBlock=function(t){if(t.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");Blockly.FieldVariable.superClass_.setSourceBlock.call(this,t),this.workspace_=t.workspace},Blockly.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},Blockly.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},Blockly.FieldVariable.prototype.getVariable=function(){return this.variable_},Blockly.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},Blockly.FieldVariable.prototype.doClassValidation_=function(t){var e=Blockly.Variables.getVariable(this.workspace_,t);return e?this.typeIsAllowed_(e=e.type)?t:(console.warn("Variable type doesn't match this field!  Type was "+e),null):(console.warn("Variable id doesn't point to a real variable! ID was "+t),null)},Blockly.FieldVariable.prototype.doValueUpdate_=function(t){this.variable_=Blockly.Variables.getVariable(this.workspace_,t),this.value_=t,this.text_=this.variable_.name,this.isDirty_=!0},Blockly.FieldVariable.prototype.typeIsAllowed_=function(t){var e=this.getVariableTypes_();if(!e)return!0;for(var o=0;o<e.length;o++)if(t==e[o])return!0;return!1},Blockly.FieldVariable.prototype.getVariableTypes_=function(){var t=this.variableTypes;if(null===t&&this.workspace_)return this.workspace_.getVariableTypes();if(0==(t=t||[""]).length)throw t=this.getText(),Error("'variableTypes' of field variable "+t+" was an empty list");return t},Blockly.FieldVariable.prototype.setTypes_=function(t,e){var o=e||"";if(null==t||null==t)var n=null;else{if(!Array.isArray(t))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");n=t;for(var r=!1,i=0;i<n.length;i++)n[i]==o&&(r=!0);if(!r)throw Error("Invalid default type '"+o+"' in the definition of a FieldVariable")}this.defaultType_=o,this.variableTypes=n},Blockly.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var t=this.getText(),e=[];if(this.workspace_)for(var o=this.getVariableTypes_(),n=0;n<o.length;n++){var r=this.workspace_.getVariablesOfType(o[n]);e=e.concat(r)}for(e.sort(Blockly.VariableModel.compareByName),o=[],n=0;n<e.length;n++)o[n]=[e[n].name,e[n].getId()];return o.push([Blockly.Msg.RENAME_VARIABLE,Blockly.RENAME_VARIABLE_ID]),Blockly.Msg.DELETE_VARIABLE&&o.push([Blockly.Msg.DELETE_VARIABLE.replace("%1",t),Blockly.DELETE_VARIABLE_ID]),o},Blockly.FieldVariable.prototype.onItemSelected=function(t,e){var o=e.getValue();if(this.workspace_){if(o==Blockly.RENAME_VARIABLE_ID)return void Blockly.Variables.renameVariable(this.workspace_,this.variable_);if(o==Blockly.DELETE_VARIABLE_ID)return void this.workspace_.deleteVariableById(this.variable_.getId())}this.setValue(o)},Blockly.FieldVariable.prototype.referencesVariables=function(){return!0},Blockly.Field.register("field_variable",Blockly.FieldVariable);Blockly.Generator=function(t){this.name_=t,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},Blockly.Generator.NAME_TYPE="generated_function",Blockly.Generator.prototype.INFINITE_LOOP_TRAP=null,Blockly.Generator.prototype.STATEMENT_PREFIX=null,Blockly.Generator.prototype.STATEMENT_SUFFIX=null,Blockly.Generator.prototype.INDENT="  ",Blockly.Generator.prototype.COMMENT_WRAP=60,Blockly.Generator.prototype.ORDER_OVERRIDES=[],Blockly.Generator.prototype.workspaceToCode=function(t){t||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),t=Blockly.getMainWorkspace());var e=[];this.init(t),t=t.getTopBlocks(!0);for(var o,n=0;o=t[n];n++){var r=this.blockToCode(o);Array.isArray(r)&&(r=r[0]),r&&(o.outputConnection&&(r=this.scrubNakedValue(r),this.STATEMENT_PREFIX&&!o.suppressPrefixSuffix&&(r=this.injectId(this.STATEMENT_PREFIX,o)+r),this.STATEMENT_SUFFIX&&!o.suppressPrefixSuffix&&(r+=this.injectId(this.STATEMENT_SUFFIX,o))),e.push(r))}return e=e.join("\n"),(e=(e=(e=this.finish(e)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},Blockly.Generator.prototype.prefixLines=function(t,e){return e+t.replace(/(?!\n$)\n/g,"\n"+e)},Blockly.Generator.prototype.allNestedComments=function(t){var e=[];t=t.getDescendants(!0);for(var o=0;o<t.length;o++){var n=t[o].getCommentText();n&&e.push(n)}return e.length&&e.push(""),e.join("\n")},Blockly.Generator.prototype.blockToCode=function(t,e){if(!t)return"";if(!t.isEnabled())return e?"":this.blockToCode(t.getNextBlock());var o=this[t.type];if("function"!=typeof o)throw Error('Language "'+this.name_+'" does not know how to generate  code for block type "'+t.type+'".');if(o=o.call(t,t),Array.isArray(o)){if(!t.outputConnection)throw TypeError("Expecting string from statement block: "+t.type);return[this.scrub_(t,o[0],e),o[1]]}if("string"==typeof o)return this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(o=this.injectId(this.STATEMENT_PREFIX,t)+o),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(o+=this.injectId(this.STATEMENT_SUFFIX,t)),this.scrub_(t,o,e);if(null===o)return"";throw SyntaxError("Invalid code generated: "+o)},Blockly.Generator.prototype.valueToCode=function(t,e,o){if(isNaN(o))throw TypeError("Expecting valid order from block: "+t.type);var n=t.getInputTargetBlock(e);if(!n)return"";if(""===(e=this.blockToCode(n)))return"";if(!Array.isArray(e))throw TypeError("Expecting tuple from value block: "+n.type);if(t=e[0],e=e[1],isNaN(e))throw TypeError("Expecting valid order from value block: "+n.type);if(!t)return"";n=!1;var r=Math.floor(o),i=Math.floor(e);if(r<=i&&(r!=i||0!=r&&99!=r))for(n=!0,r=0;r<this.ORDER_OVERRIDES.length;r++)if(this.ORDER_OVERRIDES[r][0]==o&&this.ORDER_OVERRIDES[r][1]==e){n=!1;break}return n&&(t="("+t+")"),t},Blockly.Generator.prototype.statementToCode=function(t,e){var o=t.getInputTargetBlock(e),n=this.blockToCode(o);if("string"!=typeof n)throw TypeError("Expecting code from statement block: "+(o&&o.type));return n&&(n=this.prefixLines(n,this.INDENT)),n},Blockly.Generator.prototype.addLoopTrap=function(t,e){return this.INFINITE_LOOP_TRAP&&(t=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,e),this.INDENT)+t),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(t=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,e),this.INDENT)+t),this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(t+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,e),this.INDENT)),t},Blockly.Generator.prototype.injectId=function(t,e){var o=e.id.replace(/\$/g,"$$$$");return t.replace(/%1/g,"'"+o+"'")},Blockly.Generator.prototype.RESERVED_WORDS_="",Blockly.Generator.prototype.addReservedWords=function(t){this.RESERVED_WORDS_+=t+","},Blockly.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",Blockly.Generator.prototype.provideFunction_=function(t,e){if(!this.definitions_[t]){var o,n=this.variableDB_.getDistinctName(t,Blockly.Procedures.NAME_TYPE);for(this.functionNames_[t]=n,n=e.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,n);o!=n;)o=n,n=n.replace(/^(( {2})*) {2}/gm,"$1\0");n=n.replace(/\0/g,this.INDENT),this.definitions_[t]=n}return this.functionNames_[t]},Blockly.Generator.prototype.init=function(t){},Blockly.Generator.prototype.scrub_=function(t,e){return e},Blockly.Generator.prototype.finish=function(t){return t},Blockly.Generator.prototype.scrubNakedValue=function(t){return t},Blockly.Names=function(t,e){if(this.variablePrefix_=e||"",this.reservedDict_=Object.create(null),t)for(var o=t.split(","),n=0;n<o.length;n++)this.reservedDict_[o[n]]=!0;this.reset()},Blockly.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",Blockly.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},Blockly.Names.prototype.setVariableMap=function(t){this.variableMap_=t},Blockly.Names.prototype.getNameForUserVariable_=function(t){return this.variableMap_?(t=this.variableMap_.getVariableById(t))?t.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),null)},Blockly.Names.prototype.getName=function(t,e){if(e==Blockly.Variables.NAME_TYPE){var o=this.getNameForUserVariable_(t);o&&(t=o)}o=t.toLowerCase()+"_"+e;var n=e==Blockly.Variables.NAME_TYPE||e==Blockly.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";if(o in this.db_)return n+this.db_[o];var r=this.getDistinctName(t,e);return this.db_[o]=r.substr(n.length),r},Blockly.Names.prototype.getDistinctName=function(t,e){for(var o=this.safeName_(t),n="";this.dbReverse_[o+n]||o+n in this.reservedDict_;)n=n?n+1:2;return this.dbReverse_[o+=n]=!0,(e==Blockly.Variables.NAME_TYPE||e==Blockly.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+o},Blockly.Names.prototype.safeName_=function(t){return t?(t=encodeURI(t.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(t[0])&&(t="my_"+t)):t="unnamed",t},Blockly.Names.equals=function(t,e){return t.toLowerCase()==e.toLowerCase()},Blockly.Procedures={},Blockly.Procedures.NAME_TYPE=Blockly.PROCEDURE_CATEGORY_NAME,Blockly.Procedures.allProcedures=function(t){t=t.getAllBlocks(!1);for(var e=[],o=[],n=0;n<t.length;n++)if(t[n].getProcedureDef){var r=t[n].getProcedureDef();r&&(r[2]?e.push(r):o.push(r))}return o.sort(Blockly.Procedures.procTupleComparator_),e.sort(Blockly.Procedures.procTupleComparator_),[o,e]},Blockly.Procedures.procTupleComparator_=function(t,e){return t[0].toLowerCase().localeCompare(e[0].toLowerCase())},Blockly.Procedures.findLegalName=function(t,e){if(e.isInFlyout)return t;for(;!Blockly.Procedures.isLegalName_(t,e.workspace,e);){var o=t.match(/^(.*?)(\d+)$/);t=o?o[1]+(parseInt(o[2],10)+1):t+"2"}return t},Blockly.Procedures.isLegalName_=function(t,e,o){return!Blockly.Procedures.isNameUsed(t,e,o)},Blockly.Procedures.isNameUsed=function(t,e,o){e=e.getAllBlocks(!1);for(var n=0;n<e.length;n++)if(e[n]!=o&&e[n].getProcedureDef){var r=e[n].getProcedureDef();if(Blockly.Names.equals(r[0],t))return!0}return!1},Blockly.Procedures.rename=function(t){t=t.trim();var e=Blockly.Procedures.findLegalName(t,this.getSourceBlock()),o=this.getValue();if(o!=t&&o!=e){t=this.getSourceBlock().workspace.getAllBlocks(!1);for(var n=0;n<t.length;n++)t[n].renameProcedure&&t[n].renameProcedure(o,e)}return e},Blockly.Procedures.flyoutCategory=function(t){function e(t,e){for(var n=0;n<t.length;n++){var r=t[n][0],i=t[n][1],s=Blockly.utils.xml.createElement("block");s.setAttribute("type",e),s.setAttribute("gap",16);var l=Blockly.utils.xml.createElement("mutation");for(l.setAttribute("name",r),s.appendChild(l),r=0;r<i.length;r++){var a=Blockly.utils.xml.createElement("arg");a.setAttribute("name",i[r]),l.appendChild(a)}o.push(s)}}var o=[];if(Blockly.Blocks.procedures_defnoreturn){var n=Blockly.utils.xml.createElement("block");n.setAttribute("type","procedures_defnoreturn"),n.setAttribute("gap",16);var r=Blockly.utils.xml.createElement("field");r.setAttribute("name","NAME"),r.appendChild(Blockly.utils.xml.createTextNode(Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),n.appendChild(r),o.push(n)}return Blockly.Blocks.procedures_defreturn&&((n=Blockly.utils.xml.createElement("block")).setAttribute("type","procedures_defreturn"),n.setAttribute("gap",16),(r=Blockly.utils.xml.createElement("field")).setAttribute("name","NAME"),r.appendChild(Blockly.utils.xml.createTextNode(Blockly.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),n.appendChild(r),o.push(n)),Blockly.Blocks.procedures_ifreturn&&((n=Blockly.utils.xml.createElement("block")).setAttribute("type","procedures_ifreturn"),n.setAttribute("gap",16),o.push(n)),o.length&&o[o.length-1].setAttribute("gap",24),e((t=Blockly.Procedures.allProcedures(t))[0],"procedures_callnoreturn"),e(t[1],"procedures_callreturn"),o},Blockly.Procedures.getCallers=function(t,e){for(var o=[],n=e.getAllBlocks(!1),r=0;r<n.length;r++)if(n[r].getProcedureCall){var i=n[r].getProcedureCall();i&&Blockly.Names.equals(i,t)&&o.push(n[r])}return o},Blockly.Procedures.mutateCallers=function(t){var e,o=Blockly.Events.recordUndo,n=t.getProcedureDef()[0],r=t.mutationToDom(!0);for(t=Blockly.Procedures.getCallers(n,t.workspace),n=0;e=t[n];n++){var i=e.mutationToDom();i=i&&Blockly.Xml.domToText(i),e.domToMutation(r);var s=e.mutationToDom();i!=(s=s&&Blockly.Xml.domToText(s))&&(Blockly.Events.recordUndo=!1,Blockly.Events.fire(new Blockly.Events.BlockChange(e,"mutation",null,i,s)),Blockly.Events.recordUndo=o)}},Blockly.Procedures.getDefinition=function(t,e){for(var o=e.getTopBlocks(!1),n=0;n<o.length;n++)if(o[n].getProcedureDef){var r=o[n].getProcedureDef();if(r&&Blockly.Names.equals(r[0],t))return o[n]}return null},Blockly.FlyoutButton=function(t,e,o,n){this.workspace_=t,this.targetWorkspace_=e,this.text_=o.getAttribute("text"),this.position_=new Blockly.utils.Coordinate(0,0),this.isLabel_=n,this.callbackKey_=o.getAttribute("callbackKey"),this.cssClass_=o.getAttribute("web-class")||null},Blockly.FlyoutButton.MARGIN=5,Blockly.FlyoutButton.prototype.width=0,Blockly.FlyoutButton.prototype.height=0,Blockly.FlyoutButton.prototype.onMouseUpWrapper_=null,Blockly.FlyoutButton.prototype.createDom=function(){var t=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(t+=" "+this.cssClass_),this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{class:t},this.workspace_.getCanvas()),!this.isLabel_)var e=Blockly.utils.dom.createSvgElement("rect",{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);t=Blockly.utils.dom.createSvgElement("rect",{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var o=Blockly.utils.dom.createSvgElement("text",{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_);return o.textContent=Blockly.utils.replaceMessageReferences(this.text_),this.width=Blockly.Field.getCachedWidth(o),this.height=20,this.isLabel_||(this.width+=2*Blockly.FlyoutButton.MARGIN,e.setAttribute("width",this.width),e.setAttribute("height",this.height)),t.setAttribute("width",this.width),t.setAttribute("height",this.height),o.setAttribute("x",this.width/2),o.setAttribute("y",this.height-Blockly.FlyoutButton.MARGIN),this.updateTransform_(),this.onMouseUpWrapper_=Blockly.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},Blockly.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},Blockly.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},Blockly.FlyoutButton.prototype.moveTo=function(t,e){this.position_.x=t,this.position_.y=e,this.updateTransform_()},Blockly.FlyoutButton.prototype.getPosition=function(){return this.position_},Blockly.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},Blockly.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&Blockly.unbindEvent_(this.onMouseUpWrapper_),this.svgGroup_&&(Blockly.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace_=this.workspace_=null},Blockly.FlyoutButton.prototype.onMouseUp_=function(t){(t=this.targetWorkspace_.getGesture(t))&&t.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},Blockly.Flyout=function(t){t.getMetrics=this.getMetrics_.bind(this),t.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Blockly.WorkspaceSvg(t),this.workspace_.isFlyout=!0,this.RTL=!!t.RTL,this.toolboxPosition_=t.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[]},Blockly.Flyout.prototype.autoClose=!0,Blockly.Flyout.prototype.isVisible_=!1,Blockly.Flyout.prototype.containerVisible_=!0,Blockly.Flyout.prototype.CORNER_RADIUS=8,Blockly.Flyout.prototype.MARGIN=Blockly.Flyout.prototype.CORNER_RADIUS,Blockly.Flyout.prototype.GAP_X=3*Blockly.Flyout.prototype.MARGIN,Blockly.Flyout.prototype.GAP_Y=3*Blockly.Flyout.prototype.MARGIN,Blockly.Flyout.prototype.SCROLLBAR_PADDING=2,Blockly.Flyout.prototype.width_=0,Blockly.Flyout.prototype.height_=0,Blockly.Flyout.prototype.dragAngleRange_=70,Blockly.Flyout.prototype.createDom=function(t){return this.svgGroup_=Blockly.utils.dom.createSvgElement(t,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=Blockly.utils.dom.createSvgElement("path",{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.svgGroup_},Blockly.Flyout.prototype.init=function(t){this.targetWorkspace_=t,this.workspace_.targetWorkspace=t,this.scrollbar_=new Blockly.Scrollbar(this.workspace_,this.horizontalLayout_,!1,"blocklyFlyoutScrollbar"),this.hide(),Array.prototype.push.apply(this.eventWrappers_,Blockly.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace_.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,Blockly.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace_.getGesture.bind(this.targetWorkspace_),this.workspace_.variableMap_=this.targetWorkspace_.getVariableMap(),this.workspace_.createPotentialVariableMap()},Blockly.Flyout.prototype.dispose=function(){this.hide(),Blockly.unbindEvent_(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace_.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.scrollbar_&&(this.scrollbar_.dispose(),this.scrollbar_=null),this.workspace_&&(this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(Blockly.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace_=this.svgBackground_=null},Blockly.Flyout.prototype.getWidth=function(){return this.width_},Blockly.Flyout.prototype.getHeight=function(){return this.height_},Blockly.Flyout.prototype.getWorkspace=function(){return this.workspace_},Blockly.Flyout.prototype.isVisible=function(){return this.isVisible_},Blockly.Flyout.prototype.setVisible=function(t){var e=t!=this.isVisible();this.isVisible_=t,e&&this.updateDisplay_()},Blockly.Flyout.prototype.setContainerVisible=function(t){var e=t!=this.containerVisible_;this.containerVisible_=t,e&&this.updateDisplay_()},Blockly.Flyout.prototype.updateDisplay_=function(){var t=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=t?"block":"none",this.scrollbar_.setContainerVisible(t)},Blockly.Flyout.prototype.positionAt_=function(t,e,o,n){this.svgGroup_.setAttribute("width",t),this.svgGroup_.setAttribute("height",e),"svg"==this.svgGroup_.tagName?Blockly.utils.dom.setCssTransform(this.svgGroup_,"translate("+o+"px,"+n+"px)"):this.svgGroup_.setAttribute("transform","translate("+o+","+n+")"),this.scrollbar_&&(this.scrollbar_.setOrigin(o,n),this.scrollbar_.resize(),this.scrollbar_.setPosition_(this.scrollbar_.position_.x,this.scrollbar_.position_.y))},Blockly.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var t,e=0;t=this.listeners_[e];e++)Blockly.unbindEvent_(t);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},Blockly.Flyout.prototype.show=function(t){if(this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof t){if("function"!=typeof(t=this.workspace_.targetWorkspace.getToolboxCategoryCallback(t)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");if(t=t(this.workspace_.targetWorkspace),!Array.isArray(t))throw TypeError("Result of toolbox category callback must be an array.")}this.setVisible(!0);var e=[],o=[];this.permanentlyDisabled_.length=0;for(var n,r=this.horizontalLayout_?this.GAP_X:this.GAP_Y,i=0;n=t[i];i++)if(n.tagName)switch(n.tagName.toUpperCase()){case"BLOCK":var s=Blockly.Xml.domToBlock(n,this.workspace_);s.isEnabled()||this.permanentlyDisabled_.push(s),e.push({type:"block",block:s}),n=parseInt(n.getAttribute("gap"),10),o.push(isNaN(n)?r:n);break;case"SEP":n=parseInt(n.getAttribute("gap"),10),!isNaN(n)&&0<o.length?o[o.length-1]=n:o.push(r);break;case"LABEL":case"BUTTON":s="LABEL"==n.tagName.toUpperCase(),n=new Blockly.FlyoutButton(this.workspace_,this.targetWorkspace_,n,s),e.push({type:"button",button:n}),o.push(r)}this.layout_(e,o),this.listeners_.push(Blockly.bindEventWithChecks_(this.svgBackground_,"mouseover",this,(function(){for(var t,e=this.workspace_.getTopBlocks(!1),o=0;t=e[o];o++)t.removeSelect()}))),this.horizontalLayout_?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},Blockly.Flyout.prototype.clearOldBlocks_=function(){for(var t,e=this.workspace_.getTopBlocks(!1),o=0;t=e[o];o++)t.workspace==this.workspace_&&t.dispose(!1,!1);for(o=0;o<this.mats_.length;o++)(e=this.mats_[o])&&Blockly.utils.dom.removeNode(e);for(o=this.mats_.length=0;e=this.buttons_[o];o++)e.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},Blockly.Flyout.prototype.addBlockListeners_=function(t,e,o){this.listeners_.push(Blockly.bindEventWithChecks_(t,"mousedown",null,this.blockMouseDown_(e))),this.listeners_.push(Blockly.bindEventWithChecks_(o,"mousedown",null,this.blockMouseDown_(e))),this.listeners_.push(Blockly.bindEvent_(t,"mouseover",e,e.addSelect)),this.listeners_.push(Blockly.bindEvent_(t,"mouseout",e,e.removeSelect)),this.listeners_.push(Blockly.bindEvent_(o,"mouseover",e,e.addSelect)),this.listeners_.push(Blockly.bindEvent_(o,"mouseout",e,e.removeSelect))},Blockly.Flyout.prototype.blockMouseDown_=function(t){var e=this;return function(o){var n=e.targetWorkspace_.getGesture(o);n&&(n.setStartBlock(t),n.handleFlyoutStart(o,e))}},Blockly.Flyout.prototype.onMouseDown_=function(t){var e=this.targetWorkspace_.getGesture(t);e&&e.handleFlyoutStart(t,this)},Blockly.Flyout.prototype.isBlockCreatable_=function(t){return t.isEnabled()},Blockly.Flyout.prototype.createBlock=function(t){var e=null;Blockly.Events.disable();var o=this.targetWorkspace_.getAllVariables();this.targetWorkspace_.setResizesEnabled(!1);try{e=this.placeNewBlock_(t),Blockly.hideChaff()}finally{Blockly.Events.enable()}if(t=Blockly.Variables.getAddedVariables(this.targetWorkspace_,o),Blockly.Events.isEnabled())for(Blockly.Events.setGroup(!0),Blockly.Events.fire(new Blockly.Events.Create(e)),o=0;o<t.length;o++)Blockly.Events.fire(new Blockly.Events.VarCreate(t[o]));return this.autoClose?this.hide():this.filterForCapacity_(),e},Blockly.Flyout.prototype.initFlyoutButton_=function(t,e,o){var n=t.createDom();t.moveTo(e,o),t.show(),this.listeners_.push(Blockly.bindEventWithChecks_(n,"mousedown",this,this.onMouseDown_)),this.buttons_.push(t)},Blockly.Flyout.prototype.createRect_=function(t,e,o,n,r){return(e=Blockly.utils.dom.createSvgElement("rect",{"fill-opacity":0,x:e,y:o,height:n.height,width:n.width},null)).tooltip=t,Blockly.Tooltip.bindMouseEvents(e),this.workspace_.getCanvas().insertBefore(e,t.getSvgRoot()),t.flyoutRect_=e,this.mats_[r]=e},Blockly.Flyout.prototype.moveRectToBlock_=function(t,e){var o=e.getHeightWidth();t.setAttribute("width",o.width),t.setAttribute("height",o.height);var n=e.startHat_?Blockly.BlockSvg.START_HAT_HEIGHT:0;n&&e.moveBy(0,n),n=e.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0;var r=e.getRelativeToSurfaceXY();t.setAttribute("y",r.y),t.setAttribute("x",this.RTL?r.x-o.width+n:r.x-n)},Blockly.Flyout.prototype.filterForCapacity_=function(){for(var t,e=this.workspace_.getTopBlocks(!1),o=0;t=e[o];o++)if(-1==this.permanentlyDisabled_.indexOf(t))for(var n=this.targetWorkspace_.isCapacityAvailable(Blockly.utils.getBlockTypeCounts(t));t;)t.setEnabled(n),t=t.getNextBlock()},Blockly.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},Blockly.Flyout.prototype.isScrollable=function(){return!!this.scrollbar_&&this.scrollbar_.isVisible()},Blockly.Flyout.prototype.placeNewBlock_=function(t){var e=this.targetWorkspace_;if(!t.getSvgRoot())throw Error("oldBlock is not rendered.");var o=Blockly.Xml.blockToDom(t,!0);if(e.setResizesEnabled(!1),!(o=Blockly.Xml.domToBlock(o,e)).getSvgRoot())throw Error("block is not rendered.");var n=e.getOriginOffsetInPixels(),r=this.workspace_.getOriginOffsetInPixels();return(t=t.getRelativeToSurfaceXY()).scale(this.workspace_.scale),t=Blockly.utils.Coordinate.sum(r,t),(n=Blockly.utils.Coordinate.difference(t,n)).scale(1/e.scale),o.moveBy(n.x,n.y),o},Blockly.HorizontalFlyout=function(t){t.getMetrics=this.getMetrics_.bind(this),t.setMetrics=this.setMetrics_.bind(this),Blockly.HorizontalFlyout.superClass_.constructor.call(this,t),this.horizontalLayout_=!0},goog.inherits(Blockly.HorizontalFlyout,Blockly.Flyout),Blockly.HorizontalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var t=this.workspace_.getCanvas().getBBox()}catch(n){t={height:0,y:0,width:0,x:0}}var e=this.SCROLLBAR_PADDING;this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM&&(e=0);var o=this.height_;return this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP&&(o-=this.SCROLLBAR_PADDING),{viewHeight:o,viewWidth:this.width_-2*this.SCROLLBAR_PADDING,contentHeight:(t.height+2*this.MARGIN)*this.workspace_.scale,contentWidth:(t.width+2*this.MARGIN)*this.workspace_.scale,viewTop:-this.workspace_.scrollY,viewLeft:-this.workspace_.scrollX,contentTop:0,contentLeft:0,absoluteTop:e,absoluteLeft:this.SCROLLBAR_PADDING}},Blockly.HorizontalFlyout.prototype.setMetrics_=function(t){var e=this.getMetrics_();e&&("number"==typeof t.x&&(this.workspace_.scrollX=-e.contentWidth*t.x),this.workspace_.translate(this.workspace_.scrollX+e.absoluteLeft,this.workspace_.scrollY+e.absoluteTop))},Blockly.HorizontalFlyout.prototype.position=function(){if(this.isVisible()){var t=this.targetWorkspace_.getMetrics();t&&(this.width_=t.viewWidth,this.setBackgroundPath_(t.viewWidth-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),this.positionAt_(this.width_,this.height_,0,this.targetWorkspace_.toolboxPosition==this.toolboxPosition_?t.toolboxHeight?this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?t.toolboxHeight:t.viewHeight-this.height_:this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?0:t.viewHeight:this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?0:t.viewHeight+t.absoluteTop-this.height_))}},Blockly.HorizontalFlyout.prototype.setBackgroundPath_=function(t,e){var o=this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP,n=["M 0,"+(o?0:this.CORNER_RADIUS)];o?(n.push("h",t+2*this.CORNER_RADIUS),n.push("v",e),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),n.push("h",-1*t),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),n.push("h",t),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),n.push("v",e),n.push("h",-t-2*this.CORNER_RADIUS)),n.push("z"),this.svgBackground_.setAttribute("d",n.join(" "))},Blockly.HorizontalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(this.RTL?1/0:0)},Blockly.HorizontalFlyout.prototype.wheel_=function(t){var e=Blockly.utils.getScrollDeltaPixels(t),o=e.x||e.y;o&&(o=(e=this.getMetrics_()).viewLeft+o,o=Math.min(o,e.contentWidth-e.viewWidth),o=Math.max(o,0),this.scrollbar_.set(o),Blockly.WidgetDiv.hide()),t.preventDefault(),t.stopPropagation()},Blockly.HorizontalFlyout.prototype.layout_=function(t,e){this.workspace_.scale=this.targetWorkspace_.scale;var o=this.MARGIN,n=this.RTL?o:o+Blockly.BlockSvg.TAB_WIDTH;this.RTL&&(t=t.reverse());for(var r,i=0;r=t[i];i++)if("block"==r.type){for(var s,l=(r=r.block).getDescendants(!1),a=0;s=l[a];a++)s.isInFlyout=!0;r.render(),l=r.getSvgRoot(),a=r.getHeightWidth(),s=r.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,r.moveBy(s=this.RTL?n+a.width:n+s,o),s=this.createRect_(r,s,o,a,i),n+=a.width+e[i],this.addBlockListeners_(l,r,s)}else"button"==r.type&&(this.initFlyoutButton_(r.button,n,o),n+=r.button.width+e[i])},Blockly.HorizontalFlyout.prototype.isDragTowardWorkspace=function(t){t=Math.atan2(t.y,t.x)/Math.PI*180;var e=this.dragAngleRange_;return t<90+e&&t>90-e||t>-90-e&&t<-90+e},Blockly.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var t=this.svgGroup_.getBoundingClientRect(),e=t.top;return this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?new Blockly.utils.Rect(-1e9,e+t.height,-1e9,1e9):new Blockly.utils.Rect(e,-1e9,-1e9,1e9)},Blockly.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var t,e=0,o=this.workspace_.getTopBlocks(!1),n=0;t=o[n];n++)e=Math.max(e,t.getHeightWidth().height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,this.height_!=(e+=Blockly.Scrollbar.scrollbarThickness)){for(n=0;t=o[n];n++)t.flyoutRect_&&this.moveRectToBlock_(t.flyoutRect_,t);this.height_=e,this.position()}},Blockly.VerticalFlyout=function(t){t.getMetrics=this.getMetrics_.bind(this),t.setMetrics=this.setMetrics_.bind(this),Blockly.VerticalFlyout.superClass_.constructor.call(this,t),this.horizontalLayout_=!1},goog.inherits(Blockly.VerticalFlyout,Blockly.Flyout),Blockly.VerticalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var t=this.workspace_.getCanvas().getBBox()}catch(o){t={height:0,y:0,width:0,x:0}}var e=this.width_;return this.RTL||(e-=this.SCROLLBAR_PADDING),{viewHeight:this.height_-2*this.SCROLLBAR_PADDING,viewWidth:e,contentHeight:t.height*this.workspace_.scale+2*this.MARGIN,contentWidth:t.width*this.workspace_.scale+2*this.MARGIN,viewTop:-this.workspace_.scrollY+t.y,viewLeft:-this.workspace_.scrollX,contentTop:t.y,contentLeft:t.x,absoluteTop:this.SCROLLBAR_PADDING,absoluteLeft:0}},Blockly.VerticalFlyout.prototype.setMetrics_=function(t){var e=this.getMetrics_();e&&("number"==typeof t.y&&(this.workspace_.scrollY=-e.contentHeight*t.y),this.workspace_.translate(this.workspace_.scrollX+e.absoluteLeft,this.workspace_.scrollY+e.absoluteTop))},Blockly.VerticalFlyout.prototype.position=function(){if(this.isVisible()){var t=this.targetWorkspace_.getMetrics();t&&(this.height_=t.viewHeight,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,t.viewHeight-2*this.CORNER_RADIUS),this.positionAt_(this.width_,this.height_,this.targetWorkspace_.toolboxPosition==this.toolboxPosition_?t.toolboxWidth?this.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT?t.toolboxWidth:t.viewWidth-this.width_:this.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT?0:t.viewWidth:this.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT?0:t.viewWidth+t.absoluteLeft-this.width_,0))}},Blockly.VerticalFlyout.prototype.setBackgroundPath_=function(t,e){var o=this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT,n=t+this.CORNER_RADIUS;(n=["M "+(o?n:0)+",0"]).push("h",o?-t:t),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),n.push("v",Math.max(0,e)),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),n.push("h",o?t:-t),n.push("z"),this.svgBackground_.setAttribute("d",n.join(" "))},Blockly.VerticalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(0)},Blockly.VerticalFlyout.prototype.wheel_=function(t){var e=Blockly.utils.getScrollDeltaPixels(t);if(e.y){var o=this.getMetrics_();e=o.viewTop-o.contentTop+e.y,e=Math.min(e,o.contentHeight-o.viewHeight),e=Math.max(e,0),this.scrollbar_.set(e),Blockly.WidgetDiv.hide()}t.preventDefault(),t.stopPropagation()},Blockly.VerticalFlyout.prototype.layout_=function(t,e){this.workspace_.scale=this.targetWorkspace_.scale;for(var o,n=this.MARGIN,r=this.RTL?n:n+Blockly.BlockSvg.TAB_WIDTH,i=0;o=t[i];i++)if("block"==o.type){for(var s,l=(o=o.block).getDescendants(!1),a=0;s=l[a];a++)s.isInFlyout=!0;o.render(),l=o.getSvgRoot(),a=o.getHeightWidth(),o.moveBy(r,n),s=this.createRect_(o,this.RTL?r-a.width:r,n,a,i),this.addBlockListeners_(l,o,s),n+=a.height+e[i]}else"button"==o.type&&(this.initFlyoutButton_(o.button,r,n),n+=o.button.height+e[i])},Blockly.VerticalFlyout.prototype.isDragTowardWorkspace=function(t){t=Math.atan2(t.y,t.x)/Math.PI*180;var e=this.dragAngleRange_;return t<e&&t>-e||t<-180+e||t>180-e},Blockly.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var t=this.svgGroup_.getBoundingClientRect(),e=t.left;return this.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT?new Blockly.utils.Rect(-1e9,1e9,-1e9,e+t.width):(Blockly.utils.userAgent.GECKO&&this.targetWorkspace_&&this.targetWorkspace_.isMutator&&(t=this.targetWorkspace_.svgGroup_.getBoundingClientRect().x,10>Math.abs(t-e)&&(e+=this.leftEdge_*this.targetWorkspace_.options.parentWorkspace.scale)),new Blockly.utils.Rect(-1e9,1e9,e,1e9))},Blockly.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var t,e=0,o=this.workspace_.getTopBlocks(!1),n=0;t=o[n];n++){var r=t.getHeightWidth().width;t.outputConnection&&(r-=Blockly.BlockSvg.TAB_WIDTH),e=Math.max(e,r)}for(n=0;t=this.buttons_[n];n++)e=Math.max(e,t.width);if(e+=1.5*this.MARGIN+Blockly.BlockSvg.TAB_WIDTH,e*=this.workspace_.scale,this.width_!=(e+=Blockly.Scrollbar.scrollbarThickness)){for(n=0;t=o[n];n++)this.RTL&&(r=t.getRelativeToSurfaceXY().x,t.moveBy(e/this.workspace_.scale-this.MARGIN-Blockly.BlockSvg.TAB_WIDTH-r,0)),t.flyoutRect_&&this.moveRectToBlock_(t.flyoutRect_,t);if(this.RTL)for(n=0;t=this.buttons_[n];n++)o=t.getPosition().y,t.moveTo(e/this.workspace_.scale-t.width-this.MARGIN-Blockly.BlockSvg.TAB_WIDTH,o);this.width_=e,this.position()}},Blockly.Toolbox=function(t){this.workspace_=t,this.RTL=t.options.RTL,this.horizontalLayout_=t.options.horizontalLayout,this.toolboxPosition=t.options.toolboxPosition,this.config_={indentWidth:19,cssRoot:"blocklyTreeRoot",cssHideRoot:"blocklyHidden",cssItem:"",cssTreeRow:"blocklyTreeRow",cssItemLabel:"blocklyTreeLabel",cssTreeIcon:"blocklyTreeIcon",cssExpandedFolderIcon:"blocklyTreeIconOpen",cssFileIcon:"blocklyTreeIconNone",cssSelectedRow:"blocklyTreeSelected"},this.treeSeparatorConfig_={cssTreeRow:"blocklyTreeSeparator"},this.horizontalLayout_&&(this.config_.cssTreeRow+=t.RTL?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.treeSeparatorConfig_.cssTreeRow="blocklyTreeSeparatorHorizontal "+(t.RTL?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),this.config_.cssTreeIcon="")},Blockly.Toolbox.prototype.width=0,Blockly.Toolbox.prototype.height=0,Blockly.Toolbox.prototype.selectedOption_=null,Blockly.Toolbox.prototype.lastCategory_=null,Blockly.Toolbox.prototype.init=function(){var t=this.workspace_,e=this.workspace_.getParentSvg();this.HtmlDiv=document.createElement("div"),this.HtmlDiv.className="blocklyToolboxDiv",this.HtmlDiv.setAttribute("dir",t.RTL?"RTL":"LTR"),e.parentNode.insertBefore(this.HtmlDiv,e),Blockly.bindEventWithChecks_(this.HtmlDiv,"mousedown",this,(function(t){Blockly.utils.isRightButton(t)||t.target==this.HtmlDiv?Blockly.hideChaff(!1):Blockly.hideChaff(!0),Blockly.Touch.clearTouchIdentifier()}),!1,!0),e={disabledPatternId:t.options.disabledPatternId,parentWorkspace:t,RTL:t.RTL,oneBasedIndex:t.options.oneBasedIndex,horizontalLayout:t.horizontalLayout,toolboxPosition:t.options.toolboxPosition},this.flyout_=null,this.flyout_=t.horizontalLayout?new Blockly.HorizontalFlyout(e):new Blockly.VerticalFlyout(e),Blockly.utils.dom.insertAfter(this.flyout_.createDom("svg"),this.workspace_.getParentSvg()),this.flyout_.init(t),this.config_.cleardotPath=t.options.pathToMedia+"1x1.gif",this.config_.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(t.RTL?"Rtl":"Ltr"),this.tree_=e=new Blockly.Toolbox.TreeControl(this,this.config_),e.setShowRootNode(!1),e.setShowLines(!1),e.setShowExpandIcons(!1),e.setSelectedItem(null),t=this.populate_(t.options.languageTree),e.render(this.HtmlDiv),t&&e.setSelectedItem(t),this.addColour_(),this.position()},Blockly.Toolbox.prototype.dispose=function(){this.flyout_.dispose(),this.tree_.dispose(),Blockly.utils.dom.removeNode(this.HtmlDiv),this.lastCategory_=this.workspace_=null},Blockly.Toolbox.prototype.getWidth=function(){return this.width},Blockly.Toolbox.prototype.getHeight=function(){return this.height},Blockly.Toolbox.prototype.position=function(){var t=this.HtmlDiv;if(t){var e=this.workspace_.getParentSvg();e=Blockly.svgSize(e),this.horizontalLayout_?(t.style.left="0",t.style.height="auto",t.style.width=e.width+"px",this.height=t.offsetHeight,this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?t.style.right="0":t.style.left="0",t.style.height=e.height+"px",this.width=t.offsetWidth),this.flyout_.position()}},Blockly.Toolbox.prototype.populate_=function(t){if(this.tree_.removeChildren(),this.tree_.blocks=[],this.hasColours_=!1,t=this.syncTrees_(t,this.tree_,this.workspace_.options.pathToMedia),this.tree_.blocks.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");return this.workspace_.resizeContents(),t},Blockly.Toolbox.prototype.syncTrees_=function(t,e,o){for(var n,r=null,i=null,s=0;n=t.childNodes[s];s++)if(n.tagName)switch(n.tagName.toUpperCase()){case"CATEGORY":i=Blockly.utils.replaceMessageReferences(n.getAttribute("name"));var l=this.tree_.createNode(i);l.blocks=[],e.add(l);var a=n.getAttribute("custom");a?l.blocks=a:(a=this.syncTrees_(n,l,o))&&(r=a),a=n.getAttribute("categorystyle");var u=n.getAttribute("colour");u&&a?(l.hexColour="",console.warn('Toolbox category "'+i+'" can not have both a style and a colour')):a?this.setColourFromStyle_(a,l,i):this.setColour_(u,l,i),"true"==n.getAttribute("expanded")?(l.blocks.length&&(r=l),l.setExpanded(!0)):l.setExpanded(!1),i=n;break;case"SEP":if(i&&"CATEGORY"==i.tagName.toUpperCase()){e.add(new Blockly.Toolbox.TreeSeparator(this.treeSeparatorConfig_));break}case"BLOCK":case"SHADOW":case"LABEL":case"BUTTON":e.blocks.push(n),i=n}return r},Blockly.Toolbox.prototype.setColour_=function(t,e,o){if(null===(t=Blockly.utils.replaceMessageReferences(t))||""===t)e.hexColour="";else{var n=Number(t);isNaN(n)?(n=Blockly.utils.colour.parse(t))?(e.hexColour=n,this.hasColours_=!0):(e.hexColour="",console.warn('Toolbox category "'+o+'" has unrecognized colour attribute: '+t)):(e.hexColour=Blockly.hueToHex(n),this.hasColours_=!0)}},Blockly.Toolbox.prototype.setColourFromStyle_=function(t,e,o){if((e.styleName=t)&&Blockly.getTheme()){var n=Blockly.getTheme().getCategoryStyle(t);n&&n.colour?this.setColour_(n.colour,e,o):console.warn('Style "'+t+'" must exist and contain a colour value')}},Blockly.Toolbox.prototype.updateColourFromTheme_=function(t){if(t=t||this.tree_){t=t.getChildren(!1);for(var e,o=0;e=t[o];o++)e.styleName&&(this.setColourFromStyle_(e.styleName,e,""),this.addColour_()),this.updateColourFromTheme_(e)}},Blockly.Toolbox.prototype.updateColourFromTheme=function(){var t=this.tree_;t&&(this.updateColourFromTheme_(t),this.updateSelectedItemColour_(t))},Blockly.Toolbox.prototype.updateSelectedItemColour_=function(t){var e=t.selectedItem_;if(e){var o=e.hexColour||"#57e";e.getRowElement().style.backgroundColor=o,t.toolbox_.addColour_(e)}},Blockly.Toolbox.prototype.addColour_=function(t){t=(t||this.tree_).getChildren(!1);for(var e,o=0;e=t[o];o++){var n=e.getRowElement();if(n){var r=this.hasColours_?"8px solid "+(e.hexColour||"#ddd"):"none";this.workspace_.RTL?n.style.borderRight=r:n.style.borderLeft=r}this.addColour_(e)}},Blockly.Toolbox.prototype.clearSelection=function(){this.tree_.setSelectedItem(null)},Blockly.Toolbox.prototype.addStyle=function(t){Blockly.utils.dom.addClass(this.HtmlDiv,t)},Blockly.Toolbox.prototype.removeStyle=function(t){Blockly.utils.dom.removeClass(this.HtmlDiv,t)},Blockly.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv)return null;var t=this.HtmlDiv.getBoundingClientRect(),e=t.top,o=e+t.height,n=t.left;return t=n+t.width,this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?new Blockly.utils.Rect(-1e7,o,-1e7,1e7):this.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM?new Blockly.utils.Rect(e,1e7,-1e7,1e7):this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT?new Blockly.utils.Rect(-1e7,1e7,-1e7,t):new Blockly.utils.Rect(-1e7,1e7,n,1e7)},Blockly.Toolbox.prototype.refreshSelection=function(){var t=this.tree_.getSelectedItem();t&&t.blocks&&this.flyout_.show(t.blocks)},Blockly.Toolbox.TreeControl=function(t,e){this.toolbox_=t,goog.ui.tree.TreeControl.call(this,goog.html.SafeHtml.EMPTY,e)},goog.inherits(Blockly.Toolbox.TreeControl,goog.ui.tree.TreeControl),Blockly.Toolbox.TreeControl.prototype.enterDocument=function(){if(Blockly.Toolbox.TreeControl.superClass_.enterDocument.call(this),Blockly.Touch.TOUCH_ENABLED){var t=this.getElement();Blockly.bindEventWithChecks_(t,goog.events.EventType.TOUCHEND,this,this.handleTouchEvent_)}},Blockly.Toolbox.TreeControl.prototype.handleTouchEvent_=function(t){var e=this.getNodeFromEvent_(t);e&&t.type===goog.events.EventType.TOUCHEND&&setTimeout((function(){e.onClick_(t)}),1)},Blockly.Toolbox.TreeControl.prototype.createNode=function(t){return t=t?goog.html.SafeHtml.htmlEscape(t):goog.html.SafeHtml.EMPTY,new Blockly.Toolbox.TreeNode(this.toolbox_,t,this.getConfig())},Blockly.Toolbox.TreeControl.prototype.setSelectedItem=function(t){var e=this.toolbox_;if(t!=this.selectedItem_&&t!=e.tree_){if(e.lastCategory_&&(e.lastCategory_.getRowElement().style.backgroundColor=""),t){var o=t.hexColour||"#57e";t.getRowElement().style.backgroundColor=o,e.addColour_(t)}o=this.getSelectedItem(),goog.ui.tree.TreeControl.prototype.setSelectedItem.call(this,t),t&&t.blocks&&t.blocks.length?(e.flyout_.show(t.blocks),e.lastCategory_!=t&&e.flyout_.scrollToStart()):e.flyout_.hide(),o!=t&&o!=this&&((o=new Blockly.Events.Ui(null,"category",o&&o.getHtml(),t&&t.getHtml())).workspaceId=e.workspace_.id,Blockly.Events.fire(o)),t&&(e.lastCategory_=t)}},Blockly.Toolbox.TreeNode=function(t,e,o){goog.ui.tree.TreeNode.call(this,e,o),t&&(goog.events.listen(t.tree_,goog.ui.tree.BaseNode.EventType.EXPAND,e=function(){Blockly.svgResize(t.workspace_)}),goog.events.listen(t.tree_,goog.ui.tree.BaseNode.EventType.COLLAPSE,e))},goog.inherits(Blockly.Toolbox.TreeNode,goog.ui.tree.TreeNode),Blockly.Toolbox.TreeNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span")},Blockly.Toolbox.TreeNode.prototype.onClick_=function(t){this.hasChildren()&&this.isUserCollapsible_?(this.toggle(),this.select()):this.isSelected()?this.getTree().setSelectedItem(null):this.select(),this.updateRow()},Blockly.Toolbox.TreeNode.prototype.onMouseDown=function(t){},Blockly.Toolbox.TreeNode.prototype.onDoubleClick_=function(t){},Blockly.Toolbox.TreeNode.prototype.onKeyDown=function(t){if(this.tree.toolbox_.horizontalLayout_){var e={},o=goog.events.KeyCodes.DOWN,n=goog.events.KeyCodes.UP;e[goog.events.KeyCodes.RIGHT]=this.rightToLeft_?n:o,e[goog.events.KeyCodes.LEFT]=this.rightToLeft_?o:n,e[goog.events.KeyCodes.UP]=goog.events.KeyCodes.LEFT,e[goog.events.KeyCodes.DOWN]=goog.events.KeyCodes.RIGHT,t.keyCode=e[t.keyCode]||t.keyCode}return Blockly.Toolbox.TreeNode.superClass_.onKeyDown.call(this,t)},Blockly.Toolbox.TreeSeparator=function(t){Blockly.Toolbox.TreeNode.call(this,null,goog.html.SafeHtml.EMPTY,t)},goog.inherits(Blockly.Toolbox.TreeSeparator,Blockly.Toolbox.TreeNode),Blockly.Css={},Blockly.Css.Cursor={OPEN:"handopen",CLOSED:"handclosed",DELETE:"handdelete"},Blockly.Css.currentCursor_="",Blockly.Css.injected_=!1,Blockly.Css.mediaPath_="",Blockly.Css.inject=function(t,e){if(!Blockly.Css.injected_){Blockly.Css.injected_=!0;var o=".blocklyDraggable {}\n";t&&(o+=Blockly.Css.CONTENT.join("\n"),Blockly.Css.CONTENT=null,Blockly.FieldDate&&(o+=Blockly.FieldDate.CSS.join("\n"))),Blockly.Css.mediaPath_=e.replace(/[\\\/]$/,""),o=o.replace(/<<<PATH>>>/g,Blockly.Css.mediaPath_);var n=document.createElement("style");o=document.createTextNode(o),n.appendChild(o),document.head.insertBefore(n,document.head.firstChild)}},Blockly.Css.setCursor=function(t){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")},Blockly.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: fixed;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","-webkit-user-select: none;","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: 0.5;","}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {","display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;","stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;","outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;","height: 100%;","margin: 0;","outline: none;","padding: 0 1px;","width: 100%","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyColourTable {","border-collapse: collapse;","}",".blocklyColourTable>tr>td {","border: 1px solid #666;","padding: 0;","}",".blocklyColourTable>tr>td>div {","border: 1px solid #666;","height: 13px;","width: 15px;","}",".blocklyColourTable>tr>td>div:hover {","border: 1px solid #fff;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border: 1px solid #000 !important;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem, ",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","padding: 5px 5px 5px 28px;","white-space: nowrap;","}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, ",".blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { ","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {","padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight, ",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 4px;","padding-top: 4px;","}",".blocklyDropDownDiv .goog-menuitem-highlight, ",".blocklyDropDownDiv .goog-menuitem-hover {","background-color: rgba(0, 0, 0, 0.2);","}",".blocklyWidgetDiv .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyWidgetDiv .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator, ",".blocklyDropDownDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""],Blockly.WidgetDiv={},Blockly.WidgetDiv.DIV=null,Blockly.WidgetDiv.owner_=null,Blockly.WidgetDiv.dispose_=null,Blockly.WidgetDiv.createDom=function(){Blockly.WidgetDiv.DIV||(Blockly.WidgetDiv.DIV=document.createElement("div"),Blockly.WidgetDiv.DIV.className="blocklyWidgetDiv",document.body.appendChild(Blockly.WidgetDiv.DIV))},Blockly.WidgetDiv.show=function(t,e,o){Blockly.WidgetDiv.hide(),Blockly.WidgetDiv.owner_=t,Blockly.WidgetDiv.dispose_=o,t=goog.style.getViewportPageOffset(document),Blockly.WidgetDiv.DIV.style.top=t.y+"px",Blockly.WidgetDiv.DIV.style.direction=e?"rtl":"ltr",Blockly.WidgetDiv.DIV.style.display="block"},Blockly.WidgetDiv.hide=function(){Blockly.WidgetDiv.owner_&&(Blockly.WidgetDiv.owner_=null,Blockly.WidgetDiv.DIV.style.display="none",Blockly.WidgetDiv.DIV.style.left="",Blockly.WidgetDiv.DIV.style.top="",Blockly.WidgetDiv.dispose_&&Blockly.WidgetDiv.dispose_(),Blockly.WidgetDiv.dispose_=null,Blockly.WidgetDiv.DIV.innerHTML="")},Blockly.WidgetDiv.isVisible=function(){return!!Blockly.WidgetDiv.owner_},Blockly.WidgetDiv.hideIfOwner=function(t){Blockly.WidgetDiv.owner_==t&&Blockly.WidgetDiv.hide()},Blockly.WidgetDiv.positionInternal_=function(t,e,o){Blockly.WidgetDiv.DIV.style.left=t+"px",Blockly.WidgetDiv.DIV.style.top=e+"px",Blockly.WidgetDiv.DIV.style.height=o+"px"},Blockly.WidgetDiv.positionWithAnchor=function(t,e,o,n){var r=Blockly.WidgetDiv.calculateY_(t,e,o);t=Blockly.WidgetDiv.calculateX_(t,e,o,n),0>r?Blockly.WidgetDiv.positionInternal_(t,0,o.height+r):Blockly.WidgetDiv.positionInternal_(t,r,o.height)},Blockly.WidgetDiv.calculateX_=function(t,e,o,n){return n?(e=Math.max(e.right-o.width,t.left),Math.min(e,t.right-o.width)):(e=Math.min(e.left,t.right-o.width),Math.max(e,t.left))},Blockly.WidgetDiv.calculateY_=function(t,e,o){return e.bottom+o.height>=t.bottom?e.top-o.height:e.bottom},Blockly.inject=function(t,e){if(Blockly.checkBlockColourConstants(),"string"==typeof t&&(t=document.getElementById(t)||document.querySelector(t)),!Blockly.utils.dom.containsNode(document,t))throw Error("Error: container is not in current document.");var o=new Blockly.Options(e||{}),n=document.createElement("div");n.className="injectionDiv",t.appendChild(n);var r=Blockly.createDom_(n,o),i=new Blockly.BlockDragSurfaceSvg(n);return n=new Blockly.WorkspaceDragSurfaceSvg(n),r=Blockly.createMainWorkspace_(r,o,i,n),Blockly.setTheme(o.theme),Blockly.init_(r),Blockly.mainWorkspace=r,Blockly.svgResize(r),r},Blockly.createDom_=function(t,e){t.setAttribute("dir","LTR"),goog.ui.Component.setDefaultRightToLeft(e.RTL),Blockly.Css.inject(e.hasCss,e.pathToMedia);var o=Blockly.utils.dom.createSvgElement("svg",{xmlns:Blockly.utils.dom.SVG_NS,"xmlns:html":Blockly.utils.dom.HTML_NS,"xmlns:xlink":Blockly.utils.dom.XLINK_NS,version:"1.1",class:"blocklySvg"},t),n=Blockly.utils.dom.createSvgElement("defs",{},o),r=String(Math.random()).substring(2),i=Blockly.utils.dom.createSvgElement("filter",{id:"blocklyEmbossFilter"+r},n);Blockly.utils.dom.createSvgElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:1,result:"blur"},i);var s=Blockly.utils.dom.createSvgElement("feSpecularLighting",{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},i);return Blockly.utils.dom.createSvgElement("fePointLight",{x:-5e3,y:-1e4,z:2e4},s),Blockly.utils.dom.createSvgElement("feComposite",{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},i),Blockly.utils.dom.createSvgElement("feComposite",{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},i),e.embossFilterId=i.id,i=Blockly.utils.dom.createSvgElement("pattern",{id:"blocklyDisabledPattern"+r,patternUnits:"userSpaceOnUse",width:10,height:10},n),Blockly.utils.dom.createSvgElement("rect",{width:10,height:10,fill:"#aaa"},i),Blockly.utils.dom.createSvgElement("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},i),e.disabledPatternId=i.id,e.gridPattern=Blockly.Grid.createDom(r,e.gridOptions,n),o},Blockly.createMainWorkspace_=function(t,e,o,n){e.parentWorkspace=null;var r=new Blockly.WorkspaceSvg(e,o,n);return r.scale=e.zoomOptions.startScale,t.appendChild(r.createDom("blocklyMainBackground")),!e.hasCategories&&e.languageTree&&(o=r.addFlyout_("svg"),Blockly.utils.dom.insertAfter(o,t)),e.hasTrashcan&&r.addTrashcan(),e.zoomOptions&&e.zoomOptions.controls&&r.addZoomControls(),r.translate(0,0),Blockly.mainWorkspace=r,e.readOnly||r.isMovable()||r.addChangeListener((function(t){if(!r.isDragging()&&!r.isMovable()&&-1!=Blockly.Events.BUMP_EVENTS.indexOf(t.type)){var e=Object.create(null),o=r.getMetrics(),n=r.scale;if(e.viewLeft=o.viewLeft/n,e.viewTop=o.viewTop/n,e.viewRight=(o.viewLeft+o.viewWidth)/n,e.viewBottom=(o.viewTop+o.viewHeight)/n,r.isContentBounded()?(o=r.getBlocksBoundingBox(),e.contentLeft=o.left,e.contentTop=o.top,e.contentRight=o.right,e.contentBottom=o.bottom):(e.contentLeft=o.contentLeft/n,e.contentTop=o.contentTop/n,e.contentRight=(o.contentLeft+o.contentWidth)/n,e.contentBottom=(o.contentTop+o.contentHeight)/n),e.contentTop<e.viewTop||e.contentBottom>e.viewBottom||e.contentLeft<e.viewLeft||e.contentRight>e.viewRight){switch(o=null,t&&(o=Blockly.Events.getGroup(),Blockly.Events.setGroup(t.group)),t.type){case Blockly.Events.BLOCK_CREATE:case Blockly.Events.BLOCK_MOVE:var i=r.getBlockById(t.blockId);i=i.getRootBlock();break;case Blockly.Events.COMMENT_CREATE:case Blockly.Events.COMMENT_MOVE:i=r.getCommentById(t.commentId)}if(i){n=i.getBoundingRectangle();var s=e.viewTop-n.top;0<s&&i.moveBy(0,s),0>(s=e.viewBottom-n.bottom)&&i.moveBy(0,s),0<(s=e.viewLeft-n.left)&&i.moveBy(s,0),0>(e=e.viewRight-n.right)&&i.moveBy(e,0)}t&&(t.group||console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),Blockly.Events.setGroup(o))}}})),Blockly.svgResize(r),Blockly.WidgetDiv.createDom(),Blockly.DropDownDiv.createDom(),Blockly.Tooltip.createDom(),r},Blockly.init_=function(t){var e=t.options,o=t.getParentSvg();Blockly.bindEventWithChecks_(o.parentNode,"contextmenu",null,(function(t){Blockly.utils.isTargetInput(t)||t.preventDefault()})),o=Blockly.bindEventWithChecks_(window,"resize",null,(function(){Blockly.hideChaff(!0),Blockly.svgResize(t)})),t.setResizeHandlerWrapper(o),Blockly.inject.bindDocumentEvents_(),e.languageTree&&(t.toolbox_?t.toolbox_.init(t):t.flyout_&&(t.flyout_.init(t),t.flyout_.show(e.languageTree.childNodes),t.flyout_.scrollToStart())),o=Blockly.Scrollbar.scrollbarThickness,e.hasTrashcan&&(o=t.trashcan.init(o)),e.zoomOptions&&e.zoomOptions.controls&&t.zoomControls_.init(o),e.moveOptions&&e.moveOptions.scrollbars?(t.scrollbar=new Blockly.ScrollbarPair(t),t.scrollbar.resize()):t.setMetrics({x:.5,y:.5}),e.hasSounds&&Blockly.inject.loadSounds_(e.pathToMedia,t)},Blockly.inject.bindDocumentEvents_=function(){Blockly.documentEventsBound_||(Blockly.bindEventWithChecks_(document,"scroll",null,(function(){for(var t,e=Blockly.Workspace.getAll(),o=0;t=e[o];o++)t.updateInverseScreenCTM&&t.updateInverseScreenCTM()})),Blockly.bindEventWithChecks_(document,"keydown",null,Blockly.onKeyDown_),Blockly.bindEvent_(document,"touchend",null,Blockly.longStop_),Blockly.bindEvent_(document,"touchcancel",null,Blockly.longStop_),Blockly.utils.userAgent.IPAD&&Blockly.bindEventWithChecks_(window,"orientationchange",document,(function(){Blockly.svgResize(Blockly.getMainWorkspace())}))),Blockly.documentEventsBound_=!0},Blockly.inject.loadSounds_=function(t,e){var o=e.getAudioManager();o.load([t+"click.mp3",t+"click.wav",t+"click.ogg"],"click"),o.load([t+"disconnect.wav",t+"disconnect.mp3",t+"disconnect.ogg"],"disconnect"),o.load([t+"delete.mp3",t+"delete.ogg",t+"delete.wav"],"delete");var n=[],r=function(){for(;n.length;)Blockly.unbindEvent_(n.pop());o.preload()};n.push(Blockly.bindEventWithChecks_(document,"mousemove",null,r,!0)),n.push(Blockly.bindEventWithChecks_(document,"touchstart",null,r,!0))},Blockly.updateToolbox=function(t){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead."),Blockly.getMainWorkspace().updateToolbox(t)};var CLOSURE_DEFINES={"goog.DEBUG":!1};return Blockly.mainWorkspace=null,Blockly.selected=null,Blockly.draggingConnections_=[],Blockly.clipboardXml_=null,Blockly.clipboardSource_=null,Blockly.clipboardTypeCounts_=null,Blockly.cache3dSupported_=null,Blockly.theme_=null,Blockly.svgSize=function(t){return{width:t.cachedWidth_,height:t.cachedHeight_}},Blockly.resizeSvgContents=function(t){t.resizeContents()},Blockly.svgResize=function(t){for(;t.options.parentWorkspace;)t=t.options.parentWorkspace;var e=t.getParentSvg(),o=e.parentNode;if(o){var n=o.offsetWidth;o=o.offsetHeight,e.cachedWidth_!=n&&(e.setAttribute("width",n+"px"),e.cachedWidth_=n),e.cachedHeight_!=o&&(e.setAttribute("height",o+"px"),e.cachedHeight_=o),t.resize()}},Blockly.onKeyDown_=function(t){var e=Blockly.mainWorkspace;if(!(e.options.readOnly||Blockly.utils.isTargetInput(t)||e.rendered&&!e.isVisible())){var o=!1;if(27==t.keyCode)Blockly.hideChaff();else if(8==t.keyCode||46==t.keyCode){if(t.preventDefault(),Blockly.Gesture.inProgress())return;Blockly.selected&&Blockly.selected.isDeletable()&&(o=!0)}else if(t.altKey||t.ctrlKey||t.metaKey){if(Blockly.Gesture.inProgress())return;Blockly.selected&&Blockly.selected.isDeletable()&&Blockly.selected.isMovable()&&(67==t.keyCode?(Blockly.hideChaff(),Blockly.copy_(Blockly.selected)):88!=t.keyCode||Blockly.selected.workspace.isFlyout||(Blockly.copy_(Blockly.selected),o=!0)),86==t.keyCode?Blockly.clipboardXml_&&((t=Blockly.clipboardSource_).isFlyout&&(t=t.targetWorkspace),Blockly.clipboardTypeCounts_&&t.isCapacityAvailable(Blockly.clipboardTypeCounts_)&&(Blockly.Events.setGroup(!0),t.paste(Blockly.clipboardXml_),Blockly.Events.setGroup(!1))):90==t.keyCode&&(Blockly.hideChaff(),e.undo(t.shiftKey))}o&&!Blockly.selected.workspace.isFlyout&&(Blockly.Events.setGroup(!0),Blockly.hideChaff(),Blockly.selected.dispose(!0,!0),Blockly.Events.setGroup(!1))}},Blockly.copy_=function(t){if(t.isComment)var e=t.toXmlWithXY();else{e=Blockly.Xml.blockToDom(t,!0),Blockly.Xml.deleteNext(e);var o=t.getRelativeToSurfaceXY();e.setAttribute("x",t.RTL?-o.x:o.x),e.setAttribute("y",o.y)}Blockly.clipboardXml_=e,Blockly.clipboardSource_=t.workspace,Blockly.clipboardTypeCounts_=t.isComment?null:Blockly.utils.getBlockTypeCounts(t,!0)},Blockly.duplicate_=function(t){var e=Blockly.clipboardXml_,o=Blockly.clipboardSource_;Blockly.copy_(t),t.workspace.paste(Blockly.clipboardXml_),Blockly.clipboardXml_=e,Blockly.clipboardSource_=o},Blockly.onContextMenu_=function(t){Blockly.utils.isTargetInput(t)||t.preventDefault()},Blockly.hideChaff=function(t){Blockly.Tooltip.hide(),Blockly.WidgetDiv.hide(),Blockly.DropDownDiv.hideWithoutAnimation();var e=Blockly.getMainWorkspace();e.trashcan&&e.trashcan.flyout_&&e.trashcan.flyout_.hide(),t||e.toolbox_&&e.toolbox_.flyout_&&e.toolbox_.flyout_.autoClose&&e.toolbox_.clearSelection()},Blockly.addChangeListener=function(t){return console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead."),Blockly.getMainWorkspace().addChangeListener(t)},Blockly.getMainWorkspace=function(){return Blockly.mainWorkspace},Blockly.alert=function(t,e){alert(t),e&&e()},Blockly.confirm=function(t,e){e(confirm(t))},Blockly.prompt=function(t,e,o){o(prompt(t,e))},Blockly.jsonInitFactory_=function(t){return function(){this.jsonInit(t)}},Blockly.defineBlocksWithJsonArray=function(t){for(var e=0;e<t.length;e++){var o=t[e];if(o){var n=o.type;null==n||""===n?console.warn("Block definition #"+e+" in JSON array is missing a type attribute. Skipping."):(Blockly.Blocks[n]&&console.warn("Block definition #"+e+' in JSON array overwrites prior definition of "'+n+'".'),Blockly.Blocks[n]={init:Blockly.jsonInitFactory_(o)})}else console.warn("Block definition #"+e+" in JSON array is "+o+". Skipping.")}},Blockly.bindEventWithChecks_=function(t,e,o,n,r,i){var s=!1,l=function(t){var e=!r;t=Blockly.Touch.splitEventByTouches(t);for(var i,l=0;i=t[l];l++)e&&!Blockly.Touch.shouldHandleEvent(i)||(Blockly.Touch.setClientFromTouch(i),o?n.call(o,i):n(i),s=!0)},a=[];if(Blockly.utils.global.PointerEvent&&e in Blockly.Touch.TOUCH_MAP)for(var u,c=0;u=Blockly.Touch.TOUCH_MAP[e][c];c++)t.addEventListener(u,l,!1),a.push([t,u,l]);else if(t.addEventListener(e,l,!1),a.push([t,e,l]),e in Blockly.Touch.TOUCH_MAP){var p=function(t){l(t),s&&!i&&t.preventDefault()};for(c=0;u=Blockly.Touch.TOUCH_MAP[e][c];c++)t.addEventListener(u,p,!1),a.push([t,u,p])}return a},Blockly.bindEvent_=function(t,e,o,n){var r=function(t){o?n.call(o,t):n(t)},i=[];if(Blockly.utils.global.PointerEvent&&e in Blockly.Touch.TOUCH_MAP)for(var s,l=0;s=Blockly.Touch.TOUCH_MAP[e][l];l++)t.addEventListener(s,r,!1),i.push([t,s,r]);else if(t.addEventListener(e,r,!1),i.push([t,e,r]),e in Blockly.Touch.TOUCH_MAP){var a=function(t){if(t.changedTouches&&1==t.changedTouches.length){var e=t.changedTouches[0];t.clientX=e.clientX,t.clientY=e.clientY}r(t),t.preventDefault()};for(l=0;s=Blockly.Touch.TOUCH_MAP[e][l];l++)t.addEventListener(s,a,!1),i.push([t,s,a])}return i},Blockly.unbindEvent_=function(t){for(;t.length;){var e=t.pop(),o=e[2];e[0].removeEventListener(e[1],o,!1)}return o},Blockly.isNumber=function(t){return/^\s*-?\d+(\.\d+)?\s*$/.test(t)},Blockly.hueToHex=function(t){return Blockly.utils.colour.hsvToHex(t,Blockly.HSV_SATURATION,255*Blockly.HSV_VALUE)},Blockly.checkBlockColourConstants=function(){Blockly.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),Blockly.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),Blockly.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),Blockly.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),Blockly.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),Blockly.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),Blockly.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),Blockly.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),Blockly.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),Blockly.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),Blockly.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),Blockly.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),Blockly.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),Blockly.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),Blockly.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),Blockly.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},Blockly.checkBlockColourConstant_=function(t,e,o){for(var n="Blockly",r=Blockly,i=0;i<e.length;++i)n+="."+e[i],r&&(r=r[e[i]]);r&&r!==o&&(t=(void 0===o?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",n).replace("%2",t),console.warn(t))},Blockly.setTheme=function(t){Blockly.theme_=t,(t=Blockly.getMainWorkspace())&&Blockly.refreshTheme_(t)},Blockly.refreshTheme_=function(t){Blockly.updateBlockStyles_(t.getAllBlocks().filter((function(t){return void 0!==t.getStyleName()}))),!t.toolbox_&&t.flyout_&&t.flyout_.workspace_?Blockly.updateBlockStyles_(t.flyout_.workspace_.getAllBlocks()):t.refreshToolboxSelection(),t.toolbox_&&t.toolbox_.updateColourFromTheme();var e=new Blockly.Events.Ui(null,"theme");e.workspaceId=t.id,Blockly.Events.fire(e)},Blockly.updateBlockStyles_=function(t){for(var e,o=0;e=t[o];o++){var n=e.getStyleName();e.setStyle(n),e.mutator&&e.mutator.updateBlockStyle(n)}},Blockly.getTheme=function(){return Blockly.theme_},Blockly.utils.global.Blockly||(Blockly.utils.global.Blockly={}),Blockly.utils.global.Blockly.getMainWorkspace=Blockly.getMainWorkspace,Blockly.utils.global.Blockly.addChangeListener=Blockly.addChangeListener,Blockly},__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},mNvP:function(t,e){var o;!function(t){!function(e){var o="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=r(t);function r(t,e){return function(o,n){"function"!=typeof t[o]&&Object.defineProperty(t,o,{configurable:!0,writable:!0,value:n}),e&&e(o,n)}}void 0===o.Reflect?o.Reflect=t:n=r(o.Reflect,n),function(t){var e=Object.prototype.hasOwnProperty,o="function"==typeof Symbol,n=o&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",r=o&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",i="function"==typeof Object.create,s={__proto__:[]}instanceof Array,l=!i&&!s,a={create:i?function(){return R(Object.create(null))}:s?function(){return R({__proto__:null})}:function(){return R({})},has:l?function(t,o){return e.call(t,o)}:function(t,e){return e in t},get:l?function(t,o){return e.call(t,o)?t[o]:void 0}:function(t,e){return t[e]}},u=Object.getPrototypeOf(Function),c="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=c||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],o=function(){function t(t,e,o){this._index=0,this._keys=t,this._values=e,this._selector=o}return t.prototype["@@iterator"]=function(){return this},t.prototype[r]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var o=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:o,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var o=this._find(t,!0);return this._values[o]=e,this},e.prototype.delete=function(e){var o=this._find(e,!1);if(o>=0){for(var n=this._keys.length,r=o+1;r<n;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new o(this._keys,this._values,n)},e.prototype.values=function(){return new o(this._keys,this._values,i)},e.prototype.entries=function(){return new o(this._keys,this._values,s)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[r]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function n(t,e){return t}function i(t,e){return e}function s(t,e){return[t,e]}}():Map,h=c||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new p}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[r]=function(){return this.keys()},t}():Set,g=new(c||"function"!=typeof WeakMap?function(){var t=16,o=a.create(),n=r();return function(){function t(){this._key=r()}return t.prototype.has=function(t){var e=i(t,!1);return void 0!==e&&a.has(e,this._key)},t.prototype.get=function(t){var e=i(t,!1);return void 0!==e?a.get(e,this._key):void 0},t.prototype.set=function(t,e){return i(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=i(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=r()},t}();function r(){var t;do{t="@@WeakMap@@"+l()}while(a.has(o,t));return o[t]=!0,t}function i(t,o){if(!e.call(t,n)){if(!o)return;Object.defineProperty(t,n,{value:a.create()})}return t[n]}function s(t,e){for(var o=0;o<e;++o)t[o]=255*Math.random()|0;return t}function l(){var e,o=(e=t,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):s(new Uint8Array(e),e):s(new Array(e),e));o[6]=79&o[6]|64,o[8]=191&o[8]|128;for(var n="",r=0;r<t;++r){var i=o[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function d(t,e,o){var n=g.get(t);if(b(n)){if(!o)return;n=new p,g.set(t,n)}var r=n.get(e);if(b(r)){if(!o)return;r=new p,n.set(e,r)}return r}function f(t,e,o){var n=d(e,o,!1);return!b(n)&&!!n.has(t)}function m(t,e,o){var n=d(e,o,!1);if(!b(n))return n.get(t)}function _(t,e,o,n){d(o,n,!0).set(t,e)}function y(t,e){var o=[],n=d(t,e,!1);if(b(n))return o;for(var i=function(t){var e=w(t,r);if(!C(e))throw new TypeError;var o=e.call(t);if(!k(o))throw new TypeError;return o}(n.keys()),s=0;;){var l=O(i);if(!l)return o.length=s,o;var a=l.value;try{o[s]=a}catch(u){try{B(i)}finally{throw u}}s++}}function v(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function b(t){return void 0===t}function E(t){return null===t}function k(t){return"object"==typeof t?null!==t:"function"==typeof t}function T(t){var e=function(t,e){switch(v(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var o=w(t,n);if(void 0!==o){var r=o.call(t,"string");if(k(r))throw new TypeError;return r}return function(t,e){var o,n,r=t.toString;if(C(r)&&!k(n=r.call(t)))return n;if(C(o=t.valueOf)&&!k(n=o.call(t)))return n;throw new TypeError}(t)}(t);return"symbol"==typeof e?e:function(t){return""+t}(e)}function S(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function C(t){return"function"==typeof t}function A(t){return"function"==typeof t}function w(t,e){var o=t[e];if(null!=o){if(!C(o))throw new TypeError;return o}}function O(t){var e=t.next();return!e.done&&e}function B(t){var e=t.return;e&&e.call(t)}function I(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===u)return e;if(e!==u)return e;var o=t.prototype,n=o&&Object.getPrototypeOf(o);if(null==n||n===Object.prototype)return e;var r=n.constructor;return"function"!=typeof r?e:r===t?e:r}function R(t){return t.__=void 0,delete t.__,t}t("decorate",(function(t,e,o,n){if(b(o)){if(!S(t))throw new TypeError;if(!A(e))throw new TypeError;return function(t,e){for(var o=t.length-1;o>=0;--o){var n=(0,t[o])(e);if(!b(n)&&!E(n)){if(!A(n))throw new TypeError;e=n}}return e}(t,e)}if(!S(t))throw new TypeError;if(!k(e))throw new TypeError;if(!k(n)&&!b(n)&&!E(n))throw new TypeError;return E(n)&&(n=void 0),function(t,e,o,n){for(var r=t.length-1;r>=0;--r){var i=(0,t[r])(e,o,n);if(!b(i)&&!E(i)){if(!k(i))throw new TypeError;n=i}}return n}(t,e,o=T(o),n)})),t("metadata",(function(t,e){return function(o,n){if(!k(o))throw new TypeError;if(!b(n)&&!function(t){switch(v(t)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;_(t,e,o,n)}})),t("defineMetadata",(function(t,e,o,n){if(!k(o))throw new TypeError;return b(n)||(n=T(n)),_(t,e,o,n)})),t("hasMetadata",(function(t,e,o){if(!k(e))throw new TypeError;return b(o)||(o=T(o)),function t(e,o,n){if(f(e,o,n))return!0;var r=I(o);return!E(r)&&t(e,r,n)}(t,e,o)})),t("hasOwnMetadata",(function(t,e,o){if(!k(e))throw new TypeError;return b(o)||(o=T(o)),f(t,e,o)})),t("getMetadata",(function(t,e,o){if(!k(e))throw new TypeError;return b(o)||(o=T(o)),function t(e,o,n){if(f(e,o,n))return m(e,o,n);var r=I(o);return E(r)?void 0:t(e,r,n)}(t,e,o)})),t("getOwnMetadata",(function(t,e,o){if(!k(e))throw new TypeError;return b(o)||(o=T(o)),m(t,e,o)})),t("getMetadataKeys",(function(t,e){if(!k(t))throw new TypeError;return b(e)||(e=T(e)),function t(e,o){var n=y(e,o),r=I(e);if(null===r)return n;var i=t(r,o);if(i.length<=0)return n;if(n.length<=0)return i;for(var s=new h,l=[],a=0,u=n;a<u.length;a++)s.has(g=u[a])||(s.add(g),l.push(g));for(var c=0,p=i;c<p.length;c++){var g;s.has(g=p[c])||(s.add(g),l.push(g))}return l}(t,e)})),t("getOwnMetadataKeys",(function(t,e){if(!k(t))throw new TypeError;return b(e)||(e=T(e)),y(t,e)})),t("deleteMetadata",(function(t,e,o){if(!k(e))throw new TypeError;b(o)||(o=T(o));var n=d(e,o,!1);if(b(n))return!1;if(!n.delete(t))return!1;if(n.size>0)return!0;var r=g.get(e);return r.delete(o),r.size>0||(g.delete(e),!0)}))}(n)}()}(o||(o={}))},mrSG:function(t,e,o){"use strict";o.r(e),o.d(e,"__extends",(function(){return r})),o.d(e,"__assign",(function(){return i})),o.d(e,"__rest",(function(){return s})),o.d(e,"__decorate",(function(){return l})),o.d(e,"__param",(function(){return a})),o.d(e,"__metadata",(function(){return u})),o.d(e,"__awaiter",(function(){return c})),o.d(e,"__generator",(function(){return p})),o.d(e,"__exportStar",(function(){return h})),o.d(e,"__values",(function(){return g})),o.d(e,"__read",(function(){return d})),o.d(e,"__spread",(function(){return f})),o.d(e,"__spreadArrays",(function(){return m})),o.d(e,"__await",(function(){return _})),o.d(e,"__asyncGenerator",(function(){return y})),o.d(e,"__asyncDelegator",(function(){return v})),o.d(e,"__asyncValues",(function(){return b})),o.d(e,"__makeTemplateObject",(function(){return E})),o.d(e,"__importStar",(function(){return k})),o.d(e,"__importDefault",(function(){return T}));var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};function r(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var i=function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]])}return o}function l(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}function a(t,e){return function(o,n){e(o,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,o,n){return new(o||(o=Promise))((function(r,i){function s(t){try{a(n.next(t))}catch(e){i(e)}}function l(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){t.done?r(t.value):new o((function(e){e(t.value)})).then(s,l)}a((n=n.apply(t,e||[])).next())}))}function p(t,e){var o,n,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(l){i=[6,l],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}function h(t,e){for(var o in t)e.hasOwnProperty(o)||(e[o]=t[o])}function g(t){var e="function"==typeof Symbol&&t[Symbol.iterator],o=0;return e?e.call(t):{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}}}function d(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){r={error:l}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function m(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<o;e++)for(var i=arguments[e],s=0,l=i.length;s<l;s++,r++)n[r]=i[s];return n}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function y(t,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=o.apply(t,e||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){r[t]&&(n[t]=function(e){return new Promise((function(o,n){i.push([t,e,o,n])>1||l(t,e)}))})}function l(t,e){try{(o=r[t](e)).value instanceof _?Promise.resolve(o.value.v).then(a,u):c(i[0][2],o)}catch(n){c(i[0][3],n)}var o}function a(t){l("next",t)}function u(t){l("throw",t)}function c(t,e){t(e),i.shift(),i.length&&l(i[0][0],i[0][1])}}function v(t){var e,o;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,r){e[n]=t[n]?function(e){return(o=!o)?{value:_(t[n](e)),done:"return"===n}:r?r(e):e}:r}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,o=t[Symbol.asyncIterator];return o?o.call(t):(t=g(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=t[o]&&function(e){return new Promise((function(n,r){!function(t,e,o,n){Promise.resolve(n).then((function(e){t({value:e,done:o})}),e)}(n,r,(e=t[o](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e}function T(t){return t&&t.__esModule?t:{default:t}}},octF:function(t,e){(function(){SVG.extend(SVG.Element,{draggy:function(t){var e,o,n,r=this;return"function"==typeof this.fixed&&this.fixed(),t=t||{},e=function(t){var e=this.parent(SVG.Nested)||this.parent(SVG.Doc);t=t||window.event,r.beforedrag&&r.beforedrag(t);var i=r.bbox();r instanceof SVG.G?(i.x=r.x(),i.y=r.y()):r instanceof SVG.Nested&&(i={x:r.x(),y:r.y(),width:r.width(),height:r.height()}),r.startEvent=t,r.startPosition={x:i.x,y:i.y,width:i.width,height:i.height,zoom:e.viewbox().zoom,rotation:r.transform("rotation")*Math.PI/180},SVG.on(window,"mousemove",o),SVG.on(window,"touchmove",o),SVG.on(window,"mouseup",n),SVG.on(window,"touchend",n),r.node.dispatchEvent(new CustomEvent("dragstart",{detail:{event:t,delta:{x:0,y:0}}})),t.preventDefault?t.preventDefault():t.returnValue=!1},o=function(e){if(e=e||window.event,r.startEvent){var o,n,i=r.startPosition.rotation,s=r.startPosition.width,l=r.startPosition.height,a=r.startPosition.zoom,u={x:e.pageX-r.startEvent.pageX,y:e.pageY-r.startEvent.pageY};if(/^touchstart|touchmove$/.test(e.type)?(u.x=e.touches[0].pageX-r.startEvent.touches[0].pageX,u.y=e.touches[0].pageY-r.startEvent.touches[0].pageY):/^click|mousedown|mousemove$/.test(e.type)&&(u.x=e.pageX-r.startEvent.pageX,u.y=e.pageY-r.startEvent.pageY),u.scale=function t(e){if(!e||"function"!=typeof e.transform)return{x:1,y:1};var o=e.parent(),n=e.transform(),r=t(o);return{x:n.scaleX*r.x,y:n.scaleY*r.y}}(r),o=r.startPosition.x+(u.x*Math.cos(i)+u.y*Math.sin(i))/Math.pow(u.scale.x*a,1),n=r.startPosition.y+(u.y*Math.cos(i)+u.x*Math.sin(-i))/Math.pow(u.scale.y*a,1),"function"==typeof t){var c=t(o,n);"object"==typeof c?("boolean"!=typeof c.x||c.x?r.x(o="number"==typeof c.x?c.x:o):o=r.x(),"boolean"!=typeof c.y||c.y?r.y(n="number"==typeof c.y?c.y:n):n=r.y()):"boolean"==typeof c&&c?r.move(o,n):(o=r.x(),n=r.y())}else"object"==typeof t&&(null!==t.minX&&o<t.minX?o=t.minX:null!==t.maxX&&o>t.maxX-s&&(o=t.maxX-s),null!==t.minY&&n<t.minY?n=t.minY:null!==t.maxY&&n>t.maxY-l&&(n=t.maxY-l),r.move(o,n));u.movedX=o-r.startPosition.x,u.movedY=n-r.startPosition.y,r.node.dispatchEvent(new CustomEvent("dragmove",{detail:{delta:u,event:e}}))}},n=function(t){t=t||window.event,r.startEvent=null,r.startPosition=null,SVG.off(window,"mousemove",o),SVG.off(window,"touchmove",o),SVG.off(window,"mouseup",n),SVG.off(window,"touchend",n),r.node.dispatchEvent(new CustomEvent("dragend",{detail:{delta:{x:0,y:0},event:t}}))},r.on("mousedown",e),r.on("touchstart",e),r.fixed=function(){return r.off("mousedown",e),r.off("touchstart",e),SVG.off(window,"mousemove",o),SVG.off(window,"touchmove",o),SVG.off(window,"mouseup",n),SVG.off(window,"touchend",n),e=o=n=null,r},this}})}).call(this)},qIRt:function(t,e,o){var n,r,i;r=[o("t/1s")],void 0===(i="function"==typeof(n=function(t){return(t={Msg:{}}).Msg.ADD_COMMENT="Add Comment",t.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",t.Msg.CHANGE_VALUE_TITLE="Change value:",t.Msg.CLEAN_UP="Clean up Blocks",t.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",t.Msg.COLLAPSE_ALL="Collapse Blocks",t.Msg.COLLAPSE_BLOCK="Collapse Block",t.Msg.COLOUR_BLEND_COLOUR1="colour 1",t.Msg.COLOUR_BLEND_COLOUR2="colour 2",t.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",t.Msg.COLOUR_BLEND_RATIO="ratio",t.Msg.COLOUR_BLEND_TITLE="blend",t.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",t.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",t.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",t.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",t.Msg.COLOUR_RANDOM_TITLE="random colour",t.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",t.Msg.COLOUR_RGB_BLUE="blue",t.Msg.COLOUR_RGB_GREEN="green",t.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",t.Msg.COLOUR_RGB_RED="red",t.Msg.COLOUR_RGB_TITLE="colour with",t.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",t.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",t.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",t.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",t.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",t.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",t.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",t.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",t.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",t.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",t.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",t.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",t.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",t.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",t.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",t.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",t.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",t.Msg.CONTROLS_IF_MSG_ELSE="else",t.Msg.CONTROLS_IF_MSG_ELSEIF="else if",t.Msg.CONTROLS_IF_MSG_IF="if",t.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",t.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",t.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",t.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",t.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",t.Msg.CONTROLS_REPEAT_INPUT_DO="do",t.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",t.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",t.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",t.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",t.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",t.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",t.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",t.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",t.Msg.DELETE_BLOCK="Delete Block",t.Msg.DELETE_VARIABLE="Delete the '%1' variable",t.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",t.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",t.Msg.DISABLE_BLOCK="Disable Block",t.Msg.DUPLICATE_BLOCK="Duplicate",t.Msg.DUPLICATE_COMMENT="Duplicate Comment",t.Msg.ENABLE_BLOCK="Enable Block",t.Msg.EXPAND_ALL="Expand Blocks",t.Msg.EXPAND_BLOCK="Expand Block",t.Msg.EXTERNAL_INPUTS="External Inputs",t.Msg.HELP="Help",t.Msg.INLINE_INPUTS="Inline Inputs",t.Msg.IOS_CANCEL="Cancel",t.Msg.IOS_ERROR="Error",t.Msg.IOS_OK="OK",t.Msg.IOS_PROCEDURES_ADD_INPUT="+ Add Input",t.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements",t.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.",t.Msg.IOS_PROCEDURES_INPUTS="INPUTS",t.Msg.IOS_VARIABLES_ADD_BUTTON="Add",t.Msg.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable",t.Msg.IOS_VARIABLES_DELETE_BUTTON="Delete",t.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.",t.Msg.IOS_VARIABLES_RENAME_BUTTON="Rename",t.Msg.IOS_VARIABLES_VARIABLE_NAME="Variable name",t.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",t.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",t.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",t.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",t.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",t.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",t.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",t.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",t.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",t.Msg.LISTS_GET_INDEX_FIRST="first",t.Msg.LISTS_GET_INDEX_FROM_END="# from end",t.Msg.LISTS_GET_INDEX_FROM_START="#",t.Msg.LISTS_GET_INDEX_GET="get",t.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",t.Msg.LISTS_GET_INDEX_LAST="last",t.Msg.LISTS_GET_INDEX_RANDOM="random",t.Msg.LISTS_GET_INDEX_REMOVE="remove",t.Msg.LISTS_GET_INDEX_TAIL="",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",t.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",t.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",t.Msg.LISTS_GET_SUBLIST_END_LAST="to last",t.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",t.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",t.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",t.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",t.Msg.LISTS_GET_SUBLIST_TAIL="",t.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",t.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",t.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",t.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",t.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",t.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",t.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",t.Msg.LISTS_INLIST="in list",t.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",t.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",t.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",t.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",t.Msg.LISTS_LENGTH_TITLE="length of %1",t.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",t.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",t.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",t.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",t.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",t.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",t.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",t.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",t.Msg.LISTS_SET_INDEX_INPUT_TO="as",t.Msg.LISTS_SET_INDEX_INSERT="insert at",t.Msg.LISTS_SET_INDEX_SET="set",t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",t.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",t.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",t.Msg.LISTS_SORT_ORDER_DESCENDING="descending",t.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",t.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",t.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",t.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",t.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",t.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",t.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",t.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",t.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",t.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",t.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",t.Msg.LOGIC_BOOLEAN_FALSE="false",t.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",t.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",t.Msg.LOGIC_BOOLEAN_TRUE="true",t.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",t.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",t.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",t.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",t.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",t.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",t.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",t.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",t.Msg.LOGIC_NEGATE_TITLE="not %1",t.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",t.Msg.LOGIC_NULL="null",t.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",t.Msg.LOGIC_NULL_TOOLTIP="Returns null.",t.Msg.LOGIC_OPERATION_AND="and",t.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",t.Msg.LOGIC_OPERATION_OR="or",t.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",t.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",t.Msg.LOGIC_TERNARY_CONDITION="test",t.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",t.Msg.LOGIC_TERNARY_IF_FALSE="if false",t.Msg.LOGIC_TERNARY_IF_TRUE="if true",t.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",t.Msg.MATH_ADDITION_SYMBOL="+",t.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",t.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",t.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",t.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",t.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",t.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",t.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",t.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",t.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",t.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",t.Msg.MATH_CHANGE_TITLE="change %1 by %2",t.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",t.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",t.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).",t.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",t.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",t.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",t.Msg.MATH_DIVISION_SYMBOL="",t.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",t.Msg.MATH_IS_EVEN="is even",t.Msg.MATH_IS_NEGATIVE="is negative",t.Msg.MATH_IS_ODD="is odd",t.Msg.MATH_IS_POSITIVE="is positive",t.Msg.MATH_IS_PRIME="is prime",t.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",t.Msg.MATH_IS_WHOLE="is whole",t.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",t.Msg.MATH_MODULO_TITLE="remainder of %1  %2",t.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",t.Msg.MATH_MULTIPLICATION_SYMBOL="",t.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",t.Msg.MATH_NUMBER_TOOLTIP="A number.",t.Msg.MATH_ONLIST_HELPURL="",t.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",t.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",t.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",t.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",t.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",t.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",t.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",t.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",t.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",t.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",t.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",t.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",t.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",t.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",t.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",t.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",t.Msg.MATH_POWER_SYMBOL="^",t.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",t.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",t.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",t.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",t.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",t.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",t.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",t.Msg.MATH_ROUND_OPERATOR_ROUND="round",t.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",t.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",t.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",t.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",t.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",t.Msg.MATH_SINGLE_OP_ROOT="square root",t.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",t.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",t.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",t.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",t.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",t.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",t.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",t.Msg.MATH_SUBTRACTION_SYMBOL="-",t.Msg.MATH_TRIG_ACOS="acos",t.Msg.MATH_TRIG_ASIN="asin",t.Msg.MATH_TRIG_ATAN="atan",t.Msg.MATH_TRIG_COS="cos",t.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",t.Msg.MATH_TRIG_SIN="sin",t.Msg.MATH_TRIG_TAN="tan",t.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",t.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",t.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",t.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",t.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",t.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",t.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",t.Msg.NEW_NUMBER_VARIABLE="Create number variable...",t.Msg.NEW_STRING_VARIABLE="Create string variable...",t.Msg.NEW_VARIABLE="Create variable...",t.Msg.NEW_VARIABLE_TITLE="New variable name:",t.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",t.Msg.ORDINAL_NUMBER_SUFFIX="",t.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",t.Msg.PROCEDURES_BEFORE_PARAMS="with:",t.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",t.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",t.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",t.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",t.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",t.Msg.PROCEDURES_CREATE_DO="Create '%1'",t.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",t.Msg.PROCEDURES_DEFNORETURN_DO="",t.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",t.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",t.Msg.PROCEDURES_DEFNORETURN_TITLE="to",t.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",t.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",t.Msg.PROCEDURES_DEFRETURN_RETURN="return",t.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",t.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",t.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",t.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",t.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",t.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",t.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",t.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",t.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",t.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",t.Msg.REDO="Redo",t.Msg.REMOVE_COMMENT="Remove Comment",t.Msg.RENAME_VARIABLE="Rename variable...",t.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",t.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",t.Msg.TEXT_APPEND_TITLE="to %1 append text %2",t.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",t.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",t.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",t.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",t.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",t.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",t.Msg.TEXT_CHARAT_FIRST="get first letter",t.Msg.TEXT_CHARAT_FROM_END="get letter # from end",t.Msg.TEXT_CHARAT_FROM_START="get letter #",t.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",t.Msg.TEXT_CHARAT_LAST="get last letter",t.Msg.TEXT_CHARAT_RANDOM="get random letter",t.Msg.TEXT_CHARAT_TAIL="",t.Msg.TEXT_CHARAT_TITLE="in text %1 %2",t.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",t.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",t.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",t.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",t.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",t.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",t.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",t.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",t.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",t.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",t.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",t.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",t.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",t.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",t.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",t.Msg.TEXT_GET_SUBSTRING_TAIL="",t.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",t.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",t.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",t.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",t.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",t.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",t.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",t.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",t.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",t.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",t.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",t.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",t.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",t.Msg.TEXT_LENGTH_TITLE="length of %1",t.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",t.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",t.Msg.TEXT_PRINT_TITLE="print %1",t.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",t.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",t.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",t.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",t.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",t.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",t.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",t.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",t.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",t.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",t.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",t.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",t.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",t.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",t.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",t.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",t.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",t.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",t.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",t.Msg.TODAY="Today",t.Msg.UNDO="Undo",t.Msg.VARIABLES_DEFAULT_NAME="item",t.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",t.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",t.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",t.Msg.VARIABLES_SET="set %1 to %2",t.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",t.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",t.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",t.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",t.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",t.Msg.CONTROLS_FOREACH_INPUT_DO=t.Msg.CONTROLS_REPEAT_INPUT_DO,t.Msg.CONTROLS_FOR_INPUT_DO=t.Msg.CONTROLS_REPEAT_INPUT_DO,t.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=t.Msg.CONTROLS_IF_MSG_ELSEIF,t.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=t.Msg.CONTROLS_IF_MSG_ELSE,t.Msg.CONTROLS_IF_IF_TITLE_IF=t.Msg.CONTROLS_IF_MSG_IF,t.Msg.CONTROLS_IF_MSG_THEN=t.Msg.CONTROLS_REPEAT_INPUT_DO,t.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=t.Msg.CONTROLS_REPEAT_INPUT_DO,t.Msg.LISTS_CREATE_WITH_ITEM_TITLE=t.Msg.VARIABLES_DEFAULT_NAME,t.Msg.LISTS_GET_INDEX_HELPURL=t.Msg.LISTS_INDEX_OF_HELPURL,t.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=t.Msg.LISTS_INLIST,t.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=t.Msg.LISTS_INLIST,t.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=t.Msg.LISTS_INLIST,t.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=t.Msg.LISTS_INLIST,t.Msg.MATH_CHANGE_TITLE_ITEM=t.Msg.VARIABLES_DEFAULT_NAME,t.Msg.PROCEDURES_DEFRETURN_COMMENT=t.Msg.PROCEDURES_DEFNORETURN_COMMENT,t.Msg.PROCEDURES_DEFRETURN_DO=t.Msg.PROCEDURES_DEFNORETURN_DO,t.Msg.PROCEDURES_DEFRETURN_PROCEDURE=t.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,t.Msg.PROCEDURES_DEFRETURN_TITLE=t.Msg.PROCEDURES_DEFNORETURN_TITLE,t.Msg.TEXT_APPEND_VARIABLE=t.Msg.VARIABLES_DEFAULT_NAME,t.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=t.Msg.VARIABLES_DEFAULT_NAME,t.Msg.MATH_HUE="230",t.Msg.LOOPS_HUE="120",t.Msg.LISTS_HUE="260",t.Msg.LOGIC_HUE="210",t.Msg.VARIABLES_HUE="330",t.Msg.TEXTS_HUE="160",t.Msg.PROCEDURES_HUE="290",t.Msg.COLOUR_HUE="20",t.Msg.VARIABLES_DYNAMIC_HUE="310",t.Msg})?n.apply(e,r):n)||(t.exports=i)},"t/1s":function(t,e,o){var n,r,i;r=[o("jB0H")],void 0===(i="function"==typeof(n=function(t){"use strict";return t.setLocale=function(e){t.Msg=Object.assign(t.Msg||{},e)},t})?n.apply(e,r):n)||(t.exports=i)},wPEV:function(t,e){!function(){if("undefined"!=typeof self&&self.Prism&&self.document){var t=/\n(?!$)/g,e=function(e){var n=o(e)["white-space"];if("pre-wrap"===n||"pre-line"===n){var r=e.querySelector("code"),i=e.querySelector(".line-numbers-rows"),s=e.querySelector(".line-numbers-sizer"),l=r.textContent.split(t);s||((s=document.createElement("span")).className="line-numbers-sizer",r.appendChild(s)),s.style.display="block",l.forEach((function(t,e){s.textContent=t||"\n";var o=s.getBoundingClientRect().height;i.children[e].style.height=o+"px"})),s.textContent="",s.style.display="none"}},o=function(t){return t?window.getComputedStyle?getComputedStyle(t):t.currentStyle||null:null};window.addEventListener("resize",(function(){Array.prototype.forEach.call(document.querySelectorAll("pre.line-numbers"),e)})),Prism.hooks.add("complete",(function(o){if(o.code){var n=o.element,r=n.parentNode;if(r&&/pre/i.test(r.nodeName)&&!n.querySelector(".line-numbers-rows")){for(var i=!1,s=/(?:^|\s)line-numbers(?:\s|$)/,l=n;l;l=l.parentNode)if(s.test(l.className)){i=!0;break}if(i){n.className=n.className.replace(s," "),s.test(r.className)||(r.className+=" line-numbers");var a,u=o.code.match(t),c=new Array((u?u.length+1:1)+1).join("<span></span>");(a=document.createElement("span")).setAttribute("aria-hidden","true"),a.className="line-numbers-rows",a.innerHTML=c,r.hasAttribute("data-start")&&(r.style.counterReset="linenumber "+(parseInt(r.getAttribute("data-start"),10)-1)),o.element.appendChild(a),e(r),Prism.hooks.run("line-numbers",o)}}}})),Prism.hooks.add("line-numbers",(function(t){t.plugins=t.plugins||{},t.plugins.lineNumbers=!0})),Prism.plugins.lineNumbers={getLine:function(t,e){if("PRE"===t.tagName&&t.classList.contains("line-numbers")){var o=t.querySelector(".line-numbers-rows"),n=parseInt(t.getAttribute("data-start"),10)||1,r=n+(o.children.length-1);return e<n&&(e=n),e>r&&(e=r),o.children[e-n]}}}}}()},wZee:function(t,e,o){var n=function(t){var e=/\blang(?:uage)?-([\w-]+)\b/i,o=0,n={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function(t){return t instanceof r?new r(t.type,n.util.encode(t.content),t.alias):Array.isArray(t)?t.map(n.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++o}),t.__id},clone:function t(e,o){var r,i,s=n.util.type(e);switch(o=o||{},s){case"Object":if(i=n.util.objId(e),o[i])return o[i];for(var l in o[i]=r={},e)e.hasOwnProperty(l)&&(r[l]=t(e[l],o));return r;case"Array":return i=n.util.objId(e),o[i]?o[i]:(o[i]=r=[],e.forEach((function(e,n){r[n]=t(e,o)})),r);default:return e}}},languages:{extend:function(t,e){var o=n.util.clone(n.languages[t]);for(var r in e)o[r]=e[r];return o},insertBefore:function(t,e,o,r){var i=(r=r||n.languages)[t],s={};for(var l in i)if(i.hasOwnProperty(l)){if(l==e)for(var a in o)o.hasOwnProperty(a)&&(s[a]=o[a]);o.hasOwnProperty(l)||(s[l]=i[l])}var u=r[t];return r[t]=s,n.languages.DFS(n.languages,(function(e,o){o===u&&e!=t&&(this[e]=s)})),s},DFS:function t(e,o,r,i){i=i||{};var s=n.util.objId;for(var l in e)if(e.hasOwnProperty(l)){o.call(e,l,e[l],r||l);var a=e[l],u=n.util.type(a);"Object"!==u||i[s(a)]?"Array"!==u||i[s(a)]||(i[s(a)]=!0,t(a,o,l,i)):(i[s(a)]=!0,t(a,o,null,i))}}},plugins:{},highlightAll:function(t,e){n.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,o){var r={callback:o,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",r);for(var i,s=t.querySelectorAll(r.selector),l=0;i=s[l++];)n.highlightElement(i,!0===e,r.callback)},highlightElement:function(o,r,i){for(var s,l="none",a=o;a&&!e.test(a.className);)a=a.parentNode;a&&(l=(a.className.match(e)||[,"none"])[1].toLowerCase(),s=n.languages[l]),o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+l,o.parentNode&&/pre/i.test((a=o.parentNode).nodeName)&&(a.className=a.className.replace(e,"").replace(/\s+/g," ")+" language-"+l);var u={element:o,language:l,grammar:s,code:o.textContent},c=function(t){u.highlightedCode=t,n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,n.hooks.run("after-highlight",u),n.hooks.run("complete",u),i&&i.call(u.element)};if(n.hooks.run("before-sanity-check",u),u.code)if(n.hooks.run("before-highlight",u),u.grammar)if(r&&t.Worker){var p=new Worker(n.filename);p.onmessage=function(t){c(t.data)},p.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else c(n.highlight(u.code,u.grammar,u.language));else c(n.util.encode(u.code));else n.hooks.run("complete",u)},highlight:function(t,e,o){var i={code:t,grammar:e,language:o};return n.hooks.run("before-tokenize",i),i.tokens=n.tokenize(i.code,i.grammar),n.hooks.run("after-tokenize",i),r.stringify(n.util.encode(i.tokens),i.language)},matchGrammar:function(t,e,o,i,s,l,a){for(var u in o)if(o.hasOwnProperty(u)&&o[u]){if(u==a)return;var c=o[u];c="Array"===n.util.type(c)?c:[c];for(var p=0;p<c.length;++p){var h=c[p],g=h.inside,d=!!h.lookbehind,f=!!h.greedy,m=0,_=h.alias;if(f&&!h.pattern.global){var y=h.pattern.toString().match(/[imuy]*$/)[0];h.pattern=RegExp(h.pattern.source,y+"g")}h=h.pattern||h;for(var v=i,b=s;v<e.length;b+=e[v].length,++v){var E=e[v];if(e.length>t.length)return;if(!(E instanceof r)){if(f&&v!=e.length-1){if(h.lastIndex=b,!(w=h.exec(t)))break;for(var k=w.index+(d?w[1].length:0),T=w.index+w[0].length,S=v,C=b,A=e.length;S<A&&(C<T||!e[S].type&&!e[S-1].greedy);++S)k>=(C+=e[S].length)&&(++v,b=C);if(e[v]instanceof r)continue;O=S-v,E=t.slice(b,C),w.index-=b}else{h.lastIndex=0;var w=h.exec(E),O=1}if(w){d&&(m=w[1]?w[1].length:0),T=(k=w.index+m)+(w=w[0].slice(m)).length;var B=E.slice(0,k),I=E.slice(T),R=[v,O];B&&(++v,b+=B.length,R.push(B));var N=new r(u,g?n.tokenize(w,g):w,_,w,f);if(R.push(N),I&&R.push(I),Array.prototype.splice.apply(e,R),1!=O&&n.matchGrammar(t,e,o,v,b,!0,u),l)break}else if(l)break}}}}},tokenize:function(t,e){var o=[t],r=e.rest;if(r){for(var i in r)e[i]=r[i];delete e.rest}return n.matchGrammar(t,o,e,0,0,!1),o},hooks:{all:{},add:function(t,e){var o=n.hooks.all;o[t]=o[t]||[],o[t].push(e)},run:function(t,e){var o=n.hooks.all[t];if(o&&o.length)for(var r,i=0;r=o[i++];)r(e)}},Token:r};function r(t,e,o,n,r){this.type=t,this.content=e,this.alias=o,this.length=0|(n||"").length,this.greedy=!!r}if(t.Prism=n,r.stringify=function(t,e){if("string"==typeof t)return t;if(Array.isArray(t))return t.map((function(t){return r.stringify(t,e)})).join("");var o={type:t.type,content:r.stringify(t.content,e),tag:"span",classes:["token",t.type],attributes:{},language:e};if(t.alias){var i=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(o.classes,i)}n.hooks.run("wrap",o);var s=Object.keys(o.attributes).map((function(t){return t+'="'+(o.attributes[t]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+(s?" "+s:"")+">"+o.content+"</"+o.tag+">"},!t.document)return t.addEventListener?(n.disableWorkerMessageHandler||t.addEventListener("message",(function(e){var o=JSON.parse(e.data),r=o.language,i=o.immediateClose;t.postMessage(n.highlight(o.code,n.languages[r],r)),i&&t.close()}),!1),n):n;var i=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return i&&(n.filename=i.src,n.manual||i.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(n.highlightAll):window.setTimeout(n.highlightAll,16):document.addEventListener("DOMContentLoaded",n.highlightAll))),n}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});t.exports&&(t.exports=n),"undefined"!=typeof global&&(global.Prism=n),n.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))})),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(t,e){var o={};o["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[e]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};r["language-"+e]={pattern:/[\s\S]+/,inside:n.languages[e]};var i={};i[t]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:r},n.languages.insertBefore("markup","cdata",i)}}),n.languages.xml=n.languages.extend("markup",{}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/@[\w-]+/}},url:{pattern:RegExp("url\\((?:"+e.source+"|[^\n\r()]*)\\)","i"),inside:{function:/^url/i,punctuation:/^\(|\)$/}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+e.source+")*?(?=\\s*\\{)"),string:{pattern:e,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var o=t.languages.markup;o&&(o.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:o.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:t.languages.css}},alias:"language-css"}},o.tag))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}}}),n.languages.markup&&n.languages.markup.tag.addInlined("script","javascript"),n.languages.js=n.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(t){t=t||document;var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(t.querySelectorAll("pre[data-src]")).forEach((function(t){if(!t.hasAttribute("data-src-loaded")){for(var o,r=t.getAttribute("data-src"),i=t,s=/\blang(?:uage)?-([\w-]+)\b/i;i&&!s.test(i.className);)i=i.parentNode;if(i&&(o=(t.className.match(s)||[,""])[1]),!o){var l=(r.match(/\.(\w+)$/)||[,""])[1];o=e[l]||l}var a=document.createElement("code");a.className="language-"+o,t.textContent="",a.textContent="Loading",t.appendChild(a);var u=new XMLHttpRequest;u.open("GET",r,!0),u.onreadystatechange=function(){4==u.readyState&&(u.status<400&&u.responseText?(a.textContent=u.responseText,n.highlightElement(a),t.setAttribute("data-src-loaded","")):a.textContent=u.status>=400?" Error "+u.status+" while fetching file: "+u.statusText:" Error: File does not exist or is empty")},u.send(null)}})),n.plugins.toolbar&&n.plugins.toolbar.registerButton("download-file",(function(t){var e=t.element.parentNode;if(e&&/pre/i.test(e.nodeName)&&e.hasAttribute("data-src")&&e.hasAttribute("data-download-link")){var o=e.getAttribute("data-src"),n=document.createElement("a");return n.textContent=e.getAttribute("data-download-link-label")||"Download",n.setAttribute("download",""),n.href=o,n}}))},document.addEventListener("DOMContentLoaded",(function(){self.Prism.fileHighlight()})))},zUnb:function(t,e,o){"use strict";o.r(e);var n=o("mrSG"),r=Array.isArray||function(t){return t&&"number"==typeof t.length};function i(t){return null!==t&&"object"==typeof t}function s(t){return"function"==typeof t}function l(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}l.prototype=Object.create(Error.prototype);var a=l,u=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var o=this._parentOrParents,n=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,o instanceof t)o.remove(this);else if(null!==o)for(var u=0;u<o.length;++u)o[u].remove(this);if(s(n))try{n.call(this)}catch(g){e=g instanceof a?c(g.errors):[g]}if(r(l)){u=-1;for(var p=l.length;++u<p;){var h=l[u];if(i(h))try{h.unsubscribe()}catch(g){e=e||[],g instanceof a?e=e.concat(c(g.errors)):e.push(g)}}}if(e)throw new a(e)}},t.prototype.add=function(e){var o=e;if(!e)return t.EMPTY;switch(typeof e){case"function":o=new t(e);case"object":if(o===this||o.closed||"function"!=typeof o.unsubscribe)return o;if(this.closed)return o.unsubscribe(),o;if(!(o instanceof t)){var n=o;(o=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=o._parentOrParents;if(null===r)o._parentOrParents=this;else if(r instanceof t){if(r===this)return o;o._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return o;r.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[o]:i.push(o),o},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var o=e.indexOf(t);-1!==o&&e.splice(o,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function c(t){return t.reduce((function(t,e){return t.concat(e instanceof a?e.errors:e)}),[])}var p=!1,h={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){p=t},get useDeprecatedSynchronousErrorHandling(){return p}};function g(t){setTimeout((function(){throw t}),0)}var d={closed:!0,next:function(t){},error:function(t){if(h.useDeprecatedSynchronousErrorHandling)throw t;g(t)},complete:function(){}},f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),m=function(t){function e(o,n,r){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=d;break;case 1:if(!o){i.destination=d;break}if("object"==typeof o){o instanceof e?(i.syncErrorThrowable=o.syncErrorThrowable,i.destination=o,o.add(i)):(i.syncErrorThrowable=!0,i.destination=new _(i,o));break}default:i.syncErrorThrowable=!0,i.destination=new _(i,o,n,r)}return i}return n.__extends(e,t),e.prototype[f]=function(){return this},e.create=function(t,o,n){var r=new e(t,o,n);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(u),_=function(t){function e(e,o,n,r){var i,l=t.call(this)||this;l._parentSubscriber=e;var a=l;return s(o)?i=o:o&&(i=o.next,n=o.error,r=o.complete,o!==d&&(s((a=Object.create(o)).unsubscribe)&&l.add(a.unsubscribe.bind(a)),a.unsubscribe=l.unsubscribe.bind(l))),l._context=a,l._next=i,l._error=n,l._complete=r,l}return n.__extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;h.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,o=h.useDeprecatedSynchronousErrorHandling;if(this._error)o&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)o?(e.syncErrorValue=t,e.syncErrorThrown=!0):g(t),this.unsubscribe();else{if(this.unsubscribe(),o)throw t;g(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var o=function(){return t._complete.call(t._context)};h.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,o),this.unsubscribe()):(this.__tryOrUnsub(o),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(o){if(this.unsubscribe(),h.useDeprecatedSynchronousErrorHandling)throw o;g(o)}},e.prototype.__tryOrSetError=function(t,e,o){if(!h.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,o)}catch(n){return h.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(g(n),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(m),y="function"==typeof Symbol&&Symbol.observable||"@@observable";function v(){}function b(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return E(t)}function E(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:v}var k=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var o=new t;return o.source=this,o.operator=e,o},t.prototype.subscribe=function(t,e,o){var n=this.operator,r=function(t,e,o){if(t){if(t instanceof m)return t;if(t[f])return t[f]()}return t||e||o?new m(t,e,o):new m(d)}(t,e,o);if(r.add(n?n.call(r,this.source):this.source||h.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),h.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){h.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof m?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var o=this;return new(e=T(e))((function(e,n){var r;r=o.subscribe((function(e){try{t(e)}catch(o){n(o),r&&r.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[y]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:E(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=T(t))((function(t,o){var n;e.subscribe((function(t){return n=t}),(function(t){return o(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function T(t){if(t||(t=h.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}S.prototype=Object.create(Error.prototype);var C=S,A=function(t){function e(e,o){var n=t.call(this)||this;return n.subject=e,n.subscriber=o,n.closed=!1,n}return n.__extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var o=e.indexOf(this.subscriber);-1!==o&&e.splice(o,1)}}},e}(u),w=function(t){function e(e){var o=t.call(this,e)||this;return o.destination=e,o}return n.__extends(e,t),e}(m),O=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return n.__extends(e,t),e.prototype[f]=function(){return new w(this)},e.prototype.lift=function(t){var e=new B(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new C;if(!this.isStopped)for(var e=this.observers,o=e.length,n=e.slice(),r=0;r<o;r++)n[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new C;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,o=e.length,n=e.slice(),r=0;r<o;r++)n[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new C;this.isStopped=!0;for(var t=this.observers,e=t.length,o=t.slice(),n=0;n<e;n++)o[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new C;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new C;return this.hasError?(t.error(this.thrownError),u.EMPTY):this.isStopped?(t.complete(),u.EMPTY):(this.observers.push(t),new A(this,t))},e.prototype.asObservable=function(){var t=new k;return t.source=this,t},e.create=function(t,e){return new B(t,e)},e}(k),B=function(t){function e(e,o){var n=t.call(this)||this;return n.destination=e,n.source=o,n}return n.__extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):u.EMPTY},e}(O);function I(t){return t&&"function"==typeof t.schedule}var R=function(t){function e(e,o,n){var r=t.call(this)||this;return r.parent=e,r.outerValue=o,r.outerIndex=n,r.index=0,r}return n.__extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(m),N=function(t){return function(e){for(var o=0,n=t.length;o<n&&!e.closed;o++)e.next(t[o]);e.complete()}};function x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var D=x(),L=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function M(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var P=function(t){if(t&&"function"==typeof t[y])return n=t,function(t){var e=n[y]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(L(t))return N(t);if(M(t))return o=t,function(t){return o.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,g),t};if(t&&"function"==typeof t[D])return e=t,function(t){for(var o=e[D]();;){var n=o.next();if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof o.return&&t.add((function(){o.return&&o.return()})),t};var e,o,n,r=i(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+r+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function F(t,e,o,n,r){if(void 0===r&&(r=new R(t,o,n)),!r.closed)return e instanceof k?e.subscribe(r):P(e)(r)}var U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.notifyNext=function(t,e,o,n,r){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(m);function V(t,e){return function(o){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return o.lift(new H(t,e))}}var H=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new G(t,this.project,this.thisArg))},t}(),G=function(t){function e(e,o,n){var r=t.call(this,e)||this;return r.project=o,r.count=0,r.thisArg=n||r,r}return n.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(o){return void this.destination.error(o)}this.destination.next(e)},e}(m);function W(t,e){return new k((function(o){var n=new u,r=0;return n.add(e.schedule((function(){r!==t.length?(o.next(t[r++]),o.closed||n.add(this.schedule())):o.complete()}))),n}))}function j(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new k((function(o){var n=new u;return n.add(e.schedule((function(){var r=t[y]();n.add(r.subscribe({next:function(t){n.add(e.schedule((function(){return o.next(t)})))},error:function(t){n.add(e.schedule((function(){return o.error(t)})))},complete:function(){n.add(e.schedule((function(){return o.complete()})))}}))}))),n}))}(t,e);if(M(t))return function(t,e){return new k((function(o){var n=new u;return n.add(e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){o.next(t),n.add(e.schedule((function(){return o.complete()})))})))}),(function(t){n.add(e.schedule((function(){return o.error(t)})))}))}))),n}))}(t,e);if(L(t))return W(t,e);if(function(t){return t&&"function"==typeof t[D]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new k((function(o){var n,r=new u;return r.add((function(){n&&"function"==typeof n.return&&n.return()})),r.add(e.schedule((function(){n=t[D](),r.add(e.schedule((function(){if(!o.closed){var t,e;try{var r=n.next();t=r.value,e=r.done}catch(i){return void o.error(i)}e?o.complete():(o.next(t),this.schedule())}})))}))),r}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof k?t:new k(P(t))}function K(t,e,o){return void 0===o&&(o=Number.POSITIVE_INFINITY),"function"==typeof e?function(n){return n.pipe(K((function(o,n){return j(t(o,n)).pipe(V((function(t,r){return e(o,t,n,r)})))}),o))}:("number"==typeof e&&(o=e),function(e){return e.lift(new z(t,o))})}var z=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new X(t,this.project,this.concurrent))},t}(),X=function(t){function e(e,o,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this,e)||this;return r.project=o,r.concurrent=n,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return n.__extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,o=this.index++;try{e=this.project(t,o)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e,t,o)},e.prototype._innerSub=function(t,e,o){var n=new R(this,void 0,void 0);this.destination.add(n),F(this,t,e,o,n)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,o,n,r){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(U);function Y(t){return t}function J(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),K(Y,t)}function q(t,e){return e?W(t,e):new k(N(t))}function Z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return I(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(o=t.pop())):"number"==typeof r&&(o=t.pop()),null===n&&1===t.length&&t[0]instanceof k?t[0]:J(o)(q(t,n))}function Q(){return function(t){return t.lift(new $(t))}}var $=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var o=this.connectable;o._refCount++;var n=new tt(t,o),r=e.subscribe(n);return n.closed||(n.connection=o.connect()),r},t}(),tt=function(t){function e(e,o){var n=t.call(this,e)||this;return n.connectable=o,n}return n.__extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var o=this.connection,n=t._connection;this.connection=null,!n||o&&n!==o||n.unsubscribe()}}else this.connection=null},e}(m),et=function(t){function e(e,o){var n=t.call(this)||this;return n.source=e,n.subjectFactory=o,n._refCount=0,n._isComplete=!1,n}return n.__extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new u).add(this.source.subscribe(new nt(this.getSubject(),this))),t.closed&&(this._connection=null,t=u.EMPTY)),t},e.prototype.refCount=function(){return Q()(this)},e}(k).prototype,ot={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:et._subscribe},_isComplete:{value:et._isComplete,writable:!0},getSubject:{value:et.getSubject},connect:{value:et.connect},refCount:{value:et.refCount}},nt=function(t){function e(e,o){var n=t.call(this,e)||this;return n.connectable=o,n}return n.__extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(w);function rt(){return new O}function it(){return function(t){return Q()((e=rt,function(t){var o;o="function"==typeof e?e:function(){return e};var n=Object.create(t,ot);return n.source=t,n.subjectFactory=o,n})(t));var e}}var st="__parameters__";function lt(t,e,o){var r=function(t){return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];if(t){var r=t.apply(void 0,Object(n.__spread)(e));for(var i in r)this[i]=r[i]}}}(e);function i(){for(var t,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];if(this instanceof i)return r.apply(this,e),this;var s=new((t=i).bind.apply(t,Object(n.__spread)([void 0],e)));return l.annotation=s,l;function l(t,e,o){for(var n=t.hasOwnProperty(st)?t[st]:Object.defineProperty(t,st,{value:[]})[st];n.length<=o;)n.push(null);return(n[o]=n[o]||[]).push(s),t}}return o&&(i.prototype=Object.create(o.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}var at=lt("Inject",(function(t){return{token:t}})),ut=lt("Optional"),ct=lt("Self"),pt=lt("SkipSelf"),ht=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function gt(t){for(var e in t)if(t[e]===gt)return e;throw Error("Could not find renamed property on target object.")}function dt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){var e=t[mt];return e&&e.token===t?e:null}var mt=gt({ngInjectableDef:gt});function _t(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(_t).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var o=e.indexOf("\n");return-1===o?e:e.substring(0,o)}var yt=gt({__forward_ref__:gt});function vt(t){return t.__forward_ref__=vt,t.toString=function(){return _t(this())},t}function bt(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(yt)&&e.__forward_ref__===vt?e():t}var Et,kt="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,St="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct="undefined"!=typeof global&&global,At=kt||Ct||Tt||St,wt=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=dt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),Ot=new wt("INJECTOR",-1),Bt=new Object,It=/\n/gm,Rt="",Nt="__source",xt=gt({provide:String,useValue:gt}),Dt=void 0;function Lt(t){var e=Dt;return Dt=t,e}function Mt(t,e){if(void 0===e&&(e=ht.Default),void 0===Dt)throw new Error("inject() must be called from an injection context");return null===Dt?function(t,e,o){var n=ft(t);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(o&ht.Optional)return null;throw new Error("Injector: NOT_FOUND ["+_t(t)+"]")}(t,0,e):Dt.get(t,e&ht.Optional?null:void 0,e)}function Pt(t,e){return void 0===e&&(e=ht.Default),(Et||Mt)(t,e)}var Ft=Pt,Ut=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Bt),e===Bt){var o=new Error("NullInjectorError: No provider for "+_t(t)+"!");throw o.name="NullInjectorError",o}return e},t}();function Vt(t,e,o,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Rt?t.substr(2):t;var r=_t(e);if(e instanceof Array)r=e.map(_t).join(" -> ");else if("object"==typeof e){var i=[];for(var s in e)if(e.hasOwnProperty(s)){var l=e[s];i.push(s+":"+("string"==typeof l?JSON.stringify(l):_t(l)))}r="{"+i.join(", ")+"}"}return o+(n?"("+n+")":"")+"["+r+"]: "+t.replace(It,"\n  ")}var Ht=function(){return function(){}}(),Gt=function(){return function(){}}();function Wt(t,e,o){e>=t.length?t.push(o):t.splice(e,0,o)}function jt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Kt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),zt=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At)}(),Xt="ngDebugContext",Yt="ngOriginalError",Jt="ngErrorLogger";function qt(t){return t[Xt]}function Zt(t){return t[Yt]}function Qt(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];t.error.apply(t,Object(n.__spread)(e))}var $t=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),o=this._findContext(t),n=function(t){return t[Jt]||Qt}(t);n(this._console,"ERROR",t),e&&n(this._console,"ORIGINAL ERROR",e),o&&n(this._console,"ERROR CONTEXT",o)},t.prototype._findContext=function(t){return t?qt(t)?qt(t):this._findContext(Zt(t)):null},t.prototype._findOriginalError=function(t){for(var e=Zt(t);e&&Zt(e);)e=Zt(e);return e},t}(),te=!0,ee=!1;function oe(){return ee=!0,te}var ne=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(n){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var o=e.response.body;return o.removeChild(o.firstChild),o},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(o){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,o=e.length-1;0<o;o--){var n=e.item(o).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}for(var r=t.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling},t}(),re=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ie=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function se(t){return(t=String(t)).match(re)||t.match(ie)?t:(oe()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function le(t){var e,o,r={};try{for(var i=Object(n.__values)(t.split(",")),s=i.next();!s.done;s=i.next())r[s.value]=!0}catch(l){e={error:l}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(e)throw e.error}}return r}function ae(){for(var t,e,o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var i={};try{for(var s=Object(n.__values)(o),l=s.next();!l.done;l=s.next()){var a=l.value;for(var u in a)a.hasOwnProperty(u)&&(i[u]=!0)}}catch(c){t={error:c}}finally{try{l&&!l.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return i}var ue,ce=le("area,br,col,hr,img,wbr"),pe=le("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),he=le("rp,rt"),ge=ae(he,pe),de=ae(ce,ae(pe,le("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ae(he,le("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ge),fe=le("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),me=le("srcset"),_e=ae(fe,me,le("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),le("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ye=le("script,style,template"),ve=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,o=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?o=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,o&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e,o=t.nodeName.toLowerCase();if(!de.hasOwnProperty(o))return this.sanitizedSomething=!0,!ye.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);for(var n=t.attributes,r=0;r<n.length;r++){var i=n.item(r),s=i.name,l=s.toLowerCase();if(_e.hasOwnProperty(l)){var a=i.value;fe[l]&&(a=se(a)),me[l]&&(e=a,a=(e=String(e)).split(",").map((function(t){return se(t.trim())})).join(", ")),this.buf.push(" ",s,'="',ke(a),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();de.hasOwnProperty(e)&&!ce.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(ke(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),be=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ee=/([^\#-~ |!])/g;function ke(t){return t.replace(/&/g,"&amp;").replace(be,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Ee,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Te(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Se=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),Ce=function(){return function(){}}(),Ae=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),we=/^url\(([^)]+)\)$/,Oe=/([A-Z])/g;function Be(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var Ie=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Re()},t}(),Re=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},Ne=Function;function xe(t){return"function"==typeof t}var De=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Le=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Me=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Pe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/,Fe=function(){function t(t){this._reflect=t||At.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return new(t.bind.apply(t,Object(n.__spread)([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var o;o=void 0===t?new Array(e.length):new Array(t.length);for(var n=0;n<o.length;n++)o[n]=void 0===t?[]:t[n]&&t[n]!=Object?[t[n]]:[],e&&null!=e[n]&&(o[n]=o[n].concat(e[n]));return o},t.prototype._ownParameters=function(t,e){if(o=t.toString(),De.test(o)||Pe.test(o)||Le.test(o)&&!Me.test(o))return null;var o;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var n=t.ctorParameters;if(n&&n!==e.ctorParameters){var r="function"==typeof n?n():n,i=r.map((function(t){return t&&t.type})),s=r.map((function(t){return t&&Ue(t.decorators)}));return this._zipTypesAndAnnotations(i,s)}var l=t.hasOwnProperty(st)&&t[st],a=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return a||l?this._zipTypesAndAnnotations(a,l):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!xe(t))return[];var e=Ve(t),o=this._ownParameters(t,e);return o||e===Object||(o=this.parameters(e)),o||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var o=t.annotations;return"function"==typeof o&&o.annotations&&(o=o.annotations),o}return t.decorators&&t.decorators!==e.decorators?Ue(t.decorators):t.hasOwnProperty("__annotations__")?t.__annotations__:null},t.prototype.annotations=function(t){if(!xe(t))return[];var e=Ve(t),o=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(o)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var o=t.propMetadata;return"function"==typeof o&&o.propMetadata&&(o=o.propMetadata),o}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var n=t.propDecorators,r={};return Object.keys(n).forEach((function(t){r[t]=Ue(n[t])})),r}return t.hasOwnProperty("__prop__metadata__")?t.__prop__metadata__:null},t.prototype.propMetadata=function(t){if(!xe(t))return{};var e=Ve(t),o={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach((function(t){o[t]=r[t]}))}var i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach((function(t){var e=[];o.hasOwnProperty(t)&&e.push.apply(e,Object(n.__spread)(o[t])),e.push.apply(e,Object(n.__spread)(i[t])),o[t]=e})),o},t.prototype.ownPropMetadata=function(t){return xe(t)&&this._ownPropMetadata(t,Ve(t))||{}},t.prototype.hasLifecycleHook=function(t,e){return t instanceof Ne&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+_t(t)},t.prototype.resourceUri=function(t){return"./"+_t(t)},t.prototype.resolveIdentifier=function(t,e,o,n){return n},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function Ue(t){return t?t.map((function(t){var e=t.type.annotationCls,o=t.args?t.args:[];return new(e.bind.apply(e,Object(n.__spread)([void 0],o)))})):[]}function Ve(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}var He=new wt("The presence of this token marks an injector as being the root injector."),Ge=function(t,e,o){return new Ye(t,e,o)},We=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?Ge(t,e,""):Ge(t.providers,t.parent,t.name||"")},t.THROW_IF_NOT_FOUND=Bt,t.NULL=new Ut,t.ngInjectableDef=dt({token:t,providedIn:"any",factory:function(){return Pt(Ot)}}),t.__NG_ELEMENT_ID__=-1,t}(),je=function(t){return t},Ke=[],ze=je,Xe=function(){return Array.prototype.slice.call(arguments)},Ye=function(){function t(t,e,o){void 0===e&&(e=We.NULL),void 0===o&&(o=null),this.parent=e,this.source=o;var n=this._records=new Map;n.set(We,{token:We,fn:je,deps:Ke,value:this,useNew:!1}),n.set(Ot,{token:Ot,fn:je,deps:Ke,value:this,useNew:!1}),function t(e,o){if(o)if((o=bt(o))instanceof Array)for(var n=0;n<o.length;n++)t(e,o[n]);else{if("function"==typeof o)throw qe("Function/Class not supported",o);if(!o||"object"!=typeof o||!o.provide)throw qe("Unexpected provider",o);var r=bt(o.provide),i=function(t){var e=function(t){var e=Ke,o=t.deps;if(o&&o.length){e=[];for(var n=0;n<o.length;n++){var r=6;if((a=bt(o[n]))instanceof Array)for(var i=0,s=a;i<s.length;i++){var l=s[i];l instanceof ut||l==ut?r|=1:l instanceof pt||l==pt?r&=-3:l instanceof ct||l==ct?r&=-5:a=l instanceof at?l.token:bt(l)}e.push({token:a,options:r})}}else if(t.useExisting){var a=bt(t.useExisting);e=[{token:a,options:6}]}else if(!(o||xt in t))throw qe("'deps' required",t);return e}(t),o=je,n=Ke,r=!1,i=bt(t.provide);if(xt in t)n=t.useValue;else if(t.useFactory)o=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,o=bt(t.useClass);else{if("function"!=typeof i)throw qe("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,o=i}return{deps:e,fn:o,useNew:r,value:n}}(o);if(!0===o.multi){var s=e.get(r);if(s){if(s.fn!==Xe)throw Je(r)}else e.set(r,s={token:o.provide,deps:[],useNew:!1,fn:Xe,value:Ke});s.deps.push({token:r=o,options:6})}var l=e.get(r);if(l&&l.fn==Xe)throw Je(r);e.set(r,i)}}(n,t)}return t.prototype.get=function(t,e,o){void 0===o&&(o=ht.Default);var r=this._records.get(t);try{return function t(e,o,r,i,s,l){try{return function(e,o,r,i,s,l){var a,u;if(!o||l&ht.SkipSelf)l&ht.Self||(u=i.get(e,s,ht.Default));else{if((u=o.value)==ze)throw Error("Circular dependency");if(u===Ke){o.value=ze;var c=o.useNew,p=o.fn,h=o.deps,g=Ke;if(h.length){g=[];for(var d=0;d<h.length;d++){var f=h[d],m=f.options,_=2&m?r.get(f.token):void 0;g.push(t(f.token,_,r,_||4&m?i:We.NULL,1&m?null:We.THROW_IF_NOT_FOUND,ht.Default))}}o.value=u=c?new((a=p).bind.apply(a,Object(n.__spread)([void 0],g))):p.apply(void 0,g)}}return u}(e,o,r,i,s,l)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),o&&o.value==ze&&(o.value=Ke),a}}(t,r,this._records,this.parent,e,o)}catch(i){return function(t,e,o,n){var r=t.ngTempTokenPath;throw e[Nt]&&r.unshift(e[Nt]),t.message=Vt("\n"+t.message,r,"StaticInjectorError",n),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(i,t,0,this.source)}},t.prototype.toString=function(){var t=[];return this._records.forEach((function(e,o){return t.push(_t(o))})),"StaticInjector["+t.join(", ")+"]"},t}();function Je(t){return qe("Cannot mix multi providers and regular providers",t)}function qe(t,e){return new Error(Vt(t,e,"StaticInjectorError"))}function Ze(t){return t.length>1?" ("+function(t){for(var e=[],o=0;o<t.length;++o){if(e.indexOf(t[o])>-1)return e.push(t[o]),e;e.push(t[o])}return e}(t.slice().reverse()).map((function(t){return _t(t.token)})).join(" -> ")+")":""}function Qe(t,e,o,n){var r=[e],i=o(r),s=n?function(t,e){var o=t+" caused by: "+(e instanceof Error?e.message:e),n=Error(o);return n[Yt]=e,n}(i,n):Error(i);return s.addKey=$e,s.keys=r,s.injectors=[t],s.constructResolvingMessage=o,s[Yt]=n,s}function $e(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function to(t,e){for(var o=[],n=0,r=e.length;n<r;n++){var i=e[n];o.push(i&&0!=i.length?i.map(_t).join(" "):"?")}return Error("Cannot resolve all parameters for '"+_t(t)+"'("+o.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+_t(t)+"' is decorated with Injectable.")}var eo=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=_t(this.token)}return t.get=function(t){return oo.get(bt(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return oo.numberOfKeys},enumerable:!0,configurable:!0}),t}(),oo=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof eo)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new eo(t,eo.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),no=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,o,n){return this.reflectionCapabilities.resolveIdentifier(t,e,o,n)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new Fe),ro=function(){function t(t,e,o){this.key=t,this.optional=e,this.visibility=o}return t.fromKey=function(e){return new t(e,!1,null)},t}(),io=[],so=function(){return function(t,e,o){this.key=t,this.resolvedFactories=e,this.multiProvider=o,this.resolvedFactory=this.resolvedFactories[0]}}(),lo=function(){return function(t,e){this.factory=t,this.dependencies=e}}();function ao(t){var e,o;if(t.useClass){var n=bt(t.useClass);e=no.factory(n),o=co(n)}else t.useExisting?(e=function(t){return t},o=[ro.fromKey(eo.get(t.useExisting))]):t.useFactory?(e=t.useFactory,o=function(t,e){if(e){var o=e.map((function(t){return[t]}));return e.map((function(e){return po(t,e,o)}))}return co(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},o=io);return new lo(e,o)}function uo(t){return new so(eo.get(t.provide),[ao(t)],t.multi||!1)}function co(t){var e=no.parameters(t);if(!e)return[];if(e.some((function(t){return null==t})))throw to(t,e);return e.map((function(o){return po(t,o,e)}))}function po(t,e,o){var n=null,r=!1;if(!Array.isArray(e))return ho(e instanceof at?e.token:e,r,null);for(var i=null,s=0;s<e.length;++s){var l=e[s];l instanceof Ne?n=l:l instanceof at?n=l.token:l instanceof ut?r=!0:l instanceof ct||l instanceof pt?i=l:l instanceof wt&&(n=l)}if(null!=(n=bt(n)))return ho(n,r,i);throw to(t,o)}function ho(t,e,o){return new ro(eo.get(t),e,o)}var go=new Object,fo=function(){function t(){}return t.resolve=function(t){return function(t){var e=function(t,e){for(var o=0;o<t.length;o++){var n=t[o],r=e.get(n.key.id);if(r){if(n.multiProvider!==r.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+r+" "+n);if(n.multiProvider)for(var i=0;i<n.resolvedFactories.length;i++)r.resolvedFactories.push(n.resolvedFactories[i]);else e.set(n.key.id,n)}else{var s;s=n.multiProvider?new so(n.key,n.resolvedFactories.slice(),n.multiProvider):n,e.set(n.key.id,s)}}return e}(function t(e,o){return e.forEach((function(e){if(e instanceof Ne)o.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)o.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,o)}})),o}(t,[]).map(uo),new Map);return Array.from(e.values())}(t)},t.resolveAndCreate=function(e,o){var n=t.resolve(e);return t.fromResolvedProviders(n,o)},t.fromResolvedProviders=function(t,e){return new mo(t,e)},t}(),mo=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var o=t.length;this.keyIds=new Array(o),this.objs=new Array(o);for(var n=0;n<o;n++)this.keyIds[n]=t[n].key.id,this.objs[n]=go}return t.prototype.get=function(t,e){return void 0===e&&(e=Bt),this._getByKey(eo.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=fo.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var o=new t(e);return o.parent=this,o},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(fo.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Qe(this,t.key,(function(t){return"Cannot instantiate cyclic dependency!"+Ze(t)}));return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),o=0;o<t.resolvedFactories.length;++o)e[o]=this._instantiate(t,t.resolvedFactories[o]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var o,r,i,s=this,l=e.factory;try{o=e.dependencies.map((function(t){return s._getByReflectiveDependency(t)}))}catch(a){throw a.addKey&&a.addKey(this,t.key),a}try{r=l.apply(void 0,Object(n.__spread)(o))}catch(a){throw Qe(this,t.key,(function(t){var e=_t(t[0].token);return i.message+": Error during instantiation of "+e+"!"+Ze(t)+"."}),i=a)}return r},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:Bt)},t.prototype._getByKey=function(e,o,n){return e===t.INJECTOR_KEY?this:o instanceof ct?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,o)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===go&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return go},t.prototype._throwOrNull=function(t,e){if(e!==Bt)return e;throw function(t,e){return Qe(t,e,(function(t){return"No provider for "+_t(t[0].token)+"!"+Ze(t)}))}(this,t)},t.prototype._getByKeySelf=function(t,e){var o=this._getObjByKeyId(t.id);return o!==go?o:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,o,n){var r;for(r=n instanceof pt?this.parent:this;r instanceof t;){var i=r,s=i._getObjByKeyId(e.id);if(s!==go)return s;r=i.parent}return null!==r?r.get(e.token,o):this._throwOrNull(e,o)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var o=new Array(t._providers.length),n=0;n<t._providers.length;++n)o[n]=' "'+t.getProviderAtIndex(n).key.displayName+'" ';return o}(this).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=eo.get(We),t}(),_o=new wt("AnalyzeForEntryComponents"),yo=null;function vo(){if(!yo){var t=At.Symbol;if(t&&t.iterator)yo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),o=0;o<e.length;++o){var n=e[o];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(yo=n)}}return yo}function bo(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Eo(t,e){var o=To(t),n=To(e);return o&&n?function(t,e,o){for(var n=t[vo()](),r=e[vo()]();;){var i=n.next(),s=r.next();if(i.done&&s.done)return!0;if(i.done||s.done)return!1;if(!o(i.value,s.value))return!1}}(t,e,Eo):!(o||!t||"object"!=typeof t&&"function"!=typeof t||n||!e||"object"!=typeof e&&"function"!=typeof e)||bo(t,e)}var ko=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}();function To(t){return!!So(t)&&(Array.isArray(t)||!(t instanceof Map)&&vo()in t)}function So(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Co(t){return!!t&&"function"==typeof t.then}function Ao(t){return!!t&&"function"==typeof t.subscribe}var wo=function(){function t(t,e,o){this.previousValue=t,this.currentValue=e,this.firstChange=o}return t.prototype.isFirstChange=function(){return this.firstChange},t}(),Oo=function(){return function(){}}(),Bo=function(){return function(){}}();function Io(t){var e=Error("No component factory found for "+_t(t)+". Did you add it to @NgModule.entryComponents?");return e[Ro]=t,e}var Ro="ngComponent",No=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Io(t)},t}(),xo=function(){function t(){}return t.NULL=new No,t}(),Do=function(){function t(t,e,o){this._parent=e,this._ngModule=o,this._factories=new Map;for(var n=0;n<t.length;n++){var r=t[n];this._factories.set(r.componentType,r)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Io(t);return new Lo(e,this._ngModule)},t}(),Lo=function(t){function e(e,o){var n=t.call(this)||this;return n.factory=e,n.ngModule=o,n.selector=e.selector,n.componentType=e.componentType,n.ngContentSelectors=e.ngContentSelectors,n.inputs=e.inputs,n.outputs=e.outputs,n}return Object(n.__extends)(e,t),e.prototype.create=function(t,e,o,n){return this.factory.create(t,e,o,n||this.ngModule)},e}(Bo);function Mo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var Po=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return Fo(t)},t}(),Fo=Mo,Uo=function(){return function(){}}(),Vo=function(){return function(){}}(),Ho=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),Go=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Wo()},t}(),Wo=Mo,jo=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),Ko=new jo("8.2.2"),zo=function(){function t(){}return t.prototype.supports=function(t){return To(t)},t.prototype.create=function(t){return new Yo(t)},t}(),Xo=function(t,e){return e},Yo=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Xo}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,o=this._removalsHead,n=0,r=null;e||o;){var i=!o||e&&e.currentIndex<Qo(o,n,r)?e:o,s=Qo(i,n,r),l=i.currentIndex;if(i===o)n--,o=o._nextRemoved;else if(e=e._next,null==i.previousIndex)n++;else{r||(r=[]);var a=s-n,u=l-n;if(a!=u){for(var c=0;c<a;c++){var p=c<r.length?r[c]:r[c]=0,h=p+c;u<=h&&h<a&&(r[c]=p+1)}r[i.previousIndex]=u-a}}s!==l&&t(i,s,l)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!To(t))throw new Error("Error trying to diff '"+_t(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var o,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var l=0;l<this.length;l++)r=this._trackByFn(l,n=t[l]),null!==i&&bo(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,l)),bo(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,l),s=!0),i=i._next}else o=0,function(t,e){if(Array.isArray(t))for(var o=0;o<t.length;o++)e(t[o]);else for(var n=t[vo()](),r=void 0;!(r=n.next()).done;)e(r.value)}(t,(function(t){r=e._trackByFn(o,t),null!==i&&bo(i.trackById,r)?(s&&(i=e._verifyReinsertion(i,t,r,o)),bo(i.item,t)||e._addIdentityChange(i,t)):(i=e._mismatch(i,t,r,o),s=!0),i=i._next,o++})),this.length=o;return this._truncate(i),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,o,n){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,n))?(bo(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,n)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(bo(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,n)):t=this._addAfter(new Jo(e,o),r,n),t},t.prototype._verifyReinsertion=function(t,e,o,n){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==r?t=this._reinsertAfter(r,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var n=t._prevRemoved,r=t._nextRemoved;return null===n?this._removalsHead=r:n._nextRemoved=r,null===r?this._removalsTail=n:r._prevRemoved=n,this._insertAfter(t,e,o),this._addToMoves(t,o),t},t.prototype._moveAfter=function(t,e,o){return this._unlink(t),this._insertAfter(t,e,o),this._addToMoves(t,o),t},t.prototype._addAfter=function(t,e,o){return this._insertAfter(t,e,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,o){var n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Zo),this._linkedRecords.put(t),t.currentIndex=o,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,o=t._next;return null===e?this._itHead=o:e._next=o,null===o?this._itTail=e:o._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),Jo=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),qo=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var o;for(o=this._head;null!==o;o=o._nextDup)if((null===e||e<=o.currentIndex)&&bo(o.trackById,t))return o;return null},t.prototype.remove=function(t){var e=t._prevDup,o=t._nextDup;return null===e?this._head=o:e._nextDup=o,null===o?this._tail=e:o._prevDup=e,null===this._head},t}(),Zo=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,o=this.map.get(e);o||(o=new qo,this.map.set(e,o)),o.add(t)},t.prototype.get=function(t,e){var o=this.map.get(t);return o?o.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Qo(t,e,o){var n=t.previousIndex;if(null===n)return n;var r=0;return o&&n<o.length&&(r=o[n]),n+e+r}var $o=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||So(t)},t.prototype.create=function(){return new tn},t}(),tn=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||So(t)))throw new Error("Error trying to diff '"+_t(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var o=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,n){if(o&&o.key===n)e._maybeAddToChanges(o,t),e._appendAfter=o,o=o._next;else{var r=e._getOrCreateRecordForKey(n,t);o=e._insertBeforeOrAppend(o,r)}})),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(var n=o;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var o=t._prev;return e._next=t,e._prev=o,t._prev=e,o&&(o._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var o=this._records.get(t);this._maybeAddToChanges(o,e);var n=o._prev,r=o._next;return n&&(n._next=r),r&&(r._prev=n),o._next=null,o._prev=null,o}var i=new en(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){bo(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(o){return e(t[o],o)}))},t}(),en=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),on=function(){function t(t){this.factories=t}return t.create=function(e,o){if(null!=o){var n=o.factories.slice();e=e.concat(n)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(o){if(!o)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,o)},deps:[[t,new pt,new ut]]}},t.prototype.find=function(t){var e,o=this.factories.find((function(e){return e.supports(t)}));if(null!=o)return o;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=dt({token:t,providedIn:"root",factory:function(){return new t([new zo])}}),t}(),nn=function(){function t(t){this.factories=t}return t.create=function(e,o){if(o){var n=o.factories.slice();e=e.concat(n)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(o){if(!o)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,o)},deps:[[t,new pt,new ut]]}},t.prototype.find=function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ngInjectableDef=dt({token:t,providedIn:"root",factory:function(){return new t([new $o])}}),t}(),rn=[new $o],sn=new on([new zo]),ln=new nn(rn),an=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return un(t,Po)},t}(),un=Mo,cn=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return pn(t,Po)},t}(),pn=Mo;function hn(t,e,o,n){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+o+"'.";return n&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var o=new Error(t);return gn(o,e),o}(r,t)}function gn(t,e){t[Xt]=e,t[Jt]=e.logError.bind(e)}function dn(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function fn(t,e,o){var n=t.state,r=1792&n;return r===e?(t.state=-1793&n|o,t.initIndex=-1,!0):r===o}function mn(t,e,o){return(1792&t.state)===e&&t.initIndex<=o&&(t.initIndex=o+1,!0)}function _n(t,e){return t.nodes[e]}function yn(t,e){return t.nodes[e]}function vn(t,e){return t.nodes[e]}function bn(t,e){return t.nodes[e]}function En(t,e){return t.nodes[e]}var kn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Tn=function(){},Sn=new Map;function Cn(t){var e=Sn.get(t);return e||(e=_t(t)+"_"+Sn.size,Sn.set(t,e)),e}function An(t,e,o,n){if(ko.isWrapped(n)){n=ko.unwrap(n);var r=t.def.nodes[e].bindingIndex+o,i=ko.unwrap(t.oldValues[r]);t.oldValues[r]=new ko(i)}return n}var wn="$$undefined",On="$$empty";function Bn(t){return{id:wn,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var In=0;function Rn(t,e,o,n){return!(!(2&t.state)&&bo(t.oldValues[e.bindingIndex+o],n))}function Nn(t,e,o,n){return!!Rn(t,e,o,n)&&(t.oldValues[e.bindingIndex+o]=n,!0)}function xn(t,e,o,n){var r=t.oldValues[e.bindingIndex+o];if(1&t.state||!Eo(r,n)){var i=e.bindings[o].name;throw hn(kn.createDebugContext(t,e.nodeIndex),i+": "+r,i+": "+n,0!=(1&t.state))}}function Dn(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Ln(t,e){for(var o=t;o&&o!==e;)o.state|=64,o=o.viewContainerParent||o.parent}function Mn(t,e,o,n){try{return Dn(33554432&t.def.nodes[e].flags?yn(t,e).componentView:t),kn.handleEvent(t,e,o,n)}catch(r){t.root.errorHandler.handleError(r)}}function Pn(t){return t.parent?yn(t.parent,t.parentNodeDef.nodeIndex):null}function Fn(t){return t.parent?t.parentNodeDef.parent:null}function Un(t,e){switch(201347067&e.flags){case 1:return yn(t,e.nodeIndex).renderElement;case 2:return _n(t,e.nodeIndex).renderText}}function Vn(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Hn(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Gn(t){return 1<<t%32}function Wn(t){var e={},o=0,r={};return t&&t.forEach((function(t){var i=Object(n.__read)(t,2),s=i[0],l=i[1];"number"==typeof s?(e[s]=l,o|=Gn(s)):r[s]=l})),{matchedQueries:e,references:r,matchedQueryIds:o}}function jn(t,e){return t.map((function(t){var o,r,i;return Array.isArray(t)?(i=(o=Object(n.__read)(t,2))[0],r=o[1]):(i=0,r=t),r&&("function"==typeof r||"object"==typeof r)&&e&&Object.defineProperty(r,Nt,{value:e,configurable:!0}),{flags:i,token:r,tokenKey:Cn(r)}}))}function Kn(t,e,o){var n=o.renderParent;return n?0==(1&n.flags)||0==(33554432&n.flags)||n.element.componentRendererType&&n.element.componentRendererType.encapsulation===Kt.Native?yn(t,o.renderParent.nodeIndex).renderElement:void 0:e}var zn=new WeakMap;function Xn(t){var e=zn.get(t);return e||((e=t((function(){return Tn}))).factory=t,zn.set(t,e)),e}function Yn(t,e,o,n,r){3===e&&(o=t.renderer.parentNode(Un(t,t.def.lastRenderRootNode))),Jn(t,e,0,t.def.nodes.length-1,o,n,r)}function Jn(t,e,o,n,r,i,s){for(var l=o;l<=n;l++){var a=t.def.nodes[l];11&a.flags&&Zn(t,a,e,r,i,s),l+=a.childCount}}function qn(t,e,o,n,r,i){for(var s=t;s&&!Vn(s);)s=s.parent;for(var l=s.parent,a=Fn(s),u=a.nodeIndex+a.childCount,c=a.nodeIndex+1;c<=u;c++){var p=l.def.nodes[c];p.ngContentIndex===e&&Zn(l,p,o,n,r,i),c+=p.childCount}if(!l.parent){var h=t.root.projectableNodes[e];if(h)for(c=0;c<h.length;c++)Qn(t,h[c],o,n,r,i)}}function Zn(t,e,o,n,r,i){if(8&e.flags)qn(t,e.ngContent.index,o,n,r,i);else{var s=Un(t,e);if(3===o&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Qn(t,s,o,n,r,i),32&e.bindingFlags&&Qn(yn(t,e.nodeIndex).componentView,s,o,n,r,i)):Qn(t,s,o,n,r,i),16777216&e.flags)for(var l=yn(t,e.nodeIndex).viewContainer._embeddedViews,a=0;a<l.length;a++)Yn(l[a],o,n,r,i);1&e.flags&&!e.element.name&&Jn(t,o,e.nodeIndex+1,e.nodeIndex+e.childCount,n,r,i)}}function Qn(t,e,o,n,r,i){var s=t.renderer;switch(o){case 1:s.appendChild(n,e);break;case 2:s.insertBefore(n,e,r);break;case 3:s.removeChild(n,e);break;case 0:i.push(e)}}var $n=/^:([^:]+):(.+)$/;function tr(t){if(":"===t[0]){var e=t.match($n);return[e[1],e[2]]}return["",t]}function er(t){for(var e=0,o=0;o<t.length;o++)e|=t[o].flags;return e}function or(t,e,o,n,r,i,s,l,a,u,c,p,h,g,d,f,m,_,y,v){switch(t){case 1:return e+nr(o)+n;case 2:return e+nr(o)+n+nr(r)+i;case 3:return e+nr(o)+n+nr(r)+i+nr(s)+l;case 4:return e+nr(o)+n+nr(r)+i+nr(s)+l+nr(a)+u;case 5:return e+nr(o)+n+nr(r)+i+nr(s)+l+nr(a)+u+nr(c)+p;case 6:return e+nr(o)+n+nr(r)+i+nr(s)+l+nr(a)+u+nr(c)+p+nr(h)+g;case 7:return e+nr(o)+n+nr(r)+i+nr(s)+l+nr(a)+u+nr(c)+p+nr(h)+g+nr(d)+f;case 8:return e+nr(o)+n+nr(r)+i+nr(s)+l+nr(a)+u+nr(c)+p+nr(h)+g+nr(d)+f+nr(m)+_;case 9:return e+nr(o)+n+nr(r)+i+nr(s)+l+nr(a)+u+nr(c)+p+nr(h)+g+nr(d)+f+nr(m)+_+nr(y)+v;default:throw new Error("Does not support more than 9 expressions")}}function nr(t){return null!=t?t.toString():""}var rr=new Object,ir=Cn(We),sr=Cn(Ot),lr=Cn(Ht);function ar(t,e,o,n){return o=bt(o),{index:-1,deps:jn(n,_t(e)),flags:t,token:e,value:o}}function ur(t,e,o){void 0===o&&(o=We.THROW_IF_NOT_FOUND);var n,r,i=Lt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(o=null),1&e.flags)return t._parent.get(e.token,o);var s=e.tokenKey;switch(s){case ir:case sr:case lr:return t}var l,a=t._def.providersByKey[s];if(a){var u=t._providers[a.index];return void 0===u&&(u=t._providers[a.index]=cr(t,a)),u===rr?void 0:u}if((l=ft(e.token))&&(n=t,null!=(r=l).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var c=t._providers.length;return t._def.providers[c]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:c,token:e.token},t._providers[c]=rr,t._providers[c]=cr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?o:t._parent.get(e.token,o)}finally{Lt(i)}}function cr(t,e){var o;switch(201347067&e.flags){case 512:o=function(t,e,o){var r=o.length;switch(r){case 0:return new e;case 1:return new e(ur(t,o[0]));case 2:return new e(ur(t,o[0]),ur(t,o[1]));case 3:return new e(ur(t,o[0]),ur(t,o[1]),ur(t,o[2]));default:for(var i=new Array(r),s=0;s<r;s++)i[s]=ur(t,o[s]);return new(e.bind.apply(e,Object(n.__spread)([void 0],i)))}}(t,e.value,e.deps);break;case 1024:o=function(t,e,o){var r=o.length;switch(r){case 0:return e();case 1:return e(ur(t,o[0]));case 2:return e(ur(t,o[0]),ur(t,o[1]));case 3:return e(ur(t,o[0]),ur(t,o[1]),ur(t,o[2]));default:for(var i=Array(r),s=0;s<r;s++)i[s]=ur(t,o[s]);return e.apply(void 0,Object(n.__spread)(i))}}(t,e.value,e.deps);break;case 2048:o=ur(t,e.deps[0]);break;case 256:o=e.value}return o===rr||null===o||"object"!=typeof o||131072&e.flags||"function"!=typeof o.ngOnDestroy||(e.flags|=131072),void 0===o?rr:o}function pr(t,e){var o=t.viewContainer._embeddedViews;if((null==e||e>=o.length)&&(e=o.length-1),e<0)return null;var n=o[e];return n.viewContainerParent=null,jt(o,e),kn.dirtyParentQueries(n),gr(n),n}function hr(t,e,o){var n=e?Un(e,e.def.lastRenderRootNode):t.renderElement,r=o.renderer.parentNode(n),i=o.renderer.nextSibling(n);Yn(o,2,r,i,void 0)}function gr(t){Yn(t,3,null,null,void 0)}var dr=new Object;function fr(t,e,o,n,r,i){return new mr(t,e,o,n,r,i)}var mr=function(t){function e(e,o,n,r,i,s){var l=t.call(this)||this;return l.selector=e,l.componentType=o,l._inputs=r,l._outputs=i,l.ngContentSelectors=s,l.viewDefFactory=n,l}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var o in e)t.push({propName:o,templateName:e[o]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,o,n){if(!n)throw new Error("ngModule should be provided");var r=Xn(this.viewDefFactory),i=r.nodes[0].element.componentProvider.nodeIndex,s=kn.createRootView(t,e||[],o,r,n,dr),l=vn(s,i).instance;return o&&s.renderer.setAttribute(yn(s,0).renderElement,"ng-version",Ko.full),new _r(s,new Er(s),l)},e}(Bo),_r=function(t){function e(e,o,n){var r=t.call(this)||this;return r._view=e,r._viewRef=o,r._component=n,r._elDef=r._view.def.nodes[0],r.hostView=o,r.changeDetectorRef=o,r.instance=n,r}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Po(yn(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Cr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Oo);function yr(t,e,o){return new vr(t,e,o)}var vr=function(){function t(t,e,o){this._view=t,this._elDef=e,this._data=o,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Po(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Cr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Fn(t),t=t.parent;return t?new Cr(t,e):new Cr(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=pr(this._data,t);kn.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var o=new Er(e);return o.attachToViewContainerRef(this),o}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,o){var n=t.createEmbeddedView(e||{});return this.insert(n,o),n},t.prototype.createComponent=function(t,e,o,n,r){var i=o||this.parentInjector;r||t instanceof Lo||(r=i.get(Ht));var s=t.create(i,n,void 0,r);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var o,n,r,i,s=t;return i=(o=this._data).viewContainer._embeddedViews,null==(n=e)&&(n=i.length),(r=s._view).viewContainerParent=this._view,Wt(i,n,r),function(t,e){var o=Pn(e);if(o&&o!==t&&!(16&e.state)){e.state|=16;var n=o.template._projectedViews;n||(n=o.template._projectedViews=[]),n.push(e),function(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var o=e.parent;o;)o.childFlags|=4,o=o.parent}}(e.parent.def,e.parentNodeDef)}}(o,r),kn.dirtyParentQueries(r),hr(o,n>0?i[n-1]:null,r),s.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var o,n,r,i,s,l=this._embeddedViews.indexOf(t._view);return r=e,s=(i=(o=this._data).viewContainer._embeddedViews)[n=l],jt(i,n),null==r&&(r=i.length),Wt(i,r,s),kn.dirtyParentQueries(s),gr(s),hr(o,r>0?i[r-1]:null,s),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=pr(this._data,t);e&&kn.destroyView(e)},t.prototype.detach=function(t){var e=pr(this._data,t);return e?new Er(e):null},t}();function br(t){return new Er(t)}var Er=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return Yn(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Dn(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{kn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){kn.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),kn.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,gr(this._view),kn.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function kr(t,e){return new Tr(t,e)}var Tr=function(t){function e(e,o){var n=t.call(this)||this;return n._parentView=e,n._def=o,n}return Object(n.__extends)(e,t),e.prototype.createEmbeddedView=function(t){return new Er(kn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Po(yn(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(an);function Sr(t,e){return new Cr(t,e)}var Cr=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=We.THROW_IF_NOT_FOUND),kn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Cn(t)},e)},t}();function Ar(t,e){var o=t.def.nodes[e];if(1&o.flags){var n=yn(t,o.nodeIndex);return o.element.template?n.template:n.renderElement}if(2&o.flags)return _n(t,o.nodeIndex).renderText;if(20240&o.flags)return vn(t,o.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function wr(t){return new Or(t.renderer)}var Or=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var o=Object(n.__read)(tr(e),2),r=this.delegate.createElement(o[1],o[0]);return t&&this.delegate.appendChild(t,r),r},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var o=this.delegate.createText(e);return t&&this.delegate.appendChild(t,o),o},t.prototype.projectNodes=function(t,e){for(var o=0;o<e.length;o++)this.delegate.appendChild(t,e[o])},t.prototype.attachViewAfter=function(t,e){for(var o=this.delegate.parentNode(t),n=this.delegate.nextSibling(t),r=0;r<e.length;r++)this.delegate.insertBefore(o,e[r],n)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var o=t[e],n=this.delegate.parentNode(o);this.delegate.removeChild(n,o)}},t.prototype.destroyView=function(t,e){for(var o=0;o<e.length;o++)this.delegate.destroyNode(e[o])},t.prototype.listen=function(t,e,o){return this.delegate.listen(t,e,o)},t.prototype.listenGlobal=function(t,e,o){return this.delegate.listen(t,e,o)},t.prototype.setElementProperty=function(t,e,o){this.delegate.setProperty(t,e,o)},t.prototype.setElementAttribute=function(t,e,o){var r=Object(n.__read)(tr(e),2),i=r[0],s=r[1];null!=o?this.delegate.setAttribute(t,s,o,i):this.delegate.removeAttribute(t,s,i)},t.prototype.setBindingDebugInfo=function(t,e,o){},t.prototype.setElementClass=function(t,e,o){o?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,o){null!=o?this.delegate.setStyle(t,e,o):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,o){t[e].apply(t,o)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Br(t,e,o,n){return new Ir(t,e,o,n)}var Ir=function(){function t(t,e,o,n){this._moduleType=t,this._parent=e,this._bootstrapComponents=o,this._def=n,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,o=t._providers=new Array(e.providers.length),n=0;n<e.providers.length;n++){var r=e.providers[n];4096&r.flags||void 0===o[n]&&(o[n]=cr(t,r))}}(this)}return t.prototype.get=function(t,e,o){void 0===e&&(e=We.THROW_IF_NOT_FOUND),void 0===o&&(o=ht.Default);var n=0;return o&ht.SkipSelf?n|=1:o&ht.Self&&(n|=4),ur(this,{token:t,tokenKey:Cn(t),flags:n},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(xo)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+_t(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var o=t._def,n=new Set,r=0;r<o.providers.length;r++)if(131072&o.providers[r].flags){var i=t._providers[r];if(i&&i!==rr){var s=i.ngOnDestroy;"function"!=typeof s||n.has(i)||(s.apply(i),n.add(i))}}}(this),this._destroyListeners.forEach((function(t){return t()}))},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Rr=Cn(Uo),Nr=Cn(Go),xr=Cn(Po),Dr=Cn(cn),Lr=Cn(an),Mr=Cn(Ie),Pr=Cn(We),Fr=Cn(Ot);function Ur(t,e,o,r,i,s,l,a){var u=[];if(l)for(var c in l){var p=Object(n.__read)(l[c],2);u[p[0]]={flags:8,name:c,nonMinifiedName:p[1],ns:null,securityContext:null,suffix:null}}var h=[];if(a)for(var g in a)h.push({type:1,propName:g,target:null,eventName:a[g]});return Gr(t,e|=16384,o,r,i,i,s,u,h)}function Vr(t,e,o){return Gr(-1,t|=16,null,0,e,e,o)}function Hr(t,e,o,n,r){return Gr(-1,t,e,0,o,n,r)}function Gr(t,e,o,n,r,i,s,l,a){var u=Wn(o),c=u.matchedQueries,p=u.references,h=u.matchedQueryIds;a||(a=[]),l||(l=[]),i=bt(i);var g=jn(s,_t(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:p,ngContentIndex:-1,childCount:n,bindings:l,bindingFlags:er(l),outputs:a,element:null,provider:{token:r,value:i,deps:g},text:null,query:null,ngContent:null}}function Wr(t,e){return Xr(t,e)}function jr(t,e){for(var o=t;o.parent&&!Vn(o);)o=o.parent;return Yr(o.parent,Fn(o),!0,e.provider.value,e.provider.deps)}function Kr(t,e){var o=Yr(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var n=0;n<e.outputs.length;n++){var r=e.outputs[n],i=o[r.propName];if(!Ao(i))throw new Error("@Output "+r.propName+" not initialized in '"+o.constructor.name+"'.");var s=i.subscribe(zr(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+n]=s.unsubscribe.bind(s)}return o}function zr(t,e,o){return function(n){return Mn(t,e,o,n)}}function Xr(t,e){var o=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Yr(t,e.parent,o,r.value,r.deps);case 1024:return function(t,e,o,r,i){var s=i.length;switch(s){case 0:return r();case 1:return r(qr(t,e,o,i[0]));case 2:return r(qr(t,e,o,i[0]),qr(t,e,o,i[1]));case 3:return r(qr(t,e,o,i[0]),qr(t,e,o,i[1]),qr(t,e,o,i[2]));default:for(var l=Array(s),a=0;a<s;a++)l[a]=qr(t,e,o,i[a]);return r.apply(void 0,Object(n.__spread)(l))}}(t,e.parent,o,r.value,r.deps);case 2048:return qr(t,e.parent,o,r.deps[0]);case 256:return r.value}}function Yr(t,e,o,r,i){var s=i.length;switch(s){case 0:return new r;case 1:return new r(qr(t,e,o,i[0]));case 2:return new r(qr(t,e,o,i[0]),qr(t,e,o,i[1]));case 3:return new r(qr(t,e,o,i[0]),qr(t,e,o,i[1]),qr(t,e,o,i[2]));default:for(var l=new Array(s),a=0;a<s;a++)l[a]=qr(t,e,o,i[a]);return new(r.bind.apply(r,Object(n.__spread)([void 0],l)))}}var Jr={};function qr(t,e,o,n,r){if(void 0===r&&(r=We.THROW_IF_NOT_FOUND),8&n.flags)return n.token;var i=t;2&n.flags&&(r=null);var s=n.tokenKey;s===Mr&&(o=!(!e||!e.element.componentView)),e&&1&n.flags&&(o=!1,e=e.parent);for(var l=t;l;){if(e)switch(s){case Rr:return wr(Zr(l,e,o));case Nr:return Zr(l,e,o).renderer;case xr:return new Po(yn(l,e.nodeIndex).renderElement);case Dr:return yn(l,e.nodeIndex).viewContainer;case Lr:if(e.element.template)return yn(l,e.nodeIndex).template;break;case Mr:return br(Zr(l,e,o));case Pr:case Fr:return Sr(l,e);default:var a=(o?e.element.allProviders:e.element.publicProviders)[s];if(a){var u=vn(l,a.nodeIndex);return u||(u={instance:Xr(l,a)},l.nodes[a.nodeIndex]=u),u.instance}}o=Vn(l),e=Fn(l),l=l.parent,4&n.flags&&(l=null)}var c=i.root.injector.get(n.token,Jr);return c!==Jr||r===Jr?c:i.root.ngModule.injector.get(n.token,r)}function Zr(t,e,o){var n;if(o)n=yn(t,e.nodeIndex).componentView;else for(n=t;n.parent&&!Vn(n);)n=n.parent;return n}function Qr(t,e,o,n,r,i){if(32768&o.flags){var s=yn(t,o.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(e.instance[o.bindings[n].name]=r,524288&o.flags){i=i||{};var l=ko.unwrap(t.oldValues[o.bindingIndex+n]);i[o.bindings[n].nonMinifiedName]=new wo(l,r,0!=(2&t.state))}return t.oldValues[o.bindingIndex+n]=r,i}function $r(t,e){if(t.def.nodeFlags&e)for(var o=t.def.nodes,n=0,r=0;r<o.length;r++){var i=o[r],s=i.parent;for(!s&&i.flags&e&&ei(t,r,i.flags&e,n++),0==(i.childFlags&e)&&(r+=i.childCount);s&&1&s.flags&&r===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(n=ti(t,s,e,n)),s=s.parent}}function ti(t,e,o,n){for(var r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){var i=t.def.nodes[r];i.flags&o&&ei(t,r,i.flags&o,n++),r+=i.childCount}return n}function ei(t,e,o,n){var r=vn(t,e);if(r){var i=r.instance;i&&(kn.setCurrentNode(t,e),1048576&o&&mn(t,512,n)&&i.ngAfterContentInit(),2097152&o&&i.ngAfterContentChecked(),4194304&o&&mn(t,768,n)&&i.ngAfterViewInit(),8388608&o&&i.ngAfterViewChecked(),131072&o&&i.ngOnDestroy())}}var oi=new wt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return zt}}),ni={},ri=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencySymbol=15]="CurrencySymbol",t[t.CurrencyName=16]="CurrencyName",t[t.Currencies=17]="Currencies",t[t.PluralCase=18]="PluralCase",t[t.ExtraData=19]="ExtraData",t}({}),ii=void 0,si=["en",[["a","p"],["AM","PM"],ii],[["AM","PM"],ii,ii],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ii,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ii,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ii,"{1} 'at' {0}",ii],[".",",",";","%","+","-","E","","","","NaN",":"],["#,##0.###","#,##0%","#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),o=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===o?1:5}],li="en-US";function ai(t){var e;e="Expected localeId to be defined",null==t&&function(t){throw new Error("ASSERTION ERROR: "+t)}(e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var ui=function(t){function e(e){void 0===e&&(e=!1);var o=t.call(this)||this;return o.__isAsync=e,o}return Object(n.__extends)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,o,n){var r,i=function(t){return null},s=function(){return null};e&&"object"==typeof e?(r=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(i=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(r=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},o&&(i=this.__isAsync?function(t){setTimeout((function(){return o(t)}))}:function(t){o(t)}),n&&(s=this.__isAsync?function(){setTimeout((function(){return n()}))}:function(){n()}));var l=t.prototype.subscribe.call(this,r,i,s);return e instanceof u&&e.add(l),l},e}(O);function ci(){return this._results[vo()]()}var pi=function(){function t(){this.dirty=!0,this._results=[],this.changes=new ui,this.length=0;var e=vo(),o=t.prototype;o[e]||(o[e]=ci)}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e,o){void 0===o&&(o=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(o===e&&(o=e.slice(0,n)),t(r,o)):o!==e&&o.push(r)}return o}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),hi=new wt("Application Initializer"),gi=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,o){e.resolve=t,e.reject=o}))}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],o=function(){t.done=!0,t.resolve()};if(this.appInits)for(var n=0;n<this.appInits.length;n++){var r=this.appInits[n]();Co(r)&&e.push(r)}Promise.all(e).then((function(){o()})).catch((function(e){t.reject(e)})),0===e.length&&o(),this.initialized=!0}},t}(),di=new wt("AppId");function fi(){return""+mi()+mi()+mi()}function mi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var _i=new wt("Platform Initializer"),yi=new wt("Platform ID"),vi=new wt("appBootstrapListener"),bi=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}(),Ei=new wt("LocaleId"),ki=!1;function Ti(){throw new Error("Runtime compiler is not loaded")}var Si,Ci,Ai=Ti,wi=Ti,Oi=Ti,Bi=Ti,Ii=function(){function t(){this.compileModuleSync=Ai,this.compileModuleAsync=wi,this.compileModuleAndAllComponentsSync=Oi,this.compileModuleAndAllComponentsAsync=Bi}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),Ri=function(){return function(){}}();function Ni(){var t=At.wtf;return!(!t||!(Si=t.trace)||(Ci=Si.events,0))}var xi=Ni();function Di(t,e){return null}var Li=xi?function(t,e){return void 0===e&&(e=null),Ci.createScope(t,e)}:function(t,e){return Di},Mi=xi?function(t,e){return Si.leaveScope(t,e),e}:function(t,e){return e},Pi=function(){return Promise.resolve(0)}();function Fi(t){"undefined"==typeof Zone?Pi.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Ui=function(){function t(t){var e,o=t.enableLongStackTrace,n=void 0!==o&&o;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ui(!1),this.onMicrotaskEmpty=new ui(!1),this.onStable=new ui(!1),this.onError=new ui(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,o,n,r,i,s){try{return Wi(e),t.invokeTask(n,r,i,s)}finally{ji(e)}},onInvoke:function(t,o,n,r,i,s,l){try{return Wi(e),t.invoke(n,r,i,s,l)}finally{ji(e)}},onHasTask:function(t,o,n,r){t.hasTask(n,r),o===n&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,Gi(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,o,n,r){return t.handleError(n,r),e.runOutsideAngular((function(){return e.onError.emit(r)})),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,o){return this._inner.run(t,e,o)},t.prototype.runTask=function(t,e,o,n){var r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+n,t,Hi,Vi,Vi);try{return r.runTask(i,e,o)}finally{r.cancelTask(i)}},t.prototype.runGuarded=function(t,e,o){return this._inner.runGuarded(t,e,o)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Vi(){}var Hi={};function Gi(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Wi(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ji(t){t._nesting--,Gi(t)}var Ki,zi=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ui,this.onMicrotaskEmpty=new ui,this.onStable=new ui,this.onError=new ui}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Xi=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Ui.assertNotInAngularZone(),Fi((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())Fi((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]},t.prototype.addCallback=function(t,e,o){var n=this,r=-1;e&&e>0&&(r=setTimeout((function(){n._callbacks=n._callbacks.filter((function(t){return t.timeoutId!==r})),t(n._didWork,n.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:o})},t.prototype.whenStable=function(t,e,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,o),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,o){return[]},t}(),Yi=function(){function t(){this._applications=new Map,Ji.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Ji.findTestabilityInTree(this,t,e)},t}(),Ji=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,o){return null},t}()),qi=new wt("AllowMultipleToken"),Zi=function(){return function(t,e){this.name=t,this.token=e}}();function Qi(t,e,o){void 0===o&&(o=[]);var n="Platform: "+e,r=new wt(n);return function(e){void 0===e&&(e=[]);var i=$i();if(!i||i.injector.get(qi,!1))if(t)t(o.concat(e).concat({provide:r,useValue:!0}));else{var s=o.concat(e).concat({provide:r,useValue:!0});!function(t){if(Ki&&!Ki.destroyed&&!Ki.injector.get(qi,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ki=t.get(ts);var e=t.get(_i,null);e&&e.forEach((function(t){return t()}))}(We.create({providers:s,name:n}))}return function(t){var e=$i();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function $i(){return Ki&&!Ki.destroyed?Ki:null}var ts=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var o,n=this,r="noop"===(o=e?e.ngZone:void 0)?new zi:("zone.js"===o?void 0:o)||new Ui({enableLongStackTrace:oe()}),i=[{provide:Ui,useValue:r}];return r.run((function(){var e=We.create({providers:i,parent:n.injector,name:t.moduleType.name}),o=t.create(e),s=o.injector.get($t,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return ki&&ai(o.injector.get(Ei,li)||li),o.onDestroy((function(){return ns(n._modules,o)})),r.runOutsideAngular((function(){return r.onError.subscribe({next:function(t){s.handleError(t)}})})),function(t,e,r){try{var i=((s=o.injector.get(gi)).runInitializers(),s.donePromise.then((function(){return n._moduleDoBootstrap(o),o})));return Co(i)?i.catch((function(o){throw e.runOutsideAngular((function(){return t.handleError(o)})),o})):i}catch(l){throw e.runOutsideAngular((function(){return t.handleError(l)})),l}var s}(s,r)}))},t.prototype.bootstrapModule=function(t,e){var o=this;void 0===e&&(e=[]);var n=es({},e);return function(t,e,o){return t.get(Ri).createCompiler([e]).compileModuleAsync(o)}(this.injector,n,t).then((function(t){return o.bootstrapModuleFactory(t,n)}))},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(os);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+_t(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function es(t,e){return Array.isArray(e)?e.reduce(es,t):Object(n.__assign)({},t,e)}var os=function(){function t(t,e,o,n,r,i){var s=this;this._zone=t,this._console=e,this._injector=o,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=oe(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var l=new k((function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){t.next(s._stable),t.complete()}))})),a=new k((function(t){var e;s._zone.runOutsideAngular((function(){e=s._zone.onStable.subscribe((function(){Ui.assertNotInAngularZone(),Fi((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))}))}))}));var o=s._zone.onUnstable.subscribe((function(){Ui.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),o.unsubscribe()}}));this.isStable=Z(l,a.pipe(it()))}var e;return e=t,t.prototype.bootstrap=function(t,e){var o,n=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");o=t instanceof Bo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(o.componentType);var r=o instanceof Lo?null:this._injector.get(Ht),i=o.create(We.NULL,[],e||o.selector,r);i.onDestroy((function(){n._unloadComponent(i)}));var s=i.injector.get(Xi,null);return s&&i.injector.get(Yi).registerApplication(i.location.nativeElement,s),this._loadComponent(i),oe()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i},t.prototype.tick=function(){var t,o,r,i,s=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var l=e._tickScope();try{this._runningTick=!0;try{for(var a=Object(n.__values)(this._views),u=a.next();!u.done;u=a.next())u.value.detectChanges()}catch(h){t={error:h}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(t)throw t.error}}if(this._enforceNoNewChanges)try{for(var c=Object(n.__values)(this._views),p=c.next();!p.done;p=c.next())p.value.checkNoChanges()}catch(g){r={error:g}}finally{try{p&&!p.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}catch(d){this._zone.runOutsideAngular((function(){return s._exceptionHandler.handleError(d)}))}finally{this._runningTick=!1,Mi(l)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;ns(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(vi,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),ns(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach((function(t){return t.destroy()}))},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Li("ApplicationRef#tick()"),t}();function ns(t,e){var o=t.indexOf(e);o>-1&&t.splice(o,1)}var rs=function(){return function(){}}(),is=function(){return function(){}}(),ss={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ls=function(){function t(t,e){this._compiler=t,this._config=e||ss}return t.prototype.load=function(t){return!ki&&this._compiler instanceof Ii?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=Object(n.__read)(t.split("#"),2),i=r[0],s=r[1];return void 0===s&&(s="default"),o("crnd")(i).then((function(t){return t[s]})).then((function(t){return as(t,i,s)})).then((function(t){return e._compiler.compileModuleAsync(t)}))},t.prototype.loadFactory=function(t){var e=Object(n.__read)(t.split("#"),2),r=e[0],i=e[1],s="NgFactory";return void 0===i&&(i="default",s=""),o("crnd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+s]})).then((function(t){return as(t,r,i)}))},t}();function as(t,e,o){if(!t)throw new Error("Cannot find '"+o+"' in '"+e+"'");return t}var us=function(){return function(t,e){this.name=t,this.callback=e}}(),cs=function(){function t(t,e,o){this.listeners=[],this.parent=null,this._debugContext=o,this.nativeNode=t,e&&e instanceof ps&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),ps=function(t){function e(e,o,n){var r=t.call(this,e,o,n)||this;return r.properties={},r.attributes={},r.classes={},r.styles={},r.childNodes=[],r.nativeElement=e,r}return Object(n.__extends)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var o,r=this,i=this.childNodes.indexOf(t);-1!==i&&((o=this.childNodes).splice.apply(o,Object(n.__spread)([i+1,0],e)),e.forEach((function(e){e.parent&&e.parent.removeChild(e),t.parent=r})))},e.prototype.insertBefore=function(t,e){var o=this.childNodes.indexOf(t);-1===o?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(o,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,o,n){e.childNodes.forEach((function(e){e instanceof ps&&(o(e)&&n.push(e),t(e,o,n))}))}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,o,n){e instanceof ps&&e.childNodes.forEach((function(e){o(e)&&n.push(e),e instanceof ps&&t(e,o,n)}))}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter((function(t){return t instanceof e}))},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach((function(o){o.name==t&&o.callback(e)}))},e}(cs),hs=new Map,gs=function(t){return hs.get(t)||null};function ds(t){hs.set(t.nativeNode,t)}var fs=Qi(null,"core",[{provide:yi,useValue:"unknown"},{provide:ts,deps:[We]},{provide:Yi,deps:[]},{provide:bi,deps:[]}]);function ms(){return sn}function _s(){return ln}function ys(t){return t?(ki&&ai(t),t):li}function vs(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}var bs=function(){return function(t){}}();function Es(t,e,o,n,r,i){t|=1;var s=Wn(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s.matchedQueries,matchedQueryIds:s.matchedQueryIds,references:s.references,ngContentIndex:o,childCount:n,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?Xn(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Tn},provider:null,text:null,query:null,ngContent:null}}function ks(t,e,o,r,i,s,l,a,u,c,p,h){var g;void 0===l&&(l=[]),c||(c=Tn);var d=Wn(o),f=d.matchedQueries,m=d.references,_=d.matchedQueryIds,y=null,v=null;s&&(y=(g=Object(n.__read)(tr(s),2))[0],v=g[1]),a=a||[];for(var b=new Array(a.length),E=0;E<a.length;E++){var k=Object(n.__read)(a[E],3),T=k[0],S=k[1],C=k[2],A=Object(n.__read)(tr(S),2),w=A[0],O=A[1],B=void 0,I=void 0;switch(15&T){case 4:I=C;break;case 1:case 8:B=C}b[E]={flags:T,ns:w,name:O,nonMinifiedName:O,securityContext:B,suffix:I}}u=u||[];var R=new Array(u.length);for(E=0;E<u.length;E++){var N=Object(n.__read)(u[E],2);R[E]={type:0,target:N[0],eventName:N[1],propName:null}}var x=(l=l||[]).map((function(t){var e=Object(n.__read)(t,2),o=e[0],r=e[1],i=Object(n.__read)(tr(o),2);return[i[0],i[1],r]}));return h=function(t){if(t&&t.id===wn){var e=null!=t.encapsulation&&t.encapsulation!==Kt.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+In++:On}return t&&t.id===On&&(t=null),t||null}(h),p&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:_,references:m,ngContentIndex:r,childCount:i,bindings:b,bindingFlags:er(b),outputs:R,element:{ns:y,name:v,attrs:x,template:null,componentProvider:null,componentView:p||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||Tn},provider:null,text:null,query:null,ngContent:null}}function Ts(t,e,o){var r,i=o.element,s=t.root.selectorOrNode,l=t.renderer;if(t.parent||!s){r=i.name?l.createElement(i.name,i.ns):l.createComment("");var a=Kn(t,e,o);a&&l.appendChild(a,r)}else r=l.selectRootElement(s,!!i.componentRendererType&&i.componentRendererType.encapsulation===Kt.ShadowDom);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var c=Object(n.__read)(i.attrs[u],3);l.setAttribute(r,c[1],c[2],c[0])}return r}function Ss(t,e,o,n){for(var r=0;r<o.outputs.length;r++){var i=o.outputs[r],s=Cs(t,o.nodeIndex,(p=i.eventName,(c=i.target)?c+":"+p:p)),l=i.target,a=t;"component"===i.target&&(l=null,a=e);var u=a.renderer.listen(l||n,i.eventName,s);t.disposables[o.outputIndex+r]=u}var c,p}function Cs(t,e,o){return function(n){return Mn(t,e,o,n)}}function As(t,e,o,n){if(!Nn(t,e,o,n))return!1;var r=e.bindings[o],i=yn(t,e.nodeIndex),s=i.renderElement,l=r.name;switch(15&r.flags){case 1:!function(t,e,o,n,r,i){var s=e.securityContext,l=s?t.root.sanitizer.sanitize(s,i):i;l=null!=l?l.toString():null;var a=t.renderer;null!=i?a.setAttribute(o,r,l,n):a.removeAttribute(o,r,n)}(t,r,s,r.ns,l,n);break;case 2:!function(t,e,o,n){var r=t.renderer;n?r.addClass(e,o):r.removeClass(e,o)}(t,s,l,n);break;case 4:!function(t,e,o,n,r){var i=t.root.sanitizer.sanitize(Se.STYLE,r);if(null!=i){i=i.toString();var s=e.suffix;null!=s&&(i+=s)}else i=null;var l=t.renderer;null!=i?l.setStyle(o,n,i):l.removeStyle(o,n)}(t,r,s,l,n);break;case 8:!function(t,e,o,n,r){var i=e.securityContext,s=i?t.root.sanitizer.sanitize(i,r):r;t.renderer.setProperty(o,n,s)}(33554432&e.flags&&32&r.flags?i.componentView:t,r,s,l,n)}return!0}function ws(t,e,o){var n=[];for(var r in o)n.push({propName:r,bindingType:o[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Gn(e),bindings:n},ngContent:null}}function Os(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Hn(t);){var o=t.parentNodeDef;t=t.parent;for(var n=o.nodeIndex+o.childCount,r=0;r<=n;r++)67108864&(i=t.def.nodes[r]).flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&En(t,r).setDirty(),!(1&i.flags&&r+i.childCount<o.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}if(134217728&t.def.nodeFlags)for(r=0;r<t.def.nodes.length;r++){var i;134217728&(i=t.def.nodes[r]).flags&&536870912&i.flags&&En(t,r).setDirty(),r+=i.childCount}}function Bs(t,e){var o=En(t,e.nodeIndex);if(o.dirty){var n,r=void 0;if(67108864&e.flags){var i=e.parent.parent;r=Is(t,i.nodeIndex,i.nodeIndex+i.childCount,e.query,[]),n=vn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=Is(t,0,t.def.nodes.length-1,e.query,[]),n=t.component);o.reset(r);for(var s=e.query.bindings,l=!1,a=0;a<s.length;a++){var u=s[a],c=void 0;switch(u.bindingType){case 0:c=o.first;break;case 1:c=o,l=!0}n[u.propName]=c}l&&o.notifyOnChanges()}}function Is(t,e,o,n,r){for(var i=e;i<=o;i++){var s=t.def.nodes[i],l=s.matchedQueries[n.id];if(null!=l&&r.push(Rs(t,s,l)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&n.filterId)===n.filterId){var a=yn(t,i);if((s.childMatchedQueries&n.filterId)===n.filterId&&(Is(t,i+1,i+s.childCount,n,r),i+=s.childCount),16777216&s.flags)for(var u=a.viewContainer._embeddedViews,c=0;c<u.length;c++){var p=u[c],h=Pn(p);h&&h===a&&Is(p,0,p.def.nodes.length-1,n,r)}var g=a.template._projectedViews;if(g)for(c=0;c<g.length;c++){var d=g[c];Is(d,0,d.def.nodes.length-1,n,r)}}(s.childMatchedQueries&n.filterId)!==n.filterId&&(i+=s.childCount)}return r}function Rs(t,e,o){if(null!=o)switch(o){case 1:return yn(t,e.nodeIndex).renderElement;case 0:return new Po(yn(t,e.nodeIndex).renderElement);case 2:return yn(t,e.nodeIndex).template;case 3:return yn(t,e.nodeIndex).viewContainer;case 4:return vn(t,e.nodeIndex).instance}}function Ns(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function xs(t,e,o){var n=Kn(t,e,o);n&&qn(t,o.ngContent.index,1,n,null,void 0)}function Ds(t,e){return Ms(32,t,new Array(e))}function Ls(t,e){for(var o=Object.keys(e),n=o.length,r=new Array(n),i=0;i<n;i++){var s=o[i];r[e[s]]=s}return Ms(64,t,r)}function Ms(t,e,o){for(var n=new Array(o.length),r=0;r<o.length;r++){var i=o[r];n[r]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:n,bindingFlags:er(n),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Ps(t,e,o){for(var n=new Array(o.length-1),r=1;r<o.length;r++)n[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:o[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:n,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:o[0]},query:null,ngContent:null}}function Fs(t,e,o){var n,r=t.renderer;n=r.createText(o.text.prefix);var i=Kn(t,e,o);return i&&r.appendChild(i,n),{renderText:n}}function Us(t,e){return(null!=t?t.toString():"")+e.suffix}function Vs(t,e,o,n){for(var r=0,i=0,s=0,l=0,a=0,u=null,c=null,p=!1,h=!1,g=null,d=0;d<e.length;d++){var f=e[d];if(f.nodeIndex=d,f.parent=u,f.bindingIndex=r,f.outputIndex=i,f.renderParent=c,s|=f.flags,a|=f.matchedQueryIds,f.element){var m=f.element;m.publicProviders=u?u.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,p=!1,h=!1,f.element.template&&(a|=f.element.template.nodeMatchedQueries)}if(Gs(u,f,e.length),r+=f.bindings.length,i+=f.outputs.length,!c&&3&f.flags&&(g=f),20224&f.flags){p||(p=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var _=0!=(32768&f.flags);0==(8192&f.flags)||_?u.element.publicProviders[Cn(f.provider.token)]=f:(h||(h=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Cn(f.provider.token)]=f),_&&(u.element.componentProvider=f)}if(u?(u.childFlags|=f.flags,u.directChildFlags|=f.flags,u.childMatchedQueries|=f.matchedQueryIds,f.element&&f.element.template&&(u.childMatchedQueries|=f.element.template.nodeMatchedQueries)):l|=f.flags,f.childCount>0)u=f,Hs(f)||(c=f);else for(;u&&d===u.nodeIndex+u.childCount;){var y=u.parent;y&&(y.childFlags|=u.childFlags,y.childMatchedQueries|=u.childMatchedQueries),c=(u=y)&&Hs(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:l,nodeMatchedQueries:a,flags:t,nodes:e,updateDirectives:o||Tn,updateRenderer:n||Tn,handleEvent:function(t,o,n,r){return e[o].element.handleEvent(t,n,r)},bindingCount:r,outputCount:i,lastRenderRootNode:g}}function Hs(t){return 0!=(1&t.flags)&&null===t.element.name}function Gs(t,e,o){var n=e.element&&e.element.template;if(n){if(!n.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(n.lastRenderRootNode&&16777216&n.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var r=t?t.nodeIndex+t.childCount:o-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Ws(t,e,o,n){var r=zs(t.root,t.renderer,t,e,o);return Xs(r,t.component,n),Ys(r),r}function js(t,e,o){var n=zs(t,t.renderer,null,null,e);return Xs(n,o,o),Ys(n),n}function Ks(t,e,o,n){var r,i=e.element.componentRendererType;return r=i?t.root.rendererFactory.createRenderer(n,i):t.root.renderer,zs(t.root,r,t,e.element.componentProvider,o)}function zs(t,e,o,n,r){var i=new Array(r.nodes.length),s=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:o,viewContainerParent:null,parentNodeDef:n,context:null,component:null,nodes:i,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:s,initIndex:-1}}function Xs(t,e,o){t.component=e,t.context=o}function Ys(t){var e;Vn(t)&&(e=yn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var o=t.def,n=t.nodes,r=0;r<o.nodes.length;r++){var i=o.nodes[r];kn.setCurrentNode(t,r);var s=void 0;switch(201347067&i.flags){case 1:var l=Ts(t,e,i),a=void 0;if(33554432&i.flags){var u=Xn(i.element.componentView);a=kn.createComponentView(t,i,u,l)}Ss(t,a,i,l),s={renderElement:l,componentView:a,viewContainer:null,template:i.element.template?kr(t,i):void 0},16777216&i.flags&&(s.viewContainer=yr(t,i,s));break;case 2:s=Fs(t,e,i);break;case 512:case 1024:case 2048:case 256:(s=n[r])||4096&i.flags||(s={instance:Wr(t,i)});break;case 16:s={instance:jr(t,i)};break;case 16384:(s=n[r])||(s={instance:Kr(t,i)}),32768&i.flags&&Xs(yn(t,i.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new pi;break;case 8:xs(t,e,i),s=void 0}n[r]=s}nl(t,ol.CreateViewNodes),ll(t,201326592,268435456,0)}function Js(t){Qs(t),kn.updateDirectives(t,1),rl(t,ol.CheckNoChanges),kn.updateRenderer(t,1),nl(t,ol.CheckNoChanges),t.state&=-97}function qs(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,fn(t,0,256),Qs(t),kn.updateDirectives(t,0),rl(t,ol.CheckAndUpdate),ll(t,67108864,536870912,0);var e=fn(t,256,512);$r(t,2097152|(e?1048576:0)),kn.updateRenderer(t,0),nl(t,ol.CheckAndUpdate),ll(t,134217728,536870912,0),$r(t,8388608|((e=fn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,fn(t,768,1024)}function Zs(t,e,o,r,i,s,l,a,u,c,p,h,g){return 0===o?function(t,e,o,n,r,i,s,l,a,u,c,p){switch(201347067&e.flags){case 1:return function(t,e,o,n,r,i,s,l,a,u,c,p){var h=e.bindings.length,g=!1;return h>0&&As(t,e,0,o)&&(g=!0),h>1&&As(t,e,1,n)&&(g=!0),h>2&&As(t,e,2,r)&&(g=!0),h>3&&As(t,e,3,i)&&(g=!0),h>4&&As(t,e,4,s)&&(g=!0),h>5&&As(t,e,5,l)&&(g=!0),h>6&&As(t,e,6,a)&&(g=!0),h>7&&As(t,e,7,u)&&(g=!0),h>8&&As(t,e,8,c)&&(g=!0),h>9&&As(t,e,9,p)&&(g=!0),g}(t,e,o,n,r,i,s,l,a,u,c,p);case 2:return function(t,e,o,n,r,i,s,l,a,u,c,p){var h=!1,g=e.bindings,d=g.length;if(d>0&&Nn(t,e,0,o)&&(h=!0),d>1&&Nn(t,e,1,n)&&(h=!0),d>2&&Nn(t,e,2,r)&&(h=!0),d>3&&Nn(t,e,3,i)&&(h=!0),d>4&&Nn(t,e,4,s)&&(h=!0),d>5&&Nn(t,e,5,l)&&(h=!0),d>6&&Nn(t,e,6,a)&&(h=!0),d>7&&Nn(t,e,7,u)&&(h=!0),d>8&&Nn(t,e,8,c)&&(h=!0),d>9&&Nn(t,e,9,p)&&(h=!0),h){var f=e.text.prefix;d>0&&(f+=Us(o,g[0])),d>1&&(f+=Us(n,g[1])),d>2&&(f+=Us(r,g[2])),d>3&&(f+=Us(i,g[3])),d>4&&(f+=Us(s,g[4])),d>5&&(f+=Us(l,g[5])),d>6&&(f+=Us(a,g[6])),d>7&&(f+=Us(u,g[7])),d>8&&(f+=Us(c,g[8])),d>9&&(f+=Us(p,g[9]));var m=_n(t,e.nodeIndex).renderText;t.renderer.setValue(m,f)}return h}(t,e,o,n,r,i,s,l,a,u,c,p);case 16384:return function(t,e,o,n,r,i,s,l,a,u,c,p){var h=vn(t,e.nodeIndex),g=h.instance,d=!1,f=void 0,m=e.bindings.length;return m>0&&Rn(t,e,0,o)&&(d=!0,f=Qr(t,h,e,0,o,f)),m>1&&Rn(t,e,1,n)&&(d=!0,f=Qr(t,h,e,1,n,f)),m>2&&Rn(t,e,2,r)&&(d=!0,f=Qr(t,h,e,2,r,f)),m>3&&Rn(t,e,3,i)&&(d=!0,f=Qr(t,h,e,3,i,f)),m>4&&Rn(t,e,4,s)&&(d=!0,f=Qr(t,h,e,4,s,f)),m>5&&Rn(t,e,5,l)&&(d=!0,f=Qr(t,h,e,5,l,f)),m>6&&Rn(t,e,6,a)&&(d=!0,f=Qr(t,h,e,6,a,f)),m>7&&Rn(t,e,7,u)&&(d=!0,f=Qr(t,h,e,7,u,f)),m>8&&Rn(t,e,8,c)&&(d=!0,f=Qr(t,h,e,8,c,f)),m>9&&Rn(t,e,9,p)&&(d=!0,f=Qr(t,h,e,9,p,f)),f&&g.ngOnChanges(f),65536&e.flags&&mn(t,256,e.nodeIndex)&&g.ngOnInit(),262144&e.flags&&g.ngDoCheck(),d}(t,e,o,n,r,i,s,l,a,u,c,p);case 32:case 64:case 128:return function(t,e,o,n,r,i,s,l,a,u,c,p){var h=e.bindings,g=!1,d=h.length;if(d>0&&Nn(t,e,0,o)&&(g=!0),d>1&&Nn(t,e,1,n)&&(g=!0),d>2&&Nn(t,e,2,r)&&(g=!0),d>3&&Nn(t,e,3,i)&&(g=!0),d>4&&Nn(t,e,4,s)&&(g=!0),d>5&&Nn(t,e,5,l)&&(g=!0),d>6&&Nn(t,e,6,a)&&(g=!0),d>7&&Nn(t,e,7,u)&&(g=!0),d>8&&Nn(t,e,8,c)&&(g=!0),d>9&&Nn(t,e,9,p)&&(g=!0),g){var f=bn(t,e.nodeIndex),m=void 0;switch(201347067&e.flags){case 32:m=new Array(h.length),d>0&&(m[0]=o),d>1&&(m[1]=n),d>2&&(m[2]=r),d>3&&(m[3]=i),d>4&&(m[4]=s),d>5&&(m[5]=l),d>6&&(m[6]=a),d>7&&(m[7]=u),d>8&&(m[8]=c),d>9&&(m[9]=p);break;case 64:m={},d>0&&(m[h[0].name]=o),d>1&&(m[h[1].name]=n),d>2&&(m[h[2].name]=r),d>3&&(m[h[3].name]=i),d>4&&(m[h[4].name]=s),d>5&&(m[h[5].name]=l),d>6&&(m[h[6].name]=a),d>7&&(m[h[7].name]=u),d>8&&(m[h[8].name]=c),d>9&&(m[h[9].name]=p);break;case 128:var _=o;switch(d){case 1:m=_.transform(o);break;case 2:m=_.transform(n);break;case 3:m=_.transform(n,r);break;case 4:m=_.transform(n,r,i);break;case 5:m=_.transform(n,r,i,s);break;case 6:m=_.transform(n,r,i,s,l);break;case 7:m=_.transform(n,r,i,s,l,a);break;case 8:m=_.transform(n,r,i,s,l,a,u);break;case 9:m=_.transform(n,r,i,s,l,a,u,c);break;case 10:m=_.transform(n,r,i,s,l,a,u,c,p)}}f.value=m}return g}(t,e,o,n,r,i,s,l,a,u,c,p);default:throw"unreachable"}}(t,e,r,i,s,l,a,u,c,p,h,g):function(t,e,o){switch(201347067&e.flags){case 1:return function(t,e,o){for(var n=!1,r=0;r<o.length;r++)As(t,e,r,o[r])&&(n=!0);return n}(t,e,o);case 2:return function(t,e,o){for(var n=e.bindings,r=!1,i=0;i<o.length;i++)Nn(t,e,i,o[i])&&(r=!0);if(r){var s="";for(i=0;i<o.length;i++)s+=Us(o[i],n[i]);s=e.text.prefix+s;var l=_n(t,e.nodeIndex).renderText;t.renderer.setValue(l,s)}return r}(t,e,o);case 16384:return function(t,e,o){for(var n=vn(t,e.nodeIndex),r=n.instance,i=!1,s=void 0,l=0;l<o.length;l++)Rn(t,e,l,o[l])&&(i=!0,s=Qr(t,n,e,l,o[l],s));return s&&r.ngOnChanges(s),65536&e.flags&&mn(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),i}(t,e,o);case 32:case 64:case 128:return function(t,e,o){for(var r=e.bindings,i=!1,s=0;s<o.length;s++)Nn(t,e,s,o[s])&&(i=!0);if(i){var l=bn(t,e.nodeIndex),a=void 0;switch(201347067&e.flags){case 32:a=o;break;case 64:for(a={},s=0;s<o.length;s++)a[r[s].name]=o[s];break;case 128:var u=o[0],c=o.slice(1);a=u.transform.apply(u,Object(n.__spread)(c))}l.value=a}return i}(t,e,o);default:throw"unreachable"}}(t,e,r)}function Qs(t){var e=t.def;if(4&e.nodeFlags)for(var o=0;o<e.nodes.length;o++){var n=e.nodes[o];if(4&n.flags){var r=yn(t,o).template._projectedViews;if(r)for(var i=0;i<r.length;i++){var s=r[i];s.state|=32,Ln(s,t)}}else 0==(4&n.childFlags)&&(o+=n.childCount)}}function $s(t,e,o,n,r,i,s,l,a,u,c,p,h){return 0===o?function(t,e,o,n,r,i,s,l,a,u,c,p){var h=e.bindings.length;h>0&&xn(t,e,0,o),h>1&&xn(t,e,1,n),h>2&&xn(t,e,2,r),h>3&&xn(t,e,3,i),h>4&&xn(t,e,4,s),h>5&&xn(t,e,5,l),h>6&&xn(t,e,6,a),h>7&&xn(t,e,7,u),h>8&&xn(t,e,8,c),h>9&&xn(t,e,9,p)}(t,e,n,r,i,s,l,a,u,c,p,h):function(t,e,o){for(var n=0;n<o.length;n++)xn(t,e,n,o[n])}(t,e,n),!1}function tl(t,e){if(En(t,e.nodeIndex).dirty)throw hn(kn.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function el(t){if(!(128&t.state)){if(rl(t,ol.Destroy),nl(t,ol.Destroy),$r(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Pn(t);if(e){var o=e.template._projectedViews;o&&(jt(o,o.indexOf(t)),kn.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,o=0;o<e;o++){var n=t.def.nodes[o];1&n.flags?t.renderer.destroyNode(yn(t,o).renderElement):2&n.flags?t.renderer.destroyNode(_n(t,o).renderText):(67108864&n.flags||134217728&n.flags)&&En(t,o).destroy()}}(t),Vn(t)&&t.renderer.destroy(),t.state|=128}}var ol=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function nl(t,e){var o=t.def;if(33554432&o.nodeFlags)for(var n=0;n<o.nodes.length;n++){var r=o.nodes[n];33554432&r.flags?il(yn(t,n).componentView,e):0==(33554432&r.childFlags)&&(n+=r.childCount)}}function rl(t,e){var o=t.def;if(16777216&o.nodeFlags)for(var n=0;n<o.nodes.length;n++){var r=o.nodes[n];if(16777216&r.flags)for(var i=yn(t,n).viewContainer._embeddedViews,s=0;s<i.length;s++)il(i[s],e);else 0==(16777216&r.childFlags)&&(n+=r.childCount)}}function il(t,e){var o=t.state;switch(e){case ol.CheckNoChanges:0==(128&o)&&(12==(12&o)?Js(t):64&o&&sl(t,ol.CheckNoChangesProjectedViews));break;case ol.CheckNoChangesProjectedViews:0==(128&o)&&(32&o?Js(t):64&o&&sl(t,e));break;case ol.CheckAndUpdate:0==(128&o)&&(12==(12&o)?qs(t):64&o&&sl(t,ol.CheckAndUpdateProjectedViews));break;case ol.CheckAndUpdateProjectedViews:0==(128&o)&&(32&o?qs(t):64&o&&sl(t,e));break;case ol.Destroy:el(t);break;case ol.CreateViewNodes:Ys(t)}}function sl(t,e){rl(t,e),nl(t,e)}function ll(t,e,o,n){if(t.def.nodeFlags&e&&t.def.nodeFlags&o)for(var r=t.def.nodes.length,i=0;i<r;i++){var s=t.def.nodes[i];if(s.flags&e&&s.flags&o)switch(kn.setCurrentNode(t,s.nodeIndex),n){case 0:Bs(t,s);break;case 1:tl(t,s)}s.childFlags&e&&s.childFlags&o||(i+=s.childCount)}}var al=!1;function ul(t,e,o,n,r,i){var s=r.injector.get(Vo);return js(pl(t,r,s,e,o),n,i)}function cl(t,e,o,n,r,i){var s=r.injector.get(Vo),l=pl(t,r,new jl(s),e,o),a=El(n);return Gl(Il.create,js,null,[l,a,i])}function pl(t,e,o,n,r){var i=e.injector.get(Ce),s=e.injector.get($t),l=o.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:n,selectorOrNode:r,sanitizer:i,rendererFactory:o,renderer:l,errorHandler:s}}function hl(t,e,o,n){var r=El(o);return Gl(Il.create,Ws,null,[t,e,r,n])}function gl(t,e,o,n){return o=_l.get(e.element.componentProvider.provider.token)||El(o),Gl(Il.create,Ks,null,[t,e,o,n])}function dl(t,e,o,n){return Br(t,e,o,function(t){var e=function(t){var e=!1,o=!1;return 0===fl.size?{hasOverrides:e,hasDeprecatedOverrides:o}:(t.providers.forEach((function(t){var n=fl.get(t.token);3840&t.flags&&n&&(e=!0,o=o||n.deprecatedBehavior)})),t.modules.forEach((function(t){ml.forEach((function(n,r){ft(r).providedIn===t&&(e=!0,o=o||n.deprecatedBehavior)}))})),{hasOverrides:e,hasDeprecatedOverrides:o})}(t),o=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];o&&(n.flags|=4096);var r=fl.get(n.token);r&&(n.flags=-3841&n.flags|r.flags,n.deps=jn(r.deps),n.value=r.value)}if(ml.size>0){var i=new Set(t.modules);ml.forEach((function(e,n){if(i.has(ft(n).providedIn)){var r={token:n,flags:e.flags|(o?4096:0),deps:jn(e.deps),value:e.value,index:t.providers.length};t.providers.push(r),t.providersByKey[Cn(n)]=r}}))}}(t=t.factory((function(){return Tn}))),t):t}(n))}var fl=new Map,ml=new Map,_l=new Map;function yl(t){var e;fl.set(t.token,t),"function"==typeof t.token&&(e=ft(t.token))&&"function"==typeof e.providedIn&&ml.set(t.token,t)}function vl(t,e){var o=Xn(e.viewDefFactory),n=Xn(o.nodes[0].element.componentView);_l.set(t,n)}function bl(){fl.clear(),ml.clear(),_l.clear()}function El(t){if(0===fl.size)return t;var e=function(t){for(var e=[],o=null,n=0;n<t.nodes.length;n++){var r=t.nodes[n];1&r.flags&&(o=r),o&&3840&r.flags&&fl.has(r.provider.token)&&(e.push(o.nodeIndex),o=null)}return e}(t);if(0===e.length)return t;t=t.factory((function(){return Tn}));for(var o=0;o<e.length;o++)n(t,e[o]);return t;function n(t,e){for(var o=e+1;o<t.nodes.length;o++){var n=t.nodes[o];if(1&n.flags)return;if(3840&n.flags){var r=n.provider,i=fl.get(r.token);i&&(n.flags=-3841&n.flags|i.flags,r.deps=jn(i.deps),r.value=i.value)}}}}function kl(t,e,o,n,r,i,s,l,a,u,c,p,h){var g=t.def.nodes[e];return Zs(t,g,o,n,r,i,s,l,a,u,c,p,h),224&g.flags?bn(t,e).value:void 0}function Tl(t,e,o,n,r,i,s,l,a,u,c,p,h){var g=t.def.nodes[e];return $s(t,g,o,n,r,i,s,l,a,u,c,p,h),224&g.flags?bn(t,e).value:void 0}function Sl(t){return Gl(Il.detectChanges,qs,null,[t])}function Cl(t){return Gl(Il.checkNoChanges,Js,null,[t])}function Al(t){return Gl(Il.destroy,el,null,[t])}var wl,Ol,Bl,Il=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function Rl(t,e){Ol=t,Bl=e}function Nl(t,e,o,n){return Rl(t,e),Gl(Il.handleEvent,t.def.handleEvent,null,[t,e,o,n])}function xl(t,e){if(128&t.state)throw dn(Il[wl]);return Rl(t,Pl(t,0)),t.def.updateDirectives((function(t,o,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=t.def.nodes[o];return 0===e?Ll(t,s,n,r):Ml(t,s,n,r),16384&s.flags&&Rl(t,Pl(t,o)),224&s.flags?bn(t,s.nodeIndex).value:void 0}),t)}function Dl(t,e){if(128&t.state)throw dn(Il[wl]);return Rl(t,Fl(t,0)),t.def.updateRenderer((function(t,o,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=t.def.nodes[o];return 0===e?Ll(t,s,n,r):Ml(t,s,n,r),3&s.flags&&Rl(t,Fl(t,o)),224&s.flags?bn(t,s.nodeIndex).value:void 0}),t)}function Ll(t,e,o,r){if(Zs.apply(void 0,Object(n.__spread)([t,e,o],r))){var i=1===o?r[0]:r;if(16384&e.flags){for(var s={},l=0;l<e.bindings.length;l++){var a=e.bindings[l],u=i[l];8&a.flags&&(s[(g=a.nonMinifiedName,"ng-reflect-"+g.replace(/[$@]/g,"_").replace(Oe,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=Be(u))}var c=e.parent,p=yn(t,c.nodeIndex).renderElement;if(c.element.name)for(var h in s)null!=(u=s[h])?t.renderer.setAttribute(p,h,u):t.renderer.removeAttribute(p,h);else t.renderer.setValue(p,"bindings="+JSON.stringify(s,null,2))}}var g}function Ml(t,e,o,r){$s.apply(void 0,Object(n.__spread)([t,e,o],r))}function Pl(t,e){for(var o=e;o<t.def.nodes.length;o++){var n=t.def.nodes[o];if(16384&n.flags&&n.bindings&&n.bindings.length)return o}return null}function Fl(t,e){for(var o=e;o<t.def.nodes.length;o++){var n=t.def.nodes[o];if(3&n.flags&&n.bindings&&n.bindings.length)return o}return null}var Ul=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var o=this.nodeDef,n=t;o&&0==(1&o.flags);)o=o.parent;if(!o)for(;!o&&n;)o=Fn(n),n=n.parent;this.elDef=o,this.elView=n}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return yn(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Sr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var o=this.elView.def.nodes[e];20224&o.flags&&t.push(o.provider.token),e+=o.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Hl(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var o=this.elView.def.nodes[e];20224&o.flags&&Hl(this.elView,o,t),e+=o.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Vn(t);)t=t.parent;return t.parent?yn(t.parent,Fn(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Un(this.view,this.nodeDef):Un(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,o,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,o=this.nodeDef.nodeIndex):(e=this.elView.def,o=this.elDef.nodeIndex);var s=Vl(e,o),l=-1,a=function(){var e;return++l===s?(e=t.error).bind.apply(e,Object(n.__spread)([t],r)):Tn};e.factory(a),l<s&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(n.__spread)(r)))},t}();function Vl(t,e){for(var o=-1,n=0;n<=e;n++)3&t.nodes[n].flags&&o++;return o}function Hl(t,e,o){for(var n in e.references)o[n]=Rs(t,e,e.references[n])}function Gl(t,e,o,n){var r,i,s=wl,l=Ol,a=Bl;try{wl=t;var u=e.apply(o,n);return Ol=l,Bl=a,wl=s,u}catch(c){if(qt(c)||!Ol)throw c;throw r=c,i=Wl(),r instanceof Error||(r=new Error(r.toString())),gn(r,i),r}}function Wl(){return Ol?new Ul(Ol,Bl):null}var jl=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Kl(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Kl=function(){function t(t){this.delegate=t,this.debugContextFactory=Wl,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){var e=gs(t);!function(t){hs.delete(t.nativeNode)}(e),e instanceof cs&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var o=this.delegate.createElement(t,e),n=this.createDebugContext(o);if(n){var r=new ps(o,null,n);r.name=t,ds(r)}return o},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),o=this.createDebugContext(e);return o&&ds(new cs(e,null,o)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),o=this.createDebugContext(e);return o&&ds(new cs(e,null,o)),e},t.prototype.appendChild=function(t,e){var o=gs(t),n=gs(e);o&&n&&o instanceof ps&&o.addChild(n),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,o){var n=gs(t),r=gs(e),i=gs(o);n&&r&&n instanceof ps&&n.insertBefore(i,r),this.delegate.insertBefore(t,e,o)},t.prototype.removeChild=function(t,e){var o=gs(t),n=gs(e);o&&n&&o instanceof ps&&o.removeChild(n),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var o=this.delegate.selectRootElement(t,e),n=Wl();return n&&ds(new ps(o,null,n)),o},t.prototype.setAttribute=function(t,e,o,n){var r=gs(t);r&&r instanceof ps&&(r.attributes[n?n+":"+e:e]=o),this.delegate.setAttribute(t,e,o,n)},t.prototype.removeAttribute=function(t,e,o){var n=gs(t);n&&n instanceof ps&&(n.attributes[o?o+":"+e:e]=null),this.delegate.removeAttribute(t,e,o)},t.prototype.addClass=function(t,e){var o=gs(t);o&&o instanceof ps&&(o.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var o=gs(t);o&&o instanceof ps&&(o.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,o,n){var r=gs(t);r&&r instanceof ps&&(r.styles[e]=o),this.delegate.setStyle(t,e,o,n)},t.prototype.removeStyle=function(t,e,o){var n=gs(t);n&&n instanceof ps&&(n.styles[e]=null),this.delegate.removeStyle(t,e,o)},t.prototype.setProperty=function(t,e,o){var n=gs(t);n&&n instanceof ps&&(n.properties[e]=o),this.delegate.setProperty(t,e,o)},t.prototype.listen=function(t,e,o){if("string"!=typeof t){var n=gs(t);n&&n.listeners.push(new us(e,o))}return this.delegate.listen(t,e,o)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function zl(t,e,o){return new Xl(t,e,o)}var Xl=function(t){function e(e,o,n){var r=t.call(this)||this;return r.moduleType=e,r._bootstrapComponents=o,r._ngModuleDefFactory=n,r}return Object(n.__extends)(e,t),e.prototype.create=function(t){!function(){if(!al){al=!0;var t=oe()?{setCurrentNode:Rl,createRootView:cl,createEmbeddedView:hl,createComponentView:gl,createNgModuleRef:dl,overrideProvider:yl,overrideComponentView:vl,clearOverrides:bl,checkAndUpdateView:Sl,checkNoChangesView:Cl,destroyView:Al,createDebugContext:function(t,e){return new Ul(t,e)},handleEvent:Nl,updateDirectives:xl,updateRenderer:Dl}:{setCurrentNode:function(){},createRootView:ul,createEmbeddedView:Ws,createComponentView:Ks,createNgModuleRef:Br,overrideProvider:Tn,overrideComponentView:Tn,clearOverrides:Tn,checkAndUpdateView:qs,checkNoChangesView:Js,destroyView:el,createDebugContext:function(t,e){return new Ul(t,e)},handleEvent:function(t,e,o,n){return t.def.handleEvent(t,e,o,n)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?kl:Tl,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?kl:Tl,t)}};kn.setCurrentNode=t.setCurrentNode,kn.createRootView=t.createRootView,kn.createEmbeddedView=t.createEmbeddedView,kn.createComponentView=t.createComponentView,kn.createNgModuleRef=t.createNgModuleRef,kn.overrideProvider=t.overrideProvider,kn.overrideComponentView=t.overrideComponentView,kn.clearOverrides=t.clearOverrides,kn.checkAndUpdateView=t.checkAndUpdateView,kn.checkNoChangesView=t.checkNoChangesView,kn.destroyView=t.destroyView,kn.resolveDep=qr,kn.createDebugContext=t.createDebugContext,kn.handleEvent=t.handleEvent,kn.updateDirectives=t.updateDirectives,kn.updateRenderer=t.updateRenderer,kn.dirtyParentQueries=Os}}();var e=function(t){var e=Array.from(t.providers),o=Array.from(t.modules),n={};for(var r in t.providersByKey)n[r]=t.providersByKey[r];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:o,providersByKey:n}}(Xn(this._ngModuleDefFactory));return kn.createNgModuleRef(this.moduleType,t||We.NULL,this._bootstrapComponents,e)},e}(Gt),Yl={production:!0,environment:"PROD"},Jl=(o("mNvP"),o("hN/g"),function(){function t(t,e,o){void 0===e&&(e="/assets/i18n/"),void 0===o&&(o=".json"),this.http=t,this.prefix=e,this.suffix=o}return t.prototype.getTranslation=function(t){return this.http.get(""+this.prefix+t+this.suffix)},t}());function ql(t){return new Jl(t,"./assets/i18n/",".json")}var Zl=function(){return function(){}}(),Ql=function(t){return t.SERVO="SERVO",t.EMPTY="EMPTY",t.LCD_SCREEN="LCD_SCREEN",t.LED_MATRIX="LED_MATRIX",t.NEO_PIXEL_STRIP="NEO_PIXEL_STRIP",t.MOTOR="MOTOR",t.PIN="PIN",t.ARDUINO="ARDUINO",t.BLUE_TOOTH="BLUE_TOOTH",t.LED_COLOR="LED_COLOR",t.RFID="RFID",t.BUTTON="BUTTON",t.MESSAGE="MESSAGE",t.TIME="TIME",t.IR_REMOTE="IR_REMOTE",t.ULTRASONICE_SENSOR="ULTRASONICE_SENSOR",t.TEMPERATURE_SENSOR="TEMPERATURE_SENSOR",t}({}),$l=o("LvDl"),ta=function(){function t(t,e,o,n,r,i){void 0===o&&(o=!1),void 0===n&&(n=""),void 0===r&&(r=0),void 0===i&&(i=!0),this.components=t,this.variables=e,this.txLedOn=o,this.sendMessage=n,this.delay=r,this.powerLedOn=i,this.electricComponentType=Ql.ARDUINO}return t.makeEmptyState=function(){return new t([],{},!1)},t.copyState=function(e){return new t($l.cloneDeep(e.components).map((function(t){return t.copyState()})),$l.cloneDeep(e.variables))},t}(),ea=function(){function t(){}return t.prototype.setVirtualCircuit=function(t){delete this.virtualCircuit,this.virtualCircuit=t},t.prototype.executeFrame=function(t,e,o){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.virtualCircuit.matchFinalState(e,o)];case 1:return n.sent(),[4,this.virtualCircuit.matchState(t)];case 2:return n.sent(),[2,!0]}}))}))},t.prototype.reset=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.virtualCircuit.matchFinalState(new ta([],{}),!0)];case 1:return t.sent(),[4,this.virtualCircuit.matchState(new ta([],{}))];case 2:return t.sent(),[2]}}))}))},t.prototype.isReady=function(){return void 0!==this.virtualCircuit},t.prototype.stopAmination=function(){this.virtualCircuit.stopAllAnimations()},t.ngInjectableDef=dt({factory:function(){return new t},token:t,providedIn:"root"}),t}(),oa=new wt("ExecuteFrameProvider",{providedIn:"root",factory:function(){return new ea}}),na=o("9oTK"),ra=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.scheduler=e,n.work=o,n.pending=!1,n}return n.__extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var o=this.id,n=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(n,o,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,o){return void 0===o&&(o=0),setInterval(t.flush.bind(t,this),o)},e.prototype.recycleAsyncId=function(t,e,o){if(void 0===o&&(o=0),null!==o&&this.delay===o&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(t,e);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var o=!1,n=void 0;try{this.work(t)}catch(r){o=!0,n=!!r&&r||new Error(r)}if(o)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,o=e.actions,n=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&o.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,o){return t.call(this)||this}return n.__extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(u)),ia=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.scheduler=e,n.work=o,n}return n.__extends(e,t),e.prototype.schedule=function(e,o){return void 0===o&&(o=0),o>0?t.prototype.schedule.call(this,e,o):(this.delay=o,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,o){return o>0||this.closed?t.prototype.execute.call(this,e,o):this._execute(e,o)},e.prototype.requestAsyncId=function(e,o,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,o,n):e.flush(this)},e}(ra),sa=function(){function t(e,o){void 0===o&&(o=t.now),this.SchedulerAction=e,this.now=o}return t.prototype.schedule=function(t,e,o){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(o,e)},t.now=function(){return Date.now()},t}(),la=function(t){function e(o,n){void 0===n&&(n=sa.now);var r=t.call(this,o,(function(){return e.delegate&&e.delegate!==r?e.delegate.now():n()}))||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}return n.__extends(e,t),e.prototype.schedule=function(o,n,r){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(o,n,r):t.prototype.schedule.call(this,o,n,r)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var o;this.active=!0;do{if(o=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,o){for(;t=e.shift();)t.unsubscribe();throw o}}},e}(sa),aa=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e}(la))(ia),ua=new k((function(t){return t.complete()}));function ca(t){return t?function(t){return new k((function(e){return t.schedule((function(){return e.complete()}))}))}(t):ua}function pa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=t[t.length-1];return I(o)?(t.pop(),W(t,o)):q(t)}function ha(t,e){return new k(e?function(o){return e.schedule(ga,0,{error:t,subscriber:o})}:function(e){return e.error(t)})}function ga(t){t.subscriber.error(t.error)}var da=function(){function t(t,e,o){this.kind=t,this.value=e,this.error=o,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,o){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return o&&o()}},t.prototype.accept=function(t,e,o){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,o)},t.prototype.toObservable=function(){switch(this.kind){case"N":return pa(this.value);case"E":return ha(this.error);case"C":return ca()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),fa=function(t){function e(e,o,n){void 0===n&&(n=0);var r=t.call(this,e)||this;return r.scheduler=o,r.delay=n,r}return n.__extends(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new ma(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(da.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(da.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(da.createComplete()),this.unsubscribe()},e}(m),ma=function(){return function(t,e){this.notification=t,this.destination=e}}(),_a=function(t){function e(e,o,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===o&&(o=Number.POSITIVE_INFINITY);var r=t.call(this)||this;return r.scheduler=n,r._events=[],r._infiniteTimeWindow=!1,r._bufferSize=e<1?1:e,r._windowTime=o<1?1:o,o===Number.POSITIVE_INFINITY?(r._infiniteTimeWindow=!0,r.next=r.nextInfiniteTimeWindow):r.next=r.nextTimeWindow,r}return n.__extends(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var o=this._events;o.push(e),o.length>this._bufferSize&&o.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new ya(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,o=this._infiniteTimeWindow,n=o?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;if(this.closed)throw new C;if(this.isStopped||this.hasError?e=u.EMPTY:(this.observers.push(t),e=new A(this,t)),r&&t.add(t=new fa(t,r)),o)for(var s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||aa).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,o=this._windowTime,n=this._events,r=n.length,i=0;i<r&&!(t-n[i].time<o);)i++;return r>e&&(i=Math.max(i,r-e)),i>0&&n.splice(0,i),n},e}(O),ya=function(){return function(t,e){this.time=t,this.value=e}}(),va=function(){function t(t){this.frameExecutor=t,this.speed=1,this.changeFrameSubject=new _a(20),this.changeFrame$=this.changeFrameSubject.asObservable().pipe(it()),this.frames=[],this.playing=!1,this.currentFrame=0}return t.prototype.setFrames=function(t,e){return void 0===e&&(e=!1),Object(n.__awaiter)(this,void 0,void 0,(function(){var o,r;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return o=this.frames.length,r=this.currentFrame,this.playing=!1,this.frames=t,this.frameExecutor.isReady()?0!==t.length?[3,2]:[4,this.frameExecutor.reset()]:[2];case 1:return n.sent(),[2];case 2:return!e||o>=this.frames.length?[4,this.skipToFrame(0)]:[3,4];case 3:return n.sent(),[2];case 4:return[4,this.skipToFrame(r)];case 5:return n.sent(),[2]}}))}))},t.prototype.resetState=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.skipToFrame(this.currentFrame)];case 1:return t.sent(),[2]}}))}))},t.prototype.isReady=function(){return this.frameExecutor.isReady()},t.prototype.getFrames=function(){return this.frames},t.prototype.getCurrentFrame=function(){return this.frames[this.currentFrame]},t.prototype.play=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return this.isPlaying()&&!this.isLastFrame()?[2]:(this.playing=!0,this.isLastFrame()&&(this.currentFrame=0),[4,this.playNextFrame()]);case 1:return t.sent(),[2]}}))}))},t.prototype.stop=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){return this.playing=!1,this.frameExecutor.stopAmination(),[2]}))}))},t.prototype.isLastFrame=function(){return this.currentFrame>=this.lastFrameNumber()},t.prototype.isPlaying=function(){return this.playing},t.prototype.lastFrameNumber=function(){return this.frames.length-1},t.prototype.previous=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return this.currentFrame-=1,this.currentFrame=this.currentFrame<0?0:this.currentFrame,this.playing=!1,[4,this.executeFrame(0===this.currentFrame)];case 1:return t.sent(),[2]}}))}))},t.prototype.next=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return this.currentFrame+=1,this.currentFrame=this.currentFrame>this.lastFrameNumber()?this.lastFrameNumber():this.currentFrame,this.playing=!1,[4,this.executeFrame(0===this.currentFrame)];case 1:return t.sent(),[2]}}))}))},t.prototype.replay=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.stop()];case 1:return t.sent(),[4,this.skipToFrame(0)];case 2:return t.sent(),this.play(),[2]}}))}))},t.prototype.skipToFrame=function(t){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(e){switch(e.label){case 0:return this.playing=!1,this.currentFrame=t<0?0:t,this.currentFrame=this.currentFrame>=this.lastFrameNumber()?this.lastFrameNumber():this.currentFrame,[4,this.executeFrame(!0)];case 1:return e.sent(),[2]}}))}))},t.prototype.playNextFrame=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.executeFrame(0===this.currentFrame)];case 1:return t.sent(),!this.playing||this.isLastFrame()?[3,3]:(this.currentFrame+=1,[4,this.playNextFrame()]);case 2:return t.sent(),[2];case 3:return this.playing&&this.isLastFrame()&&(this.playing=!1,this.frameExecutor.stopAmination()),[2]}}))}))},t.prototype.executeFrame=function(t){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(e){switch(e.label){case 0:return this.canExecuteFrame()?[4,this.sendMessage(t)]:(this.playing=!1,[2]);case 1:return e.sent(),this.sendFrameOutput(),[4,this.delay()];case 2:return e.sent(),[2]}}))}))},t.prototype.sendFrameOutput=function(){var t=this.frames[this.currentFrame];this.changeFrameSubject.next({state:t.state,blockId:t.blockId,lastFrame:this.currentFrame===this.lastFrameNumber(),frameLocation:t.frameLocation,frameNumber:this.currentFrame,explanation:t.explanation})},t.prototype.sendMessage=function(t){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.frameExecutor.executeFrame(this.frames[this.currentFrame].state,this.frames[this.lastFrameNumber()].state,t)];case 1:return e.sent(),[2]}}))}))},t.prototype.delay=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return[4,na.delay(400/this.speed+this.frames[this.currentFrame].state.delay)];case 1:return t.sent(),[2]}}))}))},t.prototype.canExecuteFrame=function(){return this.frames.length>0&&void 0!==this.frames[this.currentFrame]},t.ngInjectableDef=dt({factory:function(){return new t(Pt(oa))},token:t,providedIn:"root"}),t}(),ba=function(){function t(t,e,o,n){this.blockId=t,this.state=e,this.frameLocation=o,this.explanation=n}return t.makeEmptyFrame=function(e,o,n){return new t(e,new ta([],{},!1),o,n)},t.prototype.copyState=function(){return ta.copyState(this.state)},t.prototype.makeCopy=function(e,o,n){return new t(e,this.copyState(),$l.cloneDeep(o),n)},t}(),Ea=function(t){var e="PIN_"+t.toString();return ka[e]},ka=function(t){return t.PIN_1="1",t.PIN_2="2",t.PIN_3="3",t.PIN_4="4",t.PIN_5="5",t.PIN_6="6",t.PIN_7="7",t.PIN_8="8",t.PIN_9="9",t.PIN_10="10",t.PIN_11="11",t.PIN_12="12",t.PIN_13="13",t.PIN_A0="A0",t.PIN_A1="A1",t.PIN_A2="A2",t.PIN_A3="A3",t.PIN_A4="A4",t.PIN_A5="A5",t}({}),Ta=o("t/1s"),Sa=o("VMpS");Ta.FieldVariable.prototype.initModel=function(){if(!this.variable_){this.workspace_=this.sourceBlock_.workspace;var t=Ta.mainWorkspace.getVariablesOfType(this.defaultType_),e=null;t.length>0&&!0!==this.createNewVariable&&(e=t[t.length-1].getId());var o=Ta.Variables.getOrCreateVariablePackage(this.workspace_,e,this.defaultVariableName,this.defaultType_);Ta.Events.disable();try{this.setValue(o.getId())}finally{Ta.Events.enable()}}},Ta.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var t=this.getText(),e=null;this.getSourceBlock()&&(e=this.getSourceBlock().workspace);var o=[];if(e&&!1===this.showOnlyVariableAssigned){for(var n=this.getVariableTypes_(),r=0;r<n.length;r++){var i=e.getVariablesOfType(n[r]);o=o.concat(i)}o.sort(Ta.VariableModel.compareByName)}e&&!1!==this.showOnlyVariableAssigned&&o.push(this.variable_);var s=[];for(r=0;r<o.length;r++)s[r]=[o[r].name,o[r].getId()];return s.push([Ta.Msg.RENAME_VARIABLE,Ta.RENAME_VARIABLE_ID]),Ta.Msg.DELETE_VARIABLE&&s.push([Ta.Msg.DELETE_VARIABLE.replace("%1",t),Ta.DELETE_VARIABLE_ID]),s},Ta.FieldVariable.fromJson=function(t){var e=Ta.utils.replaceMessageReferences(t.variable),o=t.showOnlyVariableAssigned||!1,n=t.createNewVariable||!1,r=new Ta.FieldVariable(e,null,t.variableTypes,t.defaultType);return r.showOnlyVariableAssigned=o,r.createNewVariable=n,r},Ta.Procedures.flyoutCategory=function(t){var e=[];if(Ta.Blocks.procedures_defnoreturn){var o=Ta.utils.xml.createElement("block");o.setAttribute("type","procedures_defnoreturn"),o.setAttribute("gap",16);var n=Ta.utils.xml.createElement("field");n.setAttribute("name","NAME"),n.appendChild(Ta.utils.xml.createTextNode(Ta.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),o.appendChild(n),e.push(o)}function r(t,o){for(var n=0;n<t.length;n++){var r=t[n][0],i=t[n][3],s=Ta.utils.xml.createElement("block");s.setAttribute("type",o),s.setAttribute("gap",40);var l=Ta.utils.xml.createElement("mutation");l.setAttribute("name",r),s.appendChild(l);for(var a=0;a<i.length;a++){var u=Ta.utils.xml.createElement("arg");u.setAttribute("name",i[a].name),u.setAttribute("type",i[a].type),l.appendChild(u)}e.push(s)}}e.length&&e[e.length-1].setAttribute("gap",24);var i=Ta.Procedures.allProcedures(t);return r(i[0],"procedures_callnoreturn"),r(i[1],"procedures_callreturn"),e};var Ca=function(t){function e(e){var o=t.call(this)||this;return o._value=e,o}return n.__extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var o=t.prototype._subscribe.call(this,e);return o&&!o.closed&&e.next(this._value),o},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(O);function Aa(){return J(1)}function wa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Aa()(pa.apply(void 0,t))}function Oa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=t[t.length-1];return I(o)?(t.pop(),function(e){return wa(t,e,o)}):function(e){return wa(t,e)}}var Ba,Ia,Ra=function(){return function(){this.messageSubject=new O,this.arduinoOnlineState=new Ca(xa.DISCONNECTED),this.message$=this.messageSubject.asObservable().pipe(it()),this.arduinoState$=this.arduinoOnlineState.asObservable().pipe(Oa(xa.DISCONNECTED))}}(),Na=function(t){return t.SEND_MESSAGE="SEND_MESSAGE",t.UPLOAD_CODE="UPLOAD_CODE",t.DEBUG_MESSAGE="DEBUG_MESSAGE",t}({}),xa=function(t){return t.DISCONNECTED="DISCONNECTED",t.CONNECTED="CONNECTED",t.UPLOADING_CODE="UPLOADING_CODE",t.UPLOAD_CODE_COMPLETE="UPLOAD_CODE_COMPLETE",t.UPLOAD_CODE_ERROR="UPLOAD_CODE_ERROR",t}({}),Da=function(t){function e(){var o=t.call(this)||this;return o.chromebookApp=!1,e.isElectron&&(o.ipcRenderer=window.require("electron").ipcRenderer,o.webFrame=window.require("electron").webFrame,o.remote=window.require("electron").remote,o.childProcess=window.require("child_process"),o.fs=window.require("fs"),o.ipcRenderer.on("arduino_connected",(function(t,e){console.log("arduino_connected",e),o.arduinoOnlineState.next(e)})),o.ipcRenderer.on("arduino_message",(function(t,e){console.log("arduino_message",e),o.messageSubject.next(e)}))),o}return Object(n.__extends)(e,t),Object.defineProperty(e,"isElectron",{get:function(){return window&&window.process&&window.process.type},enumerable:!0,configurable:!0}),e.prototype.sendMessage=function(t,e){this.ipcRenderer.send(t,e)},e.ngInjectableDef=dt({factory:function(){return new e},token:e,providedIn:"root"}),e}(Ra),La=function(){function t(t){this.electronService=t}return t.prototype.overRideBlocklyPrompt=function(){if(Da.isElectron){var t=this.electronService.remote.require("electron-prompt");Ta.prompt=function(e,o,n){t({title:e,value:o,type:"input"}).then((function(t){n(t)}))}}},t.ngInjectableDef=dt({factory:function(){return new t(Pt(Da))},token:t,providedIn:"root"}),t}(),Ma=function(){function t(){this.pins=[]}return t.prototype.copyState=function(){return $l.cloneDeep(this)},t}(),Pa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e}(Ma),Fa=function(t){function e(e,o,n,r,i){void 0===n&&(n=!1);var s=t.call(this)||this;return s.rxPin=e,s.txPin=o,s.scannedCard=n,s.cardNumber=r,s.tag=i,s.electricComponentType=Ql.RFID,s.type="rfid_component",n?(s.cardNumber=r||"not set",s.tag=i||"not set"):(s.cardNumber="",s.tag=""),s.pins.push(s.rxPin),s.pins.push(s.txPin),s}return Object(n.__extends)(e,t),e.prototype.isEqual=function(t){return t instanceof e},e.prototype.getFieldValue=function(t){return"scanned_card"===t?this.scannedCard:"card_number"===t?this.cardNumber:"tag"===t?this.tag:void 0},e.prototype.explanation=function(){return this.scannedCard?"RFID Read is scanning card number: "+this.cardNumber+" and tag: "+this.tag:"RFID Reader is not scanning an new cards."},e}(Pa),Ua=function(t){function e(e,o){var n=t.call(this)||this;return n.pin=e,n.isPressed=o,n.type="button_component",n.electricComponentType=Ql.BUTTON,n.pins.push(e),n}return Object(n.__extends)(e,t),e.prototype.getFieldValue=function(t){return this.isPressed},e.prototype.isEqual=function(t){return t instanceof e&&t.pin==t.pin},e.prototype.explanation=function(){return"Button "+this.pin+" is "+(this.isPressed?"not":"")+" pressed"},e}(Pa),Va=function(t){function e(e,o,n,r,i){void 0===n&&(n=!1),void 0===r&&(r=""),void 0===i&&(i="");var s=t.call(this)||this;return s.rxPin=e,s.txPin=o,s.hasMessage=n,s.receivedMessage=r,s.sendMessage=i,s.electricComponentType=Ql.BLUE_TOOTH,s.pins=[s.rxPin,s.txPin],s.type="bluetooth_component",s}return Object(n.__extends)(e,t),e.prototype.copyState=function(){return new e(this.rxPin,this.txPin)},e.prototype.isEqual=function(t){return t instanceof e&&t.txPin===this.txPin&&this.rxPin===t.rxPin},e.prototype.getFieldValue=function(t){return"message"===t?this.receivedMessage:"receiving_message"===t?this.hasMessage:void 0},e.prototype.explanation=function(){return this.sendMessage?'Bluetooth sending message: "'+this.sendMessage+'"':this.hasMessage?'Bluetooth receiving message: "'+this.receivedMessage+'"':"Bluetooth is not receiving a message."},e}(Pa),Ha=function(t){function e(e,o){void 0===e&&(e=!1),void 0===o&&(o="");var n=t.call(this)||this;return n.recievingMessage=e,n.message=o,n.type="arduino_message_component",n.electricComponentType=Ql.MESSAGE,n}return Object(n.__extends)(e,t),e.prototype.getFieldValue=function(t){return"receiving_message"===t?this.recievingMessage:"message"===t?this.message:void 0},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.explanation=function(){return this.recievingMessage?'Arduino receiving message from computer: "'+this.message+'"':"Arduino not receiving message from computer"},e}(Pa),Ga=function(t){function e(e,o,n){var r=t.call(this)||this;return r.cm=e,r.trigPin=o,r.echoPin=n,r.pins=[r.trigPin,r.echoPin],r.electricComponentType=Ql.ULTRASONICE_SENSOR,r.type="ultrasonic_sensor_component",r}return Object(n.__extends)(e,t),e.prototype.getFieldValue=function(t){return this.cm},e.prototype.isEqual=function(t){return t instanceof e&&this.echoPin===t.echoPin&&this.trigPin===t.trigPin},e.prototype.explanation=function(){return"Ultrasonic Sensor is reading "+this.cm+" centimeter distance."},e}(Pa),Wa=function(t){function e(e,o,n,r,i){var s=t.call(this)||this;return s.pin=e,s.type=o,s.state=n,s.pinPicture=r,s.color=i,s.electricComponentType=Ql.PIN,s.pins=[s.pin],s}return Object(n.__extends)(e,t),e.prototype.isEqual=function(t){return t instanceof e&&t.pinPicture===this.pinPicture&&this.type===t.type&&(this.color===t.color||this.color.red===t.color.red&&this.color.green===t.color.green&&this.color.blue===t.color.blue)&&this.pin===t.pin},e.prototype.getFieldValue=function(t){return this.type===ja.DIGITAL_INPUT?this.state>0:this.state},e.prototype.explanation=function(){return this.pinPicture===Ka.LED?this.type===ja.ANALOG_INPUT?"Turning led "+this.pin+" to fade to "+this.state:"Turning led "+this.pin+" "+(this.state<=0?"off":"on")+".":this.pinPicture===Ka.PHOTO_SENSOR?"Photo Sensor reading "+this.state:this.pinPicture===Ka.SOIL_SENSOR?"Soil Sensor reading "+this.state+" humidity.":this.pinPicture===Ka.TOUCH_SENSOR?"Touch sensor is "+(this.state>0?"":"not")+" a touch.":this.pinPicture===Ka.SENSOR?this.type===ja.ANALOG_INPUT?"Sensor "+this.pin+" is sensing this power level "+this.state:"Sensor "+this.pin+" is "+(this.state<=0?"not":"")+" sensing something.":this.pinPicture===Ka.LED_ANALOG_WRITE||this.pinPicture===Ka.LED_DIGITAL_WRITE?this.type===ja.ANALOG_INPUT?"Turning pin "+this.pin+" to fade to "+this.state:"Turning pin "+this.pin+" "+(this.state<=0?"off":"on")+".":void 0},e}(Pa),ja=function(t){return t.DIGITAL_OUTPUT="DIGITAL_OUTPUT",t.ANALOG_OUTPUT="ANALOG_OUTPUT",t.ANALOG_INPUT="ANALOG_INPUT",t.DIGITAL_INPUT="DIGITAL_INPUT",t}({}),Ka=function(t){return t.LED="LED",t.LED_DIGITAL_WRITE="LED_DIGITAL_WRITE",t.LED_ANALOG_WRITE="LED_ANALOG_WRITE",t.SENSOR="SENSOR",t.PHOTO_SENSOR="PHOTO_SENSOR",t.TOUCH_SENSOR="TOUCH_SENSOR",t.SOIL_SENSOR="SOIL_SENSOR",t}({}),za=function(t){function e(e,o,n){var r=t.call(this)||this;return r.hasCode=e,r.code=o,r.analogPin=n,r.type="ir_remote_component",r.electricComponentType=Ql.IR_REMOTE,r.pins.push(n),r}return Object(n.__extends)(e,t),e.prototype.getFieldValue=function(t){return"has_code"===t?this.hasCode:this.code},e.prototype.isEqual=function(t){return t instanceof e&&t.analogPin===this.analogPin},e.prototype.explanation=function(){return"IR Remote is "+(this.hasCode?"":"not")+" receiving code: "+(this.hasCode?this.code:"")},e}(Pa),Xa=function(t){function e(e,o,n){var r=t.call(this)||this;return r.pin=e,r.temperature=o,r.humidity=n,r.type="temp_component",r.electricComponentType=Ql.TEMPERATURE_SENSOR,r.pins=[r.pin],r}return Object(n.__extends)(e,t),e.prototype.getFieldValue=function(t){return"temp"===t?this.temperature:this.humidity},e.prototype.isEqual=function(t){return t instanceof e&&t.pin==t.pin},e.prototype.explanation=function(){return"Temperature Sensor is reading "+this.temperature+" and humidity level "+this.humidity+"."},e}(Pa),Ya={temp_setup_block:{type:"temp_component",fieldsToCollect:[{setupBlockFieldName:"temp",sensorBlockType:"temp_get_temp",dataSaveKey:"temp",type:"field_input",defaultValue:20},{setupBlockFieldName:"humidity",sensorBlockType:"temp_get_humidity",dataSaveKey:"humidity",type:"field_input",defaultValue:5}],convertToState:function(t,e,o){var n=e[o],r=Ea(t.getFieldValue("PIN"));return new Xa(r,n.temp,n.humidity)}},ultra_sonic_sensor_setup_block:{type:"ultrasonic_sensor_component",fieldsToCollect:[{setupBlockFieldName:"cm",sensorBlockType:"ultra_sonic_sensor_motion",dataSaveKey:"cm",type:"field_input",defaultValue:1}],convertToState:function(t,e,o){var n=e[o],r=Ea(t.getFieldValue("ECHO")),i=Ea(t.getFieldValue("TRIG"));return new Ga(n.cm,i,r)}},ir_remote_setup_block:{type:"ir_remote_component",fieldsToCollect:[{setupBlockFieldName:"scanned_new_code",sensorBlockType:"ir_remote_has_code_receive",dataSaveKey:"has_code",type:"field_checkbox",defaultValue:!1},{setupBlockFieldName:"code",sensorBlockType:"ir_remote_get_code",dataSaveKey:"code",type:"field_input",defaultValue:"E932B"}],convertToState:function(t,e,o){var n=e[o],r=Ea(t.getFieldValue("PIN"));return new za(n.has_code,n.code,r)}},analog_read_setup_block:{type:"any_pin_type_does_not_matter",fieldsToCollect:[{setupBlockFieldName:"power_level",sensorBlockType:"analog_read",dataSaveKey:"power_level",type:"field_input",defaultValue:12}],convertToState:function(t,e,o){var n=e[o],r=Ea(t.getFieldValue("PIN")),i=t.getFieldValue("TYPE");return new Wa(r,ja.ANALOG_INPUT,n.power_level,i)}},digital_read_setup_block:{type:"any_pin_type_does_not_matter",fieldsToCollect:[{setupBlockFieldName:"has_power",sensorBlockType:"digital_read",dataSaveKey:"has_power",type:"field_checkbox",defaultValue:!1}],convertToState:function(t,e,o){var n=e[o],r=Ea(t.getFieldValue("PIN")),i=t.getFieldValue("TYPE");return new Wa(r,ja.DIGITAL_INPUT,n.has_power?1:0,i)}},push_button_setup_block:{type:"button_component",fieldsToCollect:[{setupBlockFieldName:"is_pressed",sensorBlockType:"is_button_pressed",dataSaveKey:"button_pressed",type:"field_checkbox",defaultValue:!1}],convertToState:function(t,e,o){var n=Ea(t.getFieldValue("PIN"))||ka.PIN_7;return new Ua(n,!!e&&e[o].button_pressed)}},time_setup_block:{type:"time_component",fieldsToCollect:[{setupBlockFieldName:"time_in_seconds",sensorBlockType:"time_seconds",dataSaveKey:"time_in_seconds",type:"field_input",defaultValue:!1}],convertToState:function(t,e,o){throw new Error("This should be set manually")}},bluetooth_setup_block:{type:"bluetooth_component",fieldsToCollect:[{setupBlockFieldName:"receiving_message",sensorBlockType:"bluetooth_has_message",dataSaveKey:"receiving_message",type:"field_checkbox",defaultValue:!1},{setupBlockFieldName:"message",sensorBlockType:"bluetooth_get_message",dataSaveKey:"message",type:"field_input",defaultValue:""}],convertToState:function(t,e,o){var n=Ea(t.getFieldValue("RX")),r=Ea(t.getFieldValue("TX"));if(!e)return new Va(n,r,!1,"","");var i=e[o];return new Va(n,r,i.receiving_message,i.message,"")}},message_setup_block:{type:"arduino_message_component",fieldsToCollect:[{setupBlockFieldName:"receiving_message",sensorBlockType:"arduino_receive_message",dataSaveKey:"receiving_message",type:"field_checkbox",defaultValue:!1},{setupBlockFieldName:"message",sensorBlockType:"arduino_get_message",dataSaveKey:"message",type:"field_input",defaultValue:""}],convertToState:function(t,e,o){var n=e[o];return new Ha(n.receiving_message,n.message)}},rfid_setup_block:{type:"rfid_component",fieldsToCollect:[{setupBlockFieldName:"scanned_card",sensorBlockType:"rfid_scan",dataSaveKey:"scanned_card",type:"field_checkbox",defaultValue:!1},{setupBlockFieldName:"card_number",sensorBlockType:"rfid_card",dataSaveKey:"card_number",defaultValue:"card",type:"field_input"},{setupBlockFieldName:"tag",sensorBlockType:"rfid_tag",dataSaveKey:"tag",defaultValue:"tag",type:"field_input"}],convertToState:function(t,e,o){var n=Ea(t.getFieldValue("RX"))||ka.PIN_7,r=Ea(t.getFieldValue("TX"))||ka.PIN_6;if(!e)return new Fa(n,r,!1,"","");var i=e[o];return new Fa(n,r,i.scanned_card,i.card_number,i.tag)}}},Ja={bluetooth_send_message:"bluetooth_setup",bluetooth_has_message:"bluetooth_setup",bluetooth_get_message:"bluetooth_setup",lcd_screen_simple_print:"lcd_setup",lcd_screen_clear:"lcd_setup",lcd_screen_print:"lcd_setup",lcd_screen_blink:"lcd_setup",neo_pixel_set_color:"neo_pixel_setup",soil_humidity_percentage:"soil_sensor_setup",soil_humidity_value:"soil_sensor_setup",soil_is_raining:"soil_sensor_setup",ir_remote_has_code_receive:"ir_remote_setup",ir_remote_get_code:"ir_remote_setup",temp_get_temp:"temp_setup",temp_get_humidity:"temp_setup",set_color_led:"led_color_setup",rfid_scan:"rfid_setup",rfid_tag:"rfid_setup",rfid_card:"rfid_setup",is_button_pressed:"push_button_setup",arduino_send_message:"message_setup",arduino_get_message:"message_setup",arduino_receive_message:"message_setup",digital_read:"digital_read_setup",analog_read:"analog_read_setup",ultra_sonic_sensor_motion:"ultra_sonic_sensor_setup"},qa=["rfid_setup","arduino_start","create_list_number_block","create_list_string_block","create_list_boolean_block","create_list_colour_block","procedures_defnoreturn","procedures_defreturn","lcd_setup","neo_pixel_setup","soil_sensor_setup","ir_remote_setup","temp_setup","bluetooth_setup","led_color_setup","push_button_setup","message_setup","time_setup","analog_read_setup","digital_read_setup","ultra_sonic_sensor_setup"],Za=["push_button_setup","digital_read_setup","analog_read_setup"],Qa=["rfid_setup","push_button_setup","bluetooth_setup","message_setup","digital_read_setup","analog_read_setup","ir_remote_setup","ultra_sonic_sensor_setup","temp_setup","soil_sensor_setup"],$a=function(t,e){t.setEnabled(!e);for(var o=t.getNextBlock();o;)o.setEnabled(!e),o=o.getNextBlock()},tu=function(t){function e(e){var o=t.call(this)||this;return o.timeInSeconds=e,o.type="time_component",o.electricComponentType=Ql.TIME,o}return Object(n.__extends)(e,t),e.prototype.getFieldValue=function(t){return this.timeInSeconds.toFixed(5)},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.explanation=function(){return"Current arduino time is "+this.timeInSeconds.toFixed(5)+" seconds."},e}(Pa),eu=function(){for(var t={},e=Ta.mainWorkspace.getTopBlocks().filter((function(t){return"arduino_start"===t.type}))[0].getFieldValue("LOOP_TIMES"),o=0;o<e;o+=1)t[o]=[];for(Ta.mainWorkspace.getTopBlocks().filter((function(t){return"arduino_start"!==t.type&&t.rendered&&t.isEnabled()})).filter((function(t){return t.isEnabled()})).filter((function(t){return Object.keys(Ya).includes(t.type+"_block")})).forEach((function(o){var n=Ya[o.type+"_block"];if(o.type+"_block"!="time_setup_block")for(var r=0;r<e;r+=1){var i=n.convertToState(o,JSON.parse(o.data),r);t[r].push(i)}})),o=0;o<e;o+=1)t[o].push(ou(o));return t},ou=function(t){var e=Ta.mainWorkspace.getTopBlocks().find((function(t){return"time_setup"===t.type&&t.isEnabled()})),o=e?+e.getFieldValue("time_in_seconds"):.1;return new tu((t+1)*o)},nu=function(t){return eu()[t.iteration].find((function(t){return t instanceof Va}))},ru=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{red:parseInt(e[1],16),green:parseInt(e[2],16),blue:parseInt(e[3],16)}:null},iu=function(t){return"[red = "+t.red+", green = "+t.green+", blue = "+t.blue+"]"},su=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},lu=function(t){return"#"+su(t.red)+su(t.green)+su(t.blue)},au=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},uu=function(){var t=Math.floor(Math.random()*cu.length);return cu[t]},cu=[{red:170,green:0,blue:0},{red:170,green:0,blue:0},{red:240,green:225,blue:68},{red:170,green:0,blue:170},{red:0,green:170,blue:0}],pu=function(t,e,o,n){var r=n?n.copyState():ta.makeEmptyState(),i=r.components.findIndex((function(t){return e.isEqual(t)}));return i>-1?r.components[i]=e:r.components.push(e),[new ba(t.id,r,o,e.explanation())]},hu=function(t){function e(e,o){var n=t.call(this)||this;return n.degree=e,n.pin=o,n.electricComponentType=Ql.SERVO,n.pins=[n.pin],n}return Object(n.__extends)(e,t),e.prototype.isEqual=function(t){return t instanceof e&&t.pin===this.pin},e.prototype.explanation=function(){return"Rotating servo "+this.pin+" to this angle "+this.degree+"."},e}(Ma),gu=function(t){function e(e,o,n){var r=t.call(this)||this;return r.motorNumber=e,r.speed=o,r.direction=n,r.pins=[],r.electricComponentType=Ql.MOTOR,r}return Object(n.__extends)(e,t),e.prototype.isEqual=function(t){return t instanceof e&&t.motorNumber===this.motorNumber},e.prototype.explanation=function(){return"Motor "+this.motorNumber+" is running "+this.direction+" at speed "+this.speed+"."},e}(Ma),du=function(t){return eu()[t.iteration].find((function(t){return t instanceof za}))},fu=function(t){return eu()[t.iteration].find((function(t){return t instanceof Xa}))},mu=function(t){return function(e,o,n){var r=n?n.state:ta.makeEmptyState();return[new ba(e.id,r,o,t(e))]}},_u=mu((function(){return"Setting up temperature sensor."})),yu=mu((function(){return"Setting up ir remote."})),vu=mu((function(){return"Setting up soil sensor."})),bu=mu((function(){return"Setting up bluetooh."})),Eu=mu((function(){return"Setting up rfid reader."})),ku=mu((function(t){return"Setting up button connectted to pin "+t.getFieldValue("PIN")+"."})),Tu=mu((function(){return"Setting up Arduino messages."})),Su=mu((function(){return"Setting up Arduino Time (Fake)."})),Cu=mu((function(t){return"Setting up "+t.getFieldValue("TYPE")+" connectted to pin "+t.getFieldValue("PIN")+"."})),Au=mu((function(t){return"Setting up "+t.getFieldValue("TYPE")+" connectted to pin "+t.getFieldValue("PIN")+"."})),wu=mu((function(){return"Setting up ultrasonic sensor."})),Ou=function(t){function e(e){var o=t.call(this)||this;return o.leds=e,o.electricComponentType=Ql.LED_MATRIX,o.pins=[ka.PIN_10,ka.PIN_11,ka.PIN_12],o}return Object(n.__extends)(e,t),e.prototype.isEqual=function(t){return t instanceof e},e}(Ma),Bu=function(t){return!!t&&0!==t.state.components.filter((function(t){return t instanceof Ou})).length},Iu=function(t){function e(e,o,n){var r=t.call(this)||this;return r.numberOfLeds=e,r.analogPin=o,r.neoPixels=n,r.electricComponentType=Ql.NEO_PIXEL_STRIP,r.pins=[r.analogPin],r}return Object(n.__extends)(e,t),e.prototype.isEqual=function(t){return t instanceof e},e}(Ma),Ru=function(t){function e(e,o,n,r,i,s){void 0===s&&(s=!0);var l=t.call(this)||this;return l.rows=e,l.columns=o,l.memoryType=n,l.rowsOfText=r,l.blink=i,l.backLightOn=s,l.electricComponentType=Ql.LCD_SCREEN,l.pins=[ka.PIN_A5,ka.PIN_A4],l}return Object(n.__extends)(e,t),e.prototype.isEqual=function(t){return t instanceof e},e}(Ma),Nu=function(t,e){for(var o=e-t.length,n=0;n<o;n+=1)t+=" ";return t},xu=function(t,e,o){var n=Mu(t);if(!o)return e;if(!o.state.variables[n])return e;var r=o.state.variables[n].value;return Lu(Pu(t),r)?r:r||e},Du=function(t,e,o,n,r){var i=r?r.copyState():ta.makeEmptyState(),s=Mu(t),l=Zu(t,"VALUE",o,n,r);Lu(e,l)||(l=l||o),i.variables[s]={name:s,type:e,value:l};var a="Colour"===e?iu(l):l;return[new ba(t.id,i,n,"Setting variable "+s+" = "+a+".")]},Lu=function(t,e){return"Boolean"===t&&!1===e},Mu=function(t){return Ta.mainWorkspace.getVariableById(t.getFieldValue("VAR")).name},Pu=function(t){return Ta.mainWorkspace.getVariableById(t.getFieldValue("VAR")).type},Fu=function(t){return eu()[t.iteration].find((function(t){return t instanceof Ha}))},Uu=function(t,e,o,n,r){var i=Mu(t),s=parseInt(Zu(t,"POSITION",0,n,r).toString(),0);s=s>0?s-1:0;var l=r.state.variables[i].value;return("Boolean"!==o||!1!==l[s])&&(l[s]||e)},Vu=function(t,e,o,n){var r=parseInt(Zu(t,"POSITION",0,o,n).toString(),0);r=r>0?r-1:0;var i=n.copyState(),s=i.variables,l=Zu(t,"VALUE",0,o,n),a=Mu(t);s[a].value[r]=Hu(l,e);var u=l;return"String List"===s[a].type&&(u='"'+u+'"'),"Colour List"===s[a].type&&(u="color red = "+u.red+", green = "+u.green+", blue = "+u.blue),[new ba(t.id,i,o,"Updating list "+a+" at position "+(r+1)+" with "+u+".")]},Hu=function(t,e){switch(e){case"Number":return parseFloat(t);case"String":return t.toString();case"Boolean":return!0===t;case"Colour":return t}},Gu=function(t,e,o,n){var r=n?n.copyState():ta.makeEmptyState(),i=Mu(t);r.variables[i]={value:[],type:e,name:i};var s="Create list name "+i+" that store "+t.getFieldValue("SIZE")+" "+(e="String List"===e?"text blocks":e.trim()+"s").replace(" List","").toLowerCase();return[new ba(t.id,r,o,s)]},Wu=function(t){function e(e,o,n,r,i){var s=t.call(this)||this;return s.redPin=e,s.greenPin=o,s.bluePin=n,s.type=r,s.color=i,s.electricComponentType=Ql.LED_COLOR,s.pins.push(s.greenPin,s.bluePin,s.redPin),s}return Object(n.__extends)(e,t),e.prototype.isEqual=function(t){return t instanceof e},e.prototype.explanation=function(){return"Setting color led to color ["+this.color.red+", "+this.color.green+", "+this.color.blue+"]"},e}(Ma),ju=function(t,e,o,n){var r=n?n.copyState():ta.makeEmptyState(),i=Zu(t,"IF0",!0,o,n),s=i||e,l=new ba(t.id,r,o,Ku(i,e));if(!s)return[l];var a=qu(t,i?"DO0":"ELSE",o,l);return a.unshift(l),a},Ku=function(t,e){return e||t?t?"Executing blocks inside do because what is connectted to the if is true.":"Executing blocks inside else because what is connectted to the if is not true.":"Not executing blocks inside do because what is connectted to the if is not true."},zu=function(t,e,o){return o?t<=e:t>=e},Xu=function(t,e,o,n,r,i,s,l){var a=l?l.copyState():ta.makeEmptyState(),u=a.variables,c=Mu(e);return u[c]={type:"Number",value:t,name:c},new ba(e.id,a,o,"Running blocks inside do part of the loop. Setting variable "+c+" = "+t+(1===i?"":" by "+n+" "+s)+". ( "+i+" / "+r+")")},Yu=function(t){switch(t){case"Number":return 0;case"String":return"";case"Boolean":return!0;case"List String":return[""];case"List Boolean":return[!0];case"List Number":return[0]}throw new Error("Unknown Type For Function Parameter")},Ju=function(t){return eu()[t.iteration].find((function(t){return t instanceof Fa}))};Ia={variables_set_boolean_block:function(t,e,o){return Du(t,"Boolean",!0,e,o)},variables_set_string_block:function(t,e,o){return Du(t,"String","",e,o)},variables_set_colour_block:function(t,e,o){return Du(t,"Colour",{red:0,green:0,blue:0},e,o)},variables_set_number_block:function(t,e,o){return Du(t,"Number",0,e,o)},procedures_callnoreturn_block:function(t,e,o){var n=[],r=t.getProcedureCall(),i=function(t){var e=Ta.mainWorkspace.getTopBlocks().filter((function(t){return"procedures_defnoreturn"===t.type})).filter((function(e){return e.getProcedureDef()[0]===t}));if(0===e.length)throw new Error("No block with that function name "+t+" found.");return e[0]}(r),s="Calling user created function named "+r+".",l=o?o.makeCopy(t.id,e,s):ba.makeEmptyFrame(t.id,e,s);n.push(l);for(var a="Jumping into function name "+r+".",u=new ba(i.id,l.copyState(),e,a),c=function(t){var e=t.getProcedureDef();return{name:e[0],variableModels:e[3]}}(i).variableModels,p=0;p<c.length;p+=1){var h=Zu(t,"ARG"+p,Yu(c[p].type),e,o);u.state.variables[c[p].name]={name:c[p].name,value:h,type:c[p].type}}return n.push(u),qu(i,"STACK",e,u).forEach((function(t){return n.push(t)})),n},set_boolean_list_block_block:function(t,e,o){return Vu(t,"Boolean",e,o)},set_colour_list_block_block:function(t,e,o){return Vu(t,"Colour",e,o)},set_number_list_block_block:function(t,e,o){return Vu(t,"Number",e,o)},set_string_list_block_block:function(t,e,o){return Vu(t,"String",e,o)},create_list_boolean_block_block:function(t,e,o){return Gu(t,"Boolean List",e,o)},create_list_colour_block_block:function(t,e,o){return Gu(t,"Colour List",e,o)},create_list_number_block_block:function(t,e,o){return Gu(t,"Number List",e,o)},create_list_string_block_block:function(t,e,o){return Gu(t,"String List",e,o)},control_if_block:function(t,e,o){return ju(t,!1,e,o)},controls_ifelse_block:function(t,e,o){return ju(t,!0,e,o)},controls_for_block:function(t,e,o){var n=parseInt(Zu(t,"FROM",1,e,o).toString(),0),r=parseInt(Zu(t,"TO",1,e,o).toString(),0),i=Math.abs(parseInt(Zu(t,"BY",1,e,o).toString(),0)),s=i>0?" adding ":" subtracting ",l=0,a=0;r!==n&&(l=Math.ceil(Math.abs(r-n)/Math.abs(i))+1,a=1);var u=Xu(n,t,e,s,l,a,Math.abs(i),o),c=qu(t,"DO",e,u);if(c.unshift(u),r===n)return c;for(var p=n+(i*=r>n?1:-1);zu(p,r,r>n);){var h=Xu(p,t,e,s,l,a+=1,Math.abs(i),c[c.length-1]);c.push(h),c=c.concat(qu(t,"DO",e,h)),p+=i}return c},controls_repeat_ext_block:function(t,e,o){var n=Zu(t,"TIMES",1,e,o),r=o?o.copyState():new ta([],{});if(n<=0)return[new ba(t.id,r,e,"Will not run the loop becuase it is set to run 0 times!")];var i=new ba(t.id,r,e,"Repeating blocks  1 out of "+n+" times."),s=[i],l=qu(t,"DO",e,i);console.log(l.map((function(t){return t.blockId})),"firstDoFrames"),l.forEach((function(t){return s.push(t)}));for(var a=2;a<=n;a+=1){var u=new ba(t.id,(o=s[s.length-1]).copyState(),o.frameLocation,"Repeat block running "+a+" out of "+n+" times.");s.push(u),qu(t,"DO",e,u).forEach((function(t){return s.push(t)}))}return s},digital_write_block:function(t,e,o){var n=t.getFieldValue("PIN"),r="ON"===t.getFieldValue("STATE")?1:0,i=o?o.state.components.find((function(t){return t instanceof Wa&&t.pin===Ea(n)})):void 0,s=i?i.color:uu();return pu(t,new Wa(Ea(n),ja.DIGITAL_OUTPUT,r,Ka.LED_ANALOG_WRITE,s),e,o)},analog_write_block:function(t,e,o){var n=t.getFieldValue("PIN"),r=parseInt(Zu(t,"WRITE_VALUE",0,e,o).toString(),0),i=o?o.state.components.find((function(t){return t instanceof Wa&&t.pin===Ea(n)})):void 0,s=i?i.color:uu();return pu(t,new Wa(Ea(n),ja.ANALOG_OUTPUT,r,Ka.LED_ANALOG_WRITE,s),e,o)},delay_block_block:function(t,e,o){var n=Zu(t,"DELAY",1,e,o).toString(),r=o?o.copyState():ta.makeEmptyState(),i=new ta(r.components,r.variables,!1,"",1e3*parseFloat(n));return[new ba(t.id,i,e,"Waiting for "+parseFloat(n).toFixed(5)+" seconds.")]},time_setup_block:Su,arduino_send_message_block:function(t,e,o){var n=Zu(t,"MESSAGE","",e,o).toString(),r=o?o.copyState():ta.makeEmptyState(),i=new ta(r.components,r.variables,!0,n);return[new ba(t.id,i,e,'Arduino sending message to computer: "'+n+'"')]},rotate_servo_block:function(t,e,o){var n=o?o.copyState():ta.makeEmptyState(),r=t.getFieldValue("PIN").toString(),i=parseInt(Zu(t,"DEGREE",0,e,o).toString(),0),s=new hu(i,Ea(r)),l=n.components.findIndex((function(t){return t.isEqual(s)}));return l>=0?n.components[l]=s:n.components.push(new hu(i,Ea(r))),[new ba(t.id,n,e,"Rotating servo "+s.pin+" to this angle "+s.degree+".")]},move_motor_block:function(t,e,o){var n=parseInt(Zu(t,"MOTOR",1,e,o).toString(),0);(n<0||n>4)&&(n=1);var r=t.getFieldValue("DIRECTION"),i=parseInt(Zu(t,"SPEED",10,e,o).toString(),0),s=o?o.copyState():ta.makeEmptyState(),l=s.components.find((function(t){return t instanceof gu&&t.motorNumber===n})),a=s.components.findIndex((function(t){return t instanceof gu&&t.motorNumber===n}));return l?s.components[a]=new gu(n,i,r):(l=new gu(n,i,r),s.components.push(l)),[new ba(t.id,s,e,"Motor "+n+" is rotating "+r.toLowerCase()+" at speed "+i)]},debug_block_block:function(t,e,o){var n=o?o.copyState():ta.makeEmptyState();return[new ba(t.id,n,e,"Pausing live arduino code to see all the variables.")]},neo_pixel_set_color_block:function(t,e,o){var n=Zu(t,"COLOR",{red:33,green:0,blue:0},e,o),r=parseInt(Zu(t,"POSITION",1,e,o).toString(),0),i=o.copyState(),s=i.components.find((function(t){return t instanceof Iu})),l=s.neoPixels.findIndex((function(t){return t.position===r}));return s.neoPixels[l]&&(s.neoPixels[l].color=n),[new ba(t.id,i,e,"Setting led "+(l+1)+" on rgb led light strip to color "+iu(s.neoPixels[l].color))]},neo_pixel_setup_block:function(t,e,o){for(var n=o?o.copyState():ta.makeEmptyState(),r=Ea(t.getFieldValue("PIN").toString()),i=parseInt(t.getFieldValue("NUMBER_LEDS"),0),s=[],l=1;l<=i;l+=1)s.push({position:l,color:{red:0,green:0,blue:0}});var a=new Iu(i,r,s);return n.components.push(a),[new ba(t.id,n,e,"Setting up rgb led light strip")]},led_matrix_make_draw_block:function(t,e,o){var n=o?o.copyState():ta.makeEmptyState(),r=Bu(o)?n.components.find((function(t){return t instanceof Ou})):new Ou([]);return t.inputList.filter((function(t){return t.fieldRow.length>1})).forEach((function(t){t.fieldRow.forEach((function(t){if(void 0!==t.name){var e=parseInt(t.name.split(",")[0],0),o=parseInt(t.name.split(",")[1],0),n=t.getValueBoolean(),i=r.leds.findIndex((function(t){return t.row===e&&t.col===o}));-1!==i?-1!==i&&(r.leds[i].isOn=n):r.leds.push({row:e,col:o,isOn:n})}}))})),n.components.includes(r)||n.components.push(r),[new ba(t.id,n,e,"Drawing led matrix.")]},led_matrix_turn_one_on_off_block:function(t,e,o){var n=o?o.copyState():ta.makeEmptyState(),r=null;Bu(o)?r=n.components.find((function(t){return t instanceof Ou})):(r=new Ou([]),n.components.push(r));var i="ON"===t.getFieldValue("STATE"),s=parseInt(Zu(t,"ROW",1,e,o).toString(),0),l=parseInt(Zu(t,"COLUMN",1,e,o).toString(),0),a=r.leds.findIndex((function(t){return t.col===l&&t.row===s}));return-1===a?r.leds.push({row:s,col:l,isOn:i}):r.leds[a].isOn=i,[new ba(t.id,n,e,"Turning led ("+l+", "+s+") "+(i?"on":"off")+".")]},led_block:function(t,e,o){var n=t.getFieldValue("PIN"),r="ON"===t.getFieldValue("STATE")?1:0,i=o?o.copyState():ta.makeEmptyState(),s=i.components.find((function(t){return t instanceof Wa&&t.pin===Ea(n)})),l=localStorage.getItem("led_color")?ru(localStorage.getItem("led_color")):uu(),a=new Wa(Ea(n),ja.DIGITAL_OUTPUT,r,Ka.LED,s?s.color:l),u=[a].concat(i.components.filter((function(t){return!t.isEqual(s)}))),c=new ta(u,i.variables);return[new ba(t.id,c,e,a.explanation())]},led_fade_block:function(t,e,o){var n=o?o.copyState():ta.makeEmptyState(),r=t.getFieldValue("PIN"),i=parseInt(Zu(t,"FADE",1,e,o).toString(),0),s=n.components.find((function(t){return t instanceof Wa&&t.pin===Ea(r)})),l=new Wa(Ea(r),ja.ANALOG_OUTPUT,i,Ka.LED,s?s.color:uu()),a=[l].concat(n.components.filter((function(t){return!t.isEqual(s)}))),u=new ta(a,n.variables);return[new ba(t.id,u,e,l.explanation())]},lcd_backlight_block:function(t,e,o){var n=o.copyState(),r=n.components.find((function(t){return t instanceof Ru})),i=n.components.findIndex((function(t){return t instanceof Ru})),s="ON"===t.getFieldValue("BACKLIGHT");return n.components[i]=new Ru(r.rows,r.columns,r.memoryType,$l.cloneDeep(r.rowsOfText),$l.cloneDeep(r.blink),s),[new ba(t.id,n,e,"Turn "+(s?"on":"off")+" backlight on LCD Screen.")]},lcd_screen_blink_block:function(t,e,o){var n=o.copyState(),r=n.components.find((function(t){return t instanceof Ru})),i=parseInt(Zu(t,"ROW",0,e,o).toString(),0),s=parseInt(Zu(t,"COLUMN",0,e,o).toString(),0);return r.blink.blinking="BLINK"===t.getFieldValue("NAME"),r.blink.row=i,r.blink.column=s,[new ba(t.id,n,e,"Blink space ("+s+", "+i+") on LCD Screen.")]},lcd_screen_simple_print_block:function(t,e,o){var r=Zu(t,"ROW_1","",e,o).toString(),i=Zu(t,"ROW_2","",e,o).toString(),s=Zu(t,"ROW_3","",e,o).toString(),l=Zu(t,"ROW_4","",e,o).toString(),a=1e3*parseFloat(Zu(t,"DELAY",1,e,o).toString()),u=Object(n.__assign)({},o.copyState(),{delay:a}),c=u.components.find((function(t){return t instanceof Ru}));return c.rowsOfText[0]=Nu(r,c.columns),c.rowsOfText[1]=Nu(i,c.columns),4===c.rows&&(c.rowsOfText[2]=Nu(s,c.columns),c.rowsOfText[3]=Nu(l,c.columns)),[new ba(t.id,u,e,"Printing messages LCD Screen for "+a/1e3+" seconds.")]},lcd_setup_block:function(t,e,o){for(var n=t.getFieldValue("MEMORY_TYPE"),r="16 x 2"===t.getFieldValue("SIZE")?2:4,i="16 x 2"===t.getFieldValue("SIZE")?16:20,s=[],l=0;l<r;l+=1)s[l]=Nu("",i);var a=new Ru(r,i,n,s,{row:-1,column:-1,blinking:!1},!0),u=o?o.copyState():ta.makeEmptyState();return u.components.push(a),[new ba(t.id,u,e,"Setting up LCD Screen.")]},lcd_screen_clear_block:function(t,e,o){for(var n=o.copyState(),r=n.components.find((function(t){return t instanceof Ru})),i=0;i<r.rows;i+=1)r.rowsOfText[i]=Nu("",r.columns);return[new ba(t.id,n,e,"Clear text on LCD Screen.")]},lcd_scroll_block:function(t,e,o){for(var n=o.copyState(),r=n.components.find((function(t){return t instanceof Ru})),i=t.getFieldValue("DIR"),s=0;s<r.rows;s+=1)r.rowsOfText[s]="RIGHT"===i?" "+r.rowsOfText[s].substring(0,r.rowsOfText[s].length-1):r.rowsOfText[s].substring(1)+" ";return[new ba(t.id,n,e,"Scroll text "+i+" one space on LCD Screen.")]},lcd_screen_print_block:function(t,e,o){var n=o.state.components.find((function(t){return t instanceof Ru})),r=parseInt(Zu(t,"ROW",0,e,o).toString(),0),i=parseInt(Zu(t,"COLUMN",0,e,o).toString(),0);r=r<=0?0:r-1,i=i<=0?0:i-1;for(var s=Zu(t,"PRINT","",e,o).toString(),l=n.rowsOfText[r].split(""),a=0,u=i;u<i+s.length;u+=1)l[u]=s[a],a+=1;var c=o.copyState();return c.components.find((function(t){return t instanceof Ru})).rowsOfText[r<=0?0:r-1]=l.join(""),[new ba(t.id,c,e,'Printing "'+l.join("").trim()+'" starting at ('+(i+1)+", "+(r+1)+").")]},temp_get_temp_block:_u,temp_setup_block:_u,ir_remote_setup_block:yu,soil_sensor_setup_block:vu,bluetooth_setup_block:bu,push_button_setup_block:ku,message_setup_block:Tu,set_color_led_block:function(t,e,o){var n=o?o.copyState():ta.makeEmptyState(),r=n.components.find((function(t){return t instanceof Wu})),i=Zu(t,"COLOUR",{red:255,blue:0,green:0},e,o);return r.color.red=i.red,r.color.blue=i.blue,r.color.green=i.green,[new ba(t.id,n,e,"Setting color led to ["+i.red+", "+i.green+", "+i.blue+"]")]},led_color_setup_block:function(t,e,o){var n=o?o.copyState():ta.makeEmptyState(),r=t.getFieldValue("WIRE").split("-"),i=r[0],s=r[2],l=Ea(r[1]),a=Ea(i),u=Ea(s),c="BREADBOARD"===t.getFieldValue("PICTURE_TYPE")?"BREADBOARD":"BUILT_IN";return n.components.push(new Wu(a,l,u,c,{red:0,green:0,blue:0})),[new ba(t.id,n,e,"Setting up color led.")]},rfid_setup_block:Eu,bluetooth_send_message_block:function(t,e,o){var n=Zu(t,"MESSAGE","",e),r=nu(e),i=new Va(r.rxPin,r.txPin,r.hasMessage,r.receivedMessage,n),s=o.copyState(),l=s.components.filter((function(t){return!(t instanceof Va)})),a=new ta([i].concat(l),s.variables,s.txLedOn,s.sendMessage,s.delay,s.powerLedOn);return[new ba(t.id,a,e,i.explanation())]},digital_read_setup_block:Cu,analog_read_setup_block:Au,ultra_sonic_sensor_setup_block:wu},Ba={variables_get_boolean_block:function(t,e,o){return xu(t,!0,o)},variables_get_string_block:function(t,e,o){return xu(t,"",o)},variables_get_colour_block:function(t,e,o){return xu(t,{red:0,green:0,blue:0},o)},variables_get_number_block:function(t,e,o){return parseFloat(xu(t,0,o))},math_arithmetic_block:function(t,e,o){var n=t.getFieldValue("OP"),r=Zu(t,"A",1,e,o),i=Zu(t,"B",1,e,o),s=parseFloat(r.toString()),l=parseFloat(i.toString());switch(n){case"ADD":return s+l;case"MINUS":return s-l;case"MULTIPLY":return s*l;case"DIVIDE":return s/(l<=0?1:l);case"POWER":return Math.pow(s,l)}throw Error("No Valid Math Operation Found")},math_round_block:function(t,e,o){var n=t.getFieldValue("OP"),r=Zu(t,"NUM",1,e,o).toString(),i=parseFloat(r);switch(n){case"ROUND":return Math.round(i);case"ROUNDUP":return Math.ceil(i);case"ROUNDDOWN":return Math.floor(i)}throw Error("No Valid Math Operation Found")},math_number_block:function(t,e,o){return parseFloat(t.getFieldValue("NUM"))},math_random_int_block:function(t,e,o){var n=Zu(t,"FROM",1,e,o).toString(),r=Zu(t,"TO",10,e,o).toString();return au(parseInt(n,0),parseInt(r,0))},math_modulo_block:function(t,e,o){var n=Zu(t,"DIVIDEND",1,e,o).toString(),r=Zu(t,"DIVISOR",1,e,o).toString();return parseInt(n,0)%parseInt(r,0)},string_to_number_block:function(t,e,o){var n=Zu(t,"VALUE",0,e,o);return parseFloat(n.toString())},colour_random_block:function(t,e,o){return{red:au(0,255),green:au(0,255),blue:au(0,255)}},colour_picker_block:function(t,e,o){var n=t.getFieldValue("COLOUR");return ru(n)},colour_rgb_block:function(t,e,o){var n=Zu(t,"RED",0,e,o).toString(),r=Zu(t,"GREEN",0,e,o).toString(),i=Zu(t,"BLUE",0,e,o).toString();return{red:parseInt(n,0),green:parseInt(r,0),blue:parseInt(i,0)}},get_colour_from_list_block:function(t,e,o){return Uu(t,{red:255,green:0,blue:0},"Colour",e,o)},get_boolean_from_list_block:function(t,e,o){return Uu(t,!0,"Boolean",e,o)},get_number_from_list_block:function(t,e,o){return Uu(t,0,"Number",e,o)},get_string_from_list_block:function(t,e,o){return Uu(t,"","String",e,o)},logic_boolean_block:function(t,e,o){return"TRUE"===t.getFieldValue("BOOL")},logic_compare_block:function(t,e,o){var n=t.getFieldValue("OP"),r=Zu(t,"A",!0,e,o),i=Zu(t,"B",!1,e,o);switch(n){case"EQ":return r===i;case"NEQ":return r!==i;case"LT":return r<i;case"LTE":return r<=i;case"GT":return r>i;case"GTE":return r>=i}throw Error("No Valid Comparison Operation Found")},logic_negate_block:function(t,e,o){return!Zu(t,"BOOL",!0,e,o)},logic_operation_block:function(t,e,o){var n=t.getFieldValue("OP"),r=Zu(t,"A",!0,e,o),i=Zu(t,"B",!1,e,o);switch(n){case"AND":return r&&i;case"OR":return r||i}throw Error("No Valid Logic Operation Found")},text_block:function(t,e,o){return t.getFieldValue("TEXT")},text_changeCase_block:function(t,e,o){var n=t.getFieldValue("CASE"),r=Zu(t,"TEXT","",e,o).toString();return"UPPERCASE"===n?r.toUpperCase():r.toLowerCase()},text_isEmpty_block:function(t,e,o){return 0===Zu(t,"VALUE","",e,o).toString().length},text_join_block:function(t,e,o){for(var n=t.inputList.length,r="",i=0;i<n;i+=1)r+=Zu(t,"ADD"+i,"",e,o);return r},text_length_block:function(t,e,o){return Zu(t,"VALUE","",e,o).toString().length},number_to_string_block:function(t,e,o){var n=Zu(t,"NUMBER",0,e,o).toString(),r=parseInt(t.getFieldValue("PRECISION"),0);return parseFloat(n).toFixed(r).toString()},parse_string_block_block:function(t,e,o){var n=Zu(t,"VALUE","",e,o).toString(),r=t.getFieldValue("DELIMITER"),i=Zu(t,"POSITION",0,e,o).toString(),s=parseInt(i,0);return s=s>=1?s-1:0,n.split(r)[s]||""},rfid_card_block:function(t,e,o){return Ju(e).cardNumber},rfid_scan_block:function(t,e,o){return Ju(e).scannedCard},rfid_tag_block:function(t,e,o){return Ju(e).tag},bluetooth_get_message_block:function(t,e,o){return nu(e).receivedMessage},bluetooth_has_message_block:function(t,e,o){return nu(e).hasMessage},is_button_pressed_block:function(t,e,o){var n=e.iteration;return eu()[n].find((function(e){return e instanceof Ua&&e.pin===t.getFieldValue("PIN")})).isPressed},arduino_get_message_block:function(t,e,o){return Fu(e).message},arduino_receive_message_block:function(t,e,o){return Fu(e).recievingMessage},time_seconds_block:function(t,e,o){return function(t){return eu()[t.iteration].find((function(t){return t instanceof tu}))}(e).timeInSeconds},digital_read_block:function(t,e,o){return eu()[e.iteration].find((function(e){return e instanceof Wa&&e.type===ja.DIGITAL_INPUT&&e.pin===Ea(t.getFieldValue("PIN"))})).state>0},analog_read_block:function(t,e,o){return eu()[e.iteration].find((function(e){return e instanceof Wa&&e.type===ja.ANALOG_INPUT&&e.pin===Ea(t.getFieldValue("PIN"))})).state},ir_remote_get_code_block:function(t,e,o){return du(e).code},ir_remote_has_code_receive_block:function(t,e,o){return du(e).hasCode},ultra_sonic_sensor_motion_block:function(t,e,o){return eu()[e.iteration].find((function(t){return t instanceof Ga})).cm},temp_get_temp_block:function(t,e,o){return fu(e).temperature},temp_get_humidity_block:function(t,e,o){return fu(e).humidity}};var qu=function(t,e,o,n){var r=Qu(t,e).filter((function(t){return t.isEnabled()}));return $u(r,o,n)},Zu=function(t,e,o,n,r){var i=t.getInput(e).connection.targetBlock();return i?Ba[i.type+"_block"](i,n,r):o},Qu=function(t,e){var o=[],n=t.getInputTargetBlock(e);if(!n)return[];do{if(o.push(n),!n.nextConnection)break;n=n.nextConnection.targetBlock()}while(n);return o},$u=function(t,e,o){for(var n=new Array,r=0;r<t.length;r+=1){var i=t[r],s=Ia[i.type+"_block"](i,e,o);o=(n=n.concat(s))[n.length-1]}return n},tc=function(t,e){var o=nc(),n=Ta.getMainWorkspace().getAllBlocks();hm.DISABLE_READONLY_CHECK=!0,o.forEach((function(o){var r=o.fieldsToCollect.map((function(t){return t.sensorBlockType}));ec(n,t,e,r).forEach((function(e){return oc(t,e,o)}))})),hm.DISABLE_READONLY_CHECK=!1},ec=function(t,e,o,n){return t.filter((function(t){return n.includes(t.type)})).filter((function(t){return 0===e.frameLocation.iteration||!rc(t,o)}))},oc=function(t,e,o){var n=o.fieldsToCollect.find((function(t){return t.sensorBlockType===e.type})),r=ic(t,e,o);e.getField("SIMPLE_DEBUG").setValue(r.getFieldValue(n.dataSaveKey))},nc=function(){var t=Ta.mainWorkspace.getTopBlocks().filter((function(t){return"arduino_start"!==t.type})).filter((function(t){return t.isEnabled()})).filter((function(t){return Object.keys(Ya).includes(t.type+"_block")})).map((function(t){return Ya[t.type+"_block"]}));return t.push(Ya.time_setup_block),t},rc=function(t,e){for(var o=Qu(e,"setup").map((function(t){return t.id})),n=t.getParent();n&&(!n.getParent()||"arduino_start"!==n.getParent().type);)n=n.getParent();return o.includes(n.id)},ic=function(t,e,o){return t.state.components.find((function(t){return t instanceof Ua?t.pin===e.getFieldValue("PIN"):t instanceof Wa?t.pin===e.getFieldValue("PIN"):t instanceof Pa&&o.type===t.type}))},sc={description:"Arduino standard-compatible board",digitalPins:[["2","2"],["3","3"],["4","4"],["5","5"],["6","6"],["7","7"],["8","8"],["9","9"],["10","10"],["11","11"],["12","12"],["13","13"],["A0","A0"],["A1","A1"],["A2","A2"],["A3","A3"],["A4","A4"],["A5","A5"]],pwmPins:[["3","3"],["5","5"],["6","6"],["9","9"],["10","10"],["11","11"],["A0","A0"],["A1","A1"],["A2","A2"],["A3","A3"],["A4","A4"],["A5","A5"]],analogPins:[["A0","A0"],["A1","A1"],["A2","A2"],["A3","A3"],["A4","A4"],["A5","A5"]],serial_baud_rate:9600,parseKey:"_*_"},lc=function(){return sc},ac=function(){for(var t=Ta.getMainWorkspace().getAllBlocks().find((function(t){return"arduino_start"===t.type})),e=t?parseInt(t.getFieldValue("LOOP_TIMES"),0):3,o=[],n=1;n<=e;n+=1)o.push([n.toString(),n.toString()]);return o};Ta.Extensions.register("debug",(function(){this.getField("SIMPLE_DEBUG").setValidator((function(t){return hm.DISABLE_READONLY_CHECK?t:null}))})),Ta.Extensions.register("debug-setup",(function(){var t=new Ta.FieldDropdown((function(){return ac()}));this.getInput("LOOP_INPUT").appendField(t,"LOOP")}));var uc=function(t){var e=Ta.getMainWorkspace().getAllBlocks().filter((function(e){return e.type===t})).map((function(t){return[t.getFieldValue("PIN"),t.getFieldValue("PIN")]}));return 0===e.length?lc().digitalPins:e},cc=function(t){return t.SENSOR="#505bda",t.ARDUINO_START_BLOCK="#505bda",t.COMPONENTS="#512c62",t.ARDUINO="#b063c5",t.DATA="#ffaac3",t.VALUES="#505bda",t.CONTROL="#b063c5",t}({});Object(Sa.defineBlocksWithJsonArray)([{type:"digital_write",message0:"%1 Turn  %2 pin# %3",args0:[{type:"field_image",src:"./assets/blocks/arduino/digital_write.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"field_dropdown",name:"STATE",options:[["on","ON"],["off","OFF"]]},{type:"field_dropdown",name:"PIN",options:lc().digitalPins}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""},{type:"analog_read",message0:"%1 Read number from analog pin# %2",args0:[{type:"field_image",src:"./assets/blocks/arduino/analog_read.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"field_dropdown",name:"PIN",options:lc().analogPins}],output:"Number",colour:cc.SENSOR,tooltip:"",helpUrl:""},{type:"analog_write",message0:"%1 Send analog wave to pin %2 %3 Wave Intensity %4",args0:[{type:"field_image",src:"./assets/blocks/arduino/analog_write.png",width:15,height:20,alt:"*",flipRtl:!1},{type:"field_dropdown",name:"PIN",options:lc().pwmPins},{type:"input_dummy"},{type:"input_value",name:"WRITE_VALUE",check:"Number",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""}]),Ta.Blocks.analog_read={init:function(){this.appendDummyInput().appendField(new Ta.FieldImage("./assets/blocks/arduino/analog_read.png",15,15,{alt:"*",flipRtl:"FALSE"})).appendField("Read number from analog pin#").appendField(new Ta.FieldDropdown((function(){return uc("analog_read_setup")})),"PIN"),this.appendDummyInput().appendField("Power Level (readonly)").appendField(new Ta.FieldTextInput("",(function(t){return hm.DISABLE_READONLY_CHECK?t:null})),"SIMPLE_DEBUG"),this.setOutput(!0,"Number"),this.setColour(cc.SENSOR),this.setTooltip(""),this.setHelpUrl("")}},Ta.Blocks.digital_read={init:function(){this.appendDummyInput().appendField(new Ta.FieldImage("./assets/blocks/arduino/digital_read.png",15,15,{alt:"*",flipRtl:"FALSE"})).appendField("Is electricity running through pin#").appendField(new Ta.FieldDropdown((function(){return uc("digital_read_setup")})),"PIN"),this.appendDummyInput().appendField("Has Electricity? (readonly) ").appendField(new Ta.FieldCheckbox("FALSE",(function(t){return hm.DISABLE_READONLY_CHECK?t:null})),"SIMPLE_DEBUG"),this.setOutput(!0,"Boolean"),this.setColour(cc.SENSOR),this.setTooltip(""),this.setHelpUrl("")}},Ta.Blocks.digital_read_setup={init:function(){this.appendDummyInput().appendField(new Ta.FieldImage("./assets/blocks/arduino/digital_read.png",15,15,{alt:"*",flipRtl:"FALSE"})).appendField("Setup Digital Read Pin"),this.appendDummyInput().appendField("PIN #").appendField(new Ta.FieldDropdown(lc().digitalPins),"PIN"),this.appendDummyInput("SHOW_CODE_VIEW").appendField("Type").appendField(new Ta.FieldDropdown([["Touch Sensor","TOUCH_SENSOR"],["Sensor","SENSOR"]]),"TYPE"),this.appendDummyInput().appendField("------------------------------------"),this.appendDummyInput("LOOP_TIMES").appendField("Loop").appendField(new Ta.FieldDropdown((function(){return ac()})),"LOOP"),this.appendDummyInput().appendField("Has Power? ").appendField(new Ta.FieldCheckbox("TRUE"),"has_power"),this.setColour(cc.SENSOR),this.setTooltip(""),this.setHelpUrl("")}},Ta.Blocks.analog_read_setup={init:function(){this.appendDummyInput().appendField(new Ta.FieldImage("./assets/blocks/arduino/analog_read.png",15,15,{alt:"*",flipRtl:"FALSE"})).appendField("Analog Read Setup"),this.appendDummyInput().appendField("PIN #").appendField(new Ta.FieldDropdown(lc().analogPins),"PIN"),this.appendDummyInput("SHOW_CODE_VIEW").appendField("Type").appendField(new Ta.FieldDropdown([["Photo Sensor","PHOTO_SENSOR"],["Soil Sensor","SOIL_SENSOR"],["Sensor","SENSOR"]]),"TYPE"),this.appendDummyInput().appendField("------------------------------------"),this.appendDummyInput("LOOP_TIMES").appendField("Loop").appendField(new Ta.FieldDropdown((function(){return ac()})),"LOOP"),this.appendDummyInput().appendField("Power Level").appendField(new Ta.FieldNumber(10,0,1024,1e-6),"power_level"),this.setColour(cc.SENSOR),this.setTooltip(""),this.setHelpUrl("")}},Object(Sa.defineBlocksWithJsonArray)([{type:"arduino_start",message0:"Setup (runs once) %1 %2 Loop (runs forever) %3 Loop (runs %4 times) %5 %6",args0:[{type:"input_dummy"},{type:"input_statement",name:"setup"},{type:"input_dummy"},{type:"field_number",name:"LOOP_TIMES",value:3,min:0,max:1e3},{type:"input_dummy"},{type:"input_statement",name:"loop"}],colour:cc.ARDUINO_START_BLOCK,tooltip:"",helpUrl:""}]),Object(Sa.defineBlocksWithJsonArray)([{type:"bluetooth_get_message",message0:"%1 bluetooth get message. %2 message (readonly) %3",args0:[{type:"field_image",src:"./assets/blocks/bluetooth/bluetooth.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_input",name:"SIMPLE_DEBUG",text:""}],output:"String",colour:cc.COMPONENTS,tooltip:"",helpUrl:"",extensions:["debug"]},{type:"bluetooth_has_message",message0:"%1 Is bluetooth receiving message? %2 Is receiving message? (readonly) %3",args0:[{type:"field_image",src:"./assets/blocks/bluetooth/bluetooth.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_checkbox",name:"SIMPLE_DEBUG",checked:!1}],output:"Boolean",colour:cc.COMPONENTS,tooltip:"",helpUrl:""},{type:"bluetooth_send_message",message0:"%1 bluetooth send message. %2",args0:[{type:"field_image",src:"./assets/blocks/bluetooth/bluetooth.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_value",name:"MESSAGE",check:"String"}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""}]),Ta.Blocks.bluetooth_setup={init:function(){var t=this;this.appendDummyInput().appendField(new Ta.FieldImage("./assets/blocks/bluetooth/bluetooth.png",15,15,{alt:"*",flipRtl:"FALSE"})).appendField("Bluetooth Setup"),this.appendDummyInput().appendField("RX Pin# ").appendField(new Ta.FieldDropdown(lc().digitalPins),"RX").appendField("TX Pin#").appendField(new Ta.FieldDropdown(lc().digitalPins),"TX"),this.appendDummyInput("SHOW_CODE_VIEW").appendField("-----------------------------------------"),this.appendDummyInput().appendField("Loop").appendField(new Ta.FieldDropdown((function(){return ac()})),"LOOP"),this.appendDummyInput().appendField("Receiving Message? ").appendField(new Ta.FieldCheckbox("TRUE",(function(e){return"FALSE"===e&&t.getField("message").setValue(""),e})),"receiving_message"),this.appendDummyInput().appendField("Message:").appendField(new Ta.FieldTextInput("message",(function(e){return"FALSE"===t.getFieldValue("receiving_message")?null:e})),"message"),this.setColour(cc.COMPONENTS),this.setTooltip(""),this.setHelpUrl("")}},Object(Sa.defineBlocksWithJsonArray)([{type:"debug_block",message0:"Debug %1 %2",args0:[{type:"input_dummy"},{type:"field_image",src:"./assets/blocks/debug/debug.png",width:70,height:50,alt:"*",flipRtl:!1}],previousStatement:null,nextStatement:null,colour:cc.ARDUINO,tooltip:"",helpUrl:""}]),Object(Sa.defineBlocksWithJsonArray)([{type:"ir_remote_has_code_receive",message0:"%1 is receiving a code? %2 Is receiving message? (readonly) %3",args0:[{type:"field_image",src:"./assets/blocks/ir_remote/ir_remote.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_checkbox",name:"SIMPLE_DEBUG",checked:!1}],output:"Boolean",colour:cc.SENSOR,tooltip:"",helpUrl:"",extensions:["debug"]},{type:"ir_remote_get_code",message0:"%1 get ir remote code. %2 message (readonly) %3",args0:[{type:"field_image",src:"./assets/blocks/ir_remote/ir_remote.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_input",name:"SIMPLE_DEBUG",text:""}],output:"String",colour:cc.SENSOR,tooltip:"",helpUrl:"",extensions:["debug"]}]),Ta.Blocks.ir_remote_setup={init:function(){var t=this;this.appendDummyInput().appendField(new Ta.FieldImage("./assets/blocks/ir_remote/ir_remote.png",15,15,{alt:"*",flipRtl:"FALSE"})).appendField("Setup IR Remote"),this.appendDummyInput().appendField("Analog Pin# ").appendField(new Ta.FieldDropdown(lc().analogPins),"PIN"),this.appendDummyInput("SHOW_CODE_VIEW").appendField("-----------------------------"),this.appendDummyInput().appendField("Loop").appendField(new Ta.FieldDropdown((function(){return ac()})),"LOOP"),this.appendDummyInput().appendField("Scan New Code? ").appendField(new Ta.FieldCheckbox("TRUE",(function(e){return"FALSE"===e&&t.getField("code").setValue(""),e})),"scanned_new_code"),this.appendDummyInput().appendField("Code").appendField(new Ta.FieldTextInput("E932B",(function(e){return"FALSE"===t.getFieldValue("scanned_new_code")?null:e})),"code"),this.setColour(cc.SENSOR),this.setTooltip(""),this.setHelpUrl("")}},Object(Sa.defineBlocksWithJsonArray)([{type:"lcd_setup",lastDummyAlign0:"RIGHT",message0:"%1 Setup LCD %2 Memory Type %3 %4 Size %5",args0:[{type:"field_image",src:"./assets/blocks/lcd/lcd.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_dropdown",name:"MEMORY_TYPE",options:[["0x3F","0x3F"],["0x27","0x27"]]},{type:"input_dummy",align:"RIGHT"},{type:"field_dropdown",name:"SIZE",options:[["16 x 2","16 x 2"],["20 x 4","20 x 4"]]}],colour:cc.COMPONENTS,tooltip:"",helpUrl:""},{type:"lcd_scroll",message0:"%1 LCD move everything 1 space %2",args0:[{type:"field_image",src:"./assets/blocks/lcd/lcd.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"field_dropdown",name:"DIR",options:[["RIGHT","RIGHT"],["LEFT","LEFT"]]}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""},{type:"lcd_blink",message0:"%1 LCD %2 %3 Row %4 Column %5",args0:[{type:"field_image",src:"./assets/blocks/lcd/lcd.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"field_dropdown",name:"BLINK",options:[["Blink","BLINK"],["No Blink","OFF"]]},{type:"input_dummy"},{type:"input_value",name:"ROW",check:"Number",align:"RIGHT"},{type:"input_value",name:"COLUMN",check:"Number",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""},{type:"lcd_screen_simple_print",message0:"%1 LCD Print  ->  Delay ->  Clear %2 Print on Row 1 %3 Print on Row 2 %4 Print on Row 3 %5 Print on Row 4 %6 Delay in seconds %7",args0:[{type:"field_image",src:"./assets/blocks/lcd/lcd.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"input_value",name:"ROW_1",check:"String",align:"RIGHT"},{type:"input_value",name:"ROW_2",check:"String",align:"RIGHT"},{type:"input_value",name:"ROW_3",check:"String",align:"RIGHT"},{type:"input_value",name:"ROW_4",check:"String",align:"RIGHT"},{type:"input_value",name:"DELAY",check:"Number",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""},{type:"lcd_backlight",message0:"%1 LCD turn backlight %2",args0:[{type:"field_image",src:"./assets/blocks/lcd/lcd.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"field_dropdown",name:"BACKLIGHT",options:[["on","ON"],["off","OFF"]]}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""},{type:"lcd_screen_print",message0:"%1 LCD Print %2 Row %3 Column %4 Message %5",args0:[{type:"field_image",src:"./assets/blocks/lcd/lcd.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"input_value",name:"ROW",check:"Number",align:"RIGHT"},{type:"input_value",name:"COLUMN",check:"Number",align:"RIGHT"},{type:"input_value",name:"PRINT",check:"String",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""},{type:"lcd_screen_clear",message0:"%1 LCD Clear",args0:[{type:"field_image",src:"./assets/blocks/lcd/lcd.png",width:15,height:15,alt:"*",flipRtl:!1}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""}]),Object(Sa.defineBlocksWithJsonArray)([{type:"led",message0:"%1 Turn  %2 led  %3",args0:[{type:"field_image",src:"./assets/blocks/led/led.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"field_dropdown",name:"STATE",options:[["on","ON"],["off","OFF"]]},{type:"field_dropdown",name:"PIN",options:lc().digitalPins}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""},{type:"led_fade",message0:"%1 Fade Led# %2 to  %3",args0:[{type:"field_image",src:"./assets/blocks/led/led.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"field_dropdown",name:"PIN",options:lc().pwmPins},{type:"input_value",name:"FADE",check:"Number"}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""},{type:"led_color_setup",lastDummyAlign0:"RIGHT",message0:"%1 Color Led Setup %2 Picture Type:  %3 %4 Red Green Blue Wires:  %5",args0:[{type:"field_image",src:"./assets/blocks/led/color_led.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_dropdown",name:"PICTURE_TYPE",options:[["Breadboard","BREADBOARD"],["Built In","BUILT_IN"]]},{type:"input_dummy",align:"RIGHT"},{type:"field_dropdown",name:"WIRE",options:[["6 - 5 - 3","6-5-3"],["11 - 10 - 9","11-10-9"]]}],colour:cc.COMPONENTS,tooltip:"",helpUrl:""},{type:"set_color_led",message0:"%1 Set Color Led's Color %2",args0:[{type:"field_image",src:"./assets/blocks/led/color_led.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_value",name:"COLOUR",check:"Colour"}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""}]),Object(Sa.defineBlocksWithJsonArray)([{type:"led_matrix_make_draw",message0:"%1 Led Matrix Draw %2 %3 %4 %5 %6 %7 %8 %9 %10 %11 %12 %13 %14 %15 %16 %17 %18 %19 %20 %21 %22 %23 %24 %25 %26 %27 %28 %29 %30 %31 %32 %33 %34 %35 %36 %37 %38 %39 %40 %41 %42 %43 %44 %45 %46 %47 %48 %49 %50 %51 %52 %53 %54 %55 %56 %57 %58 %59 %60 %61 %62 %63 %64 %65 %66 %67 %68 %69 %70 %71 %72 %73",args0:[{type:"field_image",src:"./assets/blocks/led_matrix/led_matrix.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_checkbox",name:"1,1",checked:!1},{type:"field_checkbox",name:"1,2",checked:!1},{type:"field_checkbox",name:"1,3",checked:!1},{type:"field_checkbox",name:"1,4",checked:!1},{type:"field_checkbox",name:"1,5",checked:!1},{type:"field_checkbox",name:"1,6",checked:!1},{type:"field_checkbox",name:"1,7",checked:!1},{type:"field_checkbox",name:"1,8",checked:!1},{type:"input_dummy"},{type:"field_checkbox",name:"2,1",checked:!1},{type:"field_checkbox",name:"2,2",checked:!1},{type:"field_checkbox",name:"2,3",checked:!1},{type:"field_checkbox",name:"2,4",checked:!1},{type:"field_checkbox",name:"2,5",checked:!1},{type:"field_checkbox",name:"2,6",checked:!1},{type:"field_checkbox",name:"2,7",checked:!1},{type:"field_checkbox",name:"2,8",checked:!1},{type:"input_dummy"},{type:"field_checkbox",name:"3,1",checked:!1},{type:"field_checkbox",name:"3,2",checked:!1},{type:"field_checkbox",name:"3,3",checked:!1},{type:"field_checkbox",name:"3,4",checked:!1},{type:"field_checkbox",name:"3,5",checked:!1},{type:"field_checkbox",name:"3,6",checked:!1},{type:"field_checkbox",name:"3,7",checked:!1},{type:"field_checkbox",name:"3,8",checked:!1},{type:"input_dummy"},{type:"field_checkbox",name:"4,1",checked:!1},{type:"field_checkbox",name:"4,2",checked:!1},{type:"field_checkbox",name:"4,3",checked:!1},{type:"field_checkbox",name:"4,4",checked:!1},{type:"field_checkbox",name:"4,5",checked:!1},{type:"field_checkbox",name:"4,6",checked:!1},{type:"field_checkbox",name:"4,7",checked:!1},{type:"field_checkbox",name:"4,8",checked:!1},{type:"input_dummy"},{type:"field_checkbox",name:"5,1",checked:!1},{type:"field_checkbox",name:"5,2",checked:!1},{type:"field_checkbox",name:"5,3",checked:!1},{type:"field_checkbox",name:"5,4",checked:!1},{type:"field_checkbox",name:"5,5",checked:!1},{type:"field_checkbox",name:"5,6",checked:!1},{type:"field_checkbox",name:"5,7",checked:!1},{type:"field_checkbox",name:"5,8",checked:!1},{type:"input_dummy"},{type:"field_checkbox",name:"6,1",checked:!1},{type:"field_checkbox",name:"6,2",checked:!1},{type:"field_checkbox",name:"6,3",checked:!1},{type:"field_checkbox",name:"6,4",checked:!1},{type:"field_checkbox",name:"6,5",checked:!1},{type:"field_checkbox",name:"6,6",checked:!1},{type:"field_checkbox",name:"6,7",checked:!1},{type:"field_checkbox",name:"6,8",checked:!1},{type:"input_dummy"},{type:"field_checkbox",name:"7,1",checked:!1},{type:"field_checkbox",name:"7,2",checked:!1},{type:"field_checkbox",name:"7,3",checked:!1},{type:"field_checkbox",name:"7,4",checked:!1},{type:"field_checkbox",name:"7,5",checked:!1},{type:"field_checkbox",name:"7,6",checked:!1},{type:"field_checkbox",name:"7,7",checked:!1},{type:"field_checkbox",name:"7,8",checked:!1},{type:"input_dummy"},{type:"field_checkbox",name:"8,1",checked:!1},{type:"field_checkbox",name:"8,2",checked:!1},{type:"field_checkbox",name:"8,3",checked:!1},{type:"field_checkbox",name:"8,4",checked:!1},{type:"field_checkbox",name:"8,5",checked:!1},{type:"field_checkbox",name:"8,6",checked:!1},{type:"field_checkbox",name:"8,7",checked:!1},{type:"field_checkbox",name:"8,8",checked:!1}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""},{type:"led_matrix_turn_one_on_off",message0:"%1 Turn one led in led matrix %2 %3 Row %4 Column %5",args0:[{type:"field_image",src:"./assets/blocks/led_matrix/led_matrix.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"field_dropdown",name:"STATE",options:[["on","ON"],["off","OFF"]]},{type:"input_dummy"},{type:"input_value",name:"ROW",check:"Number",align:"RIGHT"},{type:"input_value",name:"COLUMN",check:"Number",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""}]),Object(Sa.defineBlocksWithJsonArray)([{type:"create_list_number_block",message0:"Create a list named %1 that stores %2 numbers.",args0:[{type:"field_variable",name:"VAR",variable:null,defaultType:"List Number",variableTypes:["List Number"],showOnlyVariableAssigned:!0,createNewVariable:!1},{type:"field_number",name:"SIZE",value:2,min:1,max:2e4}],colour:cc.DATA,tooltip:"",helpUrl:""},{type:"create_list_string_block",message0:"Create a list named %1 that stores %2 text.",args0:[{type:"field_variable",name:"VAR",variable:null,defaultType:"List String",variableTypes:["List String"],showOnlyVariableAssigned:!0,createNewVariable:!1},{type:"field_number",name:"SIZE",value:2,min:1,max:2e4}],colour:cc.DATA,tooltip:"",helpUrl:""},{type:"create_list_colour_block",message0:"Create a list named %1 that stores %2 colors.",args0:[{type:"field_variable",name:"VAR",variable:null,defaultType:"List Colour",variableTypes:["List Colour"],showOnlyVariableAssigned:!0,createNewVariable:!1},{type:"field_number",name:"SIZE",value:2,min:1,max:2e4}],colour:cc.DATA,tooltip:"",helpUrl:""},{type:"create_list_boolean_block",message0:"Create a list named %1 that stores %2 booleans.",args0:[{type:"field_variable",name:"VAR",variable:null,defaultType:"List Boolean",variableTypes:["List Boolean"],showOnlyVariableAssigned:!0,createNewVariable:!1},{type:"field_number",name:"SIZE",value:2,min:1,max:2e4}],colour:cc.DATA,tooltip:"",helpUrl:""},{type:"set_number_list_block",message0:"Store a number  %1 in list %2 at position %3 %4",args0:[{type:"input_value",name:"VALUE",check:"Number",align:"RIGHT"},{type:"field_variable",name:"VAR",variable:null,variableTypes:["List Number"],defaultType:"List Number"},{type:"input_dummy"},{type:"input_value",name:"POSITION",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:cc.DATA,tooltip:"",helpUrl:""},{type:"get_number_from_list",message0:"Get a number from list at  %1 at position %2",args0:[{type:"field_variable",name:"VAR",variable:null,variableTypes:["List Number"],defaultType:"List Number"},{type:"input_value",name:"POSITION",check:"Number"}],inputsInline:!1,output:"Number",colour:cc.DATA,tooltip:"",helpUrl:""},{type:"set_string_list_block",message0:"Store a text block %1 in list %2 at position %3 %4",args0:[{type:"input_value",name:"VALUE",check:"String",align:"RIGHT"},{type:"field_variable",name:"VAR",variable:null,variableTypes:["List String"],defaultType:"List String"},{type:"input_dummy"},{type:"input_value",name:"POSITION",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:cc.DATA,tooltip:"",helpUrl:""},{type:"get_string_from_list",message0:"Get a text block from list at  %1 at position %2",args0:[{type:"field_variable",name:"VAR",variable:null,variableTypes:["List String"],defaultType:"List String"},{type:"input_value",name:"POSITION",check:"Number"}],inputsInline:!1,output:"String",colour:cc.DATA,tooltip:"",helpUrl:""},{type:"set_boolean_list_block",message0:"Store a boolean (true/false) %1 in list %2 at position %3 %4",args0:[{type:"input_value",name:"VALUE",check:"Boolean",align:"RIGHT"},{type:"field_variable",name:"VAR",variable:null,variableTypes:["List Boolean"],defaultType:"List Boolean"},{type:"input_dummy"},{type:"input_value",name:"POSITION",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:cc.DATA,tooltip:"",helpUrl:""},{type:"get_boolean_from_list",message0:"Get a boolean (true/false) from list at  %1 at position %2",args0:[{type:"field_variable",name:"VAR",variable:null,variableTypes:["List Boolean"],defaultType:"List Boolean"},{type:"input_value",name:"POSITION",check:"Number"}],inputsInline:!1,output:"Boolean",colour:cc.DATA,tooltip:"",helpUrl:""},{type:"set_colour_list_block",message0:"Store a color %1 in list %2 at position %3 %4",args0:[{type:"input_value",name:"VALUE",check:"Colour",align:"RIGHT"},{type:"field_variable",name:"VAR",variable:null,variableTypes:["List Colour"],defaultType:"List Colour"},{type:"input_dummy"},{type:"input_value",name:"POSITION",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:cc.DATA,tooltip:"",helpUrl:""},{type:"get_colour_from_list",message0:"Get a color from list at  %1 at position %2",args0:[{type:"field_variable",name:"VAR",variable:null,variableTypes:["List Colour"],defaultType:"List Colour"},{type:"input_value",name:"POSITION",check:"Number"}],inputsInline:!1,output:"Colour",colour:cc.DATA,tooltip:"",helpUrl:""}]),Object(Sa.defineBlocksWithJsonArray)([{type:"control_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,colour:cc.CONTROL,tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,colour:cc.CONTROL,tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]}]),Object(Sa.defineBlocksWithJsonArray)([{type:"controls_for",message0:"count with %1 from %2 to %3 by adding %4",args0:[{type:"field_variable",name:"VAR",variable:null,variableTypes:["Number"],defaultType:"Number",createNewVariable:!0,showOnlyVariableAssigned:!1},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!1,previousStatement:null,nextStatement:null,colour:cc.CONTROL,helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]}]),Object(Sa.defineBlocksWithJsonArray)([{type:"string_to_number",message0:"Text to Number %1",args0:[{type:"input_value",name:"VALUE",check:"String"}],output:"Number",colour:cc.VALUES,tooltip:"",helpUrl:""}]),Object(Sa.defineBlocksWithJsonArray)([{type:"arduino_receive_message",message0:"%1 Is Arduino receiving message? %2 Is receiving message? (readonly) %3",args0:[{type:"field_image",src:"./assets/blocks/message/message.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_checkbox",name:"SIMPLE_DEBUG",checked:!1}],output:"Boolean",colour:cc.ARDUINO,tooltip:"",helpUrl:"",extensions:["debug"]},{type:"arduino_get_message",message0:"%1 arduino get message. %2 message (readonly) %3",args0:[{type:"field_image",src:"./assets/blocks/message/message.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_input",name:"SIMPLE_DEBUG",text:""}],output:"String",colour:cc.ARDUINO,tooltip:"",helpUrl:"",extensions:["debug"]},{type:"arduino_send_message",message0:"%1 Arduino send message %2",args0:[{type:"field_image",src:"./assets/blocks/message/message.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_value",name:"MESSAGE",check:"String"}],previousStatement:null,nextStatement:null,colour:cc.ARDUINO,tooltip:"",helpUrl:""}]),Ta.Blocks.message_setup={init:function(){var t=this;this.appendDummyInput().appendField(new Ta.FieldImage("./assets/blocks/message/message.png",15,15,{alt:"*",flipRtl:"FALSE"})).appendField("Message Setup"),this.appendDummyInput("SHOW_CODE_VIEW").appendField("-----------------------------------------"),this.appendDummyInput().appendField("Loop").appendField(new Ta.FieldDropdown((function(){return ac()})),"LOOP"),this.appendDummyInput().appendField("Receiving Message? ").appendField(new Ta.FieldCheckbox("TRUE",(function(e){return"FALSE"===e&&t.getField("message").setValue(""),e})),"receiving_message"),this.appendDummyInput().appendField("Message:").appendField(new Ta.FieldTextInput("message",(function(e){return"FALSE"===t.getFieldValue("receiving_message")?null:e})),"message"),this.setColour(cc.ARDUINO),this.setTooltip(""),this.setHelpUrl("")}},Object(Sa.defineBlocksWithJsonArray)([{type:"ultra_sonic_sensor_motion",message0:"%1 Ultrasonic sensor distance (cm)%2 Distance in cm (readonly) %3",args0:[{type:"field_image",src:"./assets/blocks/motion_sensor/ultrasonic_sensor.png",width:30,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_input",name:"SIMPLE_DEBUG",checked:!1}],output:"Number",colour:cc.SENSOR,tooltip:"",helpUrl:"",extensions:["debug"]}]),Ta.Blocks.ultra_sonic_sensor_setup={init:function(){this.appendDummyInput().appendField(new Ta.FieldImage("./assets/blocks/motion_sensor/ultrasonic_sensor.png",30,15,{alt:"*",flipRtl:"FALSE"})).appendField("Setup Ultrasonic Sensor"),this.appendDummyInput().appendField("Trig Pin# ").appendField(new Ta.FieldDropdown(lc().digitalPins),"TRIG").appendField("Echo Pin# ").appendField(new Ta.FieldDropdown(lc().digitalPins),"ECHO"),this.appendDummyInput("SHOW_CODE_VIEW").appendField("------------------------------------------------"),this.appendDummyInput().appendField("Loop").appendField(new Ta.FieldDropdown((function(){return ac()})),"LOOP"),this.appendDummyInput().appendField("Distance In CMs").appendField(new Ta.FieldNumber(1,.1,500,1e-5),"cm"),this.setColour(cc.SENSOR),this.setTooltip(""),this.setHelpUrl("")}},Object(Sa.defineBlocksWithJsonArray)([{type:"move_motor",message0:"%1 Move  motor %2 Which Motor %3 Direction %4 %5 Speed %6",args0:[{type:"field_image",src:"./assets/blocks/motor/motor.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"input_value",name:"MOTOR",check:"Number",align:"RIGHT"},{type:"field_dropdown",name:"DIRECTION",options:[["Forward","FORWARD"],["Backward","BACKWARD"]]},{type:"input_dummy",align:"RIGHT"},{type:"input_value",name:"SPEED",check:"Number",align:"RIGHT"}],inputsInline:!1,previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""}]),Object(Sa.defineBlocksWithJsonArray)([{type:"neo_pixel_setup",message0:"%1 Setup Led Color Strip %2 Analog Data Pin# %3 %4 Number of leds %5",args0:[{type:"field_image",src:"./assets/blocks/neo_pixel/neo_pixel.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_dropdown",name:"PIN",options:lc().analogPins},{type:"input_dummy"},{type:"field_number",name:"NUMBER_LEDS",value:30,min:1,max:150}],colour:cc.COMPONENTS,tooltip:"",helpUrl:""},{type:"neo_pixel_set_color",message0:"%1 Set Led Color %2 Which Led? %3 What Color? %4",args0:[{type:"field_image",src:"./assets/blocks/neo_pixel/neo_pixel.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"input_value",name:"POSITION",check:"Number",align:"RIGHT"},{type:"input_value",name:"COLOR",check:"Colour",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""}]),Object(Sa.defineBlocksWithJsonArray)([{type:"push_button_setup",message0:"%1 Setup Button %2 Connected to PIN# %3 %4 ------------------------------------- %5 Loop   %6 Is button pressed: %7",args0:[{type:"field_image",src:"./assets/blocks/push_button/push_button.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_dropdown",name:"PIN",options:lc().digitalPins},{type:"input_dummy"},{type:"input_dummy",name:"SHOW_CODE_VIEW"},{type:"input_dummy",name:"LOOP_INPUT"},{type:"field_checkbox",name:"is_pressed",checked:!0}],colour:cc.SENSOR,tooltip:"",helpUrl:"",extensions:["debug-setup"]}]),Ta.Blocks.is_button_pressed={init:function(){this.appendDummyInput().appendField(new Ta.FieldImage("./assets/blocks/push_button/push_button.png",15,15,"*")).appendField("Is button").appendField(new Ta.FieldDropdown((function(){return uc("push_button_setup")})),"PIN").appendField("pressed?"),this.appendDummyInput("LOOP_INPUT").appendField("Is button pressed? (readonly) ").appendField(new Ta.FieldCheckbox("FALSE",(function(t){return hm.DISABLE_READONLY_CHECK?t:null})),"SIMPLE_DEBUG"),this.setOutput(!0,"Boolean"),this.setColour(cc.SENSOR),this.setTooltip(""),this.setHelpUrl("")}},Ta.Blocks.procedures_defnoreturn={init:function(){var t=new Ta.FieldTextInput("",Ta.Procedures.rename);t.setSpellcheck(!1),this.appendDummyInput().appendField("Create block").appendField(t,"NAME").appendField("","PARAMS"),this.setMutator(new Ta.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&Ta.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(Ta.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setColour(cc.CONTROL),this.setTooltip(Ta.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(Ta.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(t){this.hasStatements_!==t&&(t?(this.appendStatementInput("STACK").appendField(Ta.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=t)},updateParams_:function(){for(var t=!1,e={},o=0;o<this.arguments_.length;o++){if(e["arg_"+this.arguments_[o].toLowerCase()]){t=!0;break}e["arg_"+this.arguments_[o].toLowerCase()]=!0}this.setWarningText(t?Ta.Msg.PROCEDURES_DEF_DUPLICATE_WARNING:null);var n="",r=[];if(this.argumentVarModels_.length){for(var i=0;i<this.argumentVarModels_.length;i+=1)r.push("  "+this.argumentVarModels_[i].name+" ("+this.argumentVarModels_[i].type+")");n=Ta.Msg.PROCEDURES_BEFORE_PARAMS+r.join(", ")}Ta.Events.disable();try{this.setFieldValue(n,"PARAMS")}finally{Ta.Events.enable()}},mutationToDom:function(t){var e=document.createElement("mutation");t&&e.setAttribute("name",this.getFieldValue("NAME"));for(var o=0;o<this.argumentVarModels_.length;o++){var n=document.createElement("arg"),r=this.argumentVarModels_[o];n.setAttribute("name",r.name),n.setAttribute("type",r.type),n.setAttribute("varid",r.getId()),t&&this.paramIds_&&n.setAttribute("paramId",this.paramIds_[o]),e.appendChild(n)}return this.getFieldValue("RETURN TYPE")&&e.setAttribute("return_type",this.getFieldValue("RETURN TYPE")),this.hasStatements_||e.setAttribute("statements","false"),e},domToMutation:function(t){this.arguments_=[],this.argumentVarModels_=[];for(var e=0,o=void 0;o=t.childNodes[e];e++)if("arg"===o.nodeName.toLowerCase()){var n=o.getAttribute("name"),r=o.getAttribute("type"),i=o.getAttribute("varid");this.arguments_.push(n);var s=Ta.Variables.getOrCreateVariablePackage(this.workspace,i,n,r);this.argumentVarModels_.push(s)}this.updateParams_(),Ta.Procedures.mutateCallers(this),this.setStatements_("false"!==t.getAttribute("statements"))},decompose:function(t){var e=t.newBlock("procedures_mutatorcontainer");e.initSvg(),this.getInput("RETURN")?e.setFieldValue(this.hasStatements_?"TRUE":"FALSE","STATEMENTS"):e.getInput("STATEMENT_INPUT").setVisible(!1);for(var o=e.getInput("STACK").connection,n=0;n<this.arguments_.length;n++){var r=t.newBlock("procedures_mutatorarg");r.initSvg(),r.setFieldValue(this.arguments_[n],"NAME"),r.setFieldValue(this.argumentVarModels_[n].type,"TYPE"),r.oldLocation=n,o.connect(r.previousConnection),o=r.nextConnection}return Ta.Procedures.mutateCallers(this),e},compose:function(t){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var e=t.getInputTargetBlock("STACK");e;){var o=e.getFieldValue("NAME");this.arguments_.push(o);var n=this.workspace.getVariable(o,e.getFieldValue("TYPE"));this.argumentVarModels_.push(n),this.paramIds_.push(e.id),e=e.nextConnection&&e.nextConnection.targetBlock()}this.updateParams_(),Ta.Procedures.mutateCallers(this);var r=t.getFieldValue("STATEMENTS");if(null!==r&&this.hasStatements_!==(r="TRUE"===r))if(r)this.setStatements_(!0),Ta.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null;else{var i=this.getInput("STACK").connection;if(this.statementConnection_=i.targetConnection,this.statementConnection_){var s=i.targetBlock();s.unplug(),s.bumpNeighbours_()}this.setStatements_(!1)}},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1,this.argumentVarModels_]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(t,e){var o=this.workspace.getVariableById(t);if(""===o.type){for(var n=o.name,r=this.workspace.getVariableById(e),i=!1,s=0;s<this.argumentVarModels_.length;s++)this.argumentVarModels_[s].getId()===t&&(this.arguments_[s]=r.name,this.argumentVarModels_[s]=r,i=!0);i&&this.displayRenamedVar_(n,r.name)}},updateVarName:function(t){for(var e,o=t.name,n=!1,r=0;r<this.argumentVarModels_.length;r++)this.argumentVarModels_[r].getId()===t.getId()&&(e=this.arguments_[r],this.arguments_[r]=o,n=!0);n&&this.displayRenamedVar_(e,o)},displayRenamedVar_:function(t,e){if(this.updateParams_(),this.mutator.isVisible())for(var o=this.mutator.workspace_.getAllBlocks(!1),n=0,r=void 0;r=o[n];n++)"procedures_mutatorarg"===r.type&&Ta.Names.equals(t,r.getFieldValue("NAME"))&&r.setFieldValue(e,"NAME")},customContextMenu:function(t){if(!this.isInFlyout){var e={enabled:!0},o=this.getFieldValue("NAME");e.text=Ta.Msg.PROCEDURES_CREATE_DO.replace("%1",o);var n=document.createElement("mutation");n.setAttribute("name",o);for(var r=0;r<this.arguments_.length;r++){var i=document.createElement("arg");i.setAttribute("name",this.arguments_[r]),i.setAttribute("type",this.argumentVarModels_[r].type),n.appendChild(i)}var s=document.createElement("block");if(s.setAttribute("type",this.callType_),s.appendChild(n),e.callback=Ta.ContextMenu.callbackFactory(this,s),t.push(e),!this.isCollapsed())for(r=0;r<this.argumentVarModels_.length;r++){var l={enabled:!0},a=this.argumentVarModels_[r];l.text=Ta.Msg.VARIABLES_SET_CREATE_GET.replace("%1",a.name);var u=Ta.Variables.generateVariableFieldDom(a),c=document.createElement("block");c.setAttribute("type","variables_get"),c.appendChild(u),l.callback=Ta.ContextMenu.callbackFactory(this,c),t.push(l)}}},callType_:"procedures_callnoreturn"},Ta.Blocks.procedures_defreturn={init:function(){var t=new Ta.FieldDropdown([["Number","Number"],["String","String"],["Boolean","Boolean"],["List Number","List Number"],["List String","List String"],["List Boolean","List Boolean"]],this.updateReturnType.bind(this)),e=new Ta.FieldTextInput("",Ta.Procedures.rename);e.setSpellcheck(!1),this.appendDummyInput().appendField("Create block").appendField(e,"NAME").appendField("","PARAMS").appendField("that returns: ").appendField(t,"RETURN TYPE"),this.appendValueInput("RETURN").setAlign(Ta.ALIGN_RIGHT).appendField(Ta.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new Ta.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&Ta.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(Ta.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setColour(cc.CONTROL),this.setTooltip(Ta.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(Ta.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null,this.updateReturnType("Number")},setStatements_:Ta.Blocks.procedures_defnoreturn.setStatements_,updateParams_:Ta.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:Ta.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:Ta.Blocks.procedures_defnoreturn.domToMutation,decompose:Ta.Blocks.procedures_defnoreturn.decompose,compose:Ta.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0,this.argumentVarModels_]},updateReturnType:function(t){var e=this.getInput("RETURN");if(e){e.setCheck([t]),e.connection&&-1===e.connection.getCheck().indexOf(t)&&(e.connection.disconnect(),e.connection.bumpNeighbours_());for(var o=Ta.Procedures.getCallers(this.getFieldValue("NAME"),this.workspace),n=0,r=void 0;r=o[n];n++){r.setOutput(!0,t);var i=r.getParent();if(i){var s=i.getInputWithBlock(r);null!==s.connection.getCheck()&&-1===s.connection.getCheck().indexOf(t)&&(s.connection.disconnect(),s.connection.bumpNeighbours_())}}}},getVars:Ta.Blocks.procedures_defnoreturn.getVars,getVarModels:Ta.Blocks.procedures_defnoreturn.getVarModels,renameVarById:Ta.Blocks.procedures_defnoreturn.renameVarById,updateVarName:Ta.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:Ta.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:Ta.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},Ta.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(Ta.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(Ta.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new Ta.FieldCheckbox("TRUE"),"STATEMENTS"),this.setColour(cc.CONTROL),this.setTooltip(Ta.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};var pc=1;Ta.Blocks.procedures_mutatorarg={init:function(){var t="param"+pc.toString();this.workspace.flyout_&&this.workspace.flyout_.workspace_.getAllBlocks()[0].setFieldValue(t,"NAME");var e=new Ta.FieldDropdown([["Number","Number"],["String","String"],["Boolean","Boolean"],["List Number","List Number"],["List String","List String"],["List Boolean","List Boolean"]],this.validatorType_.bind(this)),o=new Ta.FieldTextInput(t,this.validateName.bind(this));o.oldShowEditorFn_=o.showEditor_,o.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(Ta.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(o,"NAME").appendField(e,"TYPE"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(cc.CONTROL),this.setTooltip(Ta.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,o.onFinishEditing_=this.deleteIntermediateVars_.bind(this),this.createdVariables_=[],o.onFinishEditing_(t),pc+=1},validateName:function(t){if(this.validateVariable(t,this.getFieldValue("TYPE")),!(t=t.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;for(var e=this.workspace.getAllBlocks(),o=0;o<e.length;o+=1)if(e[o].id!==this.id&&e[o].getFieldValue("NAME")===t)return null;return t},validatorType_:function(t){return this.validateVariable(this.getFieldValue("NAME"),t),t},validateVariable:function(t,e){if(!(t=t.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;var o=Ta.mainWorkspace,n=o.getVariable(t,e);n&&n.name!==t&&o.renameVarById(n.getId(),t),n||(n=o.createVariable(t,e))&&this.createdVariables_&&this.createdVariables_.push(n)},deleteIntermediateVars_:function(t,e){t=t||this.getFieldValue("NAME"),e=e||this.getFieldValue("TYPE");var o=Ta.mainWorkspace;if(o)for(var n=0;n<this.createdVariables_.length;n++){var r=this.createdVariables_[n];r.name===t&&r.type===e||o.deleteVariableById(r.getId())}}},Ta.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField(this.id,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(cc.CONTROL),this.setHelpUrl(Ta.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousDisabledState_=!1,this.returnType=null},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(t,e){Ta.Names.equals(t,this.getProcedureCall())&&(this.setFieldValue(e,"NAME"),this.setTooltip((this.outputConnection?Ta.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Ta.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",e)))},setProcedureParameters_:function(t,e,o){var n=Ta.Procedures.getDefinition(this.getProcedureCall(),this.workspace),r=n&&n.mutator&&n.mutator.isVisible();if(r||(this.quarkConnections_={},this.quarkIds_=null),e){var i=this.argumentVarModels_?this.argumentVarModels_.map((function(t){return t.type})):[];if(t.join("\n")!==this.arguments_.join("\n")||i.join(",")!==o.join(",")){if(e.length!==t.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);var s=this.rendered;this.rendered=!1;for(var l=0;l<this.arguments_.length;l++){var a=this.getInput("ARG"+l);a&&(this.quarkConnections_[this.quarkIds_[l]]=p=a.connection.targetConnection,r&&p&&-1===e.indexOf(this.quarkIds_[l])&&(p.disconnect(),p.getSourceBlock().bumpNeighbours_()))}for(this.arguments_=[].concat(t),this.argumentVarModels_=[],l=0;l<this.arguments_.length;l++){var u=Ta.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[l],o[l]);this.argumentVarModels_.push(u)}if(this.updateShape_(),this.quarkIds_=e,this.quarkIds_)for(l=0;l<this.arguments_.length;l++){var c=this.quarkIds_[l];if(c in this.quarkConnections_){var p=this.quarkConnections_[c];try{Ta.Mutator.reconnect(p,this,"ARG"+l)||delete this.quarkConnections_[c]}catch(h){p.getSourceBlock().bumpNeighbours_(),console.error("DELETED DETACHED "+h.message),delete this.quarkConnections_[c]}}}this.rendered=s,this.rendered&&this.render()}else this.quarkIds_=e}},updateShape_:function(){var t=0;for(t=0;t<this.arguments_.length;t++){var e=this.getField("ARGNAME"+t),o=this.argumentVarModels_[t].name+" ("+this.argumentVarModels_[t].type+") ";if(e){Ta.Events.disable();try{e.setValue(o),this.getInput("ARG"+t).setCheck([this.argumentVarModels_[t].type])}finally{Ta.Events.enable()}}else e=new Ta.FieldLabel(o),this.appendValueInput("ARG"+t).setAlign(Ta.ALIGN_RIGHT).appendField(e,"ARGNAME"+t).setCheck([this.argumentVarModels_[t].type]).init()}for(;this.getInput("ARG"+t);)this.removeInput("ARG"+t),t++;var n=this.getInput("TOPROW");n&&(this.arguments_.length?this.getField("WITH")||(n.appendField(Ta.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),n.init()):this.getField("WITH")&&n.removeField("WITH"))},mutationToDom:function(){var t=document.createElement("mutation");t.setAttribute("name",this.getProcedureCall());for(var e=0;e<this.arguments_.length;e++){var o=document.createElement("arg");o.setAttribute("name",this.arguments_[e]),o.setAttribute("type",this.argumentVarModels_[e].type),t.appendChild(o)}return this.returnType&&t.setAttribute("return_type",this.returnType),t},domToMutation:function(t){var e=t.getAttribute("name");this.renameProcedure(this.getProcedureCall(),e);for(var o=[],n=[],r=[],i=0,s=void 0;s=t.childNodes[i];i++)"arg"===s.nodeName.toLowerCase()&&(o.push(s.getAttribute("name")),r.push(s.getAttribute("type")),n.push(s.getAttribute("paramId")));var l=t.getAttribute("return_type");l&&(this.setOutput(!0,l),this.returnType=l),this.setProcedureParameters_(o,n,r)},getVarModels:function(){return this.argumentVarModels_},onchange:function(t){if(this.workspace&&!this.workspace.isFlyout&&t.recordUndo)if(t.type===Ta.Events.BLOCK_CREATE&&-1!==t.ids.indexOf(this.id)){var e=this.argumentVarModels_?this.argumentVarModels_.map((function(t){return{name:t.name,type:t.type}})):[],o=this.getProcedureCall(),n=(p=Ta.Procedures.getDefinition(o,this.workspace)).argumentVarModels_?p.argumentVarModels_.map((function(t){return{name:t.name,type:t.type}})):[];if(!p||p.type===this.defType_&&JSON.stringify(e)===JSON.stringify(n)||(p=null),!p){Ta.Events.setGroup(t.group);var r=document.createElement("xml"),i=document.createElement("block");i.setAttribute("type",this.defType_);var s=this.getRelativeToSurfaceXY(),l=s.y+2*Ta.SNAP_RADIUS;i.setAttribute("x",s.x+Ta.SNAP_RADIUS*(this.RTL?-1:1)),i.setAttribute("y",l);var a=this.mutationToDom();i.appendChild(a);var u=document.createElement("field");u.setAttribute("name","NAME"),u.appendChild(document.createTextNode(this.getProcedureCall())),i.appendChild(u),r.appendChild(i),Ta.Xml.domToWorkspace(r,this.workspace),Ta.Events.setGroup(!1)}}else if(t.type===Ta.Events.BLOCK_DELETE){var c=this.getProcedureCall();(p=Ta.Procedures.getDefinition(c,this.workspace))||(Ta.Events.setGroup(t.group),this.dispose(!0,!1),Ta.Events.setGroup(!1))}else if(t.type===Ta.Events.CHANGE&&"disabled"===t.element){var p,h=this.getProcedureCall();if((p=Ta.Procedures.getDefinition(h,this.workspace))&&p.id===t.blockId){var g=Ta.Events.getGroup();g&&console.log("Saw an existing group while responding to a definition change"),Ta.Events.setGroup(t.group),t.newValue?(this.previousDisabledState_=this.disabled,this.setDisabled(!0)):this.setDisabled(this.previousDisabledState_),Ta.Events.setGroup(g)}}},customContextMenu:function(t){var e={enabled:!0};e.text=Ta.Msg.PROCEDURES_HIGHLIGHT_DEF;var o=this.getProcedureCall(),n=this.workspace;e.callback=function(){var t=Ta.Procedures.getDefinition(o,n);t&&(n.centerOnBlock(t.id),t.select())},t.push(e)},defType_:"procedures_defnoreturn"},Ta.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0,"Number"),this.setColour(cc.CONTROL),this.setHelpUrl(Ta.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousDisabledState_=!1},getProcedureCall:Ta.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:Ta.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:Ta.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:Ta.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:Ta.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:Ta.Blocks.procedures_callnoreturn.domToMutation,getVarModels:Ta.Blocks.procedures_callnoreturn.getVarModels,onchange:Ta.Blocks.procedures_callnoreturn.onchange,customContextMenu:Ta.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},Object(Sa.defineBlocksWithJsonArray)([{type:"rfid_scan",message0:"%1 Did RFID read scan a new card? %2 new card? (readonly) %3",args0:[{type:"field_image",src:"./assets/blocks/rfid/rfid.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_checkbox",name:"SIMPLE_DEBUG",checked:!1}],inputsInline:!1,output:"Boolean",colour:cc.SENSOR,tooltip:"",helpUrl:"",extensions:["debug"]},{type:"rfid_card",lastDummyAlign0:"RIGHT",metadata:"blue",message0:"%1 Get RFID Card Number %2 RFID Card# (readonly) = %3",args0:[{type:"field_image",src:"./assets/blocks/rfid/rfid.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_input",name:"SIMPLE_DEBUG",text:"ex_card_num"}],inputsInline:!1,output:"String",colour:cc.SENSOR,tooltip:"",helpUrl:"",extensions:["debug"]},{type:"rfid_tag",lastDummyAlign0:"RIGHT",metadata:"blue",message0:"%1 Get RFID Tag %2 RFID Tag # (readonly) = %3",args0:[{type:"field_image",src:"./assets/blocks/rfid/rfid.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_input",name:"SIMPLE_DEBUG",text:"ex_tag_num"}],inputsInline:!1,output:"String",colour:cc.SENSOR,tooltip:"",helpUrl:""}]),Ta.Blocks.rfid_setup={init:function(){var t=this;this.appendDummyInput().appendField(new Ta.FieldImage("./assets/blocks/rfid/rfid.png",15,15,{alt:"*",flipRtl:"FALSE"})).appendField("RFID Setup"),this.appendDummyInput().appendField("RX Pin#").appendField(new Ta.FieldDropdown(lc().digitalPins),"RX").appendField("TX Pin#").appendField(new Ta.FieldDropdown(lc().digitalPins),"TX"),this.appendDummyInput("SHOW_CODE_VIEW").appendField("-----------------------------------------"),this.appendDummyInput().appendField("LOOP").appendField(new Ta.FieldDropdown((function(){return ac()})),"LOOP"),this.appendDummyInput().appendField("Scanned Card?").appendField(new Ta.FieldCheckbox("TRUE",(function(e){return"FALSE"===e&&(t.getField("card_number").setValue(""),t.getField("tag").setValue("")),e})),"scanned_card"),this.appendDummyInput().appendField("Card #:").appendField(new Ta.FieldTextInput("card_number",(function(e){return"FALSE"===t.getFieldValue("scanned_card")?null:e})),"card_number"),this.appendDummyInput().appendField("Tag#:").appendField(new Ta.FieldTextInput("tag",(function(e){return"FALSE"===t.getFieldValue("scanned_card")?null:e})),"tag"),this.setColour(cc.SENSOR),this.setTooltip(""),this.setHelpUrl("")}},Object(Sa.defineBlocksWithJsonArray)([{type:"rotate_servo",message0:"%1 Rotate Servo %2 Pin# %3 %4 Degrees %5",args0:[{type:"field_image",src:"./assets/blocks/servo/servo.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_dropdown",name:"PIN",options:lc().digitalPins},{type:"input_dummy",align:"RIGHT"},{type:"input_value",name:"DEGREE",check:"Number",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:cc.COMPONENTS,tooltip:"",helpUrl:""}]),Object(Sa.defineBlocksWithJsonArray)([{type:"temp_get_temp",message0:"%1 Temperature in Celsius%2 Temperature (readonly) = %3",args0:[{type:"field_image",src:"./assets/blocks/temp/temp.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_input",name:"SIMPLE_DEBUG",text:""}],output:"Number",colour:cc.SENSOR,tooltip:"",helpUrl:""},{type:"temp_get_humidity",message0:"%1 Humidity percentage?%2 Humidity (readonly) = %3",args0:[{type:"field_image",src:"./assets/blocks/temp/temp.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_input",name:"SIMPLE_DEBUG",text:""}],output:"Number",colour:cc.SENSOR,tooltip:"",helpUrl:""}]),Ta.Blocks.temp_setup={init:function(){this.appendDummyInput().appendField(new Ta.FieldImage("./assets/blocks/temp/temp.png",15,15,{alt:"*",flipRtl:"FALSE"})).appendField("Setup Temperature Sensor"),this.appendDummyInput().appendField("Pin# ").appendField(new Ta.FieldDropdown(lc().digitalPins),"PIN"),this.appendDummyInput().appendField("------------------------------------------"),this.appendDummyInput().appendField("Loop").appendField(new Ta.FieldDropdown((function(){return ac()})),"LOOP"),this.appendDummyInput().appendField("Temperature Celsius ").appendField(new Ta.FieldNumber(30,-200,300,1e-5),"temp"),this.appendDummyInput().appendField("Humidity ").appendField(new Ta.FieldNumber(5,0,300),"humidity"),this.setColour(cc.SENSOR),this.setTooltip(""),this.setHelpUrl("")}},Object(Sa.defineBlocksWithJsonArray)([{type:"number_to_string",message0:"Decimal places displayed %1 %2 Number to String %3",args0:[{type:"field_number",name:"PRECISION",value:2,min:0,max:5,precision:1},{type:"input_dummy"},{type:"input_value",name:"NUMBER",check:"Number",align:"RIGHT"}],output:"String",colour:cc.VALUES,tooltip:"",helpUrl:""},{type:"parse_string_block",message0:"Get Part Of Text Block %1 Value %2 Separating Character %3 %4 Position %5",args0:[{type:"input_dummy",align:"RIGHT"},{type:"input_value",name:"VALUE",check:"String",align:"RIGHT"},{type:"field_dropdown",name:"DELIMITER",options:[[",",","],["#","#"],["$","$"],["^","^"],["|","|"],["@","@"]]},{type:"input_dummy",align:"RIGHT"},{type:"input_value",name:"POSITION",check:"Number",align:"RIGHT"}],inputsInline:!1,output:"String",colour:cc.VALUES,tooltip:"",helpUrl:""}]),Object(Sa.defineBlocksWithJsonArray)([{type:"time_seconds",message0:"%1 seconds arduino been on?%2 has been on for %3 seconds.",args0:[{type:"field_image",src:"./assets/blocks/time/time.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_dummy"},{type:"field_input",name:"SIMPLE_DEBUG",text:""}],output:"Number",colour:cc.ARDUINO,tooltip:"",helpUrl:"",extensions:["debug"]},{type:"delay_block",message0:"%1 wait for  %2 seconds",args0:[{type:"field_image",src:"./assets/blocks/time/time.png",width:15,height:15,alt:"*",flipRtl:!1},{type:"input_value",name:"DELAY",check:"Number"}],previousStatement:null,nextStatement:null,colour:cc.ARDUINO,tooltip:"",helpUrl:""}]),Ta.Blocks.time_setup={init:function(){this.appendDummyInput().appendField(new Ta.FieldImage("./assets/blocks/time/time.png",15,15,{alt:"*",flipRtl:"FALSE"})).appendField("Setup Time"),this.appendDummyInput().appendField("How many seconds per loop").appendField(new Ta.FieldNumber(.1,0,1e5,1e-5),"time_in_seconds"),this.setColour(cc.ARDUINO),this.setTooltip(""),this.setHelpUrl("")}},Object(Sa.defineBlocksWithJsonArray)([{type:"variables_get_number",message0:"= number variable %1",args0:[{type:"field_variable",name:"VAR",variable:null,variableTypes:["Number"],defaultType:"Number"}],output:"Number",colour:cc.DATA,tooltip:"",helpUrl:""},{type:"variables_set_number",message0:"Number variable %1 = %2",args0:[{type:"field_variable",name:"VAR",variable:null,variableTypes:["Number"],defaultType:"Number",createNewVariable:!1},{type:"input_value",name:"VALUE",check:"Number"}],previousStatement:null,nextStatement:null,colour:cc.DATA,tooltip:"",helpUrl:""},{type:"variables_get_colour",message0:"= color variable %1",args0:[{type:"field_variable",name:"VAR",variable:null,variableTypes:["Colour"],defaultType:"Colour"}],output:"Colour",colour:cc.DATA,tooltip:"",helpUrl:""},{type:"variables_set_colour",message0:"Color variable %1 = %2",args0:[{type:"field_variable",name:"VAR",variable:null,variableTypes:["Colour"],defaultType:"Colour"},{type:"input_value",name:"VALUE",check:"Colour"}],previousStatement:null,nextStatement:null,colour:cc.DATA,tooltip:"",helpUrl:""},{type:"variables_get_string",message0:"= text variable %1",args0:[{type:"field_variable",name:"VAR",variable:null,variableTypes:["String"],defaultType:"String"}],output:"String",colour:cc.DATA,tooltip:"",helpUrl:""},{type:"variables_set_string",message0:"Text variable %1 = %2",args0:[{type:"field_variable",name:"VAR",variable:null,variableTypes:["String"],defaultType:"String"},{type:"input_value",name:"VALUE",check:"String"}],previousStatement:null,nextStatement:null,colour:cc.DATA,tooltip:"",helpUrl:""},{type:"variables_get_boolean",message0:"= boolean variable %1",args0:[{type:"field_variable",name:"VAR",variable:null,variableTypes:["Boolean"],defaultType:"Boolean"}],output:"Boolean",colour:cc.DATA,tooltip:"",helpUrl:""},{type:"variables_set_boolean",message0:"Boolean variable %1 = %2",args0:[{type:"field_variable",name:"VAR",variable:null,variableTypes:["Boolean"],defaultType:"Boolean"},{type:"input_value",name:"VALUE",check:"Boolean"}],previousStatement:null,nextStatement:null,colour:cc.DATA,tooltip:"",helpUrl:""}]),Ta.Arduino=new Ta.Generator("Arduino"),Ta.Arduino.addReservedWords("setup,loop,if,else,for,switch,case,while,do,break,continue,return,goto,define,include,HIGH,LOW,INPUT,OUTPUT,INPUT_PULLUP,true,false,interger, constants,floating,point,void,bookean,char,unsigned,byte,int,word,long,float,double,string,String,array,static, volatile,const,sizeof,pinMode,digitalWrite,digitalRead,analogReference,analogRead,analogWrite,tone,noTone,shiftOut,shitIn,pulseIn,millis,micros,delay,delayMicroseconds,min,max,abs,constrain,map,pow,sqrt,sin,cos,tan,randomSeed,random,lowByte,highByte,bitRead,bitWrite,bitSet,bitClear,ultraSonicDistance,parseDouble,setNeoPixelColor,bit,attachInterrupt,detachInterrupt,interrupts,noInterrupts","short","isBtnPressed"),Ta.Arduino.ORDER_ATOMIC=0,Ta.Arduino.ORDER_UNARY_POSTFIX=1,Ta.Arduino.ORDER_UNARY_PREFIX=2,Ta.Arduino.ORDER_MULTIPLICATIVE=3,Ta.Arduino.ORDER_ADDITIVE=4,Ta.Arduino.ORDER_LOGICAL_NOT=4.4,Ta.Arduino.ORDER_SHIFT=5,Ta.Arduino.ORDER_MODULUS=5.3,Ta.Arduino.ORDER_RELATIONAL=6,Ta.Arduino.ORDER_EQUALITY=7,Ta.Arduino.ORDER_BITWISE_AND=8,Ta.Arduino.ORDER_BITWISE_XOR=9,Ta.Arduino.ORDER_BITWISE_OR=10,Ta.Arduino.ORDER_LOGICAL_AND=11,Ta.Arduino.ORDER_LOGICAL_OR=12,Ta.Arduino.ORDER_CONDITIONAL=13,Ta.Arduino.ORDER_ASSIGNMENT=14,Ta.Arduino.ORDER_COMMA=18,Ta.Arduino.ORDER_NONE=99,Ta.Arduino.init=function(t){Ta.Arduino.libraries_=Object.create(null),Ta.Arduino.setupCode_=Object.create(null),Ta.Arduino.functionNames_=Object.create(null),Ta.Arduino.variablesInitCode_="",Ta.Arduino.variableDB_?Ta.Arduino.variableDB_.reset():Ta.Arduino.variableDB_=new Ta.Names(Ta.Arduino.RESERVED_WORDS_),Ta.Arduino.variableDB_.setVariableMap(t.getVariableMap());var e=t.getVariablesOfType("Number"),o=0,n="";for(o=0;o<e.length;o+=1)n+="double "+Ta.Arduino.variableDB_.getName(e[o].getId(),Ta.Variables.NAME_TYPE)+" = 0; \n\n";var r=t.getVariablesOfType("String");for(o=0;o<r.length;o+=1)n+="String "+Ta.Arduino.variableDB_.getName(r[o].getId(),Ta.Variables.NAME_TYPE)+' = ""; \n\n';var i=t.getVariablesOfType("Boolean");for(o=0;o<i.length;o+=1)n+="boolean "+Ta.Arduino.variableDB_.getDistinctName(i[o].getId(),Ta.Variables.NAME_TYPE)+" = false; \n\n";var s=t.getVariablesOfType("Colour");for(o=0;o<s.length;o+=1)n+="RGB "+Ta.Arduino.variableDB_.getName(s[o].getId(),Ta.Variables.NAME_TYPE)+" = {0, 0, 0}; \n\n";Ta.Arduino.variablesInitCode_=n},Ta.Arduino.finish=function(t){var e="",o="",n="int simple_loop_variable = 0; \n";for(var r in Ta.Arduino.libraries_)e+=Ta.Arduino.libraries_[r]+"\n";for(var r in Ta.Arduino.functionNames_)o+=Ta.Arduino.functionNames_[r]+"\n";return $l.isEmpty(Ta.Arduino.setupCode_.bluetooth_setup)||(n+='String bluetoothMessageDEV = ""; \n'),$l.isEmpty(Ta.Arduino.setupCode_.serial_begin)||(n+='String serialMessageDEV = ""; \n'),$l.isEmpty(Ta.Arduino.functionNames_.double_to_string_debug)||(n+="boolean stopDebugging = false; \n"),t=n+"struct RGB { \n\tint red;\n\tint green;\n\tint blue;\n};\n"+e+"\n"+Ta.Arduino.variablesInitCode_+"\n"+o+"\n"+t,delete Ta.Arduino.definitions_,delete Ta.Arduino.functionNames_,delete Ta.Arduino.variablesInitCode_,delete Ta.Arduino.libraries_,Ta.Arduino.variableDB_.reset(),t},Ta.Arduino.scrubNakedValue=function(t){return t+";\n"},Ta.Arduino.quote_=function(t){return'"'+(t=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+'"'},Ta.Arduino.scrub_=function(t,e){var o="";if(!t.outputConnection||!t.outputConnection.targetConnection){var n=t.getCommentText();(n=Ta.utils.string.wrap(n,Ta.Arduino.COMMENT_WRAP-3))&&(o+=t.getProcedureDef?"/**\n"+Ta.Arduino.prefixLines(n+"\n"," * ")+" */\n":Ta.Arduino.prefixLines(n+"\n","// "));for(var r=0;r<t.inputList.length;r++)if(t.inputList[r].type===Ta.INPUT_VALUE){var i=t.inputList[r].connection.targetBlock();if(i){var s=Ta.Arduino.allNestedComments(i);s&&(o+=Ta.Arduino.prefixLines(s,"// "))}}}var l=t.nextConnection&&t.nextConnection.targetBlock();return o+e+Ta.Arduino.blockToCode(l)},Ta.Arduino.arduino_start=function(t){var e=Ta.Arduino.statementToCode(t,"setup"),o=Ta.Arduino.statementToCode(t,"loop"),n="";for(var r in Ta.Arduino.setupCode_)n+=Ta.Arduino.setupCode_[r]||"";var i="",s="",l="",a="";return $l.isEmpty(Ta.Arduino.setupCode_.bluetooth_setup)||(i='\tbluetoothMessageDEV = ""; \n'),$l.isEmpty(Ta.Arduino.setupCode_.serial_begin)||(s='\tserialMessageDEV= ""; \n'),$l.isEmpty(Ta.Arduino.setupCode_.setup_ir_remote)||(l="\tirReceiver.resume(); \n"),$l.isEmpty(Ta.Arduino.functionNames_.takeTempReading)||(a="\ttakeTempReading(); \n"),"\nvoid setup() { \n"+n+e+"\n}\n\n\nvoid loop() { \n"+o+"\n"+i+s+l+a+"}"},Ta.Arduino.bluetooth_setup=function(t){var e=t.getFieldValue("RX"),o=t.getFieldValue("TX");return Ta.Arduino.libraries_.define_bluetooth="\n#include <SoftwareSerial.h>;\nSoftwareSerial blueToothSerial("+o+", "+e+"); \n\n",Ta.Arduino.functionNames_.getBluetoothMessage="String getBluetoothMessage() {\n   if (bluetoothMessageDEV.length() > 0) {\n     return bluetoothMessageDEV;\n   }\n\n   bluetoothMessageDEV = blueToothSerial.readStringUntil('|');\n\n   return bluetoothMessageDEV;\n};",Ta.Arduino.setupCode_.bluetooth_setup="\tblueToothSerial.begin("+lc().serial_baud_rate+"); \n\tdelay(1000); \n",""},Ta.Arduino.bluetooth_get_message=function(t){return["getBluetoothMessage()",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.bluetooth_has_message=function(t){return["getBluetoothMessage().length() > 0",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.bluetooth_send_message=function(t){return"blueToothSerial.write("+Ta.Arduino.valueToCode(t,"MESSAGE",Ta.Arduino.ORDER_ATOMIC)+");\n"},Ta.Arduino.colour_picker=function(t){var e,o,n=(e=t.getFieldValue("COLOUR"),(o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null);return["{ "+n.r+", "+n.g+", "+n.b+"}",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.colour_random=function(t){return["{ random(0, 255), random(0, 255), random(0, 255)}",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.colour_rgb=function(t){return["{ "+Ta.Arduino.valueToCode(t,"RED",Ta.Arduino.ORDER_ATOMIC)+", "+Ta.Arduino.valueToCode(t,"GREEN",Ta.Arduino.ORDER_ATOMIC)+", "+Ta.Arduino.valueToCode(t,"BLUE",Ta.Arduino.ORDER_ATOMIC)+"}",Ta.Arduino.ORDER_ATOMIC]};var hc=["Number","String","Boolean","Colour"];function gc(){Ta.Arduino.setupCode_.serial_begin="\tSerial.begin("+lc().serial_baud_rate+"); \n"}function dc(t){var e=t.getId(),o="";"List String"===t.type?o="create_list_string_block":"List Number"===t.type?o="create_list_number_block":"List Boolean"===t.type?o="create_list_boolean_block":"List Colour"===t.type&&(o="create_list_colour_block");var n=Ta.mainWorkspace.getBlocksByType(o,!0).find((function(t){return t.getFieldValue("VAR")===e}));return n?n.getFieldValue("SIZE"):1}function fc(t){"Colour"!==t&&"List Colour"!==t||(t="RGB");var e='String printArrayREPLATEWITHTYPE(REPLATEWITHTYPE arr[], int sizeOfArray) {\n\t\tString returnValue = "[";\n\t\tfor (unsigned int i = 0; i < sizeOfArray; i += 1) {\n';return"number"===t.toLowerCase()?e+="\t\treturnValue +=  double2string(arr[i], 5);\n":"boolean"===t.toLowerCase()?e+='\t\treturnValue += arr[i] ? "true" : "false"; \n':"rgb"===t.toLowerCase()?e+="\t\treturnValue += colorToString(arr[i]); \n":e+="\t\treturnValue +=  String(arr[i]);\n","Number"===t?t="double":"Boolean"===t&&(t="boolean"),(e+='\t\t\tif (i < sizeOfArray -1) {\n\t\t\t\treturnValue += ",";\n\t\t\t}\n\t\t}\n\t\treturnValue += "]";\n\t\treturn returnValue;\n}\n').replace(/REPLATEWITHTYPE/g,t)}function mc(){Ta.Arduino.libraries_.define_led_matrix="#include <LedControlMS.h>;\n",Ta.Arduino.libraries_.led_matrix_setup="LedControl lc = LedControl(12,11,10,1);\n",Ta.Arduino.setupCode_.led_matrix="\tlc.shutdown(0,false); \n\tlc.setIntensity(0,8);\n\tlc.clearDisplay(0);\n"}Ta.Arduino.message_setup=function(){return gc(),Ta.Arduino.functionNames_.getSerialMessage="String getSerialMessage() {\n   if (serialMessageDEV.length() > 0) {\n     return serialMessageDEV;\n   }\n\n   serialMessageDEV = Serial.readStringUntil('|');\n\n   return serialMessageDEV;\n};\n  ",""},Ta.Arduino.arduino_get_message=function(t){return["getSerialMessage()",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.arduino_receive_message=function(t){return["(getSerialMessage().length() > 0)",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.arduino_send_message=function(t){return"\tSerial.println("+Ta.Arduino.valueToCode(t,"MESSAGE",Ta.Arduino.ORDER_ATOMIC)+");\n"},Ta.Arduino.debug_block=function(t){gc(),Ta.Arduino.functionNames_.double_to_string_debug=" String double2string(double n, int ndec) {                         \n\t\t String r = \"\";                                                 \n\t\t int v = n;                                                     \n\t\t r += v;     // whole number part                               \n\t\t r += '.';   // decimal point                                   \n\t\t int i;                                                         \n\t\t for (i = 0; i < ndec; i++) {                                   \n\t\t     // iterate through each decimal digit for 0..ndec          \n\t\t     n -= v;                                                    \n\t\t     n *= 10;                                                   \n\t\t     v = n;                                                     \n\t\t     r += v;                                                    \n\t\t }                                                              \n\t\t                                                                \n\t\t return r;                                                      \n}",Ta.Arduino.functionNames_.color_struct_string='String colorToString(RGB color) {\n\treturn "{" + String(color.red) + "-" + String(color.green) + "-" + String(color.blue) + "}";\n}\n';for(var e=0;e<hc.length;e+=1)Ta.Arduino.functionNames_["print_array_"+hc[e].replace(" ","")]=fc(hc[e].replace(" ",""))+"\n\n";var o='\n\nvoid debug(String blockNumber) { \n\t\tif(stopDebugging) {\n\t\t\treturn; \n\t\t}\n\t\tString stopDebug = ""; \n';return o+=function(){for(var t="",e=Ta.mainWorkspace.getAllVariables(),o=0;o<e.length;o+=1){var n=Ta.Arduino.variableDB_.getName(e[o].getId(),Ta.Variables.NAME_TYPE);if(hc.indexOf(e[o].type)>-1){if(t+='\t\tSerial.println("**(|)'+n+"_|_"+e[o].type+'_|_" +',"Number"===e[o].type){t+="double2string("+n+", 5));\n";continue}if("Colour"===e[o].type){t+="colorToString("+n+"));\n";continue}if("Boolean"===e[o].type){t+=(n?'String("true")':'String("false")')+");\n";continue}t+="String("+n+")); \n"}else{var r=e[o].type.replace("List ","");"Colour"===r?r="RGB":"Number"===r?r="double":"Boolean"===r&&(r="boolean"),t+='\t\tSerial.println("**(|)'+e[o].name+"_|_"+e[o].type+'_|_" +printArray'+r+"("+n+","+dc(e[o])+")); \n"}}return t}(),o+='\t\tSerial.println("DEBUG_BLOCK_" + blockNumber + " ");\n\n',o+='\t\twhile (stopDebug != "continue_debug" && !stopDebugging) { \n\t\t\tstopDebug = Serial.readStringUntil(\'|\'); \n\t\t\tif (stopDebug == "stop_debug") { \n\t\t\t\tstopDebugging = true; \n\t\t\t} \n\t\t\tdelay(1000);  \n\t\t}\n',Ta.Arduino.functionNames_.debug_function=o+="}\n",'debug("'+t.id+'"); \n'},Ta.Arduino.ir_remote_setup=function(t){var e=t.getFieldValue("PIN")||"A1";return Ta.Arduino.libraries_.define_ir_remote="#include <IRremote.h>; \nIRrecv irReceiver("+e+");\ndecode_results result;\n",Ta.Arduino.setupCode_.setup_ir_remote="\tirReceiver.enableIRIn(); \n",""},Ta.Arduino.ir_remote_has_code_receive=function(){return["irReceiver.decode(&result)",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.ir_remote_get_code=function(){return["String(result.value, HEX)",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.lcd_setup=function(t){var e=t.getFieldValue("SIZE"),o=t.getFieldValue("MEMORY_TYPE").toUpperCase(),n="16 x 2"===e?2:4,r="16 x 2"===e?16:20;return Ta.Arduino.libraries_.define_wire="#include <Wire.h>;\n",Ta.Arduino.libraries_.define_liquid_crystal_i2c_big="#include <LiquidCrystal_I2C.h>;\n",Ta.Arduino.libraries_.liquid_crystal_ic2_lcd_object="LiquidCrystal_I2C lcd("+o+","+n+","+r+");",Ta.Arduino.setupCode_.liquid_crystal_ic2_lcd="\tlcd.init();\n\tlcd.backlight(); \n",""},Ta.Arduino.lcd_scroll=function(t){return"RIGHT"===t.getFieldValue("DIR")?"lcd.scrollDisplayRight(); \n":"lcd.scrollDisplayLeft(); \n"},Ta.Arduino.lcd_screen_simple_print=function(t){var e=Ta.Arduino.valueToCode(t,"ROW_1",Ta.Arduino.ORDER_ATOMIC),o=Ta.Arduino.valueToCode(t,"ROW_2",Ta.Arduino.ORDER_ATOMIC),n=Ta.Arduino.valueToCode(t,"ROW_3",Ta.Arduino.ORDER_ATOMIC),r=Ta.Arduino.valueToCode(t,"ROW_4",Ta.Arduino.ORDER_ATOMIC),i=Ta.Arduino.valueToCode(t,"DELAY",Ta.Arduino.ORDER_ATOMIC);function s(t,e){return'""'!==e?"lcd.setCursor(0, "+t+"); \nlcd.print("+e+"); \n":""}return"lcd.clear(); \n"+s(0,e)+s(1,o)+s(2,n)+s(3,r)+"delay("+1e3*i+"); \nlcd.clear(); \n"},Ta.Arduino.lcd_backlight=function(t){return"ON"===t.getFieldValue("BACKLIGHT").toUpperCase()?"\tlcd.backlight();\n":"\tlcd.noBacklight();\n"},Ta.Arduino.lcd_screen_clear=function(t){return"\tlcd.clear();\n"},Ta.Arduino.lcd_screen_print=function(t){var e=parseInt(Ta.Arduino.valueToCode(t,"ROW",Ta.Arduino.ORDER_ATOMIC)),o=parseInt(Ta.Arduino.valueToCode(t,"COLUMN",Ta.Arduino.ORDER_ATOMIC));return"\tlcd.setCursor("+(o=o>0?o-1:0)+", "+(e=e>0?e-1:0)+");\n\tlcd.print("+Ta.Arduino.valueToCode(t,"PRINT",Ta.Arduino.ORDER_ATOMIC)+"); \n"},Ta.Arduino.lcd_blink=function(t){var e=parseInt(Ta.Arduino.valueToCode(t,"ROW",Ta.Arduino.ORDER_ATOMIC)),o=parseInt(Ta.Arduino.valueToCode(t,"COLUMN",Ta.Arduino.ORDER_ATOMIC));return"\tlcd.setCursor("+(o=o>0?o-1:0)+", "+(e=e>0?e-1:0)+");\n"+("BLINK"===t.getFieldValue("BLINK").toUpperCase()?"\tlcd.blink();\n":"\tlcd.noBlink();\n")},Ta.Arduino.led_matrix_make_draw=function(t){mc();for(var e="\n\t//START CODE TO DRAW BLOCK "+t.id+"\n",o=1;o<=8;o+=1)for(var n=1;n<=8;n+=1)e+="\tlc.setLed(0, "+o+", "+n+", "+t.getFieldValue(o+","+n).toLowerCase()+");\n";return e+"\n\t//FINISH CODE TO DRAW BLOCK "+t.id+"\n"},Ta.Arduino.led_matrix_turn_one_on_off=function(t){mc();var e=parseInt(Ta.Arduino.valueToCode(t,"ROW",Ta.Arduino.ORDER_ATOMIC)),o=parseInt(Ta.Arduino.valueToCode(t,"COLUMN",Ta.Arduino.ORDER_ATOMIC));return"\tlc.setLed(0, "+(e=e>0?e-1:0)+", "+(o=o>0?o-1:0)+", "+("ON"===t.getFieldValue("STATE")?"true":"false")+");\n"},Ta.Arduino.led=function(t){var e=t.getFieldValue("PIN"),o=t.getFieldValue("STATE");return Ta.Arduino.setupCode_["led_pin"+e]="\tpinMode("+e+", OUTPUT); \n","digitalWrite("+e+", "+("ON"===o?"HIGH":"LOW")+"); \n"},Ta.Arduino.led_fade=function(t){var e=t.getFieldValue("PIN"),o=Ta.Arduino.valueToCode(t,"FADE",Ta.Arduino.ORDER_ATOMIC);return Ta.Arduino.setupCode_["led_pin"+e]="\tpinMode("+e+", OUTPUT); \n","analogWrite("+e+", "+o||!1},Ta.Arduino.led_color_setup=function(t){var e=t.getFieldValue("WIRE").split("-"),o=e[0],n=e[1],r=e[2];return Ta.Arduino.setupCode_["led_pin_"+o]="\tpinMode("+o+", OUTPUT); \n",Ta.Arduino.setupCode_["led_pin_"+n]="\tpinMode("+n+", OUTPUT); \n",Ta.Arduino.setupCode_["led_pin_"+r]="\tpinMode("+r+", OUTPUT); \n",Ta.Arduino.libraries_.color_pin_blue="int BLUE_PIN = "+r+";\n",Ta.Arduino.libraries_.color_pin_red="int RED_PIN = "+o+";\n",Ta.Arduino.libraries_.color_pin_green="int GREEN_PIN = "+n+";\n",Ta.Arduino.functionNames_._setLedColor="void _setLedColor(RGB color) {\n\tanalogWrite(GREEN_PIN, color.green); \n\tanalogWrite(BLUE_PIN, color.blue); \n\tanalogWrite(RED_PIN, color.red); \n}\n",""},Ta.Arduino.set_color_led=function(t){return"_setLedColor("+Ta.Arduino.valueToCode(t,"COLOUR",Ta.Arduino.ORDER_ATOMIC)+");\n"};var _c=function(t,e){Ta.Arduino.functionNames_.zeroIndexAdjustNumber="\n\nint zeroIndexAdjustNumber(double pos) {\n\tpos = pos <= 0 ? 0 : pos;\n\treturn pos >= 1 ? pos - 1 : pos;\n}\n";var o=t.getFieldValue("SIZE"),n=t.getFieldValue("VAR");return Ta.Arduino.variablesInitCode_+=e.replace(" list","")+" "+Ta.Arduino.variableDB_.getName(n,Ta.Variables.NAME_TYPE)+"["+o+"];\n",""},yc=function(t){var e=Ta.Arduino.valueToCode(t,"POSITION",Ta.Arduino.ORDER_ATOMIC),o=t.getFieldValue("VAR"),n=Ta.Arduino.valueToCode(t,"VALUE",Ta.Arduino.ORDER_ATOMIC);return Ta.Arduino.variableDB_.getName(o,Ta.Variables.NAME_TYPE)+"[zeroIndexAdjustNumber("+e+")] = "+n+";\n"},vc=function(t){var e=t.getFieldValue("VAR"),o=Ta.Arduino.valueToCode(t,"POSITION",Ta.Arduino.ORDER_ATOMIC);return[Ta.Arduino.variableDB_.getName(e,Ta.Variables.NAME_TYPE)+"[zeroIndexAdjustNumber("+o+")]",Ta.Arduino.ORDER_ATOMIC]};function bc(t){switch(t){case"Number":return"double";case"String":return"String";case"Boolean":return"boolean";case"void":return"void";default:throw new Error("Invalid Parameter Type")}}function Ec(t){Ta.Arduino.libraries_.define_servo="#include <Servo.h>\n",Ta.Arduino.libraries_["var_servo"+t]="Servo servo_"+t+";\n",Ta.Arduino.setupCode_["setup_servo_"+t]="\tservo_"+t+".attach("+t+");\n"}Ta.Arduino.create_list_number_block=function(t){return _c(t,"double")},Ta.Arduino.create_list_string_block=function(t){return _c(t,"String")},Ta.Arduino.create_list_boolean_block=function(t){return _c(t,"boolean")},Ta.Arduino.create_list_colour_block=function(t){return _c(t,"RGB")},Ta.Arduino.set_string_list_block=yc,Ta.Arduino.set_boolean_list_block=yc,Ta.Arduino.set_number_list_block=yc,Ta.Arduino.set_colour_list_block=yc,Ta.Arduino.get_string_from_list=vc,Ta.Arduino.get_boolean_from_list=vc,Ta.Arduino.get_number_from_list=vc,Ta.Arduino.get_colour_from_list=vc,Ta.Arduino.logic_boolean=function(t){return["TRUE"===t.getFieldValue("BOOL")?"true":"false",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.logic_compare=function(t){var e={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[t.getFieldValue("OP")],o="=="===e||"!="===e?Ta.Arduino.ORDER_EQUALITY:Ta.Arduino.ORDER_RELATIONAL;return["( "+(Ta.Arduino.valueToCode(t,"A",o)||"0")+" "+e+" "+(Ta.Arduino.valueToCode(t,"B",o)||"0")+")",o]},Ta.Arduino.logic_operation=function(t){var e="AND"===t.getFieldValue("OP")?"&&":"||",o="&&"===e?Ta.Arduino.ORDER_LOGICAL_AND:Ta.Arduino.ORDER_LOGICAL_OR,n=Ta.Arduino.valueToCode(t,"A",o),r=Ta.Arduino.valueToCode(t,"B",o);if(n||r){var i="&&"===e?"true":"false";n||(n=i),r||(r=i)}else n="false",r="false";return[n+" "+e+" "+r,o]},Ta.Arduino.control_if=function(t){var e=0,o="";do{o+=(e>0?" else ":"")+"if ("+(Ta.Arduino.valueToCode(t,"IF"+e,Ta.Arduino.ORDER_NONE)||"false")+") {\n"+Ta.Arduino.statementToCode(t,"DO"+e)+"}",++e}while(t.getInput("IF"+e));return t.getInput("ELSE")&&(o+=" else {\n"+Ta.Arduino.statementToCode(t,"ELSE")+"}"),o+"\n"},Ta.Arduino.controls_ifelse=Ta.Arduino.control_if,Ta.Arduino.logic_negate=function(t){var e=Ta.Arduino.ORDER_UNARY_PREFIX;return["!"+(Ta.Arduino.valueToCode(t,"BOOL",e)||"true"),e]},Ta.Arduino.controls_repeat_ext=function(t){var e=Ta.Arduino.valueToCode(t,"TIMES",Ta.Arduino.ORDER_ASSIGNMENT)||"0",o=Ta.Arduino.statementToCode(t,"DO"),n="simple_loop_variable";return"for ("+n+" = 1; "+n+" <= "+e+"; "+n+" += 1) {\n"+(o=Ta.Arduino.addLoopTrap(o,t.id))+"}\n"},Ta.Arduino.controls_for=function(t){var e=Ta.mainWorkspace.getVariableById(t.getFieldValue("VAR")).name,o=Ta.Arduino.statementToCode(t,"DO"),n=Ta.Arduino.valueToCode(t,"FROM",Ta.Arduino.ORDER_ASSIGNMENT)||"0",r=Ta.Arduino.valueToCode(t,"TO",Ta.Arduino.ORDER_ASSIGNMENT)||"0",i=Math.abs(parseInt(Ta.Arduino.valueToCode(t,"BY",Ta.Arduino.ORDER_ASSIGNMENT)));return"for ("+e+" = "+n+"; "+e+(n<r?" <= ":" >= ")+r+"; "+e+(n<r?" +":" -")+"= "+(i=0===i?1:i)+") {\n"+o+"}\n"},Ta.Arduino.controls_whileUntil=function(t){var e="UNTIL"===t.getFieldValue("MODE"),o=Ta.Arduino.valueToCode(t,"BOOL",Ta.Arduino.ORDER_LOGICAL_AND)||"false",n=Ta.Arduino.statementToCode(t,"DO");return e&&(o="!"+o),"\twhile ("+o+") {\n"+(n=Ta.Arduino.addLoopTrap(n,t.id))+"\t}\n"},Ta.Arduino.controls_flow_statements=function(t){switch(t.getFieldValue("FLOW")){case"BREAK":return"break;\n";case"CONTINUE":return"continue;\n"}throw Error("Unknown flow statement.")},Ta.Arduino.math_number=function(t){return[parseFloat(t.getFieldValue("NUM")),Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.math_arithmetic=function(t){var e={ADD:[" + ",Ta.Arduino.ORDER_ASSIGNMENT],MINUS:[" - ",Ta.Arduino.ORDER_ASSIGNMENT],MULTIPLY:[" * ",Ta.Arduino.ORDER_ASSIGNMENT],DIVIDE:[" / ",Ta.Arduino.ORDER_ASSIGNMENT],POWER:[null,Ta.Arduino.ORDER_ASSIGNMENT]}[t.getFieldValue("OP")],o=e[0],n=e[1],r=Ta.Arduino.valueToCode(t,"A",n)||"0",i=Ta.Arduino.valueToCode(t,"B",n)||"0";return o?[r+o+i,n]:["pow("+r+", "+i+")",Ta.Arduino.ORDER_ASSIGNMENT]},Ta.Arduino.math_round=function(t){var e=t.getFieldValue("OP"),o=Ta.Arduino.valueToCode(t,"NUM",Ta.Arduino.ORDER_NONE)||"0",n="";switch(e){case"ROUND":n="(double)round("+o+")";break;case"ROUNDUP":n="(double)ceil("+o+")";break;case"ROUNDDOWN":n="(double)floor("+o+")";break;default:throw Error("No option for this operator: "+e)}return[n,Ta.Arduino.ORDER_UNARY_PREFIX]},Ta.Arduino.math_modulo=function(t){return["(double)("+(Ta.Arduino.valueToCode(t,"DIVIDEND",Ta.Arduino.ORDER_MODULUS)||"0")+" % "+(Ta.Arduino.valueToCode(t,"DIVISOR",Ta.Arduino.ORDER_MODULUS)||"0")+")",Ta.Arduino.ORDER_MODULUS]},Ta.Arduino.math_random_int=function(t){var e=Ta.Arduino.valueToCode(t,"FROM",Ta.Arduino.ORDER_MODULUS)||0,o=Ta.Arduino.valueToCode(t,"TO",Ta.Arduino.ORDER_MODULUS)||1;return[e>o?"(double)random("+o+", "+e+")":"(double)random("+e+", "+o+")",Ta.Arduino.ORDER_UNARY_POSTFIX]},Ta.Arduino.string_to_number=function(t){return Ta.Arduino.functionNames_.parseDouble="\ndouble parseDouble(String num) {\n\t // Use num.toDouble() instead of this.  Doing this because of arduino is compiling on a linux server.  \n\tchar str[40];\n\tnum.toCharArray(str, num.length() + 1);\n\treturn atof(str);\n}\n",["parseDouble("+Ta.Arduino.valueToCode(t,"VALUE",Ta.Arduino.ORDER_ATOMIC)+")",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.ultra_sonic_sensor_motion=function(t){return["ultraSonicDistance()",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.ultra_sonic_sensor_setup=function(t){var e=t.getFieldValue("ECHO"),o=t.getFieldValue("TRIG");return Ta.Arduino.setupCode_["setup_input_"+e]="\tpinMode("+e+", INPUT);\n",Ta.Arduino.setupCode_["setup_input_"+o]="\tpinMode("+o+", OUTPUT);\n",Ta.Arduino.functionNames_.pulse_in_function="double ultraSonicDistance() { \n\tdigitalWrite("+o+", LOW);\n\tdelayMicroseconds(2); \n\tdigitalWrite("+o+", HIGH); \n\tdelayMicroseconds(10); \n\tdigitalWrite("+o+", LOW); \n\tlong microseconds = pulseIn("+e+", HIGH); \n\treturn (double)(microseconds / 29 / 2); \n} \n\n",""},Ta.Arduino.move_motor=function(t){var e=Ta.Arduino.valueToCode(t,"MOTOR",Ta.Arduino.ORDER_ATOMIC),o=t.getFieldValue("DIRECTION").toUpperCase(),n=Ta.Arduino.valueToCode(t,"SPEED",Ta.Arduino.ORDER_ATOMIC);return Ta.Arduino.libraries_.include_motor_library="#include <AFMotor.h>;\n",Ta.Arduino.libraries_["include_motor_init_"+e]="AF_DCMotor motor_"+e+"("+e+");\n","motor_"+e+'.run("'+o+'");\nmotor_'+e+".setSpeed("+n+");\n"},Ta.Arduino.neo_pixel_setup=function(t){var e=t.getFieldValue("NUMBER_LEDS"),o=t.getFieldValue("PIN");return Ta.Arduino.libraries_.define_neo_pixel="#include <Adafruit_NeoPixel.h>;\n#ifdef __AVR__ \n\t#include <avr/power.h>; \n#endif\n",Ta.Arduino.libraries_.neo_pixel_setup="Adafruit_NeoPixel pixels = Adafruit_NeoPixel("+e+", "+o+", NEO_GRB + NEO_KHZ800);\n\n",Ta.Arduino.setupCode_.neo_pixel="\tpixels.begin();\n",""},Ta.Arduino.neo_pixel_set_color=function(t){Ta.Arduino.functionNames_.set_color="\n\nvoid setNeoPixelColor(double pos, RGB color) {\n\tpos = pos <= 0 ? 0 : pos;\n\tpos = pos >= 1 ? pos - 1 : pos;\n\tpixels.setPixelColor((int)pos, color.red, color.green, color.blue);\n\tpixels.show();\n}\n";var e=Ta.Arduino.valueToCode(t,"COLOR",Ta.Arduino.ORDER_ATOMIC);return"\tsetNeoPixelColor("+Ta.Arduino.valueToCode(t,"POSITION",Ta.Arduino.ORDER_ATOMIC)+","+e+");\n"},Ta.Arduino.push_button_setup=function(t){var e=t.getFieldValue("PIN");return Ta.Arduino.setupCode_["btn_pin_"+e]="\tpinMode("+e+", INPUT_PULLUP); \n",""},Ta.Arduino.is_button_pressed=function(t){return["(digitalRead("+t.getFieldValue("PIN")+") === LOW)",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.digital_read_setup=function(t){var e=t.getFieldValue("PIN");return Ta.Arduino.setupCode_["digital_read"+e]="\tpinMode("+e+", INPUT); \n",""},Ta.Arduino.analog_read_setup=function(t){var e=t.getFieldValue("PIN");return Ta.Arduino.setupCode_["analog_read"+e]="\tpinMode("+e+", INPUT); \n",""},Ta.Arduino.digital_read=function(t){return["digitalRead("+t.getFieldValue("PIN")+")",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.digital_write=function(t){return"digitalWrite("+t.getFieldValue("PIN")+", "+("ON"===t.getFieldValue("STATE")?"HIGH":"LOW")+"); \n"},Ta.Arduino.analog_read=function(t){return["(double)analogRead("+t.getFieldValue("PIN")+")",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.analog_write=function(t){return"analogWrite("+t.getFieldValue("PIN")+", "+Ta.Arduino.valueToCode(t,"WRITE_VALUE",Ta.Arduino.ORDER_ATOMIC)+"); \n"},Ta.Arduino.procedures_defreturn=function(t){var e=Ta.Arduino.variableDB_.getName(t.getFieldValue("NAME"),Ta.Procedures.NAME_TYPE),o=Ta.Arduino.statementToCode(t,"STACK"),n=t.getFieldValue("RETURN TYPE")||"void",r=Ta.Arduino.valueToCode(t,"RETURN",Ta.Arduino.ORDER_NONE)||"";r&&(r=Ta.Arduino.INDENT+"return "+r+";\n");for(var i=[],s=0;s<t.argumentVarModels_.length;s++)i[s]=bc(t.argumentVarModels_[s].type)+" "+t.argumentVarModels_[s].name;var l=bc(n)+" "+e+"("+i.join(", ")+") {\n"+o+r+"}";return l=Ta.Arduino.scrub_(t,l),Ta.Arduino.functionNames_["%"+e]=l,null},Ta.Arduino.procedures_defnoreturn=Ta.Arduino.procedures_defreturn,Ta.Arduino.procedures_callreturn=function(t){for(var e=Ta.Arduino.variableDB_.getName(t.getFieldValue("NAME"),Ta.Procedures.NAME_TYPE),o=[],n=0;n<t.arguments_.length;n++)o[n]=Ta.Arduino.valueToCode(t,"ARG"+n,Ta.Arduino.ORDER_COMMA)||"null";return[e+"("+o.join(", ")+")",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.procedures_callnoreturn=function(t){for(var e=Ta.Arduino.variableDB_.getName(t.getFieldValue("NAME"),Ta.Procedures.NAME_TYPE),o=[],n=0;n<t.arguments_.length;n++)o[n]=Ta.Arduino.valueToCode(t,"ARG"+n,Ta.Arduino.ORDER_COMMA)||"null";return e+"("+o.join(", ")+");\n"},Ta.Arduino.rfid_scan=function(){return["rfidReader.isAvailable()",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.rfid_tag=function(){return["String(rfidReader.getTag().getTag())",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.rfid_card=function(){return["String(rfidReader.getTag().getCardNumber())",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.rfid_setup=function(){return Ta.Arduino.libraries_.define_rfid='#include "RFIDRdm630.h"\n',Ta.Arduino.libraries_.setup_rfid="RFIDRdm630 rfidReader = RFIDRdm630(6,7);\n",""},Ta.Arduino.rotate_servo=function(t){var e=t.getFieldValue("PIN"),o=Ta.Arduino.valueToCode(t,"DEGREE",Ta.Arduino.ORDER_ATOMIC);return Ec(e),"servo_"+e+".write("+o+");\n"},Ta.Arduino.servo_read_degrees=function(t){var e=t.getFieldValue("PIN");return Ec(e),["servo_"+e+".read()",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.servo_move_adafruit_tico=function(t){var e=t.getFieldValue("PIN"),o=Ta.Arduino.valueToCode(t,"DEGREE",Ta.Arduino.ORDER_ATOMIC);return Ta.Arduino.libraries_.servo_move_adafruit_="#include <Adafruit_TiCoServo.h>\n",Ta.Arduino.libraries_["var_servo_adafruit_"+e]="Adafruit_TiCoServo servo_adafruit"+e+";\n",Ta.Arduino.setupCode_["setup_servo_adafruit"+e]="\tservo_adafruit"+e+".attach("+e+");\n","servo_adafruit"+e+".write("+o+");\n"},Ta.Arduino.temp_setup=function(t){return Ta.Arduino.libraries_.temp_setup="#include <dht.h>;\n dht DHT;\n",Ta.Arduino.functionNames_.takeTempReading="\nvoid takeTempReading() {\n  DHT.read11("+t.getFieldValue("PIN")+");\n}",""},Ta.Arduino.temp_get_temp=function(){return["DHT.temperature",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.temp_get_humidity=function(){return["DHT.humidity",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.text=function(t){return[Ta.Arduino.quote_(t.getFieldValue("TEXT")),Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.text.forceString_=function(t){return Ta.Arduino.text.forceString_.strRegExp.test(t)?t:"String("+t+")"},Ta.Arduino.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,Ta.Arduino.text_join=function(t){if(0===t.itemCount_)return['""',Ta.Arduino.ORDER_ATOMIC];if(1===t.itemCount_){var e=Ta.Arduino.valueToCode(t,"ADD0",Ta.Arduino.ORDER_NONE)||'""';return[Ta.Arduino.text.forceString_(e),Ta.Arduino.ORDER_ATOMIC]}for(var o=[],n=0;n<t.itemCount_;n+=1){var r=Ta.Arduino.valueToCode(t,"ADD"+n,Ta.Arduino.ORDER_COMMA);r.length>0&&o.push(r)}return[o.join(" + "),Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.text_length=function(t){return Ta.Arduino.functionNames_.textLength="double textLength(String str) {\n\t return (double)str.length(); \n}\n",["textLength("+Ta.Arduino.valueToCode(t,"VALUE",Ta.Arduino.ORDER_COMMA)+")",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.text_isEmpty=function(t){return Ta.Arduino.functionNames_.textLength="double textLength(String str) {\n\t return (double)str.length(); \n}\n",["(textLength("+Ta.Arduino.valueToCode(t,"VALUE",Ta.Arduino.ORDER_COMMA)+") > 0)",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.number_to_string=function(t){Ta.Arduino.functionNames_.double_to_string_debug=" String double2string(double n, int ndec) {                         \n\t\t String r = \"\";                                                 \n\t\t int v = n;                                                     \n\t\t r += v;     // whole number part                               \n\t\t r += '.';   // decimal point                                   \n\t\t int i;                                                         \n\t\t for (i = 0; i < ndec; i++) {                                   \n\t\t     // iterate through each decimal digit for 0..ndec          \n\t\t     n -= v;                                                    \n\t\t     n *= 10;                                                   \n\t\t     v = n;                                                     \n\t\t     r += v;                                                    \n\t\t }                                                              \n\t\t                                                                \n\t\t return r;                                                      \n}";var e=t.getFieldValue("PRECISION");return["double2string("+Ta.Arduino.valueToCode(t,"NUMBER",Ta.Arduino.ORDER_ATOMIC)+", "+e+")",Ta.Arduino.ORDER_NONE]},Ta.Arduino.text_changeCase=function(t){Ta.Arduino.functionNames_.upperCaseString="\nString upperCaseString(String str) {\n\tstr.toUpperCase(); \n\treturn str;\n}\n",Ta.Arduino.functionNames_.lowerCaseString="\nString lowerCaseString(String str) {\n\tstr.toLowerCase(); \n\treturn str;\n}\n";var e=t.getFieldValue("CASE"),o=Ta.Arduino.valueToCode(t,"TEXT",Ta.Arduino.ORDER_ATOMIC);return"UPPERCASE"===e?["upperCaseString("+o+")",Ta.Arduino.ORDER_ATOMIC]:["lowerCaseString("+o+")",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.parse_string_block=function(t){Ta.Arduino.functionNames_.text_get_part_of_string='\nString getParseValue(String data, char separator, int index) { \n\tint found = 0;\tint strIndex[] = {0, -1}; \n\tint maxIndex = data.length()-1; \n\tfor(int i=0; i<=maxIndex && found<=index; i++){   \n\t    if(data.charAt(i)==separator || i==maxIndex){    \n\t        found++;                      \n\t        strIndex[0] = strIndex[1]+1;    \n\t        strIndex[1] = (i === maxIndex) ? i+1 : i;    \n\t    }                            \n\t}                     \n\treturn found>index ? data.substring(strIndex[0], strIndex[1]) : ""; \n}\n';var e=Ta.Arduino.valueToCode(t,"VALUE",Ta.Arduino.ORDER_ATOMIC),o="'"+t.getFieldValue("DELIMITER")+"'",n=+Ta.Arduino.valueToCode(t,"POSITION",Ta.Arduino.ORDER_ATOMIC);return["getParseValue("+e+", "+o+", "+(n=(n=Math.abs(n))>0?n-1:n)+")",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.time_seconds=function(t){return Ta.Arduino.functionNames_.secondsArduinoBeenOn="double secondsArduinoBeenOn() {\n\treturn millis() / 1000;\n}\n",["secondsArduinoBeenOn()",Ta.Arduino.ORDER_ATOMIC]},Ta.Arduino.delay_block=function(t){var e=Ta.Arduino.valueToCode(t,"DELAY",Ta.Arduino.ORDER_ATOMIC)||1;return"delay("+(e=Math.ceil(1e3*Math.abs(e)))+");\n"},Ta.Arduino.time_setup=function(){return""};var kc=function(t){return function(e){return Ta.Arduino.variableDB_.getName(e.getFieldValue("VAR"),Ta.Variables.NAME_TYPE)+" = "+(Ta.Arduino.valueToCode(e,"VALUE",Ta.Arduino.ORDER_ATOMIC)||t)+";\n"}},Tc=function(t){return[Ta.Arduino.variableDB_.getName(t.getFieldValue("VAR"),Ta.Variables.NAME_TYPE),Ta.Arduino.ORDER_ATOMIC]};Ta.Arduino.variables_set_number=kc(10),Ta.Arduino.variables_set_boolean=kc("true"),Ta.Arduino.variables_set_string=kc('" "'),Ta.Arduino.variables_set_colour=kc("{ 22,  0,  22}"),Ta.Arduino.variables_get_number=Tc,Ta.Arduino.variables_get_boolean=Tc,Ta.Arduino.variables_get_string=Tc,Ta.Arduino.variables_get_colour=Tc,Ta.Variables.flyoutCategory=function(t){var e=[],o=document.createElement("button");o.setAttribute("text","Create Number Variable"),o.setAttribute("callbackKey","CREATE_NUM_VARIABLE"),t.registerButtonCallback("CREATE_NUM_VARIABLE",(function(e){Ta.Variables.createVariableButtonHandler(e.getTargetWorkspace(),(function(e){if(null!==e){var o=t.newBlock("variables_set_number");o.initSvg(),o.render();var n=t.newBlock("math_number");n.setShadow(!1),n.setFieldValue(32,"NUM"),n.initSvg(),n.render(),o.getInput("VALUE").connection.connect(n.outputConnection),Sc(o)}}),"Number")})),e.push(o);var n=document.createElement("button");n.setAttribute("text","Create String Variable"),n.setAttribute("callbackKey","CREATE_STRING_VARIABLE"),t.registerButtonCallback("CREATE_STRING_VARIABLE",(function(e){Ta.Variables.createVariableButtonHandler(e.getTargetWorkspace(),(function(e){if(null!==e){var o=t.newBlock("variables_set_string");o.initSvg(),o.render();var n=t.newBlock("text");n.setShadow(!1),n.setFieldValue("abc","TEXT"),n.initSvg(),n.render(),o.getInput("VALUE").connection.connect(n.outputConnection),Sc(o)}}),"String")})),e.push(n);var r=document.createElement("button");r.setAttribute("text","Create Boolean Variable"),r.setAttribute("callbackKey","CREATE_BOOLEAN_VARIABLE"),t.registerButtonCallback("CREATE_BOOLEAN_VARIABLE",(function(e){Ta.Variables.createVariableButtonHandler(e.getTargetWorkspace(),(function(e){if(null!==e){var o=t.newBlock("variables_set_boolean");o.initSvg(),o.render();var n=t.newBlock("logic_boolean");n.setShadow(!1),n.initSvg(),n.render(),o.getInput("VALUE").connection.connect(n.outputConnection),Sc(o)}}),"Boolean")})),e.push(r);var i=document.createElement("button");i.setAttribute("text","Create Color Variable"),i.setAttribute("callbackKey","CREATE_COLOUR_VARIABLE"),t.registerButtonCallback("CREATE_COLOUR_VARIABLE",(function(e){Ta.Variables.createVariableButtonHandler(e.getTargetWorkspace(),(function(e){if(null!==e){var o=t.newBlock("variables_set_colour");o.initSvg(),o.render();var n=t.newBlock("colour_picker");n.setShadow(!1),n.initSvg(),n.render(),o.getInput("VALUE").connection.connect(n.outputConnection),Sc(o)}}),"Colour")})),e.push(i);var s=Ta.Variables.flyoutCategoryBlocks(t);return e.concat(s)},Ta.Variables.flyoutCategoryBlocks=function(t){var e=t.getVariablesOfType("Number"),o=t.getVariablesOfType("String"),n=t.getVariablesOfType("Boolean"),r=t.getVariablesOfType("Colour"),i=new XMLSerializer,s=[];if(e.length>0){var l='<xml><block type="variables_set_number" gap="24">'+i.serializeToString(Ta.Variables.generateVariableFieldDom(e[0]))+'<value name="VALUE"> <block type="math_number"> <field name="NUM">10</field></block> </value></block></xml>',a=Ta.Xml.textToDom(l).firstChild;s.push(a);var u='<xml><block type="variables_get_number" gap="24">'+i.serializeToString(Ta.Variables.generateVariableFieldDom(e[0]))+"</block></xml>",c=Ta.Xml.textToDom(u).firstChild;s.push(c)}if(o.length>0){var p='<xml><block type="variables_set_string" gap="24">'+i.serializeToString(Ta.Variables.generateVariableFieldDom(o[0]))+'<value name="VALUE"> <block type="text"> <field name="TEXT">abc</field> </block> </value></block></xml>',h=Ta.Xml.textToDom(p).firstChild;s.push(h);var g='<xml><block type="variables_get_string" gap="24">'+i.serializeToString(Ta.Variables.generateVariableFieldDom(o[0]))+"</block></xml>",d=Ta.Xml.textToDom(g).firstChild;s.push(d)}if(n.length>0){var f='<xml><block type="variables_set_boolean" gap="24">'+i.serializeToString(Ta.Variables.generateVariableFieldDom(n[0]))+'<value name="VALUE"> <block type="logic_boolean"> </block> </value></block></xml>',m=Ta.Xml.textToDom(f).firstChild;s.push(m);var _='<xml><block type="variables_get_boolean" gap="24">'+i.serializeToString(Ta.Variables.generateVariableFieldDom(n[0]))+"</block></xml>",y=Ta.Xml.textToDom(_).firstChild;s.push(y)}if(r.length>0){var v='<xml><block type="variables_set_colour" gap="24">'+i.serializeToString(Ta.Variables.generateVariableFieldDom(r[0]))+'<value name="VALUE"> <block type="colour_picker"> </block> </value></block></xml>',b=Ta.Xml.textToDom(v).firstChild;s.push(b);var E='<xml><block type="variables_get_colour" gap="24">'+i.serializeToString(Ta.Variables.generateVariableFieldDom(r[0]))+"</block></xml>",k=Ta.Xml.textToDom(E).firstChild;s.push(k)}return s};var Sc=function(t){var e=Ta.mainWorkspace.getTopBlocks().filter((function(t){return"arduino_start"===t.type}));if(0!==e.length){var o=e[0],n=o.getInput("setup").isVisible()?"setup":"loop";o.getInput(n).connection.connect(t.previousConnection)}},Cc=function(t){var e='<xml\n  xmlns="https://developers.google.com/blockly/xml"\n  id="toolbox-simple"\n  style="display: none"\n>';return t.find((function(t){return"Logic"===t.name})).show&&(e+='<category name="Logic" colour="'+cc.CONTROL+'">\n    <block type="control_if"></block>\n    <block type="controls_ifelse"></block>\n    <block type="logic_compare"></block>\n    <block type="logic_operation"></block>\n    <block type="logic_negate"></block>\n    <block type="logic_boolean"></block>\n  </category>'),t.find((function(t){return"Loops"===t.name})).show&&(e+='<category name="Loops" colour="'+cc.CONTROL+'">\n  <block type="controls_repeat_ext">\n    <value name="TIMES">\n      <block type="math_number">\n        <field name="NUM">10</field>\n      </block>\n    </value>\n  </block>\n  <block type="controls_for">\n    <value name="FROM">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n    <value name="TO">\n      <block type="math_number">\n        <field name="NUM">10</field>\n      </block>\n    </value>\n    <value name="BY">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n  </block>\n</category>'),t.find((function(t){return"Functions"===t.name})).show&&(e+='<category\n  name="Functions"\n  colour="'+cc.CONTROL+'"\n  custom="PROCEDURE"\n></category><sep></sep>'),t.find((function(t){return"List"===t.name})).show&&(e+='<category name="List" colour="'+cc.DATA+'" custom="LIST"> </category>'),t.find((function(t){return"Variables"===t.name})).show&&(e+='<category name="Variables" colour="'+cc.DATA+'" custom="VARIABLE"></category>'),(t.find((function(t){return"List"===t.name})).show||t.find((function(t){return"Variables"===t.name})).show)&&(e+="<sep></sep>"),e+='<category name="Data" colour="'+cc.VALUES+'">',t.find((function(t){return"Color"===t.name})).show&&(e+='<category name="Color" colour="'+cc.VALUES+'">\n    <block type="colour_picker"></block>\n    <block type="colour_random"></block>\n    <block type="colour_rgb">\n      <value name="RED">\n        <block type="math_number">\n          <field name="NUM">100</field>\n        </block>\n      </value>\n      <value name="GREEN">\n        <block type="math_number">\n          <field name="NUM">50</field>\n        </block>\n      </value>\n      <value name="BLUE">\n        <block type="math_number">\n          <field name="NUM">0</field>\n        </block>\n      </value>\n    </block>\n  </category>'),t.find((function(t){return"Math"===t.name})).show&&(e+='<category name="Math" colour="'+cc.VALUES+'">\n  <block type="math_number">\n    <field name="NUM">123</field>\n  </block>\n  <block type="math_arithmetic">\n    <value name="A">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n    <value name="B">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n  </block>\n  <block type="string_to_number">\n    <value name="VALUE">\n      <block type="text">\n        <field name="TEXT">5.35</field>\n      </block>\n    </value>\n  </block>\n\n  <block type="math_round">\n    <value name="NUM">\n      <block type="math_number">\n        <field name="NUM">3.1</field>\n      </block>\n    </value>\n  </block>\n  <block type="math_modulo">\n    <value name="DIVIDEND">\n      <block type="math_number">\n        <field name="NUM">64</field>\n      </block>\n    </value>\n    <value name="DIVISOR">\n      <block type="math_number">\n        <field name="NUM">10</field>\n      </block>\n    </value>\n  </block>\n  <block type="math_random_int">\n    <value name="FROM">\n      <block type="math_number">\n        <field name="NUM">1</field>\n      </block>\n    </value>\n    <value name="TO">\n      <block type="math_number">\n        <field name="NUM">100</field>\n      </block>\n    </value>\n  </block>\n</category>'),t.find((function(t){return"Text"===t.name})).show&&(e+='\n    <category name="Text" colour="'+cc.VALUES+'">\n<block type="text"></block>\n<block type="text_join"></block>\n<block type="text_length">\n  <value name="VALUE">\n    <block type="text">\n      <field name="TEXT">abc</field>\n    </block>\n  </value>\n</block>\n<block type="parse_string_block">\n  <value name="VALUE">\n    <block type="text">\n      <field name="TEXT">blue,red,green</field>\n    </block>\n  </value>\n  <value name="POSITION">\n    <block type="math_number">\n      <field name="NUM">1</field>\n    </block>\n  </value>\n</block>\n\n<block type="number_to_string">\n  <value name="VALUE">\n    <block type="math_number">\n      <field name="NUM">1</field>\n    </block>\n  </value>\n</block>\n<block type="text_isEmpty">\n  <value name="VALUE">\n    <block type="text">\n      <field name="TEXT"></field>\n    </block>\n  </value>\n</block>\n<block type="text_changeCase">\n  <value name="TEXT">\n    <block type="text">\n      <field name="TEXT">abc</field>\n    </block>\n  </value>\n</block>\n</category>'),e+="</category><sep></sep>",e+='\n<category name="Arduino" colour="'+cc.ARDUINO+'">',t.find((function(t){return"Debug"===t.name})).show&&(e+='<category name="Debug" colour="'+cc.ARDUINO+'">\n<block type="debug_block"></block>\n</category>'),t.find((function(t){return"Message"===t.name})).show&&(e+='<category name="Message" colour="'+cc.ARDUINO+'">\n<block type="message_setup"></block>\n<block type="arduino_send_message">\n<value name="MESSAGE">\n                <block type="text">\n                    <field name="TEXT">Hi</field>\n                </block>\n            </value>\n</block>\n<block type="arduino_get_message"></block>\n<block type="arduino_receive_message"></block>\n</category>'),t.find((function(t){return"Time"===t.name})).show&&(e+='<category colour="'+cc.ARDUINO+'" name="Time">\n<block type="time_setup"></block>\n<block type="delay_block">\n<value name="DELAY">\n    <block type="math_number">\n        <field name="NUM">1</field>\n    </block>\n</value>\n</block>\n<block type="time_seconds"></block>\n\n</category>'),e+="</category><sep></sep>",e+='<category colour="'+cc.COMPONENTS+'" name="Components" >',t.find((function(t){return"Bluetooth"===t.name})).show&&(e+='<category name="Bluetooth" colour="'+cc.COMPONENTS+'">\n<block type="bluetooth_setup">\n  <field name="RX">11</field>\n  <field name="TX">10</field>\n</block>\n<block type="bluetooth_send_message">\n  <value name="MESSAGE">\n    <block type="text">\n      <field name="TEXT">Hi</field>\n    </block>\n  </value>\n</block>\n\n<block type="bluetooth_has_message"></block>\n<block type="bluetooth_get_message"></block>\n</category>'),t.find((function(t){return"LCD Screen"===t.name})).show&&(e+='<category colour="'+cc.COMPONENTS+'" name="LCD Screen">\n<block type="lcd_setup"></block>\n<block type="lcd_screen_simple_print">\n<value name="ROW_1">\n                <block type="text">\n                    <field name="TEXT"></field>\n                </block>\n            </value>\n            <value name="ROW_2">\n                <block type="text">\n                    <field name="TEXT"></field>\n                </block>\n            </value>\n            <value name="ROW_3">\n                <block type="text">\n                    <field name="TEXT"></field>\n                </block>\n            </value>\n            <value name="ROW_4">\n                <block type="text">\n                    <field name="TEXT"></field>\n                </block>\n            </value>\n            <value name="DELAY">\n                <block type="math_number">\n                    <field name="NUM">3</field>\n                </block>\n            </value>\n</block>\n<block type="lcd_screen_print">\n<value name="ROW">\n                <block type="math_number">\n                    <field name="NUM">1</field>\n                </block>\n            </value>\n            <value name="COLUMN">\n                <block type="math_number">\n                    <field name="NUM">1</field>\n                </block>\n            </value>\n            <value name="PRINT">\n                <block type="text">\n                    <field name="TEXT">Hi</field>\n                </block>\n            </value>\n</block>\n<block type="lcd_screen_clear"></block>\n<block type="lcd_scroll"></block>\n<block type="lcd_blink">\n<value name="ROW">\n                <block type="math_number">\n                    <field name="NUM">1</field>\n                </block>\n            </value>\n            <value name="COLUMN">\n                <block type="math_number">\n                    <field name="NUM">1</field>\n                </block>\n            </value>\n</block>\n<block type="lcd_backlight"></block>\n</category>\n'),t.find((function(t){return"Led"===t.name})).show&&(e+='<category name="Led" colour="'+cc.COMPONENTS+'">\n<block type="led"></block>\n\n<block type="led_fade">\n<value name="FADE">\n                <block type="math_number">\n                    <field name="NUM">125</field>\n                </block>\n            </value>\n</block>\n<block type="led_color_setup"></block>\n\n<block type="set_color_led">\n<value name="COLOUR">\n                <block type="colour_picker">\n                </block>\n            </value>\n</block>\n<block type="digital_write"></block>\n\n    <block type="analog_write">\n    <value name="WRITE_VALUE">\n                <block type="math_number">\n                    <field name="NUM">50</field>\n                </block>\n            </value>\n    </block>\n</category>\n'),t.find((function(t){return"Led Light Strip"===t.name})).show&&(e+='<category name="Led Light Strip" colour="'+cc.COMPONENTS+'">\n    <block type="neo_pixel_setup">\n      <value name="NUMBER_LEDS">\n        <block type="math_number">\n          <field name="NUM">60</field>\n        </block>\n      </value>\n    </block>\n    <block type="neo_pixel_set_color">\n      <value name="POSITION">\n        <block type="math_number">\n          <field name="NUM">1</field>\n        </block>\n      </value>\n      <value name="COLOR">\n        <block type="colour_picker"> </block>\n      </value>\n    </block>\n</category>'),t.find((function(t){return"Led Matrix"===t.name})).show&&(e+='<category colour="'+cc.COMPONENTS+'" name="Led Matrix">\n<block type="led_matrix_make_draw"></block>\n<block type="led_matrix_turn_one_on_off">\n<value name="ROW">\n                <block type="math_number">\n                    <field name="NUM">1</field>\n                </block>\n            </value>\n            <value name="COLUMN">\n                <block type="math_number">\n                    <field name="NUM">1</field>\n                </block>\n            </value>\n</block>\n</category>'),t.find((function(t){return"Motor / Servo"===t.name})).show&&(e+='<category name="Motor / Servo" colour="'+cc.COMPONENTS+'">\n<block type="move_motor">\n<value name="SPEED">\n                <block type="math_number">\n                    <field name="NUM">5</field>\n                </block>\n            </value>\n            <value name="MOTOR">\n                <block type="math_number">\n                    <field name="NUM">1</field>\n                </block>\n            </value>\n</block>\n<block type="rotate_servo">\n<value name="DEGREE">\n<block type="math_number">\n    <field name="NUM">50</field>\n</block>\n</value>\n</block>\n</category>\n'),e+="</category><sep></sep>",e+='<category name="Sensors" colour="'+cc.SENSOR+'">',t.find((function(t){return"Analog"===t.name})).show&&(e+='<category name="Analog" colour="'+cc.SENSOR+'" >\n    <block type="analog_read_setup"></block>\n    <block type="analog_read"></block>\n</category>'),t.find((function(t){return"Buttons"===t.name})).show&&(e+='<category name="Buttons" colour="'+cc.SENSOR+'">\n    <block type="push_button_setup"></block>\n    <block type="is_button_pressed"></block>\n</category>'),t.find((function(t){return"Digital"===t.name})).show&&(e+='<category name="Digital" colour="'+cc.SENSOR+'">\n    <block type="digital_read_setup"></block>\n    <block type="digital_read"></block>\n</category>'),t.find((function(t){return"IR Remote"===t.name})).show&&(e+='<category name="IR Remote" colour="'+cc.SENSOR+'" >\n    <block type="ir_remote_setup"></block>\n    <block type="ir_remote_has_code_receive"></block>\n    <block type="ir_remote_get_code"></block>\n    </category>'),t.find((function(t){return"Motion"===t.name})).show&&(e+='    <category name="Motion" colour="'+cc.SENSOR+'" >\n    <block type="ultra_sonic_sensor_setup">\n      <field name="TRIG">11</field>\n      <field name="ECHO">10</field>\n    </block>\n    <block type="ultra_sonic_sensor_motion"></block>\n    </category>\n'),t.find((function(t){return"RFID"===t.name})).show&&(e+='    <category name="RFID" colour="'+cc.SENSOR+'" >\n        <block type="rfid_setup">\n            <field name="RX">7</field>\n            <field name="TX">6</field>\n        </block>\n        <block type="rfid_card"></block>\n        <block type="rfid_tag"></block>\n        <block type="rfid_scan"></block>\n    </category>\n'),t.find((function(t){return"Temp"===t.name})).show&&(e+='<category name="Temp" colour="'+cc.SENSOR+'"  >\n      <block type="temp_setup"></block>\n      <block type="temp_get_temp"></block>\n      <block type="temp_get_humidity"></block>\n    </category>'),e+"</category></xml>"},Ac=function(t,e){var o=t.getInputTargetBlock(e);if(o)return o.getFieldValue("NUM")},wc=function(t,e){var o={};return e.forEach((function(e){o[e.dataSaveKey]=Oc(t,e.type,e.setupBlockFieldName)})),o},Oc=function(t,e,o){return"field_checkbox"===e?"FALSE"!==t.getField(o).getValue():"field_input"===e?t.getFieldValue(o):null},Bc={led_matrix_make_draw:{pins:[ka.PIN_10,ka.PIN_11,ka.PIN_12],message:"Please make sure no components use pin, 10, 11, or 12"},led_matrix_turn_one_on_off:{pins:[ka.PIN_10,ka.PIN_11,ka.PIN_12],message:"Please make sure no components use pin, 10, 11, or 12"}};function Ic(t,e){return function(o){return o.lift(new Rc(t,e))}}var Rc=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Nc(t,this.predicate,this.thisArg))},t}(),Nc=function(t){function e(e,o,n){var r=t.call(this,e)||this;return r.predicate=o,r.thisArg=n,r.count=0,r}return n.__extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(o){return void this.destination.error(o)}e&&this.destination.next(t)},e}(m),xc=function(t,e,o){var n=t.getAllBlocks().filter((function(t){return e.includes(t.type)})),r=t.getAllBlocks().filter((function(t){return t.type===o})).map((function(t){return t.getFieldValue("PIN")}));0!==r.length&&n.forEach((function(t){r.includes(t.getFieldValue("PIN"))||t.getField("PIN").setValue(r[0])}))},Dc=function(){function t(){}return t.prototype.saveToolBox=function(t){return Ta.mainWorkspace&&Ta.mainWorkspace.updateToolbox(Cc(t)),localStorage.setItem("blockly_tool_box",JSON.stringify(t))},t.prototype.fetchToolBox=function(){return $l.isEmpty(localStorage.getItem("blockly_tool_box"))&&this.saveToolBox(Lc),JSON.parse(localStorage.getItem("blockly_tool_box"))},t.ngInjectableDef=dt({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Lc=[{name:"Logic",show:!0},{name:"Loops",show:!0},{name:"List",show:!0},{name:"Variables",show:!0},{name:"Functions",show:!0},{name:"Color",show:!0},{name:"Math",show:!0},{name:"Text",show:!0},{name:"Bluetooth",show:!0},{name:"Buttons",show:!0},{name:"Debug",show:!0},{name:"Message",show:!0},{name:"Analog",show:!0},{name:"Digital",show:!0},{name:"Time",show:!0},{name:"LCD Screen",show:!0},{name:"Led",show:!0},{name:"Led Light Strip",show:!0},{name:"Led Matrix",show:!0},{name:"Motor / Servo",show:!0},{name:"IR Remote",show:!0},{name:"Motion",show:!0},{name:"RFID",show:!0},{name:"Temp",show:!0}],Mc=function(){return function(){}}(),Pc=new wt("Location Initialized"),Fc=function(){return function(){}}(),Uc=new wt("appBaseHref"),Vc=function(){function t(t,o){var n=this;this._subject=new ui,this._urlChangeListeners=[],this._platformStrategy=t;var r=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=e.stripTrailingSlash(Hc(r)),this._platformStrategy.onPopState((function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})}))}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.getState=function(){return this._platformLocation.getState()},t.prototype.isCurrentPathEqualTo=function(t,o){return void 0===o&&(o=""),this.path()==this.normalize(t+e.normalizeQueryParams(o))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Hc(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,o,n){void 0===o&&(o=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(o)),n)},t.prototype.replaceState=function(t,o,n){void 0===o&&(o=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(o)),n)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.onUrlChange=function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))},t.prototype._notifyUrlChangeListeners=function(t,e){void 0===t&&(t=""),this._urlChangeListeners.forEach((function(o){return o(t,e)}))},t.prototype.subscribe=function(t,e,o){return this._subject.subscribe({next:t,error:e,complete:o})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var o=0;return t.endsWith("/")&&o++,e.startsWith("/")&&o++,2==o?t+e.substring(1):1==o?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),o=e&&e.index||t.length;return t.slice(0,o-("/"===t[o-1]?1:0))+t.slice(o)},t}();function Hc(t){return t.replace(/\/index.html$/,"")}var Gc=function(t){function e(e,o){var n=t.call(this)||this;return n._platformLocation=e,n._baseHref="",null!=o&&(n._baseHref=o),n}return Object(n.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=Vc.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,o,n){var r=this.prepareExternalUrl(o+Vc.normalizeQueryParams(n));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,o,n){var r=this.prepareExternalUrl(o+Vc.normalizeQueryParams(n));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(Fc),Wc=function(t){function e(e,o){var n=t.call(this)||this;if(n._platformLocation=e,null==o&&(o=n._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return n._baseHref=o,n}return Object(n.__extends)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return Vc.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+Vc.normalizeQueryParams(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?""+e+o:e},e.prototype.pushState=function(t,e,o,n){var r=this.prepareExternalUrl(o+Vc.normalizeQueryParams(n));this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,o,n){var r=this.prepareExternalUrl(o+Vc.normalizeQueryParams(n));this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(Fc),jc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Kc=new wt("UseV4Plurals"),zc=function(){return function(){}}(),Xc=function(t){function e(e,o){var n=t.call(this)||this;return n.locale=e,n.deprecatedPluralFn=o,n}return Object(n.__extends)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),o=ni[e];if(o)return o;var n=e.split("-")[0];if(o=ni[n])return o;if("en"===n)return si;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[ri.PluralCase]}(e||this.locale)(t)){case jc.Zero:return"zero";case jc.One:return"one";case jc.Two:return"two";case jc.Few:return"few";case jc.Many:return"many";default:return"other"}},e}(zc);function Yc(t,e){var o,r;e=encodeURIComponent(e);try{for(var i=Object(n.__values)(t.split(";")),s=i.next();!s.done;s=i.next()){var l=s.value,a=l.indexOf("="),u=Object(n.__read)(-1==a?[l,""]:[l.slice(0,a),l.slice(a+1)],2),c=u[1];if(u[0].trim()===e)return decodeURIComponent(c)}}catch(p){o={error:p}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return null}var Jc=function(){return function(){}}(),qc=function(){function t(t,e,o,n){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=o,this._renderer=n,this._initialClasses=[]}return t.prototype.getValue=function(){return null},t.prototype.setClass=function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},t.prototype.setNgClass=function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(To(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},t.prototype.applyChanges=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+_t(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(o){return e._toggleClass(o,!!t[o])})))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))},t.prototype._toggleClass=function(t,e){var o=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?o._renderer.addClass(o._ngEl.nativeElement,t):o._renderer.removeClass(o._ngEl.nativeElement,t)}))},t}(),Zc=function(t){function e(e){return t.call(this,e)||this}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"klass",{set:function(t){this._delegate.setClass(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClass",{set:function(t){this._delegate.setNgClass(t)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this._delegate.applyChanges()},e}(function(){function t(t){this._delegate=t}return t.prototype.getValue=function(){return this._delegate.getValue()},t.ngDirectiveDef=void 0,t}()),Qc=function(){function t(t,e,o,n){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=n}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),$c=function(){function t(t,e,o){this._viewContainer=t,this._template=e,this._differs=o,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){oe()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(n){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var o=this._differ.diff(this._ngForOf);o&&this._applyChanges(o)}},t.prototype._applyChanges=function(t){var e=this,o=[];t.forEachOperation((function(t,n,r){if(null==t.previousIndex){var i=e._viewContainer.createEmbeddedView(e._template,new Qc(null,e._ngForOf,-1,-1),null===r?void 0:r),s=new tp(t,i);o.push(s)}else null==r?e._viewContainer.remove(null===n?void 0:n):null!==n&&(i=e._viewContainer.get(n),e._viewContainer.move(i,r),s=new tp(t,i),o.push(s))}));for(var n=0;n<o.length;n++)this._perViewChange(o[n].view,o[n].record);n=0;for(var r=this._viewContainer.length;n<r;n++){var i=this._viewContainer.get(n);i.context.index=n,i.context.count=r,i.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),tp=function(){return function(t,e){this.record=t,this.view=e}}(),ep=function(){function t(t,e){this._viewContainer=t,this._context=new op,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){np("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){np("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}(),op=function(){return function(){this.$implicit=null,this.ngIf=null}}();function np(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+_t(e)+"'.")}var rp=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),ip=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}},t}(),sp=function(){function t(t,e,o){this.ngSwitch=o,o._addCase(),this._view=new rp(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}(),lp=function(){return function(){}}(),ap=function(){function t(t,e,o){this._ngEl=t,this._differs=e,this._renderer=o}return t.prototype.getValue=function(){return null},t.prototype.setNgStyle=function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},t.prototype.applyChanges=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem((function(t){return e._setStyle(t.key,null)})),t.forEachAddedItem((function(t){return e._setStyle(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._setStyle(t.key,t.currentValue)}))},t.prototype._setStyle=function(t,e){var o=Object(n.__read)(t.split("."),2),r=o[0],i=o[1];null!=(e=null!=e&&i?""+e+i:e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},t}(),up=function(t){function e(e){return t.call(this,e)||this}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"ngStyle",{set:function(t){this._delegate.setNgStyle(t)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this._delegate.applyChanges()},e}(function(){function t(t){this._delegate=t}return t.prototype.getValue=function(){return this._delegate.getValue()},t.ngDirectiveDef=void 0,t}()),cp=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),pp=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,(function(t){throw t}))},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),hp=new cp,gp=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}var e;return e=t,t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):bo(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,ko.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(o){return e._updateLatestValue(t,o)}))},t.prototype._selectStrategy=function(t){if(Co(t))return pp;if(Ao(t))return hp;throw Error("InvalidPipeArgument: '"+t+"' for pipe '"+_t(e)+"'")},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}(),dp=function(){return function(){}}(),fp=new wt("DocumentToken"),mp="browser",_p="server",yp=function(){function t(){}return t.ngInjectableDef=dt({token:t,providedIn:"root",factory:function(){return new vp(Pt(fp),window,Pt($t))}}),t}(),vp=function(){function t(t,e,o){this.document=t,this.window=e,this.errorHandler=o,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var o=this.document.querySelector("[name='"+t+"']");if(o)return void this.scrollToElement(o)}catch(n){this.errorHandler.handleError(n)}}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,n=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(o-r[0],n-r[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}();function bp(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}bp.prototype=Object.create(Error.prototype);var Ep=bp,kp={};function Tp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=null,n=null;return I(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(o=t.pop()),1===t.length&&r(t[0])&&(t=t[0]),q(t,n).lift(new Sp(o))}var Sp=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Cp(t,this.resultSelector))},t}(),Cp=function(t){function e(e,o){var n=t.call(this,e)||this;return n.resultSelector=o,n.active=0,n.values=[],n.observables=[],n}return n.__extends(e,t),e.prototype._next=function(t){this.values.push(kp),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var o=0;o<e;o++){var n=t[o];this.add(F(this,n,n,o))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,o,n,r){var i=this.values,s=this.toRespond?i[o]===kp?--this.toRespond:this.toRespond:0;i[o]=e,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)},e}(U);function Ap(t){return new k((function(e){var o;try{o=t()}catch(n){return void e.error(n)}return(o?j(o):ca()).subscribe(e)}))}function wp(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}wp.prototype=Object.create(Error.prototype);var Op=wp;function Bp(t){return function(e){return 0===t?ca():e.lift(new Ip(t))}}var Ip=function(){function t(t){if(this.total=t,this.total<0)throw new Op}return t.prototype.call=function(t,e){return e.subscribe(new Rp(t,this.total))},t}(),Rp=function(t){function e(e,o){var n=t.call(this,e)||this;return n.total=o,n.ring=new Array,n.count=0,n}return n.__extends(e,t),e.prototype._next=function(t){var e=this.ring,o=this.total,n=this.count++;e.length<o?e.push(t):e[n%o]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var o=this.count>=this.total?this.total:this.count,n=this.ring,r=0;r<o;r++){var i=e++%o;t.next(n[i])}t.complete()},e}(m);function Np(t){return void 0===t&&(t=Lp),function(e){return e.lift(new xp(t))}}var xp=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new Dp(t,this.errorFactory))},t}(),Dp=function(t){function e(e,o){var n=t.call(this,e)||this;return n.errorFactory=o,n.hasValue=!1,n}return n.__extends(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(m);function Lp(){return new Ep}function Mp(t){return void 0===t&&(t=null),function(e){return e.lift(new Pp(t))}}var Pp=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new Fp(t,this.defaultValue))},t}(),Fp=function(t){function e(e,o){var n=t.call(this,e)||this;return n.defaultValue=o,n.isEmpty=!0,n}return n.__extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(m);function Up(t,e){var o=arguments.length>=2;return function(n){return n.pipe(t?Ic((function(e,o){return t(e,o,n)})):Y,Bp(1),o?Mp(e):Np((function(){return new Ep})))}}function Vp(t){return function(e){var o=new Hp(t),n=e.lift(o);return o.caught=n}}var Hp=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new Gp(t,this.selector,this.caught))},t}(),Gp=function(t){function e(e,o,n){var r=t.call(this,e)||this;return r.selector=o,r.caught=n,r}return n.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var o=void 0;try{o=this.selector(e,this.caught)}catch(r){return void t.prototype.error.call(this,r)}this._unsubscribeAndRecycle();var n=new R(this,void 0,void 0);this.add(n),F(this,o,void 0,void 0,n)}},e}(U);function Wp(t){return function(e){return 0===t?ca():e.lift(new jp(t))}}var jp=function(){function t(t){if(this.total=t,this.total<0)throw new Op}return t.prototype.call=function(t,e){return e.subscribe(new Kp(t,this.total))},t}(),Kp=function(t){function e(e,o){var n=t.call(this,e)||this;return n.total=o,n.count=0,n}return n.__extends(e,t),e.prototype._next=function(t){var e=this.total,o=++this.count;o<=e&&(this.destination.next(t),o===e&&(this.destination.complete(),this.unsubscribe()))},e}(m);function zp(t,e){var o=arguments.length>=2;return function(n){return n.pipe(t?Ic((function(e,o){return t(e,o,n)})):Y,Wp(1),o?Mp(e):Np((function(){return new Ep})))}}var Xp=function(){function t(t,e,o){this.predicate=t,this.thisArg=e,this.source=o}return t.prototype.call=function(t,e){return e.subscribe(new Yp(t,this.predicate,this.thisArg,this.source))},t}(),Yp=function(t){function e(e,o,n,r){var i=t.call(this,e)||this;return i.predicate=o,i.thisArg=n,i.source=r,i.index=0,i.thisArg=n||i,i}return n.__extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(o){return void this.destination.error(o)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(m);function Jp(t,e){return"function"==typeof e?function(o){return o.pipe(Jp((function(o,n){return j(t(o,n)).pipe(V((function(t,r){return e(o,t,n,r)})))})))}:function(e){return e.lift(new qp(t))}}var qp=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Zp(t,this.project))},t}(),Zp=function(t){function e(e,o){var n=t.call(this,e)||this;return n.project=o,n.index=0,n}return n.__extends(e,t),e.prototype._next=function(t){var e,o=this.index++;try{e=this.project(t,o)}catch(n){return void this.destination.error(n)}this._innerSub(e,t,o)},e.prototype._innerSub=function(t,e,o){var n=this.innerSubscription;n&&n.unsubscribe();var r=new R(this,void 0,void 0);this.destination.add(r),this.innerSubscription=F(this,t,e,o,r)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,o,n,r){this.destination.next(e)},e}(U);function Qp(t,e){var o=!1;return arguments.length>=2&&(o=!0),function(n){return n.lift(new $p(t,e,o))}}var $p=function(){function t(t,e,o){void 0===o&&(o=!1),this.accumulator=t,this.seed=e,this.hasSeed=o}return t.prototype.call=function(t,e){return e.subscribe(new th(t,this.accumulator,this.seed,this.hasSeed))},t}(),th=function(t){function e(e,o,n,r){var i=t.call(this,e)||this;return i.accumulator=o,i._seed=n,i.hasSeed=r,i.index=0,i}return n.__extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,o=this.index++;try{e=this.accumulator(this.seed,t,o)}catch(n){this.destination.error(n)}this.seed=e,this.destination.next(e)},e}(m);function eh(t,e){return K(t,e,1)}function oh(t,e){return arguments.length>=2?function(o){return b(Qp(t,e),Bp(1),Mp(e))(o)}:function(e){return b(Qp((function(e,o,n){return t(e,o,n+1)})),Bp(1))(e)}}function nh(t,e,o){return function(n){return n.lift(new rh(t,e,o))}}var rh=function(){function t(t,e,o){this.nextOrObserver=t,this.error=e,this.complete=o}return t.prototype.call=function(t,e){return e.subscribe(new ih(t,this.nextOrObserver,this.error,this.complete))},t}(),ih=function(t){function e(e,o,n,r){var i=t.call(this,e)||this;return i._tapNext=v,i._tapError=v,i._tapComplete=v,i._tapError=n||v,i._tapComplete=r||v,s(o)?(i._context=i,i._tapNext=o):o&&(i._context=o,i._tapNext=o.next||v,i._tapError=o.error||v,i._tapComplete=o.complete||v),i}return n.__extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(m);function sh(t){return function(e){return e.lift(new lh(t))}}var lh=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new ah(t,this.callback))},t}(),ah=function(t){function e(e,o){var n=t.call(this,e)||this;return n.add(new u(o)),n}return n.__extends(e,t),e}(m),uh=null;function ch(){return uh}var ph,hh=function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var o=e.createElement("div",document);if(null!=e.getStyle(o,"animationName"))e._animationPrefix="";else for(var n=["Webkit","Moz","O","ms"],r=0;r<n.length;r++)if(null!=e.getStyle(o,n[r]+"AnimationName")){e._animationPrefix="-"+n[r].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach((function(t){null!=e.getStyle(o,t)&&(e._transitionEnd=i[t])}))}catch(s){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(n.__extends)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,o){t.href=null==o?e:e+"/../"+o},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}()),gh={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},dh={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},mh=function(){if(At.Node)return At.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}}(),_h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,uh||(uh=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,o){t[e]=o},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,o){var r;(r=t)[e].apply(r,Object(n.__spread)(o))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return gh},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return mh.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,o){t.addEventListener(e,o,!1)},e.prototype.onAndCancel=function(t,e,o){return t.addEventListener(e,o,!1),function(){t.removeEventListener(e,o,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,o=new Array(e.length),n=0;n<e.length;n++)o[n]=e[n];return o},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,o){t.replaceChild(e,o)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,o){t.insertBefore(o,e)},e.prototype.insertAllBefore=function(t,e,o){o.forEach((function(o){return t.insertBefore(o,e)}))},e.prototype.insertAfter=function(t,e,o){t.insertBefore(o,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,o){return(o=o||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,o){var n=(o=o||this.getDefaultDocument()).createElement("SCRIPT");return n.setAttribute(t,e),n},e.prototype.createStyleElement=function(t,e){var o=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(o,this.createTextNode(t,e)),o},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,o){t.style[e]=o},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,o){var n=this.getStyle(t,e)||"";return o?n==o:n.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,o=t.attributes,n=0;n<o.length;n++){var r=o.item(n);e.set(r.name,r.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,o){return t.hasAttributeNS(e,o)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,o){return t.getAttributeNS(e,o)},e.prototype.setAttribute=function(t,e,o){t.setAttribute(e,o)},e.prototype.setAttributeNS=function(t,e,o,n){t.setAttributeNS(e,o,n)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,o){t.removeAttributeNS(e,o)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&fh.hasOwnProperty(e)&&(e=fh[e]))}return dh[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,o=yh||(yh=document.querySelector("base"))?yh.getAttribute("href"):null;return null==o?null:(e=o,ph||(ph=document.createElement("a")),ph.setAttribute("href",e),"/"===ph.pathname.charAt(0)?ph.pathname:"/"+ph.pathname)},e.prototype.resetBaseElement=function(){yh=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,o){this.setAttribute(t,"data-"+e,o)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Yc(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(hh),yh=null;function vh(){return!!window.history.pushState}var bh=function(t){function e(e){var o=t.call(this)||this;return o._doc=e,o._init(),o}return Object(n.__extends)(e,t),e.prototype._init=function(){this.location=ch().getLocation(),this._history=ch().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return ch().getBaseHref(this._doc)},e.prototype.onPopState=function(t){ch().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){ch().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"href",{get:function(){return this.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this.location.protocol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostname",{get:function(){return this.location.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this.location.port},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,o){vh()?this._history.pushState(t,e,o):this.location.hash=o},e.prototype.replaceState=function(t,e,o){vh()?this._history.replaceState(t,e,o):this.location.hash=o},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.prototype.getState=function(){return this._history.state},e}(Mc),Eh=new wt("TRANSITION_ID"),kh=[{provide:hi,useFactory:function(t,e,o){return function(){o.get(gi).donePromise.then((function(){var o=ch();Array.prototype.slice.apply(o.querySelectorAll(e,"style[ng-transition]")).filter((function(e){return o.getAttribute(e,"ng-transition")===t})).forEach((function(t){return o.remove(t)}))}))}},deps:[Eh,fp,We],multi:!0}],Th=function(){function t(){}return t.init=function(){var e;e=new t,Ji=e},t.prototype.addToWindow=function(t){At.getAngularTestability=function(e,o){void 0===o&&(o=!0);var n=t.findTestabilityInTree(e,o);if(null==n)throw new Error("Could not find testability for element.");return n},At.getAllAngularTestabilities=function(){return t.getAllTestabilities()},At.getAllAngularRootElements=function(){return t.getAllRootElements()},At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push((function(t){var e=At.getAllAngularTestabilities(),o=e.length,n=!1,r=function(e){n=n||e,0==--o&&t(n)};e.forEach((function(t){t.whenStable(r)}))}))},t.prototype.findTestabilityInTree=function(t,e,o){if(null==e)return null;var n=t.getTestability(e);return null!=n?n:o?ch().isShadowRoot(e)?this.findTestabilityInTree(t,ch().getHost(e),!0):this.findTestabilityInTree(t,ch().parentElement(e),!0):null},t}();function Sh(t,e){"undefined"!=typeof COMPILED&&COMPILED||((At.ng=At.ng||{})[t]=e)}var Ch=function(){return{ApplicationRef:os,NgZone:Ui}}();function Ah(t){return gs(t)}var wh=new wt("EventManagerPlugins"),Oh=function(){function t(t,e){var o=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach((function(t){return t.manager=o})),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,o){return this._findPluginFor(e).addEventListener(t,e,o)},t.prototype.addGlobalEventListener=function(t,e,o){return this._findPluginFor(e).addGlobalEventListener(t,e,o)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var o=this._plugins,n=0;n<o.length;n++){var r=o[n];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event "+t)},t}(),Bh=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,o){var n=ch().getGlobalEventTarget(this._doc,t);if(!n)throw new Error("Unsupported event target "+n+" for event "+e);return this.addEventListener(n,e,o)},t}(),Ih=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,o=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),o.add(t))})),this.onStylesAdded(o)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),Rh=function(t){function e(e){var o=t.call(this)||this;return o._doc=e,o._hostNodes=new Set,o._styleNodes=new Set,o._hostNodes.add(e.head),o}return Object(n.__extends)(e,t),e.prototype._addStylesToHost=function(t,e){var o=this;t.forEach((function(t){var n=o._doc.createElement("style");n.textContent=t,o._styleNodes.add(e.appendChild(n))}))},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach((function(o){return e._addStylesToHost(t,o)}))},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach((function(t){return ch().remove(t)}))},e}(Ih),Nh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xh=/%COMP%/g,Dh="_nghost-%COMP%",Lh="_ngcontent-%COMP%";function Mh(t,e,o){for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?Mh(t,r,o):(r=r.replace(xh,t),o.push(r))}return o}function Ph(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Fh=function(){function t(t,e,o){this.eventManager=t,this.sharedStylesHost=e,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Uh(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Kt.Emulated:var o=this.rendererByCompId.get(e.id);return o||(o=new Gh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,o)),o.applyToHost(t),o;case Kt.Native:case Kt.ShadowDom:return new Wh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var n=Mh(e.id,e.styles,[]);this.sharedStylesHost.addStyles(n),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),Uh=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(Nh[e]||e,t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,o){t&&t.insertBefore(e,o)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error('The selector "'+t+'" did not match any elements');return e||(o.textContent=""),o},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,o,n){if(n){e=n+":"+e;var r=Nh[n];r?t.setAttributeNS(r,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)},t.prototype.removeAttribute=function(t,e,o){if(o){var n=Nh[o];n?t.removeAttributeNS(n,e):t.removeAttribute(o+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,o,n){n&Ho.DashCase?t.style.setProperty(e,o,n&Ho.Important?"important":""):t.style[e]=o},t.prototype.removeStyle=function(t,e,o){o&Ho.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,o){Hh(e,"property"),t[e]=o},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,o){return Hh(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ph(o)):this.eventManager.addEventListener(t,e,Ph(o))},t}(),Vh=function(){return"@".charCodeAt(0)}();function Hh(t,e){if(t.charCodeAt(0)===Vh)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Gh=function(t){function e(e,o,n,r){var i=t.call(this,e)||this;i.component=n;var s=Mh(r+"-"+n.id,n.styles,[]);return o.addStyles(s),i.contentAttr=Lh.replace(xh,r+"-"+n.id),i.hostAttr=Dh.replace(xh,r+"-"+n.id),i}return Object(n.__extends)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,o){var n=t.prototype.createElement.call(this,e,o);return t.prototype.setAttribute.call(this,n,this.contentAttr,""),n},e}(Uh),Wh=function(t){function e(e,o,n,r){var i=t.call(this,e)||this;i.sharedStylesHost=o,i.hostEl=n,i.component=r,i.shadowRoot=r.encapsulation===Kt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var s=Mh(r.id,r.styles,[]),l=0;l<s.length;l++){var a=document.createElement("style");a.textContent=s[l],i.shadowRoot.appendChild(a)}return i}return Object(n.__extends)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,o){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),o)},e.prototype.insertBefore=function(e,o,n){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),o,n)},e.prototype.removeChild=function(e,o){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),o)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Uh),jh=function(){return"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t}}(),Kh=jh("addEventListener"),zh=jh("removeEventListener"),Xh={},Yh="__zone_symbol__propagationStopped",Jh=function(){var t="undefined"!=typeof Zone&&Zone[jh("BLACK_LISTED_EVENTS")];if(t){var e={};return t.forEach((function(t){e[t]=t})),e}}(),qh=function(t){return!!Jh&&Jh.hasOwnProperty(t)},Zh=function(t){var e=Xh[t.type];if(e){var o=this[e];if(o){var n=[t];if(1===o.length)return(s=o[0]).zone!==Zone.current?s.zone.run(s.handler,this,n):s.handler.apply(this,n);for(var r=o.slice(),i=0;i<r.length&&!0!==t[Yh];i++){var s;(s=r[i]).zone!==Zone.current?s.zone.run(s.handler,this,n):s.handler.apply(this,n)}}}},Qh=function(t){function e(e,o,n){var r=t.call(this,e)||this;return r.ngZone=o,n&&function(t){return t===_p}(n)||r.patchEvent(),r}return Object(n.__extends)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Yh]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,o){var n=this,r=o;if(!t[Kh]||Ui.isInAngularZone()&&!qh(e))t.addEventListener(e,r,!1);else{var i=Xh[e];i||(i=Xh[e]=jh("ANGULAR"+e+"FALSE"));var s=t[i],l=s&&s.length>0;s||(s=t[i]=[]);var a=qh(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:a,handler:r});else{for(var u=!1,c=0;c<s.length;c++)if(s[c].handler===r){u=!0;break}u||s.push({zone:a,handler:r})}l||t[Kh](e,Zh,!1)}return function(){return n.removeEventListener(t,e,r)}},e.prototype.removeEventListener=function(t,e,o){var n=t[zh];if(!n)return t.removeEventListener.apply(t,[e,o,!1]);var r=Xh[e],i=r&&t[r];if(!i)return t.removeEventListener.apply(t,[e,o,!1]);for(var s=!1,l=0;l<i.length;l++)if(i[l].handler===o){s=!0,i.splice(l,1);break}s?0===i.length&&n.apply(t,[e,Zh,!1]):t.removeEventListener.apply(t,[e,o,!1])},e}(Bh),$h={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},tg=new wt("HammerGestureConfig"),eg=new wt("HammerLoader"),og=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var o in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(o).set(this.overrides[o]);return e},t}(),ng=function(t){function e(e,o,n,r){var i=t.call(this,e)||this;return i._config=o,i.console=n,i.loader=r,i}return Object(n.__extends)(e,t),e.prototype.supports=function(t){return!(!$h.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,o){var n=this,r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var i=!1,s=function(){i=!0};return this.loader().then((function(){if(!window.Hammer)return n.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=function(){});i||(s=n.addEventListener(t,e,o))})).catch((function(){n.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),s=function(){}})),function(){s()}}return r.runOutsideAngular((function(){var i=n._config.buildHammer(t),s=function(t){r.runGuarded((function(){o(t)}))};return i.on(e,s),function(){i.off(e,s),"function"==typeof i.destroy&&i.destroy()}}))},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(Bh),rg=["alt","control","meta","shift"],ig={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},sg=function(t){function e(e){return t.call(this,e)||this}var o;return Object(n.__extends)(e,t),o=e,e.prototype.supports=function(t){return null!=o.parseEventName(t)},e.prototype.addEventListener=function(t,e,n){var r=o.parseEventName(e),i=o.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return ch().onAndCancel(t,r.domEventName,i)}))},e.parseEventName=function(t){var e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;var r=o._normalizeKey(e.pop()),i="";if(rg.forEach((function(t){var o=e.indexOf(t);o>-1&&(e.splice(o,1),i+=t+".")})),i+=r,0!=e.length||0===r.length)return null;var s={};return s.domEventName=n,s.fullKey=i,s},e.getEventFullKey=function(t){var e="",o=ch().getEventKey(t);return" "===(o=o.toLowerCase())?o="space":"."===o&&(o="dot"),rg.forEach((function(n){n!=o&&(0,ig[n])(t)&&(e+=n+".")})),e+=o},e.eventCallback=function(t,e,n){return function(r){o.getEventFullKey(r)===t&&n.runGuarded((function(){return e(r)}))}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(Bh),lg=function(){return function(){}}(),ag=function(t){function e(e){var o=t.call(this)||this;return o._doc=e,o}return Object(n.__extends)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case Se.NONE:return e;case Se.HTML:return e instanceof cg?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var o=null;try{ue=ue||new ne(t);var n=e?String(e):"";o=ue.getInertBodyElement(n);var r=5,i=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=i,i=o.innerHTML,o=ue.getInertBodyElement(n)}while(n!==i);var s=new ve,l=s.sanitizeChildren(Te(o)||o);return oe()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),l}finally{if(o)for(var a=Te(o)||o;a.firstChild;)a.removeChild(a.firstChild)}}(this._doc,String(e)));case Se.STYLE:return e instanceof pg?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(we);return e&&se(e[1])===e[1]||t.match(Ae)&&function(t){for(var e=!0,o=!0,n=0;n<t.length;n++){var r=t.charAt(n);"'"===r&&o?e=!e:'"'===r&&e&&(o=!o)}return e&&o}(t)?t:(oe()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case Se.SCRIPT:if(e instanceof hg)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Se.URL:return e instanceof dg||e instanceof gg?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),se(String(e)));case Se.RESOURCE_URL:if(e instanceof dg)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof ug)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new cg(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new pg(t)},e.prototype.bypassSecurityTrustScript=function(t){return new hg(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new gg(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new dg(t)},e}(lg),ug=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),cg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(ug),pg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(ug),hg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(ug),gg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(ug),dg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(ug),fg=Qi(fs,"browser",[{provide:yi,useValue:mp},{provide:_i,useValue:function(){_h.makeCurrent(),Th.init()},multi:!0},{provide:Mc,useClass:bh,deps:[fp]},{provide:fp,useFactory:function(){return document},deps:[]}]);function mg(){return new $t}var _g=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:di,useValue:t.appId},{provide:Eh,useExisting:di},kh]}},t}();"undefined"!=typeof window&&window;var yg=function(){return function(t,e){this.id=t,this.url=e}}(),vg=function(t){function e(e,o,n,r){void 0===n&&(n="imperative"),void 0===r&&(r=null);var i=t.call(this,e,o)||this;return i.navigationTrigger=n,i.restoredState=r,i}return Object(n.__extends)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(yg),bg=function(t){function e(e,o,n){var r=t.call(this,e,o)||this;return r.urlAfterRedirects=n,r}return Object(n.__extends)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(yg),Eg=function(t){function e(e,o,n){var r=t.call(this,e,o)||this;return r.reason=n,r}return Object(n.__extends)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(yg),kg=function(t){function e(e,o,n){var r=t.call(this,e,o)||this;return r.error=n,r}return Object(n.__extends)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(yg),Tg=function(t){function e(e,o,n,r){var i=t.call(this,e,o)||this;return i.urlAfterRedirects=n,i.state=r,i}return Object(n.__extends)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(yg),Sg=function(t){function e(e,o,n,r){var i=t.call(this,e,o)||this;return i.urlAfterRedirects=n,i.state=r,i}return Object(n.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(yg),Cg=function(t){function e(e,o,n,r,i){var s=t.call(this,e,o)||this;return s.urlAfterRedirects=n,s.state=r,s.shouldActivate=i,s}return Object(n.__extends)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(yg),Ag=function(t){function e(e,o,n,r){var i=t.call(this,e,o)||this;return i.urlAfterRedirects=n,i.state=r,i}return Object(n.__extends)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(yg),wg=function(t){function e(e,o,n,r){var i=t.call(this,e,o)||this;return i.urlAfterRedirects=n,i.state=r,i}return Object(n.__extends)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(yg),Og=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Bg=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Ig=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Rg=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Ng=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),xg=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Dg=function(){function t(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),Lg=function(){return function(){}}(),Mg="primary",Pg=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Fg(t){return new Pg(t)}var Ug="ngNavigationCancelingError";function Vg(t){var e=Error("NavigationCancelingError: "+t);return e[Ug]=!0,e}function Hg(t,e,o){var n=o.path.split("/");if(n.length>t.length)return null;if("full"===o.pathMatch&&(e.hasChildren()||n.length<t.length))return null;for(var r={},i=0;i<n.length;i++){var s=n[i],l=t[i];if(s.startsWith(":"))r[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}var Gg=function(){return function(t,e){this.routes=t,this.module=e}}();function Wg(t,e){void 0===e&&(e="");for(var o=0;o<t.length;o++){var n=t[o];jg(n,Kg(e,n))}}function jg(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Mg)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Wg(t.children,e)}function Kg(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function zg(t){var e=t.children&&t.children.map(zg),o=e?Object(n.__assign)({},t,{children:e}):Object(n.__assign)({},t);return!o.component&&(e||o.loadChildren)&&o.outlet&&o.outlet!==Mg&&(o.component=Lg),o}function Xg(t,e){var o,n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;for(var i=0;i<n.length;i++)if(t[o=n[i]]!==e[o])return!1;return!0}function Yg(t){return Array.prototype.concat.apply([],t)}function Jg(t){return t.length>0?t[t.length-1]:null}function qg(t,e){for(var o in t)t.hasOwnProperty(o)&&e(t[o],o)}function Zg(t){return Ao(t)?t:Co(t)?j(Promise.resolve(t)):pa(t)}function Qg(t,e,o){return o?function(t,e){return Xg(t,e)}(t.queryParams,e.queryParams)&&function t(e,o){if(!od(e.segments,o.segments))return!1;if(e.numberOfChildren!==o.numberOfChildren)return!1;for(var n in o.children){if(!e.children[n])return!1;if(!t(e.children[n],o.children[n]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(o){return e[o]===t[o]}))}(t.queryParams,e.queryParams)&&function t(e,o){return function e(o,n,r){if(o.segments.length>r.length)return!!od(s=o.segments.slice(0,r.length),r)&&!n.hasChildren();if(o.segments.length===r.length){if(!od(o.segments,r))return!1;for(var i in n.children){if(!o.children[i])return!1;if(!t(o.children[i],n.children[i]))return!1}return!0}var s=r.slice(0,o.segments.length),l=r.slice(o.segments.length);return!!od(o.segments,s)&&!!o.children[Mg]&&e(o.children[Mg],n,l)}(e,o,o.segments)}(t.root,e.root)}var $g=function(){function t(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Fg(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return sd.serialize(this)},t}(),td=function(){function t(t,e){var o=this;this.segments=t,this.children=e,this.parent=null,qg(e,(function(t,e){return t.parent=o}))}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return ld(this)},t}(),ed=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Fg(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return gd(this)},t}();function od(t,e){return t.length===e.length&&t.every((function(t,o){return t.path===e[o].path}))}function nd(t,e){var o=[];return qg(t.children,(function(t,n){n===Mg&&(o=o.concat(e(t,n)))})),qg(t.children,(function(t,n){n!==Mg&&(o=o.concat(e(t,n)))})),o}var rd=function(){return function(){}}(),id=function(){function t(){}return t.prototype.parse=function(t){var e=new yd(t);return new $g(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,o;return"/"+function t(e,o){if(!e.hasChildren())return ld(e);if(o){var n=e.children[Mg]?t(e.children[Mg],!1):"",r=[];return qg(e.children,(function(e,o){o!==Mg&&r.push(o+":"+t(e,!1))})),r.length>0?n+"("+r.join("//")+")":n}var i=nd(e,(function(o,n){return n===Mg?[t(e.children[Mg],!1)]:[n+":"+t(o,!1)]}));return ld(e)+"/("+i.join("//")+")"}(t.root,!0)+(e=t.queryParams,(o=Object.keys(e).map((function(t){var o=e[t];return Array.isArray(o)?o.map((function(e){return ud(t)+"="+ud(e)})).join("&"):ud(t)+"="+ud(o)}))).length?"?"+o.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),sd=new id;function ld(t){return t.segments.map((function(t){return gd(t)})).join("/")}function ad(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ud(t){return ad(t).replace(/%3B/gi,";")}function cd(t){return ad(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pd(t){return decodeURIComponent(t)}function hd(t){return pd(t.replace(/\+/g,"%20"))}function gd(t){return""+cd(t.path)+(e=t.parameters,Object.keys(e).map((function(t){return";"+cd(t)+"="+cd(e[t])})).join(""));var e}var dd=/^[^\/()?;=#]+/;function fd(t){var e=t.match(dd);return e?e[0]:""}var md=/^[^=?&#]+/,_d=/^[^?&#]+/,yd=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new td([],{}):new td([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[Mg]=new td(t,e)),o},t.prototype.parseSegment=function(){var t=fd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new ed(pd(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=fd(this.remaining);if(e){this.capture(e);var o="";if(this.consumeOptional("=")){var n=fd(this.remaining);n&&this.capture(o=n)}t[pd(e)]=pd(o)}},t.prototype.parseQueryParam=function(t){var e,o=(e=this.remaining.match(md))?e[0]:"";if(o){this.capture(o);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(_d);return e?e[0]:""}(this.remaining);r&&this.capture(n=r)}var i=hd(o),s=hd(n);if(t.hasOwnProperty(i)){var l=t[i];Array.isArray(l)||(t[i]=l=[l]),l.push(s)}else t[i]=s}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var o=fd(this.remaining),n=this.remaining[o.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error("Cannot parse url '"+this.url+"'");var r=void 0;o.indexOf(":")>-1?(r=o.substr(0,o.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Mg);var i=this.parseChildren();e[r]=1===Object.keys(i).length?i[Mg]:new td([],i),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),vd=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=bd(t,this._root);return e?e.children.map((function(t){return t.value})):[]},t.prototype.firstChild=function(t){var e=bd(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=Ed(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))},t.prototype.pathFromRoot=function(t){return Ed(t,this._root).map((function(t){return t.value}))},t}();function bd(t,e){var o,r;if(t===e.value)return e;try{for(var i=Object(n.__values)(e.children),s=i.next();!s.done;s=i.next()){var l=bd(t,s.value);if(l)return l}}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return null}function Ed(t,e){var o,r;if(t===e.value)return[e];try{for(var i=Object(n.__values)(e.children),s=i.next();!s.done;s=i.next()){var l=Ed(t,s.value);if(l.length)return l.unshift(e),l}}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return[]}var kd=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function Td(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Sd=function(t){function e(e,o){var n=t.call(this,e)||this;return n.snapshot=o,Id(n,e),n}return Object(n.__extends)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(vd);function Cd(t,e){var o=function(t,e){var o=new Od([],{},{},"",{},Mg,e,null,t.root,-1,{});return new Bd("",new kd(o,[]))}(t,e),n=new Ca([new ed("",{})]),r=new Ca({}),i=new Ca({}),s=new Ca({}),l=new Ca(""),a=new Ad(n,r,s,l,i,Mg,e,o.root);return a.snapshot=o.root,new Sd(new kd(a,[]),o)}var Ad=function(){function t(t,e,o,n,r,i,s,l){this.url=t,this.params=e,this.queryParams=o,this.fragment=n,this.data=r,this.outlet=i,this.component=s,this._futureSnapshot=l}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(V((function(t){return Fg(t)})))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(V((function(t){return Fg(t)})))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function wd(t,e){void 0===e&&(e="emptyOnly");var o=t.pathFromRoot,r=0;if("always"!==e)for(r=o.length-1;r>=1;){var i=o[r],s=o[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object(n.__assign)({},t.params,e.params),data:Object(n.__assign)({},t.data,e.data),resolve:Object(n.__assign)({},t.resolve,e._resolvedData)}}),{params:{},data:{},resolve:{}})}(o.slice(r))}var Od=function(){function t(t,e,o,n,r,i,s,l,a,u,c){this.url=t,this.params=e,this.queryParams=o,this.fragment=n,this.data=r,this.outlet=i,this.component=s,this.routeConfig=l,this._urlSegment=a,this._lastPathIndex=u,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Fg(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Fg(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map((function(t){return t.toString()})).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),Bd=function(t){function e(e,o){var n=t.call(this,o)||this;return n.url=e,Id(n,o),n}return Object(n.__extends)(e,t),e.prototype.toString=function(){return Rd(this._root)},e}(vd);function Id(t,e){e.value._routerState=t,e.children.forEach((function(e){return Id(t,e)}))}function Rd(t){var e=t.children.length>0?" { "+t.children.map(Rd).join(", ")+" } ":"";return""+t.value+e}function Nd(t){if(t.snapshot){var e=t.snapshot,o=t._futureSnapshot;t.snapshot=o,Xg(e.queryParams,o.queryParams)||t.queryParams.next(o.queryParams),e.fragment!==o.fragment&&t.fragment.next(o.fragment),Xg(e.params,o.params)||t.params.next(o.params),function(t,e){if(t.length!==e.length)return!1;for(var o=0;o<t.length;++o)if(!Xg(t[o],e[o]))return!1;return!0}(e.url,o.url)||t.url.next(o.url),Xg(e.data,o.data)||t.data.next(o.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function xd(t,e){var o,n;return Xg(t.params,e.params)&&od(o=t.url,n=e.url)&&o.every((function(t,e){return Xg(t.parameters,n[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||xd(t.parent,e.parent))}function Dd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ld(t,e,o,n,r){var i={};return n&&qg(n,(function(t,e){i[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new $g(o.root===t?e:function t(e,o,n){var r={};return qg(e.children,(function(e,i){r[i]=e===o?n:t(e,o,n)})),new td(e.segments,r)}(o.root,t,e),i,r)}var Md=function(){function t(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&Dd(o[0]))throw new Error("Root segment cannot have matrix parameters");var n=o.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(n&&n!==Jg(o))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Pd=function(){return function(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}();function Fd(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Mg]:""+t}function Ud(t,e,o){if(t||(t=new td([],{})),0===t.segments.length&&t.hasChildren())return Vd(t,e,o);var n=function(t,e,o){for(var n=0,r=e,i={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(n>=o.length)return i;var s=t.segments[r],l=Fd(o[n]),a=n<o.length-1?o[n+1]:null;if(r>0&&void 0===l)break;if(l&&a&&"object"==typeof a&&void 0===a.outlets){if(!jd(l,a,s))return i;n+=2}else{if(!jd(l,{},s))return i;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(t,e,o),r=o.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){var i=new td(t.segments.slice(0,n.pathIndex),{});return i.children[Mg]=new td(t.segments.slice(n.pathIndex),t.children),Vd(i,0,r)}return n.match&&0===r.length?new td(t.segments,{}):n.match&&!t.hasChildren()?Hd(t,e,o):n.match?Vd(t,0,r):Hd(t,e,o)}function Vd(t,e,o){if(0===o.length)return new td(t.segments,{});var n=function(t){var e,o;return"object"!=typeof t[0]?((e={})[Mg]=t,e):void 0===t[0].outlets?((o={})[Mg]=t,o):t[0].outlets}(o),r={};return qg(n,(function(o,n){null!==o&&(r[n]=Ud(t.children[n],e,o))})),qg(t.children,(function(t,e){void 0===n[e]&&(r[e]=t)})),new td(t.segments,r)}function Hd(t,e,o){for(var n=t.segments.slice(0,e),r=0;r<o.length;){if("object"==typeof o[r]&&void 0!==o[r].outlets){var i=Gd(o[r].outlets);return new td(n,i)}if(0===r&&Dd(o[0]))n.push(new ed(t.segments[e].path,o[0])),r++;else{var s=Fd(o[r]),l=r<o.length-1?o[r+1]:null;s&&l&&Dd(l)?(n.push(new ed(s,Wd(l))),r+=2):(n.push(new ed(s,{})),r++)}}return new td(n,{})}function Gd(t){var e={};return qg(t,(function(t,o){null!==t&&(e[o]=Hd(new td([],{}),0,t))})),e}function Wd(t){var e={};return qg(t,(function(t,o){return e[o]=""+t})),e}function jd(t,e,o){return t==o.path&&Xg(e,o.parameters)}var Kd=function(){function t(t,e,o,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=n}return t.prototype.activate=function(t){var e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),Nd(this.futureState.root),this.activateChildRoutes(e,o,t)},t.prototype.deactivateChildRoutes=function(t,e,o){var n=this,r=Td(e);t.children.forEach((function(t){var e=t.value.outlet;n.deactivateRoutes(t,r[e],o),delete r[e]})),qg(r,(function(t,e){n.deactivateRouteAndItsChildren(t,o)}))},t.prototype.deactivateRoutes=function(t,e,o){var n=t.value,r=e?e.value:null;if(n===r)if(n.component){var i=o.getContext(n.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,o);else r&&this.deactivateRouteAndItsChildren(e,o)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var o=e.getContext(t.value.outlet);if(o&&o.outlet){var n=o.outlet.detach(),r=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:n,route:t,contexts:r})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var o=this,n=e.getContext(t.value.outlet);if(n){var r=Td(t),i=t.value.component?n.children:e;qg(r,(function(t,e){return o.deactivateRouteAndItsChildren(t,i)})),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,o){var n=this,r=Td(e);t.children.forEach((function(t){n.activateRoutes(t,r[t.value.outlet],o),n.forwardEvent(new xg(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Rg(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,o){var n=t.value,r=e?e.value:null;if(Nd(n),n===r)if(n.component){var i=o.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,o);else if(n.component)if(i=o.getOrCreateContext(n.outlet),this.routeReuseStrategy.shouldAttach(n.snapshot)){var s=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),i.children.onOutletReAttached(s.contexts),i.attachRef=s.componentRef,i.route=s.route.value,i.outlet&&i.outlet.attach(s.componentRef,s.route.value),zd(s.route)}else{var l=function(t){for(var e=t.parent;e;e=e.parent){var o=e.routeConfig;if(o&&o._loadedConfig)return o._loadedConfig;if(o&&o.component)return null}return null}(n.snapshot),a=l?l.module.componentFactoryResolver:null;i.attachRef=null,i.route=n,i.resolver=a,i.outlet&&i.outlet.activateWith(n,a),this.activateChildRoutes(t,null,i.children)}else this.activateChildRoutes(t,null,o)},t}();function zd(t){Nd(t.value),t.children.forEach(zd)}function Xd(t){return"function"==typeof t}function Yd(t){return t instanceof $g}var Jd=function(){return function(t){this.segmentGroup=t||null}}(),qd=function(){return function(t){this.urlTree=t}}();function Zd(t){return new k((function(e){return e.error(new Jd(t))}))}function Qd(t){return new k((function(e){return e.error(new qd(t))}))}function $d(t){return new k((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))}))}var tf=function(){function t(t,e,o,n,r){this.configLoader=e,this.urlSerializer=o,this.urlTree=n,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Ht)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Mg).pipe(V((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Vp((function(e){if(e instanceof qd)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Jd)throw t.noMatchError(e);throw e})))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Mg).pipe(V((function(o){return e.createUrlTree(o,t.queryParams,t.fragment)}))).pipe(Vp((function(t){if(t instanceof Jd)throw e.noMatchError(t);throw t})))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,o){var n,r=t.segments.length>0?new td([],((n={})[Mg]=t,n)):t;return new $g(r,e,o)},t.prototype.expandSegmentGroup=function(t,e,o,n){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe(V((function(t){return new td([],t)}))):this.expandSegment(t,o,e,o.segments,n,!0)},t.prototype.expandChildren=function(t,e,o){var n=this;return function(o,r){if(0===Object.keys(o).length)return pa({});var i=[],s=[],l={};return qg(o,(function(o,r){var a,u,c=(a=r,u=o,n.expandSegmentGroup(t,e,u,a)).pipe(V((function(t){return l[r]=t})));r===Mg?i.push(c):s.push(c)})),pa.apply(null,i.concat(s)).pipe(Aa(),Up(),V((function(){return l})))}(o.children)},t.prototype.expandSegment=function(t,e,o,r,i,s){var l=this;return pa.apply(void 0,Object(n.__spread)(o)).pipe(V((function(n){return l.expandSegmentAgainstRoute(t,e,o,n,r,i,s).pipe(Vp((function(t){if(t instanceof Jd)return pa(null);throw t})))})),Aa(),zp((function(t){return!!t})),Vp((function(t,o){if(t instanceof Ep||"EmptyError"===t.name){if(l.noLeftoversInUrl(e,r,i))return pa(new td([],{}));throw new Jd(e)}throw t})))},t.prototype.noLeftoversInUrl=function(t,e,o){return 0===e.length&&!t.children[o]},t.prototype.expandSegmentAgainstRoute=function(t,e,o,n,r,i,s){return rf(n)!==i?Zd(e):void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,e,n,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,n,r,i):Zd(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,o,n,r,i){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,n,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,n,r,i)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,o,n){var r=this,i=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Qd(i):this.lineralizeSegments(o,i).pipe(K((function(o){var i=new td(o,{});return r.expandSegment(t,i,e,o,n,!1)})))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,o,n,r,i){var s=this,l=ef(e,n,r),a=l.consumedSegments,u=l.lastChild,c=l.positionalParamSegments;if(!l.matched)return Zd(e);var p=this.applyRedirectCommands(a,n.redirectTo,c);return n.redirectTo.startsWith("/")?Qd(p):this.lineralizeSegments(n,p).pipe(K((function(n){return s.expandSegment(t,e,o,n.concat(r.slice(u)),i,!1)})))},t.prototype.matchSegmentAgainstRoute=function(t,e,o,r){var i=this;if("**"===o.path)return o.loadChildren?this.configLoader.load(t.injector,o).pipe(V((function(t){return o._loadedConfig=t,new td(r,{})}))):pa(new td(r,{}));var s=ef(e,o,r),l=s.consumedSegments,a=s.lastChild;if(!s.matched)return Zd(e);var u=r.slice(a);return this.getChildConfig(t,o,r).pipe(K((function(t){var o=t.module,r=t.routes,s=function(t,e,o,r){return o.length>0&&function(t,e,o){return o.some((function(o){return nf(t,e,o)&&rf(o)!==Mg}))}(t,o,r)?{segmentGroup:of(new td(e,function(t,e){var o,r,i={};i[Mg]=e;try{for(var s=Object(n.__values)(t),l=s.next();!l.done;l=s.next()){var a=l.value;""===a.path&&rf(a)!==Mg&&(i[rf(a)]=new td([],{}))}}catch(u){o={error:u}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}(r,new td(o,t.children)))),slicedSegments:[]}:0===o.length&&function(t,e,o){return o.some((function(o){return nf(t,e,o)}))}(t,o,r)?{segmentGroup:of(new td(t.segments,function(t,e,o,r){var i,s,l={};try{for(var a=Object(n.__values)(o),u=a.next();!u.done;u=a.next()){var c=u.value;nf(t,e,c)&&!r[rf(c)]&&(l[rf(c)]=new td([],{}))}}catch(p){i={error:p}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}return Object(n.__assign)({},r,l)}(t,o,r,t.children))),slicedSegments:o}:{segmentGroup:t,slicedSegments:o}}(e,l,u,r),a=s.segmentGroup,c=s.slicedSegments;return 0===c.length&&a.hasChildren()?i.expandChildren(o,r,a).pipe(V((function(t){return new td(l,t)}))):0===r.length&&0===c.length?pa(new td(l,{})):i.expandSegment(o,a,r,c,Mg,!0).pipe(V((function(t){return new td(l.concat(t.segments),t.children)})))})))},t.prototype.getChildConfig=function(t,e,o){var n=this;return e.children?pa(new Gg(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?pa(e._loadedConfig):function(t,e,o){var n,r=e.canLoad;return r&&0!==r.length?j(r).pipe(V((function(n){var r,i=t.get(n);if(function(t){return t&&Xd(t.canLoad)}(i))r=i.canLoad(e,o);else{if(!Xd(i))throw new Error("Invalid CanLoad guard");r=i(e,o)}return Zg(r)}))).pipe(Aa(),(n=function(t){return!0===t},function(t){return t.lift(new Xp(n,void 0,t))})):pa(!0)}(t.injector,e,o).pipe(K((function(o){return o?n.configLoader.load(t.injector,e).pipe(V((function(t){return e._loadedConfig=t,t}))):function(t){return new k((function(e){return e.error(Vg("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))}))}(e)}))):pa(new Gg([],t))},t.prototype.lineralizeSegments=function(t,e){for(var o=[],n=e.root;;){if(o=o.concat(n.segments),0===n.numberOfChildren)return pa(o);if(n.numberOfChildren>1||!n.children[Mg])return $d(t.redirectTo);n=n.children[Mg]}},t.prototype.applyRedirectCommands=function(t,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,o)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,o,n){var r=this.createSegmentGroup(t,e.root,o,n);return new $g(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var o={};return qg(t,(function(t,n){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);o[n]=e[r]}else o[n]=t})),o},t.prototype.createSegmentGroup=function(t,e,o,n){var r=this,i=this.createSegments(t,e.segments,o,n),s={};return qg(e.children,(function(e,i){s[i]=r.createSegmentGroup(t,e,o,n)})),new td(i,s)},t.prototype.createSegments=function(t,e,o,n){var r=this;return e.map((function(e){return e.path.startsWith(":")?r.findPosParam(t,e,n):r.findOrReturn(e,o)}))},t.prototype.findPosParam=function(t,e,o){var n=o[e.path.substring(1)];if(!n)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return n},t.prototype.findOrReturn=function(t,e){var o,r,i=0;try{for(var s=Object(n.__values)(e),l=s.next();!l.done;l=s.next()){var a=l.value;if(a.path===t.path)return e.splice(i),a;i++}}catch(u){o={error:u}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return t},t}();function ef(t,e,o){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||o.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var n=(e.matcher||Hg)(o,t,e);return n?{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,positionalParamSegments:n.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function of(t){if(1===t.numberOfChildren&&t.children[Mg]){var e=t.children[Mg];return new td(t.segments.concat(e.segments),e.children)}return t}function nf(t,e,o){return(!(t.hasChildren()||e.length>0)||"full"!==o.pathMatch)&&""===o.path&&void 0!==o.redirectTo}function rf(t){return t.outlet||Mg}var sf=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),lf=function(){return function(t,e){this.component=t,this.route=e}}();function af(t,e,o){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var o=e.routeConfig;if(o&&o._loadedConfig)return o._loadedConfig}return null}(e);return(n?n.module.injector:o).get(t)}function uf(t,e,o,n,r){void 0===r&&(r={canDeactivateChecks:[],canActivateChecks:[]});var i=Td(e);return t.children.forEach((function(t){!function(t,e,o,n,r){void 0===r&&(r={canDeactivateChecks:[],canActivateChecks:[]});var i=t.value,s=e?e.value:null,l=o?o.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){var a=function(t,e,o){if("function"==typeof o)return o(t,e);switch(o){case"pathParamsChange":return!od(t.url,e.url);case"pathParamsOrQueryParamsChange":return!od(t.url,e.url)||!Xg(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xd(t,e)||!Xg(t.queryParams,e.queryParams);case"paramsChange":default:return!xd(t,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);a?r.canActivateChecks.push(new sf(n)):(i.data=s.data,i._resolvedData=s._resolvedData),uf(t,e,i.component?l?l.children:null:o,n,r),a&&r.canDeactivateChecks.push(new lf(l&&l.outlet&&l.outlet.component||null,s))}else s&&cf(e,l,r),r.canActivateChecks.push(new sf(n)),uf(t,null,i.component?l?l.children:null:o,n,r)}(t,i[t.value.outlet],o,n.concat([t.value]),r),delete i[t.value.outlet]})),qg(i,(function(t,e){return cf(t,o.getContext(e),r)})),r}function cf(t,e,o){var n=Td(t),r=t.value;qg(n,(function(t,n){cf(t,r.component?e?e.children.getContext(n):null:e,o)})),o.canDeactivateChecks.push(new lf(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}var pf=Symbol("INITIAL_VALUE");function hf(){return Jp((function(t){return Tp.apply(void 0,Object(n.__spread)(t.map((function(t){return t.pipe(Wp(1),Oa(pf))})))).pipe(Qp((function(t,e){var o=!1;return e.reduce((function(t,n,r){if(t!==pf)return t;if(n===pf&&(o=!0),!o){if(!1===n)return n;if(r===e.length-1||Yd(n))return n}return t}),t)}),pf),Ic((function(t){return t!==pf})),V((function(t){return Yd(t)?t:!0===t})),Wp(1))}))}function gf(t,e){return null!==t&&e&&e(new Ng(t)),pa(!0)}function df(t,e){return null!==t&&e&&e(new Ig(t)),pa(!0)}function ff(t,e,o){var n=e.routeConfig?e.routeConfig.canActivate:null;return n&&0!==n.length?pa(n.map((function(n){return Ap((function(){var r,i=af(n,e,o);if(function(t){return t&&Xd(t.canActivate)}(i))r=Zg(i.canActivate(e,t));else{if(!Xd(i))throw new Error("Invalid CanActivate guard");r=Zg(i(e,t))}return r.pipe(zp())}))}))).pipe(hf()):pa(!0)}function mf(t,e,o){var n=e[e.length-1],r=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Ap((function(){return pa(e.guards.map((function(r){var i,s=af(r,e.node,o);if(function(t){return t&&Xd(t.canActivateChild)}(s))i=Zg(s.canActivateChild(n,t));else{if(!Xd(s))throw new Error("Invalid CanActivateChild guard");i=Zg(s(n,t))}return i.pipe(zp())}))).pipe(hf())}))}));return pa(r).pipe(hf())}var _f=function(){return function(){}}(),yf=function(){function t(t,e,o,n,r,i){this.rootComponentType=t,this.config=e,this.urlTree=o,this.url=n,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=i}return t.prototype.recognize=function(){try{var t=Ef(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Mg),o=new Od([],Object.freeze({}),Object.freeze(Object(n.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mg,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new kd(o,e),i=new Bd(this.url,r);return this.inheritParamsAndData(i._root),pa(i)}catch(s){return new k((function(t){return t.error(s)}))}},t.prototype.inheritParamsAndData=function(t){var e=this,o=t.value,n=wd(o,this.paramsInheritanceStrategy);o.params=Object.freeze(n.params),o.data=Object.freeze(n.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))},t.prototype.processSegmentGroup=function(t,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,o)},t.prototype.processChildren=function(t,e){var o,n=this,r=nd(e,(function(e,o){return n.processSegmentGroup(t,e,o)}));return o={},r.forEach((function(t){var e=o[t.value.outlet];if(e){var n=e.url.map((function(t){return t.toString()})).join("/"),r=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '"+n+"' and '"+r+"'.")}o[t.value.outlet]=t.value})),r.sort((function(t,e){return t.value.outlet===Mg?-1:e.value.outlet===Mg?1:t.value.outlet.localeCompare(e.value.outlet)})),r},t.prototype.processSegment=function(t,e,o,r){var i,s;try{for(var l=Object(n.__values)(t),a=l.next();!a.done;a=l.next()){var u=a.value;try{return this.processSegmentAgainstRoute(u,e,o,r)}catch(c){if(!(c instanceof _f))throw c}}}catch(p){i={error:p}}finally{try{a&&!a.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}if(this.noLeftoversInUrl(e,o,r))return[];throw new _f},t.prototype.noLeftoversInUrl=function(t,e,o){return 0===e.length&&!t.children[o]},t.prototype.processSegmentAgainstRoute=function(t,e,o,r){if(t.redirectTo)throw new _f;if((t.outlet||Mg)!==r)throw new _f;var i,s=[],l=[];if("**"===t.path){var a=o.length>0?Jg(o).parameters:{};i=new Od(o,a,Object.freeze(Object(n.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,Sf(t),r,t.component,t,vf(e),bf(e)+o.length,Cf(t))}else{var u=function(t,e,o){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||o.length>0))throw new _f;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||Hg)(o,t,e);if(!r)throw new _f;var i={};qg(r.posParams,(function(t,e){i[e]=t.path}));var s=r.consumed.length>0?Object(n.__assign)({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,o);s=u.consumedSegments,l=o.slice(u.lastChild),i=new Od(s,u.parameters,Object.freeze(Object(n.__assign)({},this.urlTree.queryParams)),this.urlTree.fragment,Sf(t),r,t.component,t,vf(e),bf(e)+s.length,Cf(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),p=Ef(e,s,l,c,this.relativeLinkResolution),h=p.segmentGroup,g=p.slicedSegments;if(0===g.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new kd(i,d)]}if(0===c.length&&0===g.length)return[new kd(i,[])];var f=this.processSegment(c,h,g,Mg);return[new kd(i,f)]},t}();function vf(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function bf(t){for(var e=t,o=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)o+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return o-1}function Ef(t,e,o,r,i){if(o.length>0&&function(t,e,o){return o.some((function(o){return kf(t,e,o)&&Tf(o)!==Mg}))}(t,o,r)){var s=new td(e,function(t,e,o,r){var i,s,l={};l[Mg]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var a=Object(n.__values)(o),u=a.next();!u.done;u=a.next()){var c=u.value;if(""===c.path&&Tf(c)!==Mg){var p=new td([],{});p._sourceSegment=t,p._segmentIndexShift=e.length,l[Tf(c)]=p}}}catch(h){i={error:h}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}return l}(t,e,r,new td(o,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===o.length&&function(t,e,o){return o.some((function(o){return kf(t,e,o)}))}(t,o,r)){var l=new td(t.segments,function(t,e,o,r,i,s){var l,a,u={};try{for(var c=Object(n.__values)(r),p=c.next();!p.done;p=c.next()){var h=p.value;if(kf(t,o,h)&&!i[Tf(h)]){var g=new td([],{});g._sourceSegment=t,g._segmentIndexShift="legacy"===s?t.segments.length:e.length,u[Tf(h)]=g}}}catch(d){l={error:d}}finally{try{p&&!p.done&&(a=c.return)&&a.call(c)}finally{if(l)throw l.error}}return Object(n.__assign)({},i,u)}(t,e,o,r,t.children,i));return l._sourceSegment=t,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:o}}var a=new td(t.segments,t.children);return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:o}}function kf(t,e,o){return(!(t.hasChildren()||e.length>0)||"full"!==o.pathMatch)&&""===o.path&&void 0===o.redirectTo}function Tf(t){return t.outlet||Mg}function Sf(t){return t.data||{}}function Cf(t){return t.resolve||{}}function Af(t,e,o,n){var r=af(t,e,n);return Zg(r.resolve?r.resolve(e,o):r(e,o))}function wf(t){return function(e){return e.pipe(Jp((function(e){var o=t(e);return o?j(o).pipe(V((function(){return e}))):j([e])})))}}var Of=function(){return function(){}}(),Bf=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),If=new wt("ROUTES"),Rf=function(){function t(t,e,o,n){this.loader=t,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=n}return t.prototype.load=function(t,e){var o=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(V((function(n){o.onLoadEndListener&&o.onLoadEndListener(e);var r=n.create(t);return new Gg(Yg(r.injector.get(If)).map(zg),r)})))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?j(this.loader.load(t)):Zg(t()).pipe(K((function(t){return t instanceof Gt?pa(t):j(e.compiler.compileModuleAsync(t))})))},t}(),Nf=function(){return function(){}}(),xf=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Df(t){throw t}function Lf(t,e,o){return e.parse("/")}function Mf(t,e){return pa(null)}var Pf=function(){function t(t,e,o,n,r,i,s,l){var a=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=o,this.location=n,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new O,this.errorHandler=Df,this.malformedUriErrorHandler=Lf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mf,afterPreactivation:Mf},this.urlHandlingStrategy=new xf,this.routeReuseStrategy=new Bf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Ht),this.console=r.get(bi);var u=r.get(Ui);this.isNgZoneEnabled=u instanceof Ui,this.resetConfig(l),this.currentUrlTree=new $g(new td([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Rf(i,s,(function(t){return a.triggerEvent(new Og(t))}),(function(t){return a.triggerEvent(new Bg(t))})),this.routerState=Cd(this.currentUrlTree,this.rootComponentType),this.transitions=new Ca({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,o=this.events;return t.pipe(Ic((function(t){return 0!==t.id})),V((function(t){return Object(n.__assign)({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Jp((function(t){var r,i,s,l=!1,a=!1;return pa(t).pipe(nh((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object(n.__assign)({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}})),Jp((function(t){var r,i,s,l,a=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return pa(t).pipe(Jp((function(t){var n=e.transitions.getValue();return o.next(new vg(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==e.transitions.getValue()?ua:[t]})),Jp((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,s=e.urlSerializer,l=e.config,function(t){return t.pipe(Jp((function(t){return function(t,e,o,n,r){return new tf(t,e,o,n,r).apply()}(r,i,s,t.extractedUrl,l).pipe(V((function(e){return Object(n.__assign)({},t,{urlAfterRedirects:e})})))})))}),nh((function(t){e.currentNavigation=Object(n.__assign)({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})})),function(t,o,r,i,s){return function(r){return r.pipe(K((function(r){return function(t,e,o,n,r,i){return void 0===r&&(r="emptyOnly"),void 0===i&&(i="legacy"),new yf(t,e,o,n,r,i).recognize()}(t,o,r.urlAfterRedirects,(l=r.urlAfterRedirects,e.serializeUrl(l)),i,s).pipe(V((function(t){return Object(n.__assign)({},r,{targetSnapshot:t})})));var l})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),nh((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),nh((function(t){var n=new Tg(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);o.next(n)})));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.extractedUrl,c=t.source,p=t.restoredState,h=t.extras,g=new vg(t.id,e.serializeUrl(u),c,p);o.next(g);var d=Cd(u,e.rootComponentType).snapshot;return pa(Object(n.__assign)({},t,{targetSnapshot:d,urlAfterRedirects:u,extras:Object(n.__assign)({},h,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ua})),wf((function(t){var o=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!o.skipLocationChange,replaceUrl:!!o.replaceUrl})})),nh((function(t){var o=new Sg(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(o)})),V((function(t){return Object(n.__assign)({},t,{guards:(o=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,s=o._root,uf(s,r?r._root:null,i,[s.value]))});var o,r,i,s})),function(t,e){return function(o){return o.pipe(K((function(o){var r=o.targetSnapshot,i=o.currentSnapshot,s=o.guards,l=s.canActivateChecks,a=s.canDeactivateChecks;return 0===a.length&&0===l.length?pa(Object(n.__assign)({},o,{guardsResult:!0})):function(t,e,o,n){return j(t).pipe(K((function(t){return function(t,e,o,n,r){var i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?pa(i.map((function(i){var s,l=af(i,e,r);if(function(t){return t&&Xd(t.canDeactivate)}(l))s=Zg(l.canDeactivate(t,e,o,n));else{if(!Xd(l))throw new Error("Invalid CanDeactivate guard");s=Zg(l(t,e,o,n))}return s.pipe(zp())}))).pipe(hf()):pa(!0)}(t.component,t.route,o,e,n)})),zp((function(t){return!0!==t}),!0))}(a,r,i,t).pipe(K((function(o){return o&&"boolean"==typeof o?function(t,e,o,n){return j(e).pipe(eh((function(e){return j([df(e.route.parent,n),gf(e.route,n),mf(t,e.path,o),ff(t,e.route,o)]).pipe(Aa(),zp((function(t){return!0!==t}),!0))})),zp((function(t){return!0!==t}),!0))}(r,l,t,e):pa(o)})),V((function(t){return Object(n.__assign)({},o,{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),nh((function(t){if(Yd(t.guardsResult)){var o=Vg('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw o.url=t.guardsResult,o}})),nh((function(t){var o=new Cg(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(o)})),Ic((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var n=new Eg(t.id,e.serializeUrl(t.extractedUrl),"");return o.next(n),t.resolve(!1),!1}return!0})),wf((function(t){if(t.guards.canActivateChecks.length)return pa(t).pipe(nh((function(t){var o=new Ag(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(o)})),(o=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(K((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?j(i).pipe(eh((function(t){return function(t,e,o,r){return function(t,e,o,n){var r=Object.keys(t);if(0===r.length)return pa({});if(1===r.length){var i=r[0];return Af(t[i],e,o,n).pipe(V((function(t){var e;return(e={})[i]=t,e})))}var s={};return j(r).pipe(K((function(r){return Af(t[r],e,o,n).pipe(V((function(t){return s[r]=t,t})))}))).pipe(Up(),V((function(){return s})))}(t._resolve,t,e,r).pipe(V((function(e){return t._resolvedData=e,t.data=Object(n.__assign)({},t.data,wd(t,o).resolve),null})))}(t.route,e,o,r)})),oh((function(t,e){return t})),V((function(e){return t}))):pa(t)})))}),nh((function(t){var o=new wg(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(o)})));var o,r})),wf((function(t){var o=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!o.skipLocationChange,replaceUrl:!!o.replaceUrl})})),V((function(t){var o,r,i,s=(i=function t(e,o,r){if(r&&e.shouldReuseRoute(o.value,r.value.snapshot)){(u=r.value)._futureSnapshot=o.value;var i=function(e,o,r){return o.children.map((function(o){var i,s;try{for(var l=Object(n.__values)(r.children),a=l.next();!a.done;a=l.next()){var u=a.value;if(e.shouldReuseRoute(u.value.snapshot,o.value))return t(e,o,u)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return t(e,o)}))}(e,o,r);return new kd(u,i)}var s=e.retrieve(o.value);if(s){var l=s.route;return function t(e,o){if(e.value.routeConfig!==o.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==o.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");o.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)t(e.children[n],o.children[n])}(o,l),l}var a,u=new Ad(new Ca((a=o.value).url),new Ca(a.params),new Ca(a.queryParams),new Ca(a.fragment),new Ca(a.data),a.outlet,a.component,a);return i=o.children.map((function(o){return t(e,o)})),new kd(u,i)}(e.routeReuseStrategy,(o=t.targetSnapshot)._root,(r=t.currentRouterState)?r._root:void 0),new Sd(i,o));return Object(n.__assign)({},t,{targetRouterState:s})})),nh((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(r=e.rootContexts,i=e.routeReuseStrategy,s=function(t){return e.triggerEvent(t)},V((function(t){return new Kd(i,t.targetRouterState,t.currentRouterState,s).activate(r),t}))),nh({next:function(){l=!0},complete:function(){l=!0}}),sh((function(){if(!l&&!a){e.resetUrlToCurrentUrlTree();var n=new Eg(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);o.next(n),t.resolve(!1)}e.currentNavigation=null})),Vp((function(n){if(a=!0,(l=n)&&l[Ug]){var r=Yd(n.url);r||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var i=new Eg(t.id,e.serializeUrl(t.extractedUrl),n.message);o.next(i),t.resolve(!1),r&&e.navigateByUrl(n.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new kg(t.id,e.serializeUrl(t.extractedUrl),n);o.next(s);try{t.resolve(e.errorHandler(n))}catch(u){t.reject(u)}}var l;return ua})))})))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t},t.prototype.setTransition=function(t){this.transitions.next(Object(n.__assign)({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var o=t.parseUrl(e.url),n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(o,n,r,{replaceUrl:!0})}),0)})))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Wg(t),this.config=t.map(zg),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var o=e.relativeTo,r=e.queryParams,i=e.fragment,s=e.preserveQueryParams,l=e.queryParamsHandling,a=e.preserveFragment;oe()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=o||this.routerState.root,c=a?this.currentUrlTree.fragment:i,p=null;if(l)switch(l){case"merge":p=Object(n.__assign)({},this.currentUrlTree.queryParams,r);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=r||null}else p=s?this.currentUrlTree.queryParams:r||null;return null!==p&&(p=this.removeEmptyProps(p)),function(t,e,o,r,i){if(0===o.length)return Ld(e.root,e.root,e,r,i);var s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Md(!0,0,t);var e=0,o=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var s={};return qg(r.outlets,(function(t,e){s[e]="string"==typeof t?t.split("/"):t})),Object(n.__spread)(t,[{outlets:s}])}if(r.segmentPath)return Object(n.__spread)(t,[r.segmentPath])}return"string"!=typeof r?Object(n.__spread)(t,[r]):0===i?(r.split("/").forEach((function(n,r){0==r&&"."===n||(0==r&&""===n?o=!0:".."===n?e++:""!=n&&t.push(n))})),t):Object(n.__spread)(t,[r])}),[]);return new Md(o,e,r)}(o);if(s.toRoot())return Ld(e.root,new td([],{}),e,r,i);var l=function(t,e,o){if(t.isAbsolute)return new Pd(e.root,!0,0);if(-1===o.snapshot._lastPathIndex)return new Pd(o.snapshot._urlSegment,!0,0);var n=Dd(t.commands[0])?0:1;return function(t,e,o){for(var n=t,r=e,i=o;i>r;){if(i-=r,!(n=n.parent))throw new Error("Invalid number of '../'");r=n.segments.length}return new Pd(n,!1,r-i)}(o.snapshot._urlSegment,o.snapshot._lastPathIndex+n,t.numberOfDoubleDots)}(s,e,t),a=l.processChildren?Vd(l.segmentGroup,l.index,s.commands):Ud(l.segmentGroup,l.index,s.commands);return Ld(l.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,p,c)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),oe()&&this.isNgZoneEnabled&&!Ui.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var o=Yd(t)?t:this.parseUrl(t),n=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var o=t[e];if(null==o)throw new Error("The requested path contains "+o+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(o){e=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(Yd(t))return Qg(this.currentUrlTree,t,e);var o=this.parseUrl(t);return Qg(this.currentUrlTree,o,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce((function(e,o){var n=t[o];return null!=n&&(e[o]=n),e}),{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new bg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))},t.prototype.scheduleNavigation=function(t,e,o,n){var r=this.getTransition();if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var i=null,s=null,l=new Promise((function(t,e){i=t,s=e})),a=++this.navigationId;return this.setTransition({id:a,source:e,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:n,resolve:i,reject:s,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch((function(t){return Promise.reject(t)}))},t.prototype.setBrowserUrl=function(t,e,o,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object(n.__assign)({},r,{navigationId:o})):this.location.go(i,"",Object(n.__assign)({},r,{navigationId:o}))},t.prototype.resetStateAndUrl=function(t,e,o){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),Ff=function(){function t(t,e,o,n,r){this.router=t,this.route=e,this.commands=[],null==o&&n.setAttribute(r.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){oe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:Vf(this.skipLocationChange),replaceUrl:Vf(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Vf(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Vf(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}(),Uf=function(){function t(t,e,o){var n=this;this.router=t,this.route=e,this.locationStrategy=o,this.commands=[],this.subscription=t.events.subscribe((function(t){t instanceof bg&&n.updateTargetUrlAndHref()}))}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){oe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,o,n){if(0!==t||e||o||n)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var r={skipLocationChange:Vf(this.skipLocationChange),replaceUrl:Vf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Vf(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Vf(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();function Vf(t){return""===t||!!t}var Hf=function(){function t(t,e,o,n,r){var i=this;this.router=t,this.element=e,this.renderer=o,this.link=n,this.linkWithHref=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(t){t instanceof bg&&i.update()}))}return t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe((function(e){return t.update()})),this.linksWithHrefs.changes.subscribe((function(e){return t.update()})),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter((function(t){return!!t}))},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach((function(o){e?t.renderer.addClass(t.element.nativeElement,o):t.renderer.removeClass(t.element.nativeElement,o)})))}))},t.prototype.isLinkActive=function(t){var e=this;return function(o){return t.isActive(o.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)},t}(),Gf=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wf,this.attachRef=null}}(),Wf=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Gf,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),jf=function(){function t(t,e,o,n,r){this.parentContexts=t,this.location=e,this.resolver=o,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new ui,this.deactivateEvents=new ui,this.name=n||Mg,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var o=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,r=new Kf(t,n,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),Kf=function(){function t(t,e,o){this.route=t,this.childContexts=e,this.parent=o}return t.prototype.get=function(t,e){return t===Ad?this.route:t===Wf?this.childContexts:this.parent.get(t,e)},t}(),zf=function(){return function(){}}(),Xf=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(Vp((function(){return pa(null)})))},t}(),Yf=function(){function t(){}return t.prototype.preload=function(t,e){return pa(null)},t}(),Jf=function(){function t(t,e,o,n,r){this.router=t,this.injector=n,this.preloadingStrategy=r,this.loader=new Rf(e,o,(function(e){return t.triggerEvent(new Og(e))}),(function(e){return t.triggerEvent(new Bg(e))}))}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Ic((function(t){return t instanceof bg})),eh((function(){return t.preload()}))).subscribe((function(){}))},t.prototype.preload=function(){var t=this.injector.get(Ht);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var o,r,i=[];try{for(var s=Object(n.__values)(e),l=s.next();!l.done;l=s.next()){var a=l.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var u=a._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children))}}catch(c){o={error:c}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return j(i).pipe(J(),V((function(t){})))},t.prototype.preloadConfig=function(t,e){var o=this;return this.preloadingStrategy.preload(e,(function(){return o.loader.load(t.injector,e).pipe(K((function(t){return e._loadedConfig=t,o.processRoutes(t.module,t.routes)})))}))},t}(),qf=function(){function t(t,e,o){void 0===o&&(o={}),this.router=t,this.viewportScroller=e,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe((function(e){e instanceof vg?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof bg&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Dg&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new Dg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),Zf=new wt("ROUTER_CONFIGURATION"),Qf=new wt("ROUTER_FORROOT_GUARD"),$f=[Vc,{provide:rd,useClass:id},{provide:Pf,useFactory:sm,deps:[os,rd,Wf,Vc,We,rs,Ii,If,Zf,[Nf,new ut],[Of,new ut]]},Wf,{provide:Ad,useFactory:lm,deps:[Pf]},{provide:rs,useClass:ls},Jf,Yf,Xf,{provide:Zf,useValue:{enableTracing:!1}}];function tm(){return new Zi("Router",Pf)}var em=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,o){return{ngModule:e,providers:[$f,im(t),{provide:Qf,useFactory:rm,deps:[[Pf,new ut,new pt]]},{provide:Zf,useValue:o||{}},{provide:Fc,useFactory:nm,deps:[Mc,[new at(Uc),new ut],Zf]},{provide:qf,useFactory:om,deps:[Pf,yp,Zf]},{provide:zf,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Yf},{provide:Zi,multi:!0,useFactory:tm},[am,{provide:hi,multi:!0,useFactory:um,deps:[am]},{provide:pm,useFactory:cm,deps:[am]},{provide:vi,multi:!0,useExisting:pm}]]}},t.forChild=function(t){return{ngModule:e,providers:[im(t)]}},t}();function om(t,e,o){return o.scrollOffset&&e.setOffset(o.scrollOffset),new qf(t,e,o)}function nm(t,e,o){return void 0===o&&(o={}),o.useHash?new Gc(t,e):new Wc(t,e)}function rm(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function im(t){return[{provide:_o,multi:!0,useValue:t},{provide:If,multi:!0,useValue:t}]}function sm(t,e,o,n,r,i,s,l,a,u,c){void 0===a&&(a={});var p=new Pf(null,e,o,n,r,i,s,Yg(l));if(u&&(p.urlHandlingStrategy=u),c&&(p.routeReuseStrategy=c),a.errorHandler&&(p.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(p.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){var h=ch();p.events.subscribe((function(t){h.logGroup("Router Event: "+t.constructor.name),h.log(t.toString()),h.log(t),h.logGroupEnd()}))}return a.onSameUrlNavigation&&(p.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(p.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(p.relativeLinkResolution=a.relativeLinkResolution),p}function lm(t){return t.routerState.root}var am=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new O}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(Pc,Promise.resolve(null)).then((function(){var e=null,o=new Promise((function(t){return e=t})),n=t.injector.get(Pf),r=t.injector.get(Zf);if(t.isLegacyDisabled(r)||t.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '"+r.initialNavigation+"'");n.hooks.afterPreactivation=function(){return t.initNavigation?pa(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},n.initialNavigation()}return o}))},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Zf),o=this.injector.get(Jf),n=this.injector.get(qf),r=this.injector.get(Pf),i=this.injector.get(os);t===i.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),o.setUpPreloading(),n.init(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function um(t){return t.appInitializer.bind(t)}function cm(t){return t.bootstrapListener.bind(t)}var pm=new wt("Router Initializer"),hm=function(){function t(t,e,o,n){var r=this;this.blocklyPromptOverRide=t,this.framePlayer=e,this.router=o,this.toolboxService=n,this.blocklyEventSubject=new O,this.showFrameGeneratorError=!0,this.blocklyEvents$=this.blocklyEventSubject.asObservable(),this.codeSubject=new _a(5),this.code$=this.codeSubject.asObservable(),this.framesSubject=new O,this.frames$=this.framesSubject.asObservable(),window.Blockly=Ta,e.changeFrame$.pipe(Ic((function(){return void 0!==r.getWorkSpace()}))).subscribe((function(t){tc(t,r.getArduinoStartBlock())}))}return t.prototype.getWorkSpace=function(){return this.workspace},t.prototype.setUpBlock=function(t){var e=this;Ta.Themes.Classic.setBlockStyle("logic_blocks",{colourPrimary:cc.CONTROL}),Ta.Themes.Classic.setBlockStyle("loop_blocks",{colourPrimary:cc.CONTROL}),Ta.Themes.Classic.setBlockStyle("procedure_blocks",{colourPrimary:cc.CONTROL}),Ta.Themes.Classic.setBlockStyle("math_blocks",{colourPrimary:cc.VALUES}),Ta.Themes.Classic.setBlockStyle("colour_blocks",{colourPrimary:cc.VALUES}),Ta.Themes.Classic.setBlockStyle("text_blocks",{colourPrimary:cc.VALUES}),Ta.Themes.Classic.setBlockStyle("variable_blocks",{colourPrimary:cc.DATA}),Ta.Themes.Classic.setBlockStyle("list_blocks",{colourPrimary:cc.DATA}),Ta.inject(t,{toolbox:Cc(this.toolboxService.fetchToolBox()),collapse:!0,comments:!0,disable:!1,maxBlocks:1/0,trashcan:!0,horizontalLayout:!1,toolboxPosition:"start",css:!0,media:"https://blockly-demo.appspot.com/static/media/",rtl:!1,scrollbars:!0,sounds:!0,oneBasedIndex:!0,grid:{spacing:20,length:1,colour:"#888",snap:!1},zoom:{controls:!0,wheel:!0,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2}}),this.workspace=Ta.getMainWorkspace(),this.workspace.registerToolboxCategoryCallback("LIST",(function(t){var e=[],o=document.createElement("button");o.setAttribute("text","Create a list of number"),o.setAttribute("callbackKey","CREATE_NUMBER_LIST");var n=new XMLSerializer;t.registerButtonCallback("CREATE_NUMBER_LIST",(function(){Ta.Variables.createVariableButtonHandler(t,(function(e){if(null!==e){var o=t.newBlock("create_list_number_block");o.initSvg(),o.render(),o.translate(20,20),o.setDeletable(!1)}}),"List Number")})),e.push(o);var r=document.createElement("button");r.setAttribute("text","Create a list of string"),r.setAttribute("callbackKey","CREATE_STRING_LIST"),t.registerButtonCallback("CREATE_STRING_LIST",(function(){Ta.Variables.createVariableButtonHandler(t,(function(e){if(null!==e){var o=t.newBlock("create_list_string_block");o.initSvg(),o.render(),o.translate(20,20),o.setDeletable(!1)}}),"List String")})),e.push(r);var i=document.createElement("button");i.setAttribute("text","Create a list of boolean"),i.setAttribute("callbackKey","CREATE_BOOLEAN_LIST"),t.registerButtonCallback("CREATE_BOOLEAN_LIST",(function(){Ta.Variables.createVariableButtonHandler(t,(function(e){if(null!==e){var o=t.newBlock("create_list_boolean_block");o.initSvg(),o.render(),o.translate(20,20),o.setDeletable(!1)}}),"List Boolean")})),e.push(i);var s=document.createElement("button");s.setAttribute("text","Create a list of colors"),s.setAttribute("callbackKey","CREATE_COLOUR_LIST"),t.registerButtonCallback("CREATE_COLOUR_LIST",(function(){Ta.Variables.createVariableButtonHandler(t,(function(e){if(null!==e){var o=t.newBlock("create_list_colour_block");o.initSvg(),o.render(),o.translate(20,20),o.setDeletable(!1)}}),"List Colour")})),e.push(s);var l=t.getVariablesOfType("List Number");if(l.length>0){var a='<xml><block type="set_number_list_block" gap="24">'+n.serializeToString(Ta.Variables.generateVariableFieldDom(l[0]))+'<value name="VALUE"> <block type="math_number"> <field name="NUM">10</field></block> </value><value name="POSITION"> <block type="math_number"> <field name="NUM">1</field></block> </value></block></xml>',u=Ta.Xml.textToDom(a).firstChild;e.push(u);var c='<xml><block type="get_number_from_list" gap="24">'+n.serializeToString(Ta.Variables.generateVariableFieldDom(l[0]))+'<value name="POSITION"> <block type="math_number"> <field name="NUM">1</field></block> </value></block></xml>',p=Ta.Xml.textToDom(c).firstChild;e.push(p)}var h=t.getVariablesOfType("List String");if(h.length>0){var g='<xml><block type="set_string_list_block" gap="24">'+n.serializeToString(Ta.Variables.generateVariableFieldDom(h[0]))+'<value name="VALUE"> <block type="text"> <field name="TEXT">abc</field></block> </value><value name="POSITION"> <block type="math_number"> <field name="NUM">1</field></block> </value></block></xml>',d=Ta.Xml.textToDom(g).firstChild;e.push(d);var f='<xml><block type="get_string_from_list" gap="24">'+n.serializeToString(Ta.Variables.generateVariableFieldDom(h[0]))+'<value name="POSITION"> <block type="math_number"> <field name="NUM">1</field></block> </value></block></xml>',m=Ta.Xml.textToDom(f).firstChild;e.push(m)}var _=t.getVariablesOfType("List Boolean");if(_.length>0){var y='<xml><block type="set_boolean_list_block" gap="24">'+n.serializeToString(Ta.Variables.generateVariableFieldDom(_[0]))+'<value name="VALUE"><block type="logic_boolean"></block></value><value name="POSITION"> <block type="math_number"> <field name="NUM">1</field></block> </value></block></xml>',v=Ta.Xml.textToDom(y).firstChild;e.push(v);var b='<xml><block type="get_boolean_from_list" gap="24">'+n.serializeToString(Ta.Variables.generateVariableFieldDom(_[0]))+'<value name="POSITION"> <block type="math_number"> <field name="NUM">1</field></block> </value></block></xml>',E=Ta.Xml.textToDom(b).firstChild;e.push(E)}var k=t.getVariablesOfType("List Colour");if(k.length>0){var T='<xml><block type="set_colour_list_block" gap="24">'+n.serializeToString(Ta.Variables.generateVariableFieldDom(k[0]))+'<value name="VALUE"><block type="colour_picker"></block></value><value name="POSITION"> <block type="math_number"> <field name="NUM">1</field></block> </value></block></xml>',S=Ta.Xml.textToDom(T).firstChild;e.push(S);var C='<xml><block type="get_colour_from_list" gap="24">'+n.serializeToString(Ta.Variables.generateVariableFieldDom(k[0]))+'<value name="POSITION"> <block type="math_number"> <field name="NUM">1</field></block> </value></block></xml>',A=Ta.Xml.textToDom(C).firstChild;e.push(A)}return e})),this.workspace.trashcan.flyout_.workspace_.addChangeListener((function(t){var e=Ta.Workspace.getById(t.workspaceId),o=Ta.mainWorkspace.trashcan;if(t.type===Ta.Events.UI){for(var n=e.getBlockById(t.newValue),r=Ta.Xml.blockToDom(n),i=o.cleanBlockXML_(r),s=0;s<o.contents_.length;s+=1)i===o.contents_[s].replace(/ disabled="true"/g,"")&&delete o.contents_[s];var l=0,a=[];return o.contents_.forEach((function(t){a[l]=t,l+=1})),void(o.contents_=a)}e.getAllBlocks().forEach((function(t){"arduino_start"===t.type?t.dispose():t.setDisabled(!1)}))})),this.workspace.addChangeListener((function(t){return Object(n.__awaiter)(e,void 0,void 0,(function(){return Object(n.__generator)(this,(function(e){switch(e.label){case 0:return this.blocklyEventSubject.next(t),"disabled"===t.element||"warningOpen"===t.element||null===t.blockId||"click"===t.element||"selected"===t.element||"SIMPLE_DEBUG"===t.name?[2]:(this.workspace.getAllBlocks(!0).filter((function(t){return"controls_for"===t.type})).forEach((function(t){var e=Ac(t,"TO"),o=Ac(t,"FROM");t.inputList[2].fieldRow[0].setText(e>o?"by adding":"by subtracting")})),function(t,e){("mutatorOpen"===e.element&&!e.newValue||e.type===Sa.Events.BLOCK_DELETE)&&t.getAllVariables().filter((function(e){return 0===t.getVariableUsesById(e.getId()).length})).forEach((function(e){t.deleteVariableById(e.getId())}))}(this.workspace,t),function(t){var e=t.getAllBlocks();e.filter((function(t){return qa.includes(t.type)})).forEach((function(t){var o=e.filter((function(e){return e.type===t.type&&"arduino_start"!==t.type})).length>1;t.setEnabled(!o||Za.includes(t.type))})),e.filter((function(t){return!qa.includes(t.type)})).forEach((function(t){return function(t,e){return!!Ja[e.type]&&-1===t.findIndex((function(t){return t.type===Ja[e.type]}))}(e,t)?(t.setEnabled(!1),void $a(t,!0)):qa.includes(t.getRootBlock().type)?(t.setEnabled(!0),void $a(t,!1)):(t.setEnabled(!1),void $a(t,!0))}))}(this.workspace),xc(this.workspace,["is_button_pressed"],"push_button_setup"),xc(this.workspace,["digital_read"],"digital_read_setup"),xc(this.workspace,["analog_read"],"analog_read_setup"),function(t,e){if("field"===e.element&&"LOOP"===e.name&&void 0!==e.blockId&&void 0!==e.newValue){var o=t.getBlockById(e.blockId),n=parseInt(e.newValue,0);if(Object.keys(Ya).includes(o.type+"_block")){var r=Ya[o.type+"_block"],i=JSON.parse(o.data)[n-1];r.fieldsToCollect.forEach((function(t){o.getField(t.setupBlockFieldName).setValue(i[t.dataSaveKey])}))}}}(this.workspace,t),function(t,e){t.getAllBlocks(!0).filter((function(t){return Object.keys(Ya).includes(t.type+"_block")})).forEach((function(t){var o=t.data?JSON.parse(t.data):[],n=Ya[t.type+"_block"];if(0!==o.length){if(e>o.length)for(var r=o.length;r<=e;r+=1){var i=$l.cloneDeep(o[o.length-1]);o.push(i)}o[parseInt(t.getFieldValue("LOOP"),0)-1]=wc(t,n.fieldsToCollect),t.data=JSON.stringify(o)}else!function(t,e,o){for(var n=[],r=0;r<o;r+=1)n.push(wc(t,e));t.data=JSON.stringify(n)}(t,n.fieldsToCollect,e)}))}(this.workspace,this.getNumberLoops()),this.nextArduinoCode(),this.showDebugMode(this.router.routerState.snapshot.root.firstChild.data.showRunLoopOption),function(t,e){if("field"===e.element&&"LOOP_TIMES"===e.name&&null!==e.blockId){var o=Sa.getMainWorkspace().getBlockById(e.blockId);if("arduino_start"===o.type){var n=+o.getFieldValue("LOOP_TIMES");Sa.getMainWorkspace().getTopBlocks(!0).filter((function(t){return Qa.includes(t.type)})).forEach((function(t){+t.getFieldValue("LOOP")>n&&t.getField("LOOP").setValue(n.toString())}))}}}(this.getWorkSpace(),t),this.getArduinoStartBlock()?[4,this.generateFrames()]:[3,2]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})),this.blocklyPromptOverRide.overRideBlocklyPrompt(),setTimeout((function(){Ta.Xml.domToWorkspace(Ta.Xml.textToDom('<xml><block type="arduino_start" deletable="false" x="50" y="100" movable="true"></block></xml>'),e.workspace),setTimeout((function(){e.showRunLoopOption(e.router.routerState.snapshot.root.firstChild.data.showRunLoopOption),e.showSetupInArduinoStart("true"===localStorage.getItem("show_setup_function_arduino"))}),20)}),50)},t.prototype.showRunLoopOption=function(t){var e=this.getArduinoStartBlock();if(t)return e.inputList[2].setVisible(!1),e.inputList[3].setVisible(!0),void e.render();e.inputList[2].setVisible(!0),e.inputList[3].setVisible(!1),e.render()},t.prototype.showSetupInArduinoStart=function(t){var e=this.getArduinoStartBlock();if(t)return e.inputList[0].setVisible(!0),e.inputList[1].setVisible(!0),void e.render();e.getInput("setup").connection.hideAll();var o=e.getInputTargetBlock("setup");o&&(o.previousConnection.disconnect(),o.moveBy(100,100)),e.inputList[0].setVisible(!1),e.inputList[1].setVisible(!1),e.render()},t.prototype.showDebugMode=function(t){this.getWorkSpace()&&this.getWorkSpace().getAllBlocks().forEach((function(e){if(e.inputList.filter((function(o){o.fieldRow.find((function(t){return"SIMPLE_DEBUG"===t.name}))&&(o.setVisible(t),e.render())})),Qa.includes(e.type)){for(var o=!1,n=0;n<e.inputList.length;n+=1)"SHOW_CODE_VIEW"===e.inputList[n].name&&(o=!0),o&&e.inputList[n].setVisible(t);o&&e.render()}}))},t.prototype.getArduinoStartBlock=function(){return this.getWorkSpace().getAllBlocks().find((function(t){return"arduino_start"===t.type}))},t.prototype.nextArduinoCode=function(){this.codeSubject.next(this.getArduinoCode())},t.prototype.getArduinoCode=function(){return Ta.Arduino.workspaceToCode(this.workspace)},t.prototype.getXMLCode=function(){var t=Ta.Xml.workspaceToDom(this.getWorkSpace());return Ta.Xml.domToText(t)},t.prototype.loadFile=function(t){this.getWorkSpace().clear(),Ta.Xml.domToWorkspace(Ta.Xml.textToDom(t),this.getWorkSpace()),this.showRunLoopOption(this.router.routerState.snapshot.root.firstChild.data.showRunLoopOption)},t.prototype.resetWorkspace=function(){this.loadFile('<xml><block type="arduino_start" deletable="false" x="50" y="100" movable="true"></block></xml>'),this.showSetupInArduinoStart("true"===localStorage.getItem("show_setup_function_arduino"))},t.prototype.resizeWorkspace=function(){Ta.svgResize(this.workspace)},t.prototype.selectBlock=function(t){var e=this.workspace.getBlockById(t);e&&e.select()},t.prototype.unSelectBlock=function(t){var e=this.workspace.getBlockById(t);e&&e.unselect()},t.prototype.highlightDebugBlock=function(t){var e=this.workspace.getBlockById(t);e&&(e.select(),e.setColor("#000000"))},t.prototype.getNumberLoops=function(){return parseInt(this.getArduinoStartBlock().getFieldValue("LOOP_TIMES"),0)},t.prototype.generateFrames=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){var t,e,o;return Object(n.__generator)(this,(function(r){switch(r.label){case 0:return[4,Object(n.__awaiter)(void 0,void 0,void 0,(function(){var t,e,o,r,i,s,l,a,u,c;return Object(n.__generator)(this,(function(n){if(t=Ta.mainWorkspace.getTopBlocks().filter((function(t){return"arduino_start"===t.type}))[0],e=t.getFieldValue("LOOP_TIMES"),o=eu(),function(t){var e=$l.countBy(t.map((function(t){return t.type})));for(var o in e)if(e[o]>1&&!Za.includes(o))return!0;return!1}(r=Ta.mainWorkspace.getTopBlocks().filter((function(t){return"arduino_start"!==t.type}))))return[2,[]];for(i=new Array,r.filter((function(t){return t.isEnabled()&&t.rendered})).filter((function(t){return"procedures_defnoreturn"!==t.type})).forEach((function(t){Ia[t.type+"_block"](t,{location:"pre-setup",iteration:0},0===i.length?null:i[i.length-1]).filter((function(t){return t instanceof ba})).forEach((function(t){return i.push(t)}))})),s=void 0!==i[0],o[0]&&s&&o[0].forEach((function(t){i.forEach((function(e){e.state.components.find((function(e){return e.isEqual(t)}))||e.state.components.push(t)}))})),(l=qu(t,"setup",{location:"setup",iteration:0},0===i.length?null:i[i.length-1])).forEach((function(t){return i.push(t)})),!s&&l[0]&&o[0].forEach((function(t){i.forEach((function(e){e.state.components.find((function(e){return e.isEqual(t)}))||e.state.components.push(t)}))})),a=function(e){qu(t,"loop",{location:"loop",iteration:e},0===i.length?null:i[i.length-1]).forEach((function(t){o[e].forEach((function(e){var o=t.state.components.findIndex((function(t){return t instanceof Ua&&e instanceof Ua?t.pin===e.pin:t.electricComponentType===e.electricComponentType}));t.state.components[o]instanceof Va&&t.state.components[o].sendMessage.length>0||(e instanceof tu&&-1===o?t.state.components.push(e):t.state.components[o]=e)})),i.push(t)}))},u=0;u<e;u+=1)a(u);return console.log(i,"frames"),(c=function(t){if(0===t.length)return[];var e=t[t.length-1].state.components.map((function(t){return t.pins})).reduce((function(t,e){return t.concat(e)}),[]).sort(),o=$l.countBy(e),n=[];for(var r in o)o[r]>1&&n.push(r);return n}(i)).length>0?[2,c]:[2,i]}))}))];case 1:return t=r.sent(),$l.isEqual(t,this.framePlayer.getFrames())?[2]:(this.getWorkSpace().getAllBlocks().forEach((function(t){return t.setWarningText(null)})),0!==t.length?[3,3]:[4,this.framePlayer.setFrames([],!1)]);case 2:return r.sent(),this.framesSubject.next([]),[2];case 3:return t[t.length-1]instanceof ba?[4,this.framePlayer.setFrames(t,!1)]:[3,5];case 4:return r.sent(),this.framesSubject.next(t),this.showFrameGeneratorError=!0,[2];case 5:return this.showFrameGeneratorError&&alert("More than 2 things are using the same pins: "+t.join(", ")+"."),[4,this.framePlayer.setFrames([],!1)];case 6:return r.sent(),this.framesSubject.next([]),this.showFrameGeneratorError=!1,e=t,o=["RX","TX","PIN"],this.getWorkSpace().getAllBlocks().filter((function(t){if(o.reduce((function(o,n){return e.includes(t.getFieldValue(n))||o}),!1))return!0;var n=Bc[t.type];return!!n&&n.pins.filter((function(t){return e.includes(t)})).length>0})).map((function(t){var e=o.reduce((function(e,o){return e||t.getFieldValue(o)}),null);return{block:t,pin:e}})).forEach((function(t){var e=t.block,o=t.pin;e.setWarningText(o?"Please make sure that no other components use pin "+o+".":Bc[e.type].message)})),[2]}}))}))},t.DEBUG_MODE="simple",t.DISABLE_READONLY_CHECK=!1,t.ngInjectableDef=dt({factory:function(){return new t(Pt(La),Pt(va),Pt(Pf),Pt(Dc))},token:t,providedIn:"root"}),t}(),gm=function(){function t(){this.chromebookApp=!1}return Object.defineProperty(t.prototype,"isElectron",{get:function(){return window&&window.process&&window.process.type},enumerable:!0,configurable:!0}),t.prototype.isBrowser=function(){return!this.isElectron&&!this.chromebookApp},t.prototype.isChromebookApp=function(){return this.chromebookApp},t.ngInjectableDef=dt({factory:function(){return new t},token:t,providedIn:"root"}),t}(),dm=function(){function t(t,e,o,n){var r=this;this.identityService=t,this.translate=e,this.blocklyService=o,this.router=n,this.blocklyContainerWidth="49.5%",this.routerContainerWidth="49.5%",this.showAppPlayer=!1,this.isResizingDivs=!1,this.showBottom$=this.router.events.pipe(Ic((function(t){return t instanceof Ng})),Ic((function(t){return void 0!==t.snapshot.data.showBottom})),V((function(t){return t.snapshot.data.showBottom})),it()),e.setDefaultLang("en"),console.log("AppConfig",Yl),this.router.events.pipe(Ic((function(t){return t instanceof Ng&&r.blocklyService.getWorkSpace()})),V((function(t){return t.snapshot.data.showRunLoopOption}))).subscribe((function(t){r.blocklyService.showRunLoopOption(t),r.blocklyService.showDebugMode(t)}))}return t.prototype.onMouseMove=function(t){if(this.isResizingDivs){var e=document.querySelector("body").clientWidth,o=t.clientX/e*100-.5,n=100-o-1;this.blocklyContainerWidth=o+"%",this.routerContainerWidth=n+"%",this.blocklyService.resizeWorkspace()}},t.prototype.grabberMouseUp=function(t){this.isResizingDivs=!1},t.prototype.grabberMouseDown=function(t){this.isResizingDivs=!0},t.prototype.ngOnInit=function(){},t}(),fm=function(){var t={HEX:0,RGBA:1,HSLA:2,CMYK:3};return t[t.HEX]="HEX",t[t.RGBA]="RGBA",t[t.HSLA]="HSLA",t[t.CMYK]="CMYK",t}(),mm=function(){return function(t,e,o,n){this.r=t,this.g=e,this.b=o,this.a=n}}(),_m=function(){return function(t,e,o,n){this.h=t,this.s=e,this.v=o,this.a=n}}(),ym=function(){return function(t,e,o,n){this.h=t,this.s=e,this.l=o,this.a=n}}(),vm=function(){return function(t,e,o,n,r){void 0===r&&(r=1),this.c=t,this.m=e,this.y=o,this.k=n,this.a=r}}(),bm=function(){function t(){this.newValue=new ui}return t.prototype.inputChange=function(t){var e=t.target.value;if(void 0===this.rg)this.newValue.emit(e);else{var o=parseFloat(e);this.newValue.emit({v:o,rg:this.rg})}},t}(),Em=function(){function t(t){var e=this;this.elRef=t,this.dragEnd=new ui,this.dragStart=new ui,this.newValue=new ui,this.listenerMove=function(t){return e.move(t)},this.listenerStop=function(){return e.stop()}}return t.prototype.mouseDown=function(t){this.start(t)},t.prototype.touchStart=function(t){this.start(t)},t.prototype.move=function(t){t.preventDefault(),this.setCursor(t)},t.prototype.start=function(t){this.setCursor(t),t.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()},t.prototype.stop=function(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()},t.prototype.getX=function(t){var e=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageX?t.pageX:t.touches[0].pageX)-e.left-window.pageXOffset},t.prototype.getY=function(t){var e=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageY?t.pageY:t.touches[0].pageY)-e.top-window.pageYOffset},t.prototype.setCursor=function(t){var e=this.elRef.nativeElement.offsetWidth,o=this.elRef.nativeElement.offsetHeight,n=Math.max(0,Math.min(this.getX(t),e)),r=Math.max(0,Math.min(this.getY(t),o));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:n/e,v:1-r/o,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:r/o,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:n/e,rgX:this.rgX})},t}(),km=function(){return function(t,e,o,n){this.h=t,this.s=e,this.v=o,this.a=n}}(),Tm=function(){return function(t,e,o,n){this.h=t,this.s=e,this.v=o,this.a=n}}(),Sm=function(){function t(){this.active=null}return t.prototype.setActive=function(t){this.active&&this.active!==t&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=t},t.prototype.hsva2hsla=function(t){var e=t.h,o=t.s,n=t.v,r=t.a;if(0===n)return new ym(e,0,0,r);if(0===o&&1===n)return new ym(e,1,1,r);var i=n*(2-o)/2;return new ym(e,n*o/(1-Math.abs(2*i-1)),i,r)},t.prototype.hsla2hsva=function(t){var e=Math.min(t.h,1),o=Math.min(t.s,1),n=Math.min(t.l,1),r=Math.min(t.a,1);if(0===n)return new _m(e,0,0,r);var i=n+o*(1-Math.abs(2*n-1))/2;return new _m(e,2*(i-n)/i,i,r)},t.prototype.hsvaToRgba=function(t){var e,o,n,r=t.h,i=t.s,s=t.v,l=t.a,a=Math.floor(6*r),u=6*r-a,c=s*(1-i),p=s*(1-u*i),h=s*(1-(1-u)*i);switch(a%6){case 0:e=s,o=h,n=c;break;case 1:e=p,o=s,n=c;break;case 2:e=c,o=s,n=h;break;case 3:e=c,o=p,n=s;break;case 4:e=h,o=c,n=s;break;case 5:e=s,o=c,n=p;break;default:e=0,o=0,n=0}return new mm(e,o,n,l)},t.prototype.cmykToRgb=function(t){return new mm((1-t.c)*(1-t.k),(1-t.m)*(1-t.k),(1-t.y)*(1-t.k),t.a)},t.prototype.rgbaToCmyk=function(t){var e=1-Math.max(t.r,t.g,t.b);return 1===e?new vm(0,0,0,1,t.a):new vm((1-t.r-e)/(1-e),(1-t.g-e)/(1-e),(1-t.b-e)/(1-e),e,t.a)},t.prototype.rgbaToHsva=function(t){var e,o,n=Math.min(t.r,1),r=Math.min(t.g,1),i=Math.min(t.b,1),s=Math.min(t.a,1),l=Math.max(n,r,i),a=Math.min(n,r,i),u=l,c=l-a;if(o=0===l?0:c/l,l===a)e=0;else{switch(l){case n:e=(r-i)/c+(r<i?6:0);break;case r:e=(i-n)/c+2;break;case i:e=(n-r)/c+4;break;default:e=0}e/=6}return new _m(e,o,u,s)},t.prototype.rgbaToHex=function(t,e){var o="#"+(1<<24|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return e&&(o+=(256|Math.round(255*t.a)).toString(16).substr(1)),o},t.prototype.normalizeCMYK=function(t){return new vm(t.c/100,t.m/100,t.y/100,t.k/100,t.a)},t.prototype.denormalizeCMYK=function(t){return new vm(Math.floor(100*t.c),Math.floor(100*t.m),Math.floor(100*t.y),Math.floor(100*t.k),t.a)},t.prototype.denormalizeRGBA=function(t){return new mm(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)},t.prototype.stringToHsva=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var o=null;t=(t||"").toLowerCase();var n=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return new mm(parseInt(t[2],10)/255,parseInt(t[3],10)/255,parseInt(t[4],10)/255,isNaN(parseFloat(t[5]))?1:parseFloat(t[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return new ym(parseInt(t[2],10)/360,parseInt(t[3],10)/100,parseInt(t[4],10)/100,isNaN(parseFloat(t[5]))?1:parseFloat(t[5]))}}];for(var r in n.push(e?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(t){return new mm(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,parseInt(t[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(t){return new mm(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,1)}}),n.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(t){return new mm(parseInt(t[1]+t[1],16)/255,parseInt(t[2]+t[2],16)/255,parseInt(t[3]+t[3],16)/255,1)}}),n)if(n.hasOwnProperty(r)){var i=n[r],s=i.re.exec(t),l=s&&i.parse(s);if(l)return l instanceof mm?o=this.rgbaToHsva(l):l instanceof ym&&(o=this.hsla2hsva(l)),o}return o},t.prototype.outputFormat=function(t,e,o){switch("auto"===e&&(e=t.a<1?"rgba":"hex"),e){case"hsla":var n=this.hsva2hsla(t),r=new ym(Math.round(360*n.h),Math.round(100*n.s),Math.round(100*n.l),Math.round(100*n.a)/100);return t.a<1||"always"===o?"hsla("+r.h+","+r.s+"%,"+r.l+"%,"+r.a+")":"hsl("+r.h+","+r.s+"%,"+r.l+"%)";case"rgba":var i=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||"always"===o?"rgba("+i.r+","+i.g+","+i.b+","+Math.round(100*i.a)/100+")":"rgb("+i.r+","+i.g+","+i.b+")";default:var s="always"===o||"forced"===o;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),s)}},t}(),Cm=function(){function t(t,e,o){this.elRef=t,this.cdRef=e,this.service=o,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[fm.HEX,fm.RGBA,fm.HSLA,fm.CMYK],this.useRootViewContainer=!1}return t.prototype.handleEsc=function(t){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(t)},t.prototype.handleEnter=function(t){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(t)},t.prototype.ngOnInit=function(){var t=this;this.slider=new km(0,0,0,0),this.sliderDimMax=new Tm(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?fm.CMYK:"rgba"===this.cpOutputFormat?fm.RGBA:"hsla"===this.cpOutputFormat?fm.HSLA:fm.HEX,this.listenerMouseDown=function(e){t.onMouseDown(e)},this.listenerResize=function(){t.onResize()},this.openDialog(this.initialColor,!1)},t.prototype.ngOnDestroy=function(){this.closeDialog()},t.prototype.ngAfterViewInit=function(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new Tm(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())},t.prototype.openDialog=function(t,e){void 0===e&&(e=!0),this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(t),this.setColorFromString(t,e),this.openColorPicker()},t.prototype.closeDialog=function(){this.closeColorPicker()},t.prototype.setupDialog=function(t,e,o,n,r,i,s,l,a,u,c,p,h,g,d,f,m,_,y,v,b,E,k,T,S,C,A,w,O,B,I,R,N,x,D){this.setInitialColor(o),this.setColorMode(l),this.isIE10=10===function(){var t="";"undefined"!=typeof navigator&&(t=navigator.userAgent.toLowerCase());var e=t.indexOf("msie ");return e>0&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}(),this.directiveInstance=t,this.directiveElementRef=e,this.cpDisableInput=p,this.cpCmykEnabled=a,this.cpAlphaChannel=u,this.cpOutputFormat=c,this.cpDialogDisplay=i,this.cpIgnoredElements=h,this.cpSaveClickOutside=g,this.cpCloseClickOutside=d,this.useRootViewContainer=f,this.width=this.cpWidth=parseInt(n,10),this.height=this.cpHeight=parseInt(r,10),this.cpPosition=m,this.cpPositionOffset=parseInt(_,10),this.cpOKButton=C,this.cpOKButtonText=w,this.cpOKButtonClass=A,this.cpCancelButton=O,this.cpCancelButtonText=I,this.cpCancelButtonClass=B,this.fallbackColor=s||"#fff",this.setPresetConfig(v,b),this.cpPresetColorsClass=E,this.cpMaxPresetColorsLength=k,this.cpPresetEmptyMessage=T,this.cpPresetEmptyMessageClass=S,this.cpAddColorButton=R,this.cpAddColorButtonText=x,this.cpAddColorButtonClass=N,this.cpRemoveColorButtonClass=D,y||(this.dialogArrowOffset=0),"inline"===i&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===c&&"always"!==u&&"forced"!==u&&(this.cpAlphaChannel="disabled")},t.prototype.setColorMode=function(t){switch(t.toString().toUpperCase()){case"1":case"C":case"COLOR":this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3;break;default:this.cpColorMode=1}},t.prototype.setInitialColor=function(t){this.initialColor=t},t.prototype.setPresetConfig=function(t,e){this.cpPresetLabel=t,this.cpPresetColors=e},t.prototype.setColorFromString=function(t,e,o){var n;void 0===e&&(e=!0),void 0===o&&(o=!0),("always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel)&&((n=this.service.stringToHsva(t,!0))||this.hsva)||(n=this.service.stringToHsva(t,!1)),n||this.hsva||(n=this.service.stringToHsva(this.fallbackColor,!1)),n&&(this.hsva=n,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(e,o))},t.prototype.onResize=function(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()},t.prototype.onDragEnd=function(t){this.directiveInstance.sliderDragEnd({slider:t,color:this.outputColor})},t.prototype.onDragStart=function(t){this.directiveInstance.sliderDragStart({slider:t,color:this.outputColor})},t.prototype.onMouseDown=function(t){!this.show||this.isIE10||"popup"!==this.cpDialogDisplay||t.target===this.directiveElementRef.nativeElement||this.isDescendant(this.elRef.nativeElement,t.target)||this.isDescendant(this.directiveElementRef.nativeElement,t.target)||0!==this.cpIgnoredElements.filter((function(e){return e===t.target})).length||(this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor)),this.cpCloseClickOutside&&this.closeColorPicker())},t.prototype.onAcceptColor=function(t){t.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()},t.prototype.onCancelColor=function(t){t.stopPropagation(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor,!0),this.closeColorPicker()),this.directiveInstance.colorCanceled()},t.prototype.onFormatToggle=function(t){var e=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),o=((this.dialogInputFields.indexOf(this.format)+t)%e+e)%e;this.format=this.dialogInputFields[o]},t.prototype.onColorChange=function(t){this.hsva.s=t.s/t.rgX,this.hsva.v=t.v/t.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})},t.prototype.onHueChange=function(t){this.hsva.h=t.v/t.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})},t.prototype.onValueChange=function(t){this.hsva.v=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})},t.prototype.onAlphaChange=function(t){this.hsva.a=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})},t.prototype.onHexInput=function(t){if(null===t)this.updateColorPicker();else{t&&"#"!==t[0]&&(t="#"+t);var e=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(e=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);var o=e.test(t);o&&(t.length<5&&(t="#"+t.substring(1).split("").map((function(t){return t+t})).join("")),"forced"===this.cpAlphaChannel&&(t+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(t,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:o,value:t,color:this.outputColor})}},t.prototype.onRedInput=function(t){var e=this.service.hsvaToRgba(this.hsva),o=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;o&&(e.r=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:o,value:e.r,color:this.outputColor})},t.prototype.onBlueInput=function(t){var e=this.service.hsvaToRgba(this.hsva),o=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;o&&(e.b=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:o,value:e.b,color:this.outputColor})},t.prototype.onGreenInput=function(t){var e=this.service.hsvaToRgba(this.hsva),o=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;o&&(e.g=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:o,value:e.g,color:this.outputColor})},t.prototype.onHueInput=function(t){var e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.h=t.v/t.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:e,value:this.hsva.h,color:this.outputColor})},t.prototype.onValueInput=function(t){var e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.v=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:e,value:this.hsva.v,color:this.outputColor})},t.prototype.onAlphaInput=function(t){var e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.a=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:e,value:this.hsva.a,color:this.outputColor})},t.prototype.onLightnessInput=function(t){var e=this.service.hsva2hsla(this.hsva),o=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;o&&(e.l=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:o,value:e.l,color:this.outputColor})},t.prototype.onSaturationInput=function(t){var e=this.service.hsva2hsla(this.hsva),o=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;o&&(e.s=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:o,value:e.s,color:this.outputColor})},t.prototype.onCyanInput=function(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.c=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})},t.prototype.onMagentaInput=function(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.m=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})},t.prototype.onYellowInput=function(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.y=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})},t.prototype.onBlackInput=function(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.k=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})},t.prototype.onAddPresetColor=function(t,e){t.stopPropagation(),this.cpPresetColors.filter((function(t){return t===e})).length||(this.cpPresetColors=this.cpPresetColors.concat(e),this.directiveInstance.presetColorsChanged(this.cpPresetColors))},t.prototype.onRemovePresetColor=function(t,e){t.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter((function(t){return t!==e})),this.directiveInstance.presetColorsChanged(this.cpPresetColors)},t.prototype.openColorPicker=function(){var t=this;this.show||(this.show=!0,this.hidden=!0,setTimeout((function(){t.hidden=!1,t.setDialogPosition(),t.cdRef.detectChanges()}),0),this.directiveInstance.stateChanged(!0),this.isIE10||(document.addEventListener("mousedown",this.listenerMouseDown),document.addEventListener("touchstart",this.listenerMouseDown)),window.addEventListener("resize",this.listenerResize))},t.prototype.closeColorPicker=function(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(document.removeEventListener("mousedown",this.listenerMouseDown),document.removeEventListener("touchstart",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())},t.prototype.updateColorPicker=function(t,e,o){if(void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===o&&(o=!1),this.sliderDimMax){2===this.cpColorMode&&(this.hsva.s=0);var n,r,i=void 0,s=this.outputColor;if(r=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(o?(i=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(i)):(i=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(i))),i=this.service.denormalizeRGBA(i),this.sliderH=this.hsva.h):i=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),n=this.service.denormalizeRGBA(this.service.hsvaToRgba(new _m(this.sliderH||this.hsva.h,1,1,1))),e&&(this.hslaText=new ym(Math.round(360*r.h),Math.round(100*r.s),Math.round(100*r.l),Math.round(100*r.a)/100),this.rgbaText=new mm(i.r,i.g,i.b,Math.round(100*i.a)/100),this.cpCmykEnabled&&(this.cmykText=new vm(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(i,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==fm.RGBA&&this.format!==fm.CMYK&&this.hsva.a<1&&(this.format=this.hsva.a<1?fm.RGBA:fm.HEX),this.hueSliderColor="rgb("+n.r+","+n.g+","+n.b+")",this.alphaSliderColor="rgb("+i.r+","+i.g+","+i.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==fm.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){var l=Math.round(100*this.cmyk.a)/100;this.cmykColor="cmyka("+this.cmyk.c+","+this.cmyk.m+","+this.cmyk.y+","+this.cmyk.k+","+l+")"}else this.cmykColor="cmyk("+this.cmyk.c+","+this.cmyk.m+","+this.cmyk.y+","+this.cmyk.k+")";this.slider=new km((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),t&&s!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}},t.prototype.setDialogPosition=function(){if("inline"===this.cpDialogDisplay)this.position="relative";else{for(var t="static",e="",o=void 0,n=null,r=null,i=this.directiveElementRef.nativeElement.parentNode,s=this.dialogElement.nativeElement.offsetHeight;null!==i&&"HTML"!==i.tagName;){if("static"!==(t=(o=window.getComputedStyle(i)).getPropertyValue("position"))&&null===n&&(n=i),(e=o.getPropertyValue("transform"))&&"none"!==e&&null===r&&(r=i),"fixed"===t){n=r;break}i=i.parentNode}var l=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==t);if(this.useRootViewContainer||"fixed"===t&&(!n||n instanceof HTMLUnknownElement))this.top=l.top,this.left=l.left;else{null===n&&(n=i);var a=this.createDialogBox(n,"fixed"!==t);this.top=l.top-a.top,this.left=l.left-a.left}"fixed"===t&&(this.position="fixed");var u=this.cpPosition;if("auto"===this.cpPosition){var c="right",p="bottom",h=Math.max(document.documentElement.clientWidth,window.innerWidth||0),g=Math.max(document.documentElement.clientHeight,window.innerHeight||0);this.left+this.cpWidth>h&&(c="left"),this.top+s>g&&(p="top"),u=c+"-"+p}this.cpUsePosition=u,"top"===u?(this.arrowTop=s-1,this.top-=s+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*l.width-this.dialogArrowOffset):"bottom"===u?(this.top+=l.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*l.width-this.dialogArrowOffset):"top-left"===u||"left-top"===u?(this.top-=s-l.height+l.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===u||"right-top"===u?(this.top-=s-l.height+l.height*this.cpPositionOffset/100,this.left+=l.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===u||"bottom-left"===u||"left-bottom"===u?(this.top+=l.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=l.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=l.width+this.dialogArrowSize-2)}},t.prototype.isDescendant=function(t,e){for(var o=e.parentNode;null!==o;){if(o===t)return!0;o=o.parentNode}return!1},t.prototype.createDialogBox=function(t,e){return{top:t.getBoundingClientRect().top+(e?window.pageYOffset:0),left:t.getBoundingClientRect().left+(e?window.pageXOffset:0),width:t.offsetWidth,height:t.offsetHeight}},t}(),Am=function(){function t(t,e,o,n,r,i){this.injector=t,this.cfr=e,this.appRef=o,this.vcRef=n,this.elRef=r,this._service=i,this.dialogCreated=!1,this.ignoreChanges=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new ui(!0),this.cpToggleChange=new ui(!0),this.cpSliderChange=new ui(!0),this.cpSliderDragEnd=new ui(!0),this.cpSliderDragStart=new ui(!0),this.colorPickerOpen=new ui(!0),this.colorPickerClose=new ui(!0),this.colorPickerCancel=new ui(!0),this.colorPickerSelect=new ui(!0),this.colorPickerChange=new ui(!1),this.cpCmykColorChange=new ui(!0),this.cpPresetColorsChange=new ui(!0)}return t.prototype.handleClick=function(){this.inputFocus()},t.prototype.handleFocus=function(){this.inputFocus()},t.prototype.handleInput=function(t){this.inputChange(t)},t.prototype.ngOnDestroy=function(){void 0!==this.cmpRef&&this.cmpRef.destroy()},t.prototype.ngOnChanges=function(t){t.cpToggle&&!this.cpDisabled&&(t.cpToggle.currentValue?this.openDialog():t.cpToggle.currentValue||this.closeDialog()),t.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(t.colorPicker.currentValue),this.dialog.setColorFromString(t.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(t.cpPresetLabel||t.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)},t.prototype.openDialog=function(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{var t=this.vcRef;if(this.dialogCreated=!0,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){var e=this.injector.get(this.appRef.componentTypes[0]);(t=e.vcRef||e.viewContainerRef||this.vcRef)===this.vcRef&&console.warn("You are using cpUseRootViewContainer, but the root component is not exposing viewContainerRef!Please expose it by adding 'public vcRef: ViewContainerRef' to the constructor.")}var o=this.cfr.resolveComponentFactory(Cm),n=fo.fromResolvedProviders([],t.parentInjector);this.cmpRef=t.createComponent(o,0,n,[]),this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass),this.dialog=this.cmpRef.instance,this.vcRef!==t&&this.cmpRef.changeDetectorRef.detectChanges()}},t.prototype.closeDialog=function(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()},t.prototype.cmykChanged=function(t){this.cpCmykColorChange.emit(t)},t.prototype.stateChanged=function(t){this.cpToggleChange.emit(t),t?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)},t.prototype.colorChanged=function(t,e){void 0===e&&(e=!0),this.ignoreChanges=e,this.colorPickerChange.emit(t)},t.prototype.colorSelected=function(t){this.colorPickerSelect.emit(t)},t.prototype.colorCanceled=function(){this.colorPickerCancel.emit()},t.prototype.inputFocus=function(){var t=this.elRef.nativeElement,e=this.cpIgnoredElements.filter((function(e){return e===t}));this.cpDisabled||e.length||("undefined"!=typeof document&&t===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())},t.prototype.inputChange=function(t){this.dialog?this.dialog.setColorFromString(t.target.value,!0):(this.colorPicker=t.target.value,this.colorPickerChange.emit(this.colorPicker))},t.prototype.inputChanged=function(t){this.cpInputChange.emit(t)},t.prototype.sliderChanged=function(t){this.cpSliderChange.emit(t)},t.prototype.sliderDragEnd=function(t){this.cpSliderDragEnd.emit(t)},t.prototype.sliderDragStart=function(t){this.cpSliderDragStart.emit(t)},t.prototype.presetColorsChanged=function(t){this.cpPresetColorsChange.emit(t)},t}(),wm=function(){return function(){}}(),Om=Bn({encapsulation:2,styles:[".color-picker {\n  position: absolute;\n  z-index: 100000;\n\n  width: 230px;\n  height: auto;\n  border: #777 solid 1px;\n\n  cursor: default;\n\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n\n  user-select: none;\n  background-color: #fff;\n}\n\n.color-picker * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n\n  box-sizing: border-box;\n  margin: 0;\n\n  font-size: 11px;\n}\n\n.color-picker input {\n  width: 0;\n  height: 26px;\n  min-width: 0;\n\n  font-size: 13px;\n  text-align: center;\n  color: #000;\n}\n\n.color-picker input:invalid,\n.color-picker input:-moz-ui-invalid,\n.color-picker input:-moz-submit-invalid {\n  box-shadow: none;\n}\n\n.color-picker input::-webkit-inner-spin-button,\n.color-picker input::-webkit-outer-spin-button {\n  margin: 0;\n\n  -webkit-appearance: none;\n}\n\n.color-picker .arrow {\n  position: absolute;\n  z-index: 999999;\n\n  width: 0;\n  height: 0;\n  border-style: solid;\n}\n\n.color-picker .arrow.arrow-top {\n  left: 8px;\n\n  border-width: 10px 5px;\n  border-color: #777 rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0);\n}\n\n.color-picker .arrow.arrow-bottom {\n  top: -20px;\n  left: 8px;\n\n  border-width: 10px 5px;\n  border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #777 rgba(0, 0, 0, 0);\n}\n\n.color-picker .arrow.arrow-top-left,\n.color-picker .arrow.arrow-left-top {\n  right: -21px;\n  bottom: 8px;\n\n  border-width: 5px 10px;\n  border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #777;\n}\n\n.color-picker .arrow.arrow-top-right,\n.color-picker .arrow.arrow-right-top {\n  bottom: 8px;\n  left: -20px;\n\n  border-width: 5px 10px;\n  border-color: rgba(0, 0, 0, 0) #777 rgba(0, 0, 0, 0) rgba(0, 0, 0, 0);\n}\n\n.color-picker .arrow.arrow-left,\n.color-picker .arrow.arrow-left-bottom,\n.color-picker .arrow.arrow-bottom-left {\n  top: 8px;\n  right: -21px;\n\n  border-width: 5px 10px;\n  border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #777;\n}\n\n.color-picker .arrow.arrow-right,\n.color-picker .arrow.arrow-right-bottom,\n.color-picker .arrow.arrow-bottom-right {\n  top: 8px;\n  left: -20px;\n\n  border-width: 5px 10px;\n  border-color: rgba(0, 0, 0, 0) #777 rgba(0, 0, 0, 0) rgba(0, 0, 0, 0);\n}\n\n.color-picker .cursor {\n  position: relative;\n\n  width: 16px;\n  height: 16px;\n  border: #222 solid 2px;\n  border-radius: 50%;\n\n  cursor: default;\n}\n\n.color-picker .box {\n  display: flex;\n  padding: 4px 8px;\n}\n\n.color-picker .left {\n  position: relative;\n\n  padding: 16px 8px;\n}\n\n.color-picker .right {\n  -webkit-flex: 1 1 auto;\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n\n  padding: 12px 8px;\n}\n\n.color-picker .button-area {\n  padding: 0 16px 16px;\n\n  text-align: right;\n}\n\n.color-picker .preset-area {\n  padding: 4px 15px;\n}\n\n.color-picker .preset-area .preset-label {\n  overflow: hidden;\n  width: 100%;\n  padding: 4px;\n\n  font-size: 11px;\n  white-space: nowrap;\n  text-align: left;\n  text-overflow: ellipsis;\n  color: #555;\n}\n\n.color-picker .preset-area .preset-color {\n  position: relative;\n\n  display: inline-block;\n  width: 18px;\n  height: 18px;\n  margin: 4px 6px 8px;\n  border: #a9a9a9 solid 1px;\n  border-radius: 25%;\n\n  cursor: pointer;\n}\n\n.color-picker .preset-area .preset-empty-message {\n  min-height: 18px;\n  margin-top: 4px;\n  margin-bottom: 8px;\n\n  font-style: italic;\n  text-align: center;\n}\n\n.color-picker .hex-text {\n  width: 100%;\n  padding: 4px 8px;\n\n  font-size: 11px;\n}\n\n.color-picker .hex-text .box {\n  padding: 0 24px 8px 8px;\n}\n\n.color-picker .hex-text .box div {\n  float: left;\n\n  -webkit-flex: 1 1 auto;\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n\n  text-align: center;\n  color: #555;\n  clear: left;\n}\n\n.color-picker .hex-text .box input {\n  -webkit-flex: 1 1 auto;\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n  padding: 1px;\n  border: #a9a9a9 solid 1px;\n}\n\n.color-picker .hex-alpha .box div:first-child,\n.color-picker .hex-alpha .box input:first-child {\n  flex-grow: 3;\n  margin-right: 8px;\n}\n\n.color-picker .cmyk-text,\n.color-picker .hsla-text,\n.color-picker .rgba-text,\n.color-picker .value-text {\n  width: 100%;\n  padding: 4px 8px;\n\n  font-size: 11px;\n}\n\n.color-picker .cmyk-text .box,\n.color-picker .hsla-text .box,\n.color-picker .rgba-text .box {\n  padding: 0 24px 8px 8px;\n}\n\n.color-picker .value-text .box {\n  padding: 0 8px 8px;\n}\n\n.color-picker .cmyk-text .box div,\n.color-picker .hsla-text .box div,\n.color-picker .rgba-text .box div,\n.color-picker .value-text .box div {\n  -webkit-flex: 1 1 auto;\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n  margin-right: 8px;\n\n  text-align: center;\n  color: #555;\n}\n\n.color-picker .cmyk-text .box div:last-child,\n.color-picker .hsla-text .box div:last-child,\n.color-picker .rgba-text .box div:last-child,\n.color-picker .value-text .box div:last-child {\n  margin-right: 0;\n}\n\n.color-picker .cmyk-text .box input,\n.color-picker .hsla-text .box input,\n.color-picker .rgba-text .box input,\n.color-picker .value-text .box input {\n  float: left;\n\n  -webkit-flex: 1;\n  -ms-flex: 1;\n\n  flex: 1;\n  padding: 1px;\n  margin: 0 8px 0 0;\n  border: #a9a9a9 solid 1px;\n}\n\n.color-picker .cmyk-text .box input:last-child,\n.color-picker .hsla-text .box input:last-child,\n.color-picker .rgba-text .box input:last-child,\n.color-picker .value-text .box input:last-child {\n  margin-right: 0;\n}\n\n.color-picker .hue-alpha {\n  align-items: center;\n  margin-bottom: 3px;\n}\n\n.color-picker .hue {\n  direction: ltr;\n\n  width: 100%;\n  height: 16px;\n  margin-bottom: 16px;\n  border: none;\n\n  cursor: pointer;\n  background-size: 100% 100%;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC');\n}\n\n.color-picker .value {\n  direction: rtl;\n\n  width: 100%;\n  height: 16px;\n  margin-bottom: 16px;\n  border: none;\n\n  cursor: pointer;\n  background-size: 100% 100%;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=');\n}\n\n.color-picker .alpha {\n  direction: ltr;\n\n  width: 100%;\n  height: 16px;\n  border: none;\n\n  cursor: pointer;\n  background-size: 100% 100%;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==');\n}\n\n.color-picker .type-policy {\n  position: absolute;\n  top: 218px;\n  right: 12px;\n\n  width: 16px;\n  height: 24px;\n\n  background-size: 8px 16px;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==');\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.color-picker .type-policy .type-policy-arrow {\n  display: block;\n\n  width: 100%;\n  height: 50%;\n}\n\n.color-picker .selected-color {\n  position: absolute;\n  top: 16px;\n  left: 8px;\n\n  width: 40px;\n  height: 40px;\n  border: 1px solid #a9a9a9;\n  border-radius: 50%;\n}\n\n.color-picker .selected-color-background {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC');\n}\n\n.color-picker .saturation-lightness {\n  direction: ltr;\n\n  width: 100%;\n  height: 130px;\n  border: none;\n\n  cursor: pointer;\n  touch-action: manipulation;\n  background-size: 100% 100%;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==');\n}\n\n.color-picker .cp-add-color-button-class {\n  position: absolute;\n\n  display: inline;\n  padding: 0;\n  margin: 3px -3px;\n  border: 0;\n\n  cursor: pointer;\n  background: transparent;\n}\n\n.color-picker .cp-add-color-button-class:hover {\n  text-decoration: underline;\n}\n\n.color-picker .cp-add-color-button-class:disabled {\n  cursor: not-allowed;\n  color: #999;\n}\n\n.color-picker .cp-add-color-button-class:disabled:hover {\n  text-decoration: none;\n}\n\n.color-picker .cp-remove-color-button-class {\n  position: absolute;\n  top: -5px;\n  right: -5px;\n\n  display: block;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n\n  cursor: pointer;\n  text-align: center;\n  background: #fff;\n\n  box-shadow: 1px 1px 5px #333;\n}\n\n.color-picker .cp-remove-color-button-class::before {\n  content: 'x';\n\n  position: relative;\n  bottom: 3.5px;\n\n  display: inline-block;\n\n  font-size: 10px;\n}\n"],data:{}});function Bm(t){return Vs(0,[(t()(),ks(0,0,null,null,0,"div",[],[[8,"className",0],[4,"top","px"]],null,null,null,null))],null,(function(t,e){var o=e.component;t(e,0,0,or(1,"arrow arrow-",o.cpUsePosition,""),o.arrowTop)}))}function Im(t){return Vs(0,[(t()(),ks(0,0,null,null,2,"div",[["class","saturation-lightness"]],[[4,"background-color",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],(function(t,e,o){var n=!0,r=t.component;return"mousedown"===e&&(n=!1!==Ar(t,1).mouseDown(o)&&n),"touchstart"===e&&(n=!1!==Ar(t,1).touchStart(o)&&n),"newValue"===e&&(n=!1!==r.onColorChange(o)&&n),"dragStart"===e&&(n=!1!==r.onDragStart("saturation-lightness")&&n),"dragEnd"===e&&(n=!1!==r.onDragEnd("saturation-lightness")&&n),n}),null,null)),Ur(1,16384,null,0,Em,[Po],{rgX:[0,"rgX"],rgY:[1,"rgY"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),ks(2,0,null,null,0,"div",[["class","cursor"]],[[4,"top","px"],[4,"left","px"]],null,null,null,null))],(function(t,e){t(e,1,0,1,1)}),(function(t,e){var o=e.component;t(e,0,0,o.hueSliderColor),t(e,2,0,null==o.slider?null:o.slider.v,null==o.slider?null:o.slider.s)}))}function Rm(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"button",[["type","button"]],[[8,"className",0],[8,"disabled",0]],[[null,"click"]],(function(t,e,o){var n=!0,r=t.component;return"click"===e&&(n=!1!==r.onAddPresetColor(o,r.selectedColor)&&n),n}),null,null)),(t()(),Ps(1,null,[" "," "]))],null,(function(t,e){var o=e.component;t(e,0,0,or(1,"",o.cpAddColorButtonClass,""),o.cpPresetColors&&o.cpPresetColors.length>=o.cpMaxPresetColorsLength),t(e,1,0,o.cpAddColorButtonText)}))}function Nm(t){return Vs(0,[(t()(),ks(0,0,null,null,0,"div",[["style","height: 16px;"]],null,null,null,null,null))],null,null)}function xm(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,1).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onAlphaInput(o)&&n),n}),null,null)),Ur(1,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"})],(function(t,e){t(e,1,0,1)}),(function(t,e){var o=e.component;t(e,0,0,null==o.cmykText?null:o.cmykText.a)}))}function Dm(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["A"]))],null,null)}function Lm(t){return Vs(0,[(t()(),ks(0,0,null,null,22,"div",[["class","cmyk-text"]],[[4,"display",null]],null,null,null,null)),(t()(),ks(1,0,null,null,10,"div",[["class","box"]],null,null,null,null,null)),(t()(),ks(2,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,3).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onCyanInput(o)&&n),n}),null,null)),Ur(3,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),ks(4,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,5).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onMagentaInput(o)&&n),n}),null,null)),Ur(5,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),ks(6,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,7).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onYellowInput(o)&&n),n}),null,null)),Ur(7,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),ks(8,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,9).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onBlackInput(o)&&n),n}),null,null)),Ur(9,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Es(16777216,null,null,1,null,xm)),Ur(11,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),ks(12,0,null,null,10,"div",[["class","box"]],null,null,null,null,null)),(t()(),ks(13,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["C"])),(t()(),ks(15,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["M"])),(t()(),ks(17,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["Y"])),(t()(),ks(19,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["K"])),(t()(),Es(16777216,null,null,1,null,Dm)),Ur(22,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null)],(function(t,e){var o=e.component;t(e,3,0,100),t(e,5,0,100),t(e,7,0,100),t(e,9,0,100),t(e,11,0,"disabled"!==o.cpAlphaChannel),t(e,22,0,"disabled"!==o.cpAlphaChannel)}),(function(t,e){var o=e.component;t(e,0,0,3!==o.format?"none":"block"),t(e,2,0,null==o.cmykText?null:o.cmykText.c),t(e,4,0,null==o.cmykText?null:o.cmykText.m),t(e,6,0,null==o.cmykText?null:o.cmykText.y),t(e,8,0,null==o.cmykText?null:o.cmykText.k)}))}function Mm(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,1).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onAlphaInput(o)&&n),n}),null,null)),Ur(1,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"})],(function(t,e){t(e,1,0,1)}),(function(t,e){var o=e.component;t(e,0,0,null==o.hslaText?null:o.hslaText.a)}))}function Pm(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["A"]))],null,null)}function Fm(t){return Vs(0,[(t()(),ks(0,0,null,null,18,"div",[["class","hsla-text"]],[[4,"display",null]],null,null,null,null)),(t()(),ks(1,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),ks(2,0,null,null,1,"input",[["max","360"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,3).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onHueInput(o)&&n),n}),null,null)),Ur(3,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),ks(4,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,5).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onSaturationInput(o)&&n),n}),null,null)),Ur(5,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),ks(6,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,7).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onLightnessInput(o)&&n),n}),null,null)),Ur(7,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Es(16777216,null,null,1,null,Mm)),Ur(9,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),ks(10,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),ks(11,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["H"])),(t()(),ks(13,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["S"])),(t()(),ks(15,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["L"])),(t()(),Es(16777216,null,null,1,null,Pm)),Ur(18,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null)],(function(t,e){var o=e.component;t(e,3,0,360),t(e,5,0,100),t(e,7,0,100),t(e,9,0,"disabled"!==o.cpAlphaChannel),t(e,18,0,"disabled"!==o.cpAlphaChannel)}),(function(t,e){var o=e.component;t(e,0,0,2!==o.format?"none":"block"),t(e,2,0,null==o.hslaText?null:o.hslaText.h),t(e,4,0,null==o.hslaText?null:o.hslaText.s),t(e,6,0,null==o.hslaText?null:o.hslaText.l)}))}function Um(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,1).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onAlphaInput(o)&&n),n}),null,null)),Ur(1,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"})],(function(t,e){t(e,1,0,1)}),(function(t,e){var o=e.component;t(e,0,0,null==o.rgbaText?null:o.rgbaText.a)}))}function Vm(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["A"]))],null,null)}function Hm(t){return Vs(0,[(t()(),ks(0,0,null,null,18,"div",[["class","rgba-text"]],[[4,"display",null]],null,null,null,null)),(t()(),ks(1,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),ks(2,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,3).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onRedInput(o)&&n),n}),null,null)),Ur(3,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),ks(4,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,5).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onGreenInput(o)&&n),n}),null,null)),Ur(5,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),ks(6,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,7).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onBlueInput(o)&&n),n}),null,null)),Ur(7,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Es(16777216,null,null,1,null,Um)),Ur(9,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),ks(10,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),ks(11,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["R"])),(t()(),ks(13,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["G"])),(t()(),ks(15,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["B"])),(t()(),Es(16777216,null,null,1,null,Vm)),Ur(18,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null)],(function(t,e){var o=e.component;t(e,3,0,255),t(e,5,0,255),t(e,7,0,255),t(e,9,0,"disabled"!==o.cpAlphaChannel),t(e,18,0,"disabled"!==o.cpAlphaChannel)}),(function(t,e){var o=e.component;t(e,0,0,1!==o.format?"none":"block"),t(e,2,0,null==o.rgbaText?null:o.rgbaText.r),t(e,4,0,null==o.rgbaText?null:o.rgbaText.g),t(e,6,0,null==o.rgbaText?null:o.rgbaText.b)}))}function Gm(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,1).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onAlphaInput(o)&&n),n}),null,null)),Ur(1,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"})],(function(t,e){t(e,1,0,1)}),(function(t,e){t(e,0,0,e.component.hexAlpha)}))}function Wm(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["A"]))],null,null)}function jm(t){return Vs(0,[(t()(),ks(0,0,null,null,10,"div",[["class","hex-text"]],[[2,"hex-alpha",null],[4,"display",null]],null,null,null,null)),(t()(),ks(1,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(t()(),ks(2,0,null,null,1,"input",[],[[8,"value",0]],[[null,"blur"],[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,3).inputChange(o)&&n),"blur"===e&&(n=!1!==r.onHexInput(null)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onHexInput(o)&&n),n}),null,null)),Ur(3,16384,null,0,bm,[],null,{newValue:"newValue"}),(t()(),Es(16777216,null,null,1,null,Gm)),Ur(5,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),ks(6,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(t()(),ks(7,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["Hex"])),(t()(),Es(16777216,null,null,1,null,Wm)),Ur(10,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null)],(function(t,e){var o=e.component;t(e,5,0,"forced"===o.cpAlphaChannel),t(e,10,0,"forced"===o.cpAlphaChannel)}),(function(t,e){var o=e.component;t(e,0,0,"forced"===o.cpAlphaChannel,0!==o.format?"none":"block"),t(e,2,0,o.hexText)}))}function Km(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,1).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onAlphaInput(o)&&n),n}),null,null)),Ur(1,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"})],(function(t,e){t(e,1,0,1)}),(function(t,e){var o=e.component;t(e,0,0,null==o.hslaText?null:o.hslaText.a)}))}function zm(t){return Vs(0,[(t()(),ks(0,0,null,null,10,"div",[["class","value-text"]],null,null,null,null,null)),(t()(),ks(1,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(t()(),ks(2,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,3).inputChange(o)&&n),"keyup.enter"===e&&(n=!1!==r.onAcceptColor(o)&&n),"newValue"===e&&(n=!1!==r.onValueInput(o)&&n),n}),null,null)),Ur(3,16384,null,0,bm,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),Es(16777216,null,null,1,null,Km)),Ur(5,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),ks(6,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(t()(),ks(7,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["V"])),(t()(),ks(9,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Ps(-1,null,["A"]))],(function(t,e){var o=e.component;t(e,3,0,100),t(e,5,0,"disabled"!==o.cpAlphaChannel)}),(function(t,e){var o=e.component;t(e,2,0,null==o.hslaText?null:o.hslaText.l)}))}function Xm(t){return Vs(0,[(t()(),ks(0,0,null,null,2,"div",[["class","type-policy"]],null,null,null,null,null)),(t()(),ks(1,0,null,null,0,"span",[["class","type-policy-arrow"]],null,[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.onFormatToggle(-1)&&n),n}),null,null)),(t()(),ks(2,0,null,null,0,"span",[["class","type-policy-arrow"]],null,[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.onFormatToggle(1)&&n),n}),null,null))],null,null)}function Ym(t){return Vs(0,[(t()(),ks(0,0,null,null,0,"span",[],[[8,"className",0]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.onRemovePresetColor(o,t.parent.context.$implicit)&&n),n}),null,null))],null,(function(t,e){t(e,0,0,or(1,"",e.component.cpRemoveColorButtonClass,""))}))}function Jm(t){return Vs(0,[(t()(),ks(0,0,null,null,2,"div",[["class","preset-color"]],[[4,"backgroundColor",null]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.setColorFromString(t.context.$implicit)&&n),n}),null,null)),(t()(),Es(16777216,null,null,1,null,Ym)),Ur(2,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.component.cpAddColorButton)}),(function(t,e){t(e,0,0,e.context.$implicit)}))}function qm(t){return Vs(0,[(t()(),ks(0,0,null,null,2,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Jm)),Ur(2,278528,null,0,$c,[cn,an,on],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.cpPresetColors)}),(function(t,e){t(e,0,0,or(1,"",e.component.cpPresetColorsClass,""))}))}function Zm(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),Ps(1,null,["",""]))],null,(function(t,e){var o=e.component;t(e,0,0,or(1,"",o.cpPresetEmptyMessageClass,"")),t(e,1,0,o.cpPresetEmptyMessage)}))}function Qm(t){return Vs(0,[(t()(),ks(0,0,null,null,7,"div",[["class","preset-area"]],null,null,null,null,null)),(t()(),ks(1,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),ks(2,0,null,null,1,"div",[["class","preset-label"]],null,null,null,null,null)),(t()(),Ps(3,null,["",""])),(t()(),Es(16777216,null,null,1,null,qm)),Ur(5,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,Zm)),Ur(7,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null)],(function(t,e){var o=e.component;t(e,5,0,null==o.cpPresetColors?null:o.cpPresetColors.length),t(e,7,0,!(null!=o.cpPresetColors&&o.cpPresetColors.length)&&o.cpAddColorButton)}),(function(t,e){t(e,3,0,e.component.cpPresetLabel)}))}function $m(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.onCancelColor(o)&&n),n}),null,null)),(t()(),Ps(1,null,["",""]))],null,(function(t,e){var o=e.component;t(e,0,0,or(1,"",o.cpCancelButtonClass,"")),t(e,1,0,o.cpCancelButtonText)}))}function t_(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.onAcceptColor(o)&&n),n}),null,null)),(t()(),Ps(1,null,["",""]))],null,(function(t,e){var o=e.component;t(e,0,0,or(1,"",o.cpOKButtonClass,"")),t(e,1,0,o.cpOKButtonText)}))}function e_(t){return Vs(0,[(t()(),ks(0,0,null,null,4,"div",[["class","button-area"]],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,$m)),Ur(2,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,t_)),Ur(4,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null)],(function(t,e){var o=e.component;t(e,2,0,o.cpCancelButton),t(e,4,0,o.cpOKButton)}),null)}function o_(t){return Vs(0,[ws(402653184,1,{dialogElement:0}),ws(402653184,2,{hueSlider:0}),ws(402653184,3,{alphaSlider:0}),(t()(),ks(3,0,[[1,0],["dialogPopup",1]],null,38,"div",[["class","color-picker"]],[[2,"open",null],[4,"display",null],[4,"visibility",null],[4,"top","px"],[4,"left","px"],[4,"position",null],[4,"height","px"],[4,"width","px"]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==o.stopPropagation()&&n),n}),null,null)),(t()(),Es(16777216,null,null,1,null,Bm)),Ur(5,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,Im)),Ur(7,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),ks(8,0,null,null,17,"div",[["class","hue-alpha box"]],null,null,null,null,null)),(t()(),ks(9,0,null,null,4,"div",[["class","left"]],null,null,null,null,null)),(t()(),ks(10,0,null,null,0,"div",[["class","selected-color-background"]],null,null,null,null,null)),(t()(),ks(11,0,null,null,0,"div",[["class","selected-color"]],[[4,"background-color",null]],null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Rm)),Ur(13,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),ks(14,0,null,null,11,"div",[["class","right"]],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Nm)),Ur(16,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),ks(17,0,[[2,0],["hueSlider",1]],null,2,"div",[["class","hue"]],[[4,"display",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],(function(t,e,o){var n=!0,r=t.component;return"mousedown"===e&&(n=!1!==Ar(t,18).mouseDown(o)&&n),"touchstart"===e&&(n=!1!==Ar(t,18).touchStart(o)&&n),"newValue"===e&&(n=!1!==r.onHueChange(o)&&n),"dragStart"===e&&(n=!1!==r.onDragStart("hue")&&n),"dragEnd"===e&&(n=!1!==r.onDragEnd("hue")&&n),n}),null,null)),Ur(18,16384,null,0,Em,[Po],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),ks(19,0,null,null,0,"div",[["class","cursor"]],[[4,"left","px"]],null,null,null,null)),(t()(),ks(20,0,[["valueSlider",1]],null,2,"div",[["class","value"]],[[4,"display",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],(function(t,e,o){var n=!0,r=t.component;return"mousedown"===e&&(n=!1!==Ar(t,21).mouseDown(o)&&n),"touchstart"===e&&(n=!1!==Ar(t,21).touchStart(o)&&n),"newValue"===e&&(n=!1!==r.onValueChange(o)&&n),"dragStart"===e&&(n=!1!==r.onDragStart("value")&&n),"dragEnd"===e&&(n=!1!==r.onDragEnd("value")&&n),n}),null,null)),Ur(21,16384,null,0,Em,[Po],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),ks(22,0,null,null,0,"div",[["class","cursor"]],[[4,"right","px"]],null,null,null,null)),(t()(),ks(23,0,[[3,0],["alphaSlider",1]],null,2,"div",[["class","alpha"]],[[4,"display",null],[4,"background-color",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],(function(t,e,o){var n=!0,r=t.component;return"mousedown"===e&&(n=!1!==Ar(t,24).mouseDown(o)&&n),"touchstart"===e&&(n=!1!==Ar(t,24).touchStart(o)&&n),"newValue"===e&&(n=!1!==r.onAlphaChange(o)&&n),"dragStart"===e&&(n=!1!==r.onDragStart("alpha")&&n),"dragEnd"===e&&(n=!1!==r.onDragEnd("alpha")&&n),n}),null,null)),Ur(24,16384,null,0,Em,[Po],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),ks(25,0,null,null,0,"div",[["class","cursor"]],[[4,"left","px"]],null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Lm)),Ur(27,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,Fm)),Ur(29,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,Hm)),Ur(31,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,jm)),Ur(33,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,zm)),Ur(35,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,Xm)),Ur(37,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,Qm)),Ur(39,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,e_)),Ur(41,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null)],(function(t,e){var o=e.component;t(e,5,0,"popup"==o.cpDialogDisplay),t(e,7,0,1===(o.cpColorMode||1)),t(e,13,0,o.cpAddColorButton),t(e,16,0,"disabled"===o.cpAlphaChannel),t(e,18,0,1),t(e,21,0,1),t(e,24,0,1),t(e,27,0,!o.cpDisableInput&&1===(o.cpColorMode||1)),t(e,29,0,!o.cpDisableInput&&1===(o.cpColorMode||1)),t(e,31,0,!o.cpDisableInput&&1===(o.cpColorMode||1)),t(e,33,0,!o.cpDisableInput&&1===(o.cpColorMode||1)),t(e,35,0,!o.cpDisableInput&&2===(o.cpColorMode||1)),t(e,37,0,!o.cpDisableInput&&1===(o.cpColorMode||1)),t(e,39,0,(null==o.cpPresetColors?null:o.cpPresetColors.length)||o.cpAddColorButton),t(e,41,0,o.cpOKButton||o.cpCancelButton)}),(function(t,e){var o=e.component;t(e,3,0,o.show,o.show?"block":"none",o.hidden?"hidden":"visible",o.top,o.left,o.position,o.cpHeight,o.cpWidth),t(e,11,0,o.selectedColor),t(e,17,0,1===(o.cpColorMode||1)?"block":"none"),t(e,19,0,null==o.slider?null:o.slider.h),t(e,20,0,2===(o.cpColorMode||1)?"block":"none"),t(e,22,0,null==o.slider?null:o.slider.v),t(e,23,0,"disabled"===o.cpAlphaChannel?"none":"block",o.alphaSliderColor),t(e,25,0,null==o.slider?null:o.slider.a)}))}function n_(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"color-picker",[],null,[["document","keyup.esc"],["document","keyup.enter"]],(function(t,e,o){var n=!0;return"document:keyup.esc"===e&&(n=!1!==Ar(t,1).handleEsc(o)&&n),"document:keyup.enter"===e&&(n=!1!==Ar(t,1).handleEnter(o)&&n),n}),o_,Om)),Ur(1,4440064,null,0,Cm,[Po,Ie,Sm],null,null)],(function(t,e){t(e,1,0)}),null)}var r_=fr("color-picker",Cm,n_,{},{},[]),i_=Bn({encapsulation:2,styles:[],data:{}});function s_(t){return Vs(0,[(t()(),ks(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Ur(1,212992,null,0,jf,[Wf,cn,xo,[8,null],Ie],null,null)],(function(t,e){t(e,1,0)}),null)}function l_(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"ng-component",[],null,null,null,s_,i_)),Ur(1,49152,null,0,Lg,[],null,null)],null,null)}var a_=fr("ng-component",Lg,l_,{},{},[]),u_=function(){function t(t){this.blocklyService=t}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){t.blocklyService.resizeWorkspace()}),10)},t}(),c_=Bn({encapsulation:0,styles:[['#setting-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-family:Biryani,"Helvetica Neue",sans-serif;font-weight:600;overflow:scroll;height:100%;padding:0 5%}#setting-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:95%;margin:20px auto 0;min-width:300px}']],data:{}});function p_(t){return Vs(0,[(t()(),ks(0,0,null,null,2,"div",[["id","setting-container"]],null,null,null,null,null)),(t()(),ks(1,16777216,null,null,1,"router-outlet",[["name","settingContainer"]],null,null,null,null,null)),Ur(2,212992,null,0,jf,[Wf,cn,xo,[8,"settingContainer"],Ie],null,null)],(function(t,e){t(e,2,0)}),null)}function h_(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-settings",[],null,null,null,p_,c_)),Ur(1,4308992,null,0,u_,[hm],null,null)],(function(t,e){t(e,1,0)}),null)}var g_=fr("app-settings",u_,h_,{},{},[]),d_=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),f_=Bn({encapsulation:0,styles:[[""]],data:{}});function m_(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Ps(-1,null,["Help"])),(t()(),ks(2,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Ps(-1,null,["To get help me at glaserpower@gmail.com"]))],null,null)}function __(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-help",[],null,null,null,m_,f_)),Ur(1,114688,null,0,d_,[],null,null)],(function(t,e){t(e,1,0)}),null)}var y_,v_=fr("app-help",d_,__,{},{},[]),b_=new jo("8.2.3");function E_(t){return null!=t&&""+t!="false"}function k_(t){return Array.isArray(t)?t:[t]}function T_(t){return null==t?"":"string"==typeof t?t:t+"px"}function S_(t){return t instanceof Po?t.nativeElement:t}try{y_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(yB){y_=!1}var C_,A_,w_=function(){function t(t){this._platformId=t,this.isBrowser=this._platformId?this._platformId===mp:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!y_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return t.ngInjectableDef=dt({factory:function(){return new t(Pt(yi,8))},token:t,providedIn:"root"}),t}(),O_=function(){return function(){}}(),B_=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function I_(){if(C_)return C_;if("object"!=typeof document||!document)return C_=new Set(B_);var t=document.createElement("input");return C_=new Set(B_.filter((function(e){return t.setAttribute("type",e),t.type===e})))}function R_(t){return function(){if(null==A_&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return A_=!0}}))}finally{A_=A_||!1}return A_}()?t:!!t.capture}function N_(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return e.length?e.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var x_=new la(ra);function D_(t,e){return void 0===e&&(e=x_),function(o){return o.lift(new L_(t,e))}}var L_=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new M_(t,this.dueTime,this.scheduler))},t}(),M_=function(t){function e(e,o,n){var r=t.call(this,e)||this;return r.dueTime=o,r.scheduler=n,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return n.__extends(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(P_,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(m);function P_(t){t.debouncedNext()}function F_(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}var U_=0,V_=new Map,H_=null,G_=function(){function t(t){this._document=t}return t.prototype.describe=function(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),V_.set(e,{messageElement:e,referenceCount:0})):V_.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))},t.prototype.removeDescription=function(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){var o=V_.get(e);o&&0===o.referenceCount&&this._deleteMessageElement(e)}H_&&0===H_.childNodes.length&&this._deleteMessagesContainer()}},t.prototype.ngOnDestroy=function(){for(var t=this._document.querySelectorAll("[cdk-describedby-host]"),e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");H_&&this._deleteMessagesContainer(),V_.clear()},t.prototype._createMessageElement=function(t){var e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),H_.appendChild(e),V_.set(t,{messageElement:e,referenceCount:0})},t.prototype._setMessageId=function(t){t.id||(t.id="cdk-describedby-message-"+U_++)},t.prototype._deleteMessageElement=function(t){var e=V_.get(t),o=e&&e.messageElement;H_&&o&&H_.removeChild(o),V_.delete(t)},t.prototype._createMessagesContainer=function(){if(!H_){var t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),(H_=this._document.createElement("div")).id="cdk-describedby-message-container",H_.setAttribute("aria-hidden","true"),H_.style.display="none",this._document.body.appendChild(H_)}},t.prototype._deleteMessagesContainer=function(){H_&&H_.parentNode&&(H_.parentNode.removeChild(H_),H_=null)},t.prototype._removeCdkDescribedByReferenceIds=function(t){var e=F_(t,"aria-describedby").filter((function(t){return 0!=t.indexOf("cdk-describedby-message")}));t.setAttribute("aria-describedby",e.join(" "))},t.prototype._addMessageReference=function(t,e){var o,n,r,i=V_.get(e);n=i.messageElement.id,(r=F_(o=t,"aria-describedby")).some((function(t){return t.trim()==n.trim()}))||(r.push(n.trim()),o.setAttribute("aria-describedby",r.join(" "))),t.setAttribute("cdk-describedby-host",""),i.referenceCount++},t.prototype._removeMessageReference=function(t,e){var o,n,r,i,s=V_.get(e);s.referenceCount--,r=s.messageElement.id,(i=F_(o=t,n="aria-describedby").filter((function(t){return t!=r.trim()}))).length?o.setAttribute(n,i.join(" ")):o.removeAttribute(n),t.removeAttribute("cdk-describedby-host")},t.prototype._isElementDescribedByMessage=function(t,e){var o=F_(t,"aria-describedby"),n=V_.get(e),r=n&&n.messageElement.id;return!!r&&-1!=o.indexOf(r)},t.prototype._canBeDescribed=function(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;var o=null==e?"":(""+e).trim(),n=t.getAttribute("aria-label");return!(!o||n&&n.trim()===o)},t.prototype._isElementNode=function(t){return t.nodeType===this._document.ELEMENT_NODE},t.ngInjectableDef=dt({factory:function(){return new t(Pt(fp))},token:t,providedIn:"root"}),t}(),W_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._origin="program",e}return Object(n.__extends)(e,t),e.prototype.setFocusOrigin=function(t){return this._origin=t,this},e.prototype.setActiveItem=function(e){t.prototype.setActiveItem.call(this,e),this.activeItem&&this.activeItem.focus(this._origin)},e}(function(){function t(t){var e=this;this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new O,this._typeaheadSubscription=u.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new O,this.change=new O,t instanceof pi&&t.changes.subscribe((function(t){if(e._activeItem){var o=t.toArray().indexOf(e._activeItem);o>-1&&o!==e._activeItemIndex&&(e._activeItemIndex=o)}}))}return t.prototype.skipPredicate=function(t){return this._skipPredicateFn=t,this},t.prototype.withWrap=function(t){return void 0===t&&(t=!0),this._wrap=t,this},t.prototype.withVerticalOrientation=function(t){return void 0===t&&(t=!0),this._vertical=t,this},t.prototype.withHorizontalOrientation=function(t){return this._horizontal=t,this},t.prototype.withAllowedModifierKeys=function(t){return this._allowedModifierKeys=t,this},t.prototype.withTypeAhead=function(t){var e=this;if(void 0===t&&(t=200),this._items.length&&this._items.some((function(t){return"function"!=typeof t.getLabel})))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(nh((function(t){return e._pressedLetters.push(t)})),D_(t),Ic((function(){return e._pressedLetters.length>0})),V((function(){return e._pressedLetters.join("")}))).subscribe((function(t){for(var o=e._getItemsArray(),n=1;n<o.length+1;n++){var r=(e._activeItemIndex+n)%o.length,i=o[r];if(!e._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){e.setActiveItem(r);break}}e._pressedLetters=[]})),this},t.prototype.setActiveItem=function(t){var e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)},t.prototype.onKeydown=function(t){var e=this,o=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every((function(o){return!t[o]||e._allowedModifierKeys.indexOf(o)>-1}));switch(o){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||N_(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(o>=65&&o<=90||o>=48&&o<=57)&&this._letterKeyStream.next(String.fromCharCode(o))))}this._pressedLetters=[],t.preventDefault()},Object.defineProperty(t.prototype,"activeItemIndex",{get:function(){return this._activeItemIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeItem",{get:function(){return this._activeItem},enumerable:!0,configurable:!0}),t.prototype.setFirstItemActive=function(){this._setActiveItemByIndex(0,1)},t.prototype.setLastItemActive=function(){this._setActiveItemByIndex(this._items.length-1,-1)},t.prototype.setNextItemActive=function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)},t.prototype.setPreviousItemActive=function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)},t.prototype.updateActiveItem=function(t){var e=this._getItemsArray(),o="number"==typeof t?t:e.indexOf(t),n=e[o];this._activeItem=null==n?null:n,this._activeItemIndex=o},t.prototype.updateActiveItemIndex=function(t){this.updateActiveItem(t)},t.prototype._setActiveItemByDelta=function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)},t.prototype._setActiveInWrapMode=function(t){for(var e=this._getItemsArray(),o=1;o<=e.length;o++){var n=(this._activeItemIndex+t*o+e.length)%e.length;if(!this._skipPredicateFn(e[n]))return void this.setActiveItem(n)}},t.prototype._setActiveInDefaultMode=function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)},t.prototype._setActiveItemByIndex=function(t,e){var o=this._getItemsArray();if(o[t]){for(;this._skipPredicateFn(o[t]);)if(!o[t+=e])return;this.setActiveItem(t)}},t.prototype._getItemsArray=function(){return this._items instanceof pi?this._items.toArray():this._items},t}()),j_=650,K_=R_({passive:!0,capture:!0}),z_=function(){function t(t,e){var o=this;this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=function(){o._lastTouchTarget=null,o._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(){o._lastTouchTarget||o._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=function(t){null!=o._touchTimeoutId&&clearTimeout(o._touchTimeoutId),o._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,o._touchTimeoutId=setTimeout((function(){return o._lastTouchTarget=null}),j_)},this._windowFocusListener=function(){o._windowFocused=!0,o._windowFocusTimeoutId=setTimeout((function(){return o._windowFocused=!1}))}}return t.prototype.monitor=function(t,e){var o=this;if(void 0===e&&(e=!1),!this._platform.isBrowser)return pa(null);var n=S_(t);if(this._elementInfo.has(n)){var r=this._elementInfo.get(n);return r.checkChildren=e,r.subject.asObservable()}var i={unlisten:function(){},checkChildren:e,subject:new O};this._elementInfo.set(n,i),this._incrementMonitoredElementCount();var s=function(t){return o._onFocus(t,n)},l=function(t){return o._onBlur(t,n)};return this._ngZone.runOutsideAngular((function(){n.addEventListener("focus",s,!0),n.addEventListener("blur",l,!0)})),i.unlisten=function(){n.removeEventListener("focus",s,!0),n.removeEventListener("blur",l,!0)},i.subject.asObservable()},t.prototype.stopMonitoring=function(t){var e=S_(t),o=this._elementInfo.get(e);o&&(o.unlisten(),o.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())},t.prototype.focusVia=function(t,e,o){var n=S_(t);this._setOriginForCurrentEventQueue(e),"function"==typeof n.focus&&n.focus(o)},t.prototype.ngOnDestroy=function(){var t=this;this._elementInfo.forEach((function(e,o){return t.stopMonitoring(o)}))},t.prototype._toggleClass=function(t,e,o){o?t.classList.add(e):t.classList.remove(e)},t.prototype._setClasses=function(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))},t.prototype._setOriginForCurrentEventQueue=function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,e._originTimeoutId=setTimeout((function(){return e._origin=null}),1)}))},t.prototype._wasCausedByTouch=function(t){var e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))},t.prototype._onFocus=function(t,e){var o=this._elementInfo.get(e);if(o&&(o.checkChildren||e===t.target)){var n=this._origin;n||(n=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,n),this._emitOrigin(o.subject,n),this._lastFocusOrigin=n}},t.prototype._onBlur=function(t,e){var o=this._elementInfo.get(e);!o||o.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(o.subject,null))},t.prototype._emitOrigin=function(t,e){this._ngZone.run((function(){return t.next(e)}))},t.prototype._incrementMonitoredElementCount=function(){var t=this;1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular((function(){document.addEventListener("keydown",t._documentKeydownListener,K_),document.addEventListener("mousedown",t._documentMousedownListener,K_),document.addEventListener("touchstart",t._documentTouchstartListener,K_),window.addEventListener("focus",t._windowFocusListener)}))},t.prototype._decrementMonitoredElementCount=function(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,K_),document.removeEventListener("mousedown",this._documentMousedownListener,K_),document.removeEventListener("touchstart",this._documentTouchstartListener,K_),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))},t.ngInjectableDef=dt({factory:function(){return new t(Pt(Ui),Pt(w_))},token:t,providedIn:"root"}),t}();function X_(t){return 0===t.buttons}var Y_=function(){return function(){}}(),J_=new jo("8.2.3"),q_=new wt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Z_=function(){function t(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return t.prototype._areChecksEnabled=function(){return this._sanityChecksEnabled&&oe()&&!this._isTestEnv()},t.prototype._isTestEnv=function(){var t=this._window;return t&&(t.__karma__||t.jasmine)},t.prototype._checkDoctypeIsDefined=function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")},t.prototype._checkThemeIsPresent=function(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}},t.prototype._checkCdkVersionMatch=function(){J_.full!==b_.full&&console.warn("The Angular Material version ("+J_.full+") does not match the Angular CDK version ("+b_.full+").\nPlease ensure the versions of these two packages exactly match.")},t.prototype._checkHammerIsAvailable=function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)},t}();function Q_(t){return function(t){function e(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=t.apply(this,e)||this;return n._disabled=!1,n}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=E_(t)},enumerable:!0,configurable:!0}),e}(t)}function $_(t,e){return function(t){function o(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var r=t.apply(this,o)||this;return r.color=e,r}return Object(n.__extends)(o,t),Object.defineProperty(o.prototype,"color",{get:function(){return this._color},set:function(t){var o=t||e;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),o&&this._elementRef.nativeElement.classList.add("mat-"+o),this._color=o)},enumerable:!0,configurable:!0}),o}(t)}function ty(t){return function(t){function e(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=t.apply(this,e)||this;return n._disableRipple=!1,n}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"disableRipple",{get:function(){return this._disableRipple},set:function(t){this._disableRipple=E_(t)},enumerable:!0,configurable:!0}),e}(t)}function ey(t,e){return void 0===e&&(e=0),function(t){function o(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var r=t.apply(this,o)||this;return r._tabIndex=e,r}return Object(n.__extends)(o,t),Object.defineProperty(o.prototype,"tabIndex",{get:function(){return this.disabled?-1:this._tabIndex},set:function(t){this._tabIndex=null!=t?t:e},enumerable:!0,configurable:!0}),o}(t)}function oy(t){return function(t){function e(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=t.apply(this,e)||this;return n.errorState=!1,n.stateChanges=new O,n}return Object(n.__extends)(e,t),e.prototype.updateErrorState=function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())},e}(t)}var ny=function(){function t(){}return t.prototype.isErrorState=function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))},t.ngInjectableDef=dt({factory:function(){return new t},token:t,providedIn:"root"}),t}(),ry=new wt("MAT_HAMMER_OPTIONS"),iy=["longpress","slide","slidestart","slideend","slideright","slideleft"],sy={on:function(){},off:function(){}},ly=function(t){function e(e,o){var n=t.call(this)||this;return n._hammerOptions=e,n.events=iy,o&&o._checkHammerIsAvailable(),n}return Object(n.__extends)(e,t),e.prototype.buildHammer=function(t){var e="undefined"!=typeof window?window.Hammer:null;if(!e)return sy;var o=new e(t,this._hammerOptions||void 0),n=new e.Pan,r=new e.Swipe,i=new e.Press,s=this._createRecognizer(n,{event:"slide",threshold:0},r),l=this._createRecognizer(i,{event:"longpress",time:500});return n.recognizeWith(r),l.recognizeWith(s),o.add([r,i,n,s,l]),o},e.prototype._createRecognizer=function(t,e){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];var r=new t.constructor(e);return o.push(t),o.forEach((function(t){return r.recognizeWith(t)})),r},e}(og),ay=function(){return function(){}}();function uy(t,e){t.changes.pipe(Oa(t)).subscribe((function(t){var o=t.length;cy(e,"mat-2-line",!1),cy(e,"mat-3-line",!1),cy(e,"mat-multi-line",!1),2===o||3===o?cy(e,"mat-"+o+"-line",!0):o>3&&cy(e,"mat-multi-line",!0)}))}function cy(t,e,o){var n=t.nativeElement.classList;o?n.add(e):n.remove(e)}var py=function(){return function(){}}(),hy=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}(),gy=function(){function t(t,e,o){this._renderer=t,this.element=e,this.config=o,this.state=hy.HIDDEN}return t.prototype.fadeOut=function(){this._renderer.fadeOutRipple(this)},t}(),dy={enterDuration:450,exitDuration:400},fy=800,my=R_({passive:!0}),_y=function(){function t(t,e,o,n){var r=this;this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=function(t){var e=X_(t),o=r._lastTouchStartEvent&&Date.now()<r._lastTouchStartEvent+fy;r._target.rippleDisabled||e||o||(r._isPointerDown=!0,r.fadeInRipple(t.clientX,t.clientY,r._target.rippleConfig))},this._onTouchStart=function(t){if(!r._target.rippleDisabled){r._lastTouchStartEvent=Date.now(),r._isPointerDown=!0;for(var e=t.changedTouches,o=0;o<e.length;o++)r.fadeInRipple(e[o].clientX,e[o].clientY,r._target.rippleConfig)}},this._onPointerUp=function(){r._isPointerDown&&(r._isPointerDown=!1,r._activeRipples.forEach((function(t){!t.config.persistent&&(t.state===hy.VISIBLE||t.config.terminateOnPointerUp&&t.state===hy.FADING_IN)&&t.fadeOut()})))},n.isBrowser&&(this._containerElement=S_(o),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}return t.prototype.fadeInRipple=function(t,e,o){var r=this;void 0===o&&(o={});var i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object(n.__assign)({},dy,o.animation);o.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);var l=o.radius||function(t,e,o){var n=Math.max(Math.abs(t-o.left),Math.abs(t-o.right)),r=Math.max(Math.abs(e-o.top),Math.abs(e-o.bottom));return Math.sqrt(n*n+r*r)}(t,e,i),a=t-i.left,u=e-i.top,c=s.enterDuration,p=document.createElement("div");p.classList.add("mat-ripple-element"),p.style.left=a-l+"px",p.style.top=u-l+"px",p.style.height=2*l+"px",p.style.width=2*l+"px",p.style.backgroundColor=o.color||null,p.style.transitionDuration=c+"ms",this._containerElement.appendChild(p),window.getComputedStyle(p).getPropertyValue("opacity"),p.style.transform="scale(1)";var h=new gy(this,p,o);return h.state=hy.FADING_IN,this._activeRipples.add(h),o.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var t=h===r._mostRecentTransientRipple;h.state=hy.VISIBLE,o.persistent||t&&r._isPointerDown||h.fadeOut()}),c),h},t.prototype.fadeOutRipple=function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var o=t.element,r=Object(n.__assign)({},dy,t.config.animation);o.style.transitionDuration=r.exitDuration+"ms",o.style.opacity="0",t.state=hy.FADING_OUT,this._runTimeoutOutsideZone((function(){t.state=hy.HIDDEN,o.parentNode.removeChild(o)}),r.exitDuration)}},t.prototype.fadeOutAll=function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))},t.prototype.setupTriggerEvents=function(t){var e=this,o=S_(t);o&&o!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular((function(){e._triggerEvents.forEach((function(t,e){o.addEventListener(e,t,my)}))})),this._triggerElement=o)},t.prototype._runTimeoutOutsideZone=function(t,e){void 0===e&&(e=0),this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))},t.prototype._removeTriggerEvents=function(){var t=this;this._triggerElement&&this._triggerEvents.forEach((function(e,o){t._triggerElement.removeEventListener(o,e,my)}))},t}(),yy=new wt("mat-ripple-global-options"),vy=function(){function t(t,e,o,n,r){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=n||{},this._rippleRenderer=new _y(this,e,t,o),"NoopAnimations"===r&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trigger",{get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()},t.prototype.ngOnDestroy=function(){this._rippleRenderer._removeTriggerEvents()},t.prototype.fadeOutAll=function(){this._rippleRenderer.fadeOutAll()},Object.defineProperty(t.prototype,"rippleConfig",{get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object(n.__assign)({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rippleDisabled",{get:function(){return this.disabled||!!this._globalOptions.disabled},enumerable:!0,configurable:!0}),t.prototype._setupTriggerEventsIfEnabled=function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)},t.prototype.launch=function(t,e,o){return void 0===e&&(e=0),"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object(n.__assign)({},this.rippleConfig,o)):this._rippleRenderer.fadeInRipple(0,0,Object(n.__assign)({},this.rippleConfig,t))},t}(),by=function(){return function(){}}(),Ey=function(){return function(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}(),ky=function(){return function(){}}(),Ty=function(){return function(){}}(),Sy=new wt("mat-label-global-options");function Cy(t){return function(e){return e.lift(new Ay(t))}}var Ay=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var o=new wy(t),n=F(o,this.notifier);return n&&!o.seenValue?(o.add(n),e.subscribe(o)):o},t}(),wy=function(t){function e(e){var o=t.call(this,e)||this;return o.seenValue=!1,o}return n.__extends(e,t),e.prototype.notifyNext=function(t,e,o,n,r){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(U),Oy=function(){function t(t,e,o){var n=this;void 0===t&&(t=!1),void 0===o&&(o=!0),this._multiple=t,this._emitChanges=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new O,this.onChange=this.changed,e&&e.length&&(t?e.forEach((function(t){return n._markSelected(t)})):this._markSelected(e[0]),this._selectedToEmit.length=0)}return Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected},enumerable:!0,configurable:!0}),t.prototype.select=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this._verifyValueAssignment(e),e.forEach((function(e){return t._markSelected(e)})),this._emitChangeEvent()},t.prototype.deselect=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this._verifyValueAssignment(e),e.forEach((function(e){return t._unmarkSelected(e)})),this._emitChangeEvent()},t.prototype.toggle=function(t){this.isSelected(t)?this.deselect(t):this.select(t)},t.prototype.clear=function(){this._unmarkAll(),this._emitChangeEvent()},t.prototype.isSelected=function(t){return this._selection.has(t)},t.prototype.isEmpty=function(){return 0===this._selection.size},t.prototype.hasValue=function(){return!this.isEmpty()},t.prototype.sort=function(t){this._multiple&&this.selected&&this._selected.sort(t)},t.prototype.isMultipleSelection=function(){return this._multiple},t.prototype._emitChangeEvent=function(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])},t.prototype._markSelected=function(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))},t.prototype._unmarkSelected=function(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))},t.prototype._unmarkAll=function(){var t=this;this.isEmpty()||this._selection.forEach((function(e){return t._unmarkSelected(e)}))},t.prototype._verifyValueAssignment=function(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")},t}();function By(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var o=t[0];if(r(o))return Iy(o,null);if(i(o)&&Object.getPrototypeOf(o)===Object.prototype){var n=Object.keys(o);return Iy(n.map((function(t){return o[t]})),n)}}if("function"==typeof t[t.length-1]){var s=t.pop();return Iy(t=1===t.length&&r(t[0])?t[0]:t,null).pipe(V((function(t){return s.apply(void 0,t)})))}return Iy(t,null)}function Iy(t,e){return new k((function(o){var n=t.length;if(0!==n)for(var r=new Array(n),i=0,s=0,l=function(l){var a=j(t[l]),u=!1;o.add(a.subscribe({next:function(t){u||(u=!0,s++),r[l]=t},error:function(t){return o.error(t)},complete:function(){++i!==n&&u||(s===n&&o.next(e?e.reduce((function(t,e,o){return t[e]=r[o],t}),{}):r),o.complete())}}))},a=0;a<n;a++)l(a);else o.complete()}))}var Ry=new wt("NgValueAccessor"),Ny=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),xy=new wt("CompositionEventMode"),Dy=function(){function t(t,e,o){var n;this._renderer=t,this._elementRef=e,this._compositionMode=o,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(n=ch()?ch().getUserAgent():"",!/android (\d+)/.test(n.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}(),Ly=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),My=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(Ly);function Py(){throw new Error("unimplemented")}var Fy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return Py()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Py()},enumerable:!0,configurable:!0}),e}(Ly),Uy=function(t){function e(e){return t.call(this,e)||this}return Object(n.__extends)(e,t),e}(function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}());function Vy(t){return null==t||0===t.length}var Hy=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Gy=function(){function t(){}return t.min=function(t){return function(e){if(Vy(e.value)||Vy(t))return null;var o=parseFloat(e.value);return!isNaN(o)&&o<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(Vy(e.value)||Vy(t))return null;var o=parseFloat(e.value);return!isNaN(o)&&o>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return Vy(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return Vy(t.value)?null:Hy.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(Vy(e.value))return null;var o=e.value?e.value.length:0;return o<t?{minlength:{requiredLength:t,actualLength:o}}:null}},t.maxLength=function(t){return function(e){var o=e.value?e.value.length:0;return o>t?{maxlength:{requiredLength:t,actualLength:o}}:null}},t.pattern=function(e){return e?("string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),o=new RegExp(n)):(n=e.toString(),o=e),function(t){if(Vy(t.value))return null;var e=t.value;return o.test(e)?null:{pattern:{requiredPattern:n,actualValue:e}}}):t.nullValidator;var o,n},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(Wy);return 0==e.length?null:function(t){return Ky(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(Wy);return 0==e.length?null:function(t){return By(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(jy)).pipe(V(Ky))}},t}();function Wy(t){return null!=t}function jy(t){var e=Co(t)?j(t):t;if(!Ao(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Ky(t){var e=t.reduce((function(t,e){return null!=e?Object(n.__assign)({},t,e):t}),{});return 0===Object.keys(e).length?null:e}function zy(t){return t.validate?function(e){return t.validate(e)}:t}function Xy(t){return t.validate?function(e){return t.validate(e)}:t}var Yy=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),Jy=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach((function(o){e._isSameGroup(o,t)&&o[1]!==t&&o[1].fireUncheck(t.value)}))},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),qy=function(){function t(t,e,o,n){this._renderer=t,this._elementRef=e,this._registry=o,this._injector=n,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(Fy),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),Zy=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),Qy='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',$y='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',tv='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ev=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Qy)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+$y+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+tv)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Qy)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+$y)},t.arrayParentException=function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t.ngModelWarning=function(t){console.warn("\n    It looks like you're using ngModel on the same form field as "+t+". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/"+("formControl"===t?"FormControlDirective":"FormControlName")+"#use-with-ngmodel\n    ")},t}();function ov(t,e){return Object(n.__spread)(e.path,[t])}function nv(t,e){t||lv(e,"Cannot find control with"),e.valueAccessor||lv(e,"No value accessor for form control with"),t.validator=Gy.compose([t.validator,e.validator]),t.asyncValidator=Gy.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(o){t._pendingValue=o,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&rv(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,o){e.valueAccessor.writeValue(t),o&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&rv(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function rv(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function iv(t,e){null==t&&lv(e,"Cannot find control with"),t.validator=Gy.compose([t.validator,e.validator]),t.asyncValidator=Gy.composeAsync([t.asyncValidator,e.asyncValidator])}function sv(t){return lv(t,"There is no FormControl instance attached to form control element with")}function lv(t,e){var o;throw o=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+o)}function av(t){return null!=t?Gy.compose(t.map(zy)):null}function uv(t){return null!=t?Gy.composeAsync(t.map(Xy)):null}var cv=[Ny,Zy,Yy,function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=bo}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var o=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",o)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(o){e.value=e._getOptionValue(o),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,o;try{for(var r=Object(n.__values)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var s=i.value;if(this._compareWith(this._optionMap.get(s),t))return s}}catch(l){e={error:l}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=bo}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,o=this;if(this.value=t,Array.isArray(t)){var n=t.map((function(t){return o._getOptionId(t)}));e=function(t,e){t._setSelected(n.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(o){var n=[];if(o.hasOwnProperty("selectedOptions"))for(var r=o.selectedOptions,i=0;i<r.length;i++){var s=r.item(i),l=e._getOptionValue(s.value);n.push(l)}else for(r=o.options,i=0;i<r.length;i++)(s=r.item(i)).selected&&(l=e._getOptionValue(s.value),n.push(l));e.value=n,t(n)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,o;try{for(var r=Object(n.__values)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var s=i.value;if(this._compareWith(this._optionMap.get(s)._value,t))return s}}catch(l){e={error:l}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),qy];function pv(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function hv(t,e){var o=t.indexOf(e);o>-1&&t.splice(o,1)}function gv(t){var e=fv(t)?t.validators:t;return Array.isArray(e)?av(e):e||null}function dv(t,e){var o=fv(e)?e.asyncValidators:t;return Array.isArray(o)?uv(o):o||null}function fv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var mv=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=gv(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=dv(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAllAsTouched=function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object(n.__assign)({},t,{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object(n.__assign)({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))},t.prototype.enable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object(n.__assign)({},t,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object(n.__assign)({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var o=jy(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe((function(o){return e.setErrors(o,{emitEvent:t})}))}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,o){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((function(t,e){return t instanceof yv?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof vv&&t.at(e)||null}),t))}(this,t)},t.prototype.getError=function(t,e){var o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new ui,this.statusChanges=new ui},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls((function(e){return e.status===t}))},t.prototype._anyControlsDirty=function(){return this._anyControls((function(t){return t.dirty}))},t.prototype._anyControlsTouched=function(){return this._anyControls((function(t){return t.touched}))},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){fv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t.prototype._parentMarkedDirty=function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()},t}(),_v=function(t){function e(e,o,n){void 0===e&&(e=null);var r=t.call(this,gv(o),dv(n,o))||this;return r._onChange=[],r._applyFormState(e),r._setUpdateStrategy(o),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r._initObservables(),r}return Object(n.__extends)(e,t),e.prototype.setValue=function(t,e){var o=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach((function(t){return t(o.value,!1!==e.emitViewToModelChange)})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(mv),yv=function(t){function e(e,o,n){var r=t.call(this,gv(o),dv(n,o))||this;return r.controls=e,r._initObservables(),r._setUpdateStrategy(o),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return Object(n.__extends)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var o=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach((function(n){o._throwIfControlMissing(n),o.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var o=this;void 0===e&&(e={}),Object.keys(t).forEach((function(n){o.controls[n]&&o.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild((function(o,n){o.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},(function(t,e,o){return t[o]=e instanceof _v?e.value:e.getRawValue(),t}))},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach((function(o){return t(e.controls[o],o)}))},e.prototype._setUpControls=function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,o=!1;return this._forEachChild((function(n,r){o=o||e.contains(r)&&t(n)})),o},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},(function(e,o,n){return(o.enabled||t.disabled)&&(e[n]=o.value),e}))},e.prototype._reduceChildren=function(t,e){var o=t;return this._forEachChild((function(t,n){o=e(o,t,n)})),o},e.prototype._allControlsDisabled=function(){var t,e;try{for(var o=Object(n.__values)(Object.keys(this.controls)),r=o.next();!r.done;r=o.next())if(this.controls[r.value].enabled)return!1}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild((function(e,o){if(void 0===t[o])throw new Error("Must supply a value for form control with name: '"+o+"'.")}))},e}(mv),vv=function(t){function e(e,o,n){var r=t.call(this,gv(o),dv(n,o))||this;return r.controls=e,r._initObservables(),r._setUpdateStrategy(o),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return Object(n.__extends)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var o=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach((function(t,n){o._throwIfControlMissing(n),o.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var o=this;void 0===e&&(e={}),t.forEach((function(t,n){o.at(n)&&o.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild((function(o,n){o.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this.controls.map((function(t){return t instanceof _v?t.value:t.getRawValue()}))},e.prototype.clear=function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())},e.prototype._syncPendingControls=function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach((function(e,o){t(e,o)}))},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))},e.prototype._anyControls=function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))},e.prototype._setUpControls=function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))},e.prototype._checkAllValuesPresent=function(t){this._forEachChild((function(e,o){if(void 0===t[o])throw new Error("Must supply a value for form control at index: "+o+".")}))},e.prototype._allControlsDisabled=function(){var t,e;try{for(var o=Object(n.__values)(this.controls),r=o.next();!r.done;r=o.next())if(r.value.enabled)return!1}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(mv),bv=function(){return Promise.resolve(null)}(),Ev=function(t){function e(e,o){var n=t.call(this)||this;return n.submitted=!1,n._directives=[],n.ngSubmit=new ui,n.form=new yv({},av(e),uv(o)),n}return Object(n.__extends)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;bv.then((function(){var o=e._findContainer(t.path);t.control=o.registerControl(t.name,t.control),nv(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;bv.then((function(){var o=e._findContainer(t.path);o&&o.removeControl(t.name),hv(e._directives,t)}))},e.prototype.addFormGroup=function(t){var e=this;bv.then((function(){var o=e._findContainer(t.path),n=new yv({});iv(n,t),o.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})}))},e.prototype.removeFormGroup=function(t){var e=this;bv.then((function(){var o=e._findContainer(t.path);o&&o.removeControl(t.name)}))},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var o=this;bv.then((function(){o.form.get(t.path).setValue(e)}))},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,pv(this.form,this._directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(My),kv=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+Qy+'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+$y+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+tv)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+$y+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+tv)},t.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},t}(),Tv=new wt("NgFormSelectorWarning"),Sv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return ov(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return av(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return uv(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(My),Cv=function(t){function e(e,o,n){var r=t.call(this)||this;return r._parent=e,r._validators=o,r._asyncValidators=n,r}var o;return Object(n.__extends)(e,t),o=e,e.prototype._checkParentType=function(){this._parent instanceof o||this._parent instanceof Ev||kv.modelGroupParentException()},e}(Sv),Av=function(){return Promise.resolve(null)}(),wv=function(t){function e(e,o,n,r){var i=t.call(this)||this;return i.control=new _v,i._registered=!1,i.update=new ui,i._parent=e,i._rawValidators=o||[],i._rawAsyncValidators=n||[],i.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||lv(t,"Value accessor was not provided as an array for form control with");var o=void 0,n=void 0,r=void 0;return e.forEach((function(e){var i;e.constructor===Dy?o=e:(i=e,cv.some((function(t){return i.constructor===t}))?(n&&lv(t,"More than one built-in value accessor matches form control with"),n=e):(r&&lv(t,"More than one custom value accessor matches form control with"),r=e))})),r||n||o||(lv(t,"No valid value accessor for form control with"),null)}(i,r),i}return Object(n.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var o=t.model;return!!o.isFirstChange()||!bo(e,o.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?ov(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return av(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return uv(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){nv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Cv)&&this._parent instanceof Sv?kv.formGroupNameException():this._parent instanceof Cv||this._parent instanceof Ev||kv.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||kv.missingNameException()},e.prototype._updateValue=function(t){var e=this;Av.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))},e.prototype._updateDisabled=function(t){var e=this,o=t.isDisabled.currentValue,n=""===o||o&&"false"!==o;Av.then((function(){n&&!e.control.disabled?e.control.disable():!n&&e.control.disabled&&e.control.enable()}))},e}(Fy),Ov=function(t){function e(e,o){var n=t.call(this)||this;return n._validators=e,n._asyncValidators=o,n.submitted=!1,n.directives=[],n.form=null,n.ngSubmit=new ui,n}return Object(n.__extends)(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this.form.get(t.path);return nv(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){hv(this.directives,t)},e.prototype.addFormGroup=function(t){var e=this.form.get(t.path);iv(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var e=this.form.get(t.path);iv(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this.submitted=!0,pv(this.form,this.directives),this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach((function(e){var o=t.form.get(e.path);e.control!==o&&(function(t,e){e.valueAccessor.registerOnChange((function(){return sv(e)})),e.valueAccessor.registerOnTouched((function(){return sv(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),o&&nv(o,e),e.control=o)})),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form},e.prototype._updateValidators=function(){var t=av(this._validators);this.form.validator=Gy.compose([this.form.validator,t]);var e=uv(this._asyncValidators);this.form.asyncValidator=Gy.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||ev.missingFormException()},e}(My),Bv=function(){return function(){}}(),Iv=function(){function t(){}var e;return e=t,t.withConfig=function(t){return{ngModule:e,providers:[{provide:Tv,useValue:t.warnOnDeprecatedNgFormSelector}]}},t}(),Rv=ty(function(){return function(){}}()),Nv=ty(function(){return function(){}}()),xv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stateChanges=new O,e}return Object(n.__extends)(e,t),e.prototype.ngOnChanges=function(){this._stateChanges.next()},e.prototype.ngOnDestroy=function(){this._stateChanges.complete()},e}(Rv),Dv=function(t){function e(e){var o=t.call(this)||this;return o._elementRef=e,o._stateChanges=new O,"action-list"===o._getListType()&&e.nativeElement.classList.add("mat-action-list"),o}return Object(n.__extends)(e,t),e.prototype._getListType=function(){var t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null},e.prototype.ngOnChanges=function(){this._stateChanges.next()},e.prototype.ngOnDestroy=function(){this._stateChanges.complete()},e}(Rv),Lv=function(t){function e(e,o,n,r){var i=t.call(this)||this;i._element=e,i._isInteractiveList=!1,i._destroyed=new O,i._isInteractiveList=!!(n||r&&"action-list"===r._getListType()),i._list=n||r;var s=i._getHostElement();return"button"!==s.nodeName.toLowerCase()||s.hasAttribute("type")||s.setAttribute("type","button"),i._list&&i._list._stateChanges.pipe(Cy(i._destroyed)).subscribe((function(){o.markForCheck()})),i}return Object(n.__extends)(e,t),e.prototype.ngAfterContentInit=function(){uy(this._lines,this._element)},e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},e.prototype._isRippleDisabled=function(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)},e.prototype._getHostElement=function(){return this._element.nativeElement},e}(Nv),Mv=ty(function(){return function(){}}()),Pv=ty(function(){return function(){}}()),Fv=function(){return function(t,e){this.source=t,this.option=e}}(),Uv=function(t){function e(e,o,n){var r=t.call(this)||this;return r._element=e,r._changeDetector=o,r.selectionList=n,r._selected=!1,r._disabled=!1,r._hasFocus=!1,r.checkboxPosition="after",r}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color||this.selectionList.color},set:function(t){this._color=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this.selected&&t!==this.value&&(this.selected=!1),this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled||this.selectionList&&this.selectionList.disabled},set:function(t){var e=E_(t);e!==this._disabled&&(this._disabled=e,this._changeDetector.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this.selectionList.selectedOptions.isSelected(this)},set:function(t){var e=E_(t);e!==this._selected&&(this._setSelected(e),this.selectionList._reportValueChange())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this,e=this.selectionList;e._value&&e._value.some((function(o){return e.compareWith(o,t._value)}))&&this._setSelected(!0);var o=this._selected;Promise.resolve().then((function(){(t._selected||o)&&(t.selected=!0,t._changeDetector.markForCheck())}))},e.prototype.ngAfterContentInit=function(){uy(this._lines,this._element)},e.prototype.ngOnDestroy=function(){var t=this;this.selected&&Promise.resolve().then((function(){t.selected=!1}));var e=this._hasFocus,o=this.selectionList._removeOptionFromList(this);e&&o&&o.focus()},e.prototype.toggle=function(){this.selected=!this.selected},e.prototype.focus=function(){this._element.nativeElement.focus()},e.prototype.getLabel=function(){return this._text&&this._text.nativeElement.textContent||""},e.prototype._isRippleDisabled=function(){return this.disabled||this.disableRipple||this.selectionList.disableRipple},e.prototype._handleClick=function(){this.disabled||(this.toggle(),this.selectionList._emitChangeEvent(this))},e.prototype._handleFocus=function(){this.selectionList._setFocusedOption(this),this._hasFocus=!0},e.prototype._handleBlur=function(){this.selectionList._onTouched(),this._hasFocus=!1},e.prototype._getHostElement=function(){return this._element.nativeElement},e.prototype._setSelected=function(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this._changeDetector.markForCheck(),!0)},e.prototype._markForCheck=function(){this._changeDetector.markForCheck()},e}(Pv),Vv=function(t){function e(e,o){var n=t.call(this)||this;return n._element=e,n.selectionChange=new ui,n.tabIndex=0,n.color="accent",n.compareWith=function(t,e){return t===e},n._disabled=!1,n.selectedOptions=new Oy(!0),n._onChange=function(t){},n._destroyed=new O,n._onTouched=function(){},n.tabIndex=parseInt(o)||0,n}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=E_(t),this._markOptionsForCheck()},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._keyManager=new W_(this.options).withWrap().withTypeAhead().skipPredicate((function(){return!1})).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this.selectedOptions.onChange.pipe(Cy(this._destroyed)).subscribe((function(t){if(t.added)for(var e=0,o=t.added;e<o.length;e++)o[e].selected=!0;if(t.removed)for(var n=0,r=t.removed;n<r.length;n++)r[n].selected=!1}))},e.prototype.ngOnChanges=function(t){var e=t.disableRipple,o=t.color;(e&&!e.firstChange||o&&!o.firstChange)&&this._markOptionsForCheck()},e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0},e.prototype.focus=function(t){this._element.nativeElement.focus(t)},e.prototype.selectAll=function(){this._setAllOptionsSelected(!0)},e.prototype.deselectAll=function(){this._setAllOptionsSelected(!1)},e.prototype._setFocusedOption=function(t){this._keyManager.updateActiveItem(t)},e.prototype._removeOptionFromList=function(t){var e=this._getOptionIndex(t);return e>-1&&this._keyManager.activeItemIndex===e&&(e>0?this._keyManager.updateActiveItem(e-1):0===e&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(e+1,this.options.length-1))),this._keyManager.activeItem},e.prototype._keydown=function(t){var e=t.keyCode,o=this._keyManager,n=o.activeItemIndex,r=N_(t);switch(e){case 32:case 13:r||(this._toggleFocusedOption(),t.preventDefault());break;case 36:case 35:r||(36===e?o.setFirstItemActive():o.setLastItemActive(),t.preventDefault());break;case 65:N_(t,"ctrlKey")&&(this.options.find((function(t){return!t.selected}))?this.selectAll():this.deselectAll(),t.preventDefault());break;default:o.onKeydown(t)}38!==e&&40!==e||!t.shiftKey||o.activeItemIndex===n||this._toggleFocusedOption()},e.prototype._reportValueChange=function(){if(this.options&&!this._isDestroyed){var t=this._getSelectedOptionValues();this._onChange(t),this._value=t}},e.prototype._emitChangeEvent=function(t){this.selectionChange.emit(new Fv(this,t))},e.prototype.writeValue=function(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])},e.prototype.setDisabledState=function(t){this.disabled=t},e.prototype.registerOnChange=function(t){this._onChange=t},e.prototype.registerOnTouched=function(t){this._onTouched=t},e.prototype._setOptionsFromValues=function(t){var e=this;this.options.forEach((function(t){return t._setSelected(!1)})),t.forEach((function(t){var o=e.options.find((function(o){return!o.selected&&e.compareWith(o.value,t)}));o&&o._setSelected(!0)}))},e.prototype._getSelectedOptionValues=function(){return this.options.filter((function(t){return t.selected})).map((function(t){return t.value}))},e.prototype._toggleFocusedOption=function(){var t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){var e=this.options.toArray()[t];e&&!e.disabled&&(e.toggle(),this._emitChangeEvent(e))}},e.prototype._setAllOptionsSelected=function(t){var e=!1;this.options.forEach((function(o){o._setSelected(t)&&(e=!0)})),e&&this._reportValueChange()},e.prototype._isValidIndex=function(t){return t>=0&&t<this.options.length},e.prototype._getOptionIndex=function(t){return this.options.toArray().indexOf(t)},e.prototype._markOptionsForCheck=function(){this.options&&this.options.forEach((function(t){return t._markForCheck()}))},e}(Mv),Hv=function(){return function(){}}(),Gv=new wt("cdk-dir-doc",{providedIn:"root",factory:function(){return Ft(fp)}}),Wv=function(){function t(t){if(this.value="ltr",this.change=new ui,t){var e=(t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null);this.value="ltr"===e||"rtl"===e?e:"ltr"}}return t.prototype.ngOnDestroy=function(){this.change.complete()},t.ngInjectableDef=dt({factory:function(){return new t(Pt(Gv,8))},token:t,providedIn:"root"}),t}(),jv=function(){return function(){}}(),Kv=function(){return function(){}}(),zv=function(){return function(){}}(),Xv=function(){return function(){}}(),Yv="*";function Jv(t,e){return void 0===e&&(e=null),{type:2,steps:t,options:e}}function qv(t){return{type:6,styles:t,offset:null}}function Zv(t){Promise.resolve(null).then(t)}var Qv=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.init=function(){},t.prototype.play=function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0},t.prototype.triggerMicrotask=function(){var t=this;Zv((function(){return t._onFinish()}))},t.prototype._onStart=function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]},t.prototype.pause=function(){},t.prototype.restart=function(){},t.prototype.finish=function(){this._onFinish()},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])},t.prototype.reset=function(){},t.prototype.setPosition=function(t){},t.prototype.getPosition=function(){return 0},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0},t}(),$v=function(){function t(t){var e=this;this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var o=0,n=0,r=0,i=this.players.length;0==i?Zv((function(){return e._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++o==i&&e._onFinish()})),t.onDestroy((function(){++n==i&&e._onDestroy()})),t.onStart((function(){++r==i&&e._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])},t.prototype.init=function(){this.players.forEach((function(t){return t.init()}))},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype._onStart=function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))},t.prototype.pause=function(){this.players.forEach((function(t){return t.pause()}))},t.prototype.restart=function(){this.players.forEach((function(t){return t.restart()}))},t.prototype.finish=function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))},t.prototype.destroy=function(){this._onDestroy()},t.prototype._onDestroy=function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])},t.prototype.reset=function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype.setPosition=function(t){var e=t*this.totalTime;this.players.forEach((function(t){var o=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(o)}))},t.prototype.getPosition=function(){var t=0;return this.players.forEach((function(e){var o=e.getPosition();t=Math.min(o,t)})),t},t.prototype.beforeDestroy=function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0},t}(),tb="!";function eb(){return"undefined"!=typeof process}function ob(t){switch(t.length){case 0:return new Qv;case 1:return t[0];default:return new $v(t)}}function nb(t,e,o,n,r,i){void 0===r&&(r={}),void 0===i&&(i={});var s=[],l=[],a=-1,u=null;if(n.forEach((function(t){var o=t.offset,n=o==a,c=n&&u||{};Object.keys(t).forEach((function(o){var n=o,l=t[o];if("offset"!==o)switch(n=e.normalizePropertyName(n,s),l){case tb:l=r[o];break;case Yv:l=i[o];break;default:l=e.normalizeStyleValue(o,n,l,s)}c[n]=l})),n||l.push(c),u=c,a=o})),s.length)throw new Error("Unable to animate due to the following errors:\n - "+s.join("\n - "));return l}function rb(t,e,o,n){switch(e){case"start":t.onStart((function(){return n(o&&ib(o,"start",t))}));break;case"done":t.onDone((function(){return n(o&&ib(o,"done",t))}));break;case"destroy":t.onDestroy((function(){return n(o&&ib(o,"destroy",t))}))}}function ib(t,e,o){var n=o.totalTime,r=sb(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==n?t.totalTime:n,!!o.disabled),i=t._data;return null!=i&&(r._data=i),r}function sb(t,e,o,n,r,i,s){return void 0===r&&(r=""),void 0===i&&(i=0),{element:t,triggerName:e,fromState:o,toState:n,phaseName:r,totalTime:i,disabled:!!s}}function lb(t,e,o){var n;return t instanceof Map?(n=t.get(e))||t.set(e,n=o):(n=t[e])||(n=t[e]=o),n}function ab(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var ub=function(t,e){return!1},cb=function(t,e){return!1},pb=function(t,e,o){return[]},hb=eb();(hb||"undefined"!=typeof Element)&&(ub=function(t,e){return t.contains(e)},cb=function(){if(hb||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,o){return e.apply(t,[o])}:cb}(),pb=function(t,e,o){var r=[];if(o)r.push.apply(r,Object(n.__spread)(t.querySelectorAll(e)));else{var i=t.querySelector(e);i&&r.push(i)}return r});var gb=null,db=!1;function fb(t){gb||(gb=("undefined"!=typeof document?document.body:null)||{},db=!!gb.style&&"WebkitAppearance"in gb.style);var e=!0;return gb.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in gb.style)&&db&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in gb.style),e}var mb=cb,_b=ub,yb=pb;function vb(t){var e={};return Object.keys(t).forEach((function(o){var n=o.replace(/([a-z])([A-Z])/g,"$1-$2");e[n]=t[o]})),e}var bb=function(){function t(){}return t.prototype.validateStyleProperty=function(t){return fb(t)},t.prototype.matchesElement=function(t,e){return mb(t,e)},t.prototype.containsElement=function(t,e){return _b(t,e)},t.prototype.query=function(t,e,o){return yb(t,e,o)},t.prototype.computeStyle=function(t,e,o){return o||""},t.prototype.animate=function(t,e,o,n,r,i,s){return void 0===i&&(i=[]),new Qv(o,n)},t}(),Eb=function(){function t(){}return t.NOOP=new bb,t}(),kb=1e3;function Tb(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Sb(parseFloat(e[1]),e[2])}function Sb(t,e){switch(e){case"s":return t*kb;default:return t}}function Cb(t,e,o){return t.hasOwnProperty("duration")?t:function(t,e,o){var n,r=0,i="";if("string"==typeof t){var s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push('The provided timing value "'+t+'" is invalid.'),{duration:0,delay:0,easing:""};n=Sb(parseFloat(s[1]),s[2]);var l=s[3];null!=l&&(r=Sb(parseFloat(l),s[4]));var a=s[5];a&&(i=a)}else n=t;if(!o){var u=!1,c=e.length;n<0&&(e.push("Duration values below 0 are not allowed for this animation step."),u=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&e.splice(c,0,'The provided timing value "'+t+'" is invalid.')}return{duration:n,delay:r,easing:i}}(t,e,o)}function Ab(t,e){return void 0===e&&(e={}),Object.keys(t).forEach((function(o){e[o]=t[o]})),e}function wb(t,e,o){if(void 0===o&&(o={}),e)for(var n in t)o[n]=t[n];else Ab(t,o);return o}function Ob(t,e,o){return o?e+":"+o+";":""}function Bb(t){for(var e="",o=0;o<t.style.length;o++)e+=Ob(0,n=t.style.item(o),t.style.getPropertyValue(n));for(var n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Ob(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Ib(t,e,o){t.style&&(Object.keys(e).forEach((function(n){var r=Fb(n);o&&!o.hasOwnProperty(n)&&(o[n]=t.style[r]),t.style[r]=e[n]})),eb()&&Bb(t))}function Rb(t,e){t.style&&(Object.keys(e).forEach((function(e){var o=Fb(e);t.style[o]=""})),eb()&&Bb(t))}function Nb(t){return Array.isArray(t)?1==t.length?t[0]:Jv(t):t}var xb=new RegExp("{{\\s*(.+?)\\s*}}","g");function Db(t){var e=[];if("string"==typeof t){for(var o=t.toString(),n=void 0;n=xb.exec(o);)e.push(n[1]);xb.lastIndex=0}return e}function Lb(t,e,o){var n=t.toString(),r=n.replace(xb,(function(t,n){var r=e[n];return e.hasOwnProperty(n)||(o.push("Please provide a value for the animation param "+n),r=""),r.toString()}));return r==n?t:r}function Mb(t){for(var e=[],o=t.next();!o.done;)e.push(o.value),o=t.next();return e}var Pb=/-+([a-z0-9])/g;function Fb(t){return t.replace(Pb,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()}))}function Ub(t,e){return 0===t||0===e}function Vb(t,e,o){var n=Object.keys(o);if(n.length&&e.length){var r=e[0],i=[];if(n.forEach((function(t){r.hasOwnProperty(t)||i.push(t),r[t]=o[t]})),i.length)for(var s=function(){var o=e[l];i.forEach((function(e){o[e]=Gb(t,e)}))},l=1;l<e.length;l++)s()}return e}function Hb(t,e,o){switch(e.type){case 7:return t.visitTrigger(e,o);case 0:return t.visitState(e,o);case 1:return t.visitTransition(e,o);case 2:return t.visitSequence(e,o);case 3:return t.visitGroup(e,o);case 4:return t.visitAnimate(e,o);case 5:return t.visitKeyframes(e,o);case 6:return t.visitStyle(e,o);case 8:return t.visitReference(e,o);case 9:return t.visitAnimateChild(e,o);case 10:return t.visitAnimateRef(e,o);case 11:return t.visitQuery(e,o);case 12:return t.visitStagger(e,o);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Gb(t,e){return window.getComputedStyle(t)[e]}var Wb="*",jb=new Set(["true","1"]),Kb=new Set(["false","0"]);function zb(t,e){var o=jb.has(t)||Kb.has(t),n=jb.has(e)||Kb.has(e);return function(r,i){var s=t==Wb||t==r,l=e==Wb||e==i;return!s&&o&&"boolean"==typeof r&&(s=r?jb.has(t):Kb.has(t)),!l&&n&&"boolean"==typeof i&&(l=i?jb.has(e):Kb.has(e)),s&&l}}var Xb=new RegExp("s*:selfs*,?","g");function Yb(t,e,o){return new Jb(t).build(e,o)}var Jb=function(){function t(t){this._driver=t}return t.prototype.build=function(t,e){var o=new qb(e);return this._resetContextStyleTimingState(o),Hb(this,Nb(t),o)},t.prototype._resetContextStyleTimingState=function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0},t.prototype.visitTrigger=function(t,e){var o=this,n=e.queryCount=0,r=e.depCount=0,i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(o._resetContextStyleTimingState(e),0==t.type){var l=t,a=l.name;a.toString().split(/\s*,\s*/).forEach((function(t){l.name=t,i.push(o.visitState(l,e))})),l.name=a}else if(1==t.type){var u=o.visitTransition(t,e);n+=u.queryCount,r+=u.depCount,s.push(u)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}},t.prototype.visitState=function(t,e){var o=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(o.containsDynamicStyles){var r=new Set,i=n||{};if(o.styles.forEach((function(t){if(Zb(t)){var e=t;Object.keys(e).forEach((function(t){Db(e[t]).forEach((function(t){i.hasOwnProperty(t)||r.add(t)}))}))}})),r.size){var s=Mb(r.values());e.errors.push('state("'+t.name+'", ...) must define default values for all the following style substitutions: '+s.join(", "))}}return{type:0,name:t.name,style:o,options:n?{params:n}:null}},t.prototype.visitTransition=function(t,e){e.queryCount=0,e.depCount=0;var o,n,r,i=Hb(this,Nb(t.animation),e);return{type:1,matchers:(o=t.expr,n=e.errors,r=[],"string"==typeof o?o.split(/\s*,\s*/).forEach((function(t){return function(t,e,o){if(":"==t[0]){var n=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'+t+'" is not supported'),"* => *"}}(t,o);if("function"==typeof n)return void e.push(n);t=n}var r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return o.push('The provided transition expression "'+t+'" is not supported'),e;var i=r[1],s=r[2],l=r[3];e.push(zb(i,l)),"<"!=s[0]||i==Wb&&l==Wb||e.push(zb(l,i))}(t,r,n)})):r.push(o),r),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Qb(t.options)}},t.prototype.visitSequence=function(t,e){var o=this;return{type:2,steps:t.steps.map((function(t){return Hb(o,t,e)})),options:Qb(t.options)}},t.prototype.visitGroup=function(t,e){var o=this,n=e.currentTime,r=0,i=t.steps.map((function(t){e.currentTime=n;var i=Hb(o,t,e);return r=Math.max(r,e.currentTime),i}));return e.currentTime=r,{type:3,steps:i,options:Qb(t.options)}},t.prototype.visitAnimate=function(t,e){var o,n=function(t,e){var o=null;if(t.hasOwnProperty("duration"))o=t;else if("number"==typeof t)return $b(Cb(t,e).duration,0,"");var n=t;if(n.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var r=$b(0,0,"");return r.dynamic=!0,r.strValue=n,r}return $b((o=o||Cb(n,e)).duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;var r=t.styles?t.styles:qv({});if(5==r.type)o=this.visitKeyframes(r,e);else{var i=t.styles,s=!1;if(!i){s=!0;var l={};n.easing&&(l.easing=n.easing),i=qv(l)}e.currentTime+=n.duration+n.delay;var a=this.visitStyle(i,e);a.isEmptyStep=s,o=a}return e.currentAnimateTimings=null,{type:4,timings:n,style:o,options:null}},t.prototype.visitStyle=function(t,e){var o=this._makeStyleAst(t,e);return this._validateStyleAst(o,e),o},t.prototype._makeStyleAst=function(t,e){var o=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?t==Yv?o.push(t):e.errors.push("The provided style string value "+t+" is not allowed."):o.push(t)})):o.push(t.styles);var n=!1,r=null;return o.forEach((function(t){if(Zb(t)){var e=t,o=e.easing;if(o&&(r=o,delete e.easing),!n)for(var i in e)if(e[i].toString().indexOf("{{")>=0){n=!0;break}}})),{type:6,styles:o,easing:r,offset:t.offset,containsDynamicStyles:n,options:null}},t.prototype._validateStyleAst=function(t,e){var o=this,n=e.currentAnimateTimings,r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(n){if(o._driver.validateStyleProperty(n)){var s,l,a,u=e.collectedStyles[e.currentQuerySelector],c=u[n],p=!0;c&&(i!=r&&i>=c.startTime&&r<=c.endTime&&(e.errors.push('The CSS property "'+n+'" that exists between the times of "'+c.startTime+'ms" and "'+c.endTime+'ms" is also being animated in a parallel animation between the times of "'+i+'ms" and "'+r+'ms"'),p=!1),i=c.startTime),p&&(u[n]={startTime:i,endTime:r}),e.options&&(s=e.errors,l=e.options.params||{},(a=Db(t[n])).length&&a.forEach((function(t){l.hasOwnProperty(t)||s.push("Unable to resolve the local animation param "+t+" in the given list of values")})))}else e.errors.push('The provided animation property "'+n+'" is not a supported CSS property for animations')}))}))},t.prototype.visitKeyframes=function(t,e){var o=this,n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;var r=0,i=[],s=!1,l=!1,a=0,u=t.steps.map((function(t){var n=o._makeStyleAst(t,e),u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(Zb(t)&&t.hasOwnProperty("offset")){var o=t;e=parseFloat(o.offset),delete o.offset}}));else if(Zb(t)&&t.hasOwnProperty("offset")){var o=t;e=parseFloat(o.offset),delete o.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),l=l||c<0||c>1,s=s||c<a,a=c,i.push(c),n}));l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,p=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(p=1/(c-1));var h=c-1,g=e.currentTime,d=e.currentAnimateTimings,f=d.duration;return u.forEach((function(t,r){var s=p>0?r==h?1:p*r:i[r],l=s*f;e.currentTime=g+d.delay+l,d.duration=l,o._validateStyleAst(t,e),t.offset=s,n.styles.push(t)})),n},t.prototype.visitReference=function(t,e){return{type:8,animation:Hb(this,Nb(t.animation),e),options:Qb(t.options)}},t.prototype.visitAnimateChild=function(t,e){return e.depCount++,{type:9,options:Qb(t.options)}},t.prototype.visitAnimateRef=function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Qb(t.options)}},t.prototype.visitQuery=function(t,e){var o=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var i=Object(n.__read)(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(Xb,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),s=i[0],l=i[1];e.currentQuerySelector=o.length?o+" "+s:s,lb(e.collectedStyles,e.currentQuerySelector,{});var a=Hb(this,Nb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=o,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:a,originalSelector:t.selector,options:Qb(t.options)}},t.prototype.visitStagger=function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var o="full"===t.timings?{duration:0,delay:0,easing:"full"}:Cb(t.timings,e.errors,!0);return{type:12,animation:Hb(this,Nb(t.animation),e),timings:o,options:null}},t}(),qb=function(){return function(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}();function Zb(t){return!Array.isArray(t)&&"object"==typeof t}function Qb(t){var e;return t?(t=Ab(t)).params&&(t.params=(e=t.params)?Ab(e):null):t={},t}function $b(t,e,o){return{duration:t,delay:e,easing:o}}function tE(t,e,o,n,r,i,s,l){return void 0===s&&(s=null),void 0===l&&(l=!1),{type:1,element:t,keyframes:e,preStyleProps:o,postStyleProps:n,duration:r,delay:i,totalTime:r+i,easing:s,subTimeline:l}}var eE=function(){function t(){this._map=new Map}return t.prototype.consume=function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e},t.prototype.append=function(t,e){var o=this._map.get(t);o||this._map.set(t,o=[]),o.push.apply(o,Object(n.__spread)(e))},t.prototype.has=function(t){return this._map.has(t)},t.prototype.clear=function(){this._map.clear()},t}(),oE=new RegExp(":enter","g"),nE=new RegExp(":leave","g");function rE(t,e,o,n,r,i,s,l,a,u){return void 0===i&&(i={}),void 0===s&&(s={}),void 0===u&&(u=[]),(new iE).buildKeyframes(t,e,o,n,r,i,s,l,a,u)}var iE=function(){function t(){}return t.prototype.buildKeyframes=function(t,e,o,n,r,i,s,l,a,u){void 0===u&&(u=[]),a=a||new eE;var c=new lE(t,e,a,n,r,u,[]);c.options=l,c.currentTimeline.setStyles([i],null,c.errors,l),Hb(this,o,c);var p=c.timelines.filter((function(t){return t.containsAnimation()}));if(p.length&&Object.keys(s).length){var h=p[p.length-1];h.allowOnlyTimelineStyles()||h.setStyles([s],null,c.errors,l)}return p.length?p.map((function(t){return t.buildKeyframes()})):[tE(e,[],[],[],0,0,"",!1)]},t.prototype.visitTrigger=function(t,e){},t.prototype.visitState=function(t,e){},t.prototype.visitTransition=function(t,e){},t.prototype.visitAnimateChild=function(t,e){var o=e.subInstructions.consume(e.element);if(o){var n=e.createSubContext(t.options),r=e.currentTimeline.currentTime,i=this._visitSubInstructions(o,n,n.options);r!=i&&e.transformIntoNewTimeline(i)}e.previousNode=t},t.prototype.visitAnimateRef=function(t,e){var o=e.createSubContext(t.options);o.transformIntoNewTimeline(),this.visitReference(t.animation,o),e.transformIntoNewTimeline(o.currentTimeline.currentTime),e.previousNode=t},t.prototype._visitSubInstructions=function(t,e,o){var n=e.currentTimeline.currentTime,r=null!=o.duration?Tb(o.duration):null,i=null!=o.delay?Tb(o.delay):null;return 0!==r&&t.forEach((function(t){var o=e.appendInstructionToTimeline(t,r,i);n=Math.max(n,o.duration+o.delay)})),n},t.prototype.visitReference=function(t,e){e.updateOptions(t.options,!0),Hb(this,t.animation,e),e.previousNode=t},t.prototype.visitSequence=function(t,e){var o=this,n=e.subContextCount,r=e,i=t.options;if(i&&(i.params||i.delay)&&((r=e.createSubContext(i)).transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=sE);var s=Tb(i.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach((function(t){return Hb(o,t,r)})),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t},t.prototype.visitGroup=function(t,e){var o=this,n=[],r=e.currentTimeline.currentTime,i=t.options&&t.options.delay?Tb(t.options.delay):0;t.steps.forEach((function(s){var l=e.createSubContext(t.options);i&&l.delayNextStep(i),Hb(o,s,l),r=Math.max(r,l.currentTimeline.currentTime),n.push(l.currentTimeline)})),n.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(r),e.previousNode=t},t.prototype._visitTiming=function(t,e){if(t.dynamic){var o=t.strValue;return Cb(e.params?Lb(o,e.params,e.errors):o,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}},t.prototype.visitAnimate=function(t,e){var o=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;o.delay&&(e.incrementTime(o.delay),n.snapshotCurrentStyles());var r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(o.duration),this.visitStyle(r,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t},t.prototype.visitStyle=function(t,e){var o=e.currentTimeline,n=e.currentAnimateTimings;!n&&o.getCurrentStyleProperties().length&&o.forwardFrame();var r=n&&n.easing||t.easing;t.isEmptyStep?o.applyEmptyStep(r):o.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t},t.prototype.visitKeyframes=function(t,e){var o=e.currentAnimateTimings,n=e.currentTimeline.duration,r=o.duration,i=e.createSubContext().currentTimeline;i.easing=o.easing,t.styles.forEach((function(t){i.forwardTime((t.offset||0)*r),i.setStyles(t.styles,t.easing,e.errors,e.options),i.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(i),e.transformIntoNewTimeline(n+r),e.previousNode=t},t.prototype.visitQuery=function(t,e){var o=this,n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Tb(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=sE);var s=n,l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;var a=null;l.forEach((function(n,r){e.currentQueryIndex=r;var l=e.createSubContext(t.options,n);i&&l.delayNextStep(i),n===e.element&&(a=l.currentTimeline),Hb(o,t.animation,l),l.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,l.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t},t.prototype.visitStagger=function(t,e){var o=e.parentContext,n=e.currentTimeline,r=t.timings,i=Math.abs(r.duration),s=i*(e.currentQueryTotal-1),l=i*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=s-l;break;case"full":l=o.currentStaggerTime}var a=e.currentTimeline;l&&a.delayNextStep(l);var u=a.currentTime;Hb(this,t.animation,e),e.previousNode=t,o.currentStaggerTime=n.currentTime-u+(n.startTime-o.currentTimeline.startTime)},t}(),sE={},lE=function(){function t(t,e,o,n,r,i,s,l){this._driver=t,this.element=e,this.subInstructions=o,this._enterClassName=n,this._leaveClassName=r,this.errors=i,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new aE(this._driver,e,0),s.push(this.currentTimeline)}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.updateOptions=function(t,e){var o=this;if(t){var n=t,r=this.options;null!=n.duration&&(r.duration=Tb(n.duration)),null!=n.delay&&(r.delay=Tb(n.delay));var i=n.params;if(i){var s=r.params;s||(s=this.options.params={}),Object.keys(i).forEach((function(t){e&&s.hasOwnProperty(t)||(s[t]=Lb(i[t],s,o.errors))}))}}},t.prototype._copyOptions=function(){var t={};if(this.options){var e=this.options.params;if(e){var o=t.params={};Object.keys(e).forEach((function(t){o[t]=e[t]}))}}return t},t.prototype.createSubContext=function(e,o,n){void 0===e&&(e=null);var r=o||this.element,i=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i},t.prototype.transformIntoNewTimeline=function(t){return this.previousNode=sE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline},t.prototype.appendInstructionToTimeline=function(t,e,o){var n={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+t.delay,easing:""},r=new uE(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(r),n},t.prototype.incrementTime=function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)},t.prototype.delayNextStep=function(t){t>0&&this.currentTimeline.delayNextStep(t)},t.prototype.invokeQuery=function(t,e,o,r,i,s){var l=[];if(r&&l.push(this.element),t.length>0){t=(t=t.replace(oE,"."+this._enterClassName)).replace(nE,"."+this._leaveClassName);var a=this._driver.query(this.element,t,1!=o);0!==o&&(a=o<0?a.slice(a.length+o,a.length):a.slice(0,o)),l.push.apply(l,Object(n.__spread)(a))}return i||0!=l.length||s.push('`query("'+e+'")` returned zero elements. (Use `query("'+e+'", { optional: true })` if you wish to allow this.)'),l},t}(),aE=function(){function t(t,e,o,n){this._driver=t,this.element=e,this.startTime=o,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}return t.prototype.containsAnimation=function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}},t.prototype.getCurrentStyleProperties=function(){return Object.keys(this._currentKeyframe)},Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.startTime+this.duration},enumerable:!0,configurable:!0}),t.prototype.delayNextStep=function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t},t.prototype.fork=function(e,o){return this.applyStylesToKeyframe(),new t(this._driver,e,o||this.currentTime,this._elementTimelineStylesLookup)},t.prototype._loadKeyframe=function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))},t.prototype.forwardFrame=function(){this.duration+=1,this._loadKeyframe()},t.prototype.forwardTime=function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()},t.prototype._updateStyle=function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}},t.prototype.allowOnlyTimelineStyles=function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe},t.prototype.applyEmptyStep=function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||Yv,e._currentKeyframe[t]=Yv})),this._currentEmptyStepKeyframe=this._currentKeyframe},t.prototype.setStyles=function(t,e,o,n){var r=this;e&&(this._previousKeyframe.easing=e);var i=n&&n.params||{},s=function(t,e){var o,n={};return t.forEach((function(t){"*"===t?(o=o||Object.keys(e)).forEach((function(t){n[t]=Yv})):wb(t,!1,n)})),n}(t,this._globalTimelineStyles);Object.keys(s).forEach((function(t){var e=Lb(s[t],i,o);r._pendingStyles[t]=e,r._localTimelineStyles.hasOwnProperty(t)||(r._backFill[t]=r._globalTimelineStyles.hasOwnProperty(t)?r._globalTimelineStyles[t]:Yv),r._updateStyle(t,e)}))},t.prototype.applyStylesToKeyframe=function(){var t=this,e=this._pendingStyles,o=Object.keys(e);0!=o.length&&(this._pendingStyles={},o.forEach((function(o){t._currentKeyframe[o]=e[o]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))},t.prototype.snapshotCurrentStyles=function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var o=t._localTimelineStyles[e];t._pendingStyles[e]=o,t._updateStyle(e,o)}))},t.prototype.getFinalKeyframe=function(){return this._keyframes.get(this.duration)},Object.defineProperty(t.prototype,"properties",{get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t},enumerable:!0,configurable:!0}),t.prototype.mergeTimelineCollectedStyles=function(t){var e=this;Object.keys(t._styleSummary).forEach((function(o){var n=e._styleSummary[o],r=t._styleSummary[o];(!n||r.time>n.time)&&e._updateStyle(o,r.value)}))},t.prototype.buildKeyframes=function(){var t=this;this.applyStylesToKeyframe();var e=new Set,o=new Set,n=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach((function(i,s){var l=wb(i,!0);Object.keys(l).forEach((function(t){var n=l[t];n==tb?e.add(t):n==Yv&&o.add(t)})),n||(l.offset=s/t.duration),r.push(l)}));var i=e.size?Mb(e.values()):[],s=o.size?Mb(o.values()):[];if(n){var l=r[0],a=Ab(l);l.offset=0,a.offset=1,r=[l,a]}return tE(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)},t}(),uE=function(t){function e(e,o,n,r,i,s,l){void 0===l&&(l=!1);var a=t.call(this,e,o,s.delay)||this;return a.element=o,a.keyframes=n,a.preStyleProps=r,a.postStyleProps=i,a._stretchStartingKeyframe=l,a.timings={duration:s.duration,delay:s.delay,easing:s.easing},a}return Object(n.__extends)(e,t),e.prototype.containsAnimation=function(){return this.keyframes.length>1},e.prototype.buildKeyframes=function(){var t=this.keyframes,e=this.timings,o=e.delay,n=e.duration,r=e.easing;if(this._stretchStartingKeyframe&&o){var i=[],s=n+o,l=o/s,a=wb(t[0],!1);a.offset=0,i.push(a);var u=wb(t[0],!1);u.offset=cE(l),i.push(u);for(var c=t.length-1,p=1;p<=c;p++){var h=wb(t[p],!1);h.offset=cE((o+h.offset*n)/s),i.push(h)}n=s,o=0,r="",t=i}return tE(this.element,t,this.preStyleProps,this.postStyleProps,n,o,r,!0)},e}(aE);function cE(t,e){void 0===e&&(e=3);var o=Math.pow(10,e-1);return Math.round(t*o)/o}var pE=function(){return function(){}}(),hE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e.prototype.normalizePropertyName=function(t,e){return Fb(t)},e.prototype.normalizeStyleValue=function(t,e,o,n){var r="",i=o.toString().trim();if(gE[e]&&0!==o&&"0"!==o)if("number"==typeof o)r="px";else{var s=o.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&n.push("Please provide a CSS unit value for "+t+":"+o)}return i+r},e}(pE),gE=function(){return t="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),e={},t.forEach((function(t){return e[t]=!0})),e;var t,e}();function dE(t,e,o,n,r,i,s,l,a,u,c,p,h){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:o,fromStyles:i,toState:n,toStyles:s,timelines:l,queriedElements:a,preStyleProps:u,postStyleProps:c,totalTime:p,errors:h}}var fE={},mE=function(){function t(t,e,o){this._triggerName=t,this.ast=e,this._stateStyles=o}return t.prototype.match=function(t,e,o,n){return function(t,e,o,n,r){return t.some((function(t){return t(e,o,n,r)}))}(this.ast.matchers,t,e,o,n)},t.prototype.buildStyles=function(t,e,o){var n=this._stateStyles["*"],r=this._stateStyles[t],i=n?n.buildStyles(e,o):{};return r?r.buildStyles(e,o):i},t.prototype.build=function(t,e,o,r,i,s,l,a,u,c){var p=[],h=this.ast.options&&this.ast.options.params||fE,g=this.buildStyles(o,l&&l.params||fE,p),d=a&&a.params||fE,f=this.buildStyles(r,d,p),m=new Set,_=new Map,y=new Map,v="void"===r,b={params:Object(n.__assign)({},h,d)},E=c?[]:rE(t,e,this.ast.animation,i,s,g,f,b,u,p),k=0;if(E.forEach((function(t){k=Math.max(t.duration+t.delay,k)})),p.length)return dE(e,this._triggerName,o,r,v,g,f,[],[],_,y,k,p);E.forEach((function(t){var o=t.element,n=lb(_,o,{});t.preStyleProps.forEach((function(t){return n[t]=!0}));var r=lb(y,o,{});t.postStyleProps.forEach((function(t){return r[t]=!0})),o!==e&&m.add(o)}));var T=Mb(m.values());return dE(e,this._triggerName,o,r,v,g,f,E,T,_,y,k)},t}(),_E=function(){function t(t,e){this.styles=t,this.defaultParams=e}return t.prototype.buildStyles=function(t,e){var o={},n=Ab(this.defaultParams);return Object.keys(t).forEach((function(e){var o=t[e];null!=o&&(n[e]=o)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var r=t;Object.keys(r).forEach((function(t){var i=r[t];i.length>1&&(i=Lb(i,n,e)),o[t]=i}))}})),o},t}(),yE=function(){function t(t,e){var o=this;this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach((function(t){o.states[t.name]=new _E(t.style,t.options&&t.options.params||{})})),vE(this.states,"true","1"),vE(this.states,"false","0"),e.transitions.forEach((function(e){o.transitionFactories.push(new mE(t,e,o.states))})),this.fallbackTransition=new mE(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object.defineProperty(t.prototype,"containsQueries",{get:function(){return this.ast.queryCount>0},enumerable:!0,configurable:!0}),t.prototype.matchTransition=function(t,e,o,n){return this.transitionFactories.find((function(r){return r.match(t,e,o,n)}))||null},t.prototype.matchStyles=function(t,e,o){return this.fallbackTransition.buildStyles(t,e,o)},t}();function vE(t,e,o){t.hasOwnProperty(e)?t.hasOwnProperty(o)||(t[o]=t[e]):t.hasOwnProperty(o)&&(t[e]=t[o])}var bE=new eE,EE=function(){function t(t,e,o){this.bodyNode=t,this._driver=e,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}return t.prototype.register=function(t,e){var o=[],n=Yb(this._driver,e,o);if(o.length)throw new Error("Unable to build the animation due to the following errors: "+o.join("\n"));this._animations[t]=n},t.prototype._buildPlayer=function(t,e,o){var n=t.element,r=nb(0,this._normalizer,0,t.keyframes,e,o);return this._driver.animate(n,r,t.duration,t.delay,t.easing,[],!0)},t.prototype.create=function(t,e,o){var n=this;void 0===o&&(o={});var r,i=[],s=this._animations[t],l=new Map;if(s?(r=rE(this._driver,e,s,"ng-enter","ng-leave",{},{},o,bE,i)).forEach((function(t){var e=lb(l,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(i.push("The requested animation doesn't exist or has already been destroyed"),r=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));l.forEach((function(t,e){Object.keys(t).forEach((function(o){t[o]=n._driver.computeStyle(e,o,Yv)}))}));var a=ob(r.map((function(t){var e=l.get(t.element);return n._buildPlayer(t,{},e)})));return this._playersById[t]=a,a.onDestroy((function(){return n.destroy(t)})),this.players.push(a),a},t.prototype.destroy=function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var o=this.players.indexOf(e);o>=0&&this.players.splice(o,1)},t.prototype._getPlayer=function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e},t.prototype.listen=function(t,e,o,n){var r=sb(e,"","","");return rb(this._getPlayer(t),o,r,n),function(){}},t.prototype.command=function(t,e,o,n){if("register"!=o)if("create"!=o){var r=this._getPlayer(t);switch(o){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,n[0]||{});else this.register(t,n[0])},t}(),kE=[],TE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},SE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},CE="__ng_removed",AE=function(){function t(t,e){void 0===e&&(e=""),this.namespaceId=e;var o,n=t&&t.hasOwnProperty("value");if(this.value=null!=(o=n?t.value:t)?o:null,n){var r=Ab(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return Object.defineProperty(t.prototype,"params",{get:function(){return this.options.params},enumerable:!0,configurable:!0}),t.prototype.absorbOptions=function(t){var e=t.params;if(e){var o=this.options.params;Object.keys(e).forEach((function(t){null==o[t]&&(o[t]=e[t])}))}},t}(),wE=new AE("void"),OE=function(){function t(t,e,o){this.id=t,this.hostElement=e,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ME(e,this._hostClassName)}return t.prototype.listen=function(t,e,o,n){var r,i=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'+o+'" because the animation trigger "'+e+"\" doesn't exist!");if(null==o||0==o.length)throw new Error('Unable to listen on the animation trigger "'+e+'" because the provided event is undefined!');if("start"!=(r=o)&&"done"!=r)throw new Error('The provided animation trigger event "'+o+'" for the animation trigger "'+e+'" is not supported!');var s=lb(this._elementListeners,t,[]),l={name:e,phase:o,callback:n};s.push(l);var a=lb(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(ME(t,"ng-trigger"),ME(t,"ng-trigger-"+e),a[e]=wE),function(){i._engine.afterFlush((function(){var t=s.indexOf(l);t>=0&&s.splice(t,1),i._triggers[e]||delete a[e]}))}},t.prototype.register=function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)},t.prototype._getTrigger=function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'+t+'" has not been registered!');return e},t.prototype.trigger=function(t,e,o,n){var r=this;void 0===n&&(n=!0);var i=this._getTrigger(e),s=new IE(this.id,e,t),l=this._engine.statesByElement.get(t);l||(ME(t,"ng-trigger"),ME(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,l={}));var a=l[e],u=new AE(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),l[e]=u,a||(a=wE),"void"===u.value||a.value!==u.value){var c=lb(this._engine.playersByElement,t,[]);c.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var p=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!p){if(!n)return;p=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:p,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(ME(t,"ng-animate-queued"),s.onStart((function(){PE(t,"ng-animate-queued")}))),s.onDone((function(){var e=r.players.indexOf(s);e>=0&&r.players.splice(e,1);var o=r._engine.playersByElement.get(t);if(o){var n=o.indexOf(s);n>=0&&o.splice(n,1)}})),this.players.push(s),c.push(s),s}if(!function(t,e){var o=Object.keys(t),n=Object.keys(e);if(o.length!=n.length)return!1;for(var r=0;r<o.length;r++){var i=o[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,u.params)){var g=[],d=i.matchStyles(a.value,a.params,g),f=i.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush((function(){Rb(t,d),Ib(t,f)}))}},t.prototype.deregister=function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,o){delete e[t]})),this._elementListeners.forEach((function(o,n){e._elementListeners.set(n,o.filter((function(e){return e.name!=t})))}))},t.prototype.clearElementCache=function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))},t.prototype._signalRemovalForInnerTriggers=function(t,e,o){var n=this;void 0===o&&(o=!1),this._engine.driver.query(t,".ng-trigger",!0).forEach((function(t){if(!t[CE]){var o=n._engine.fetchNamespacesByElement(t);o.size?o.forEach((function(o){return o.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}}))},t.prototype.triggerLeaveAnimation=function(t,e,o,n){var r=this,i=this._engine.statesByElement.get(t);if(i){var s=[];if(Object.keys(i).forEach((function(e){if(r._triggers[e]){var o=r.trigger(t,e,"void",n);o&&s.push(o)}})),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),o&&ob(s).onDone((function(){return r._engine.processLeaveNode(t)})),!0}return!1},t.prototype.prepareLeaveAnimationListeners=function(t){var e=this,o=this._elementListeners.get(t);if(o){var n=new Set;o.forEach((function(o){var r=o.name;if(!n.has(r)){n.add(r);var i=e._triggers[r].fallbackTransition,s=e._engine.statesByElement.get(t)[r]||wE,l=new AE("void"),a=new IE(e.id,r,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:l,player:a,isFallbackTransition:!0})}}))}},t.prototype.removeNode=function(t,e){var o=this,n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var r=!1;if(n.totalAnimations){var i=n.players.length?n.playersByQueriedElement.get(t):[];if(i&&i.length)r=!0;else for(var s=t;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush((function(){return o.clearElementCache(t)})),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}},t.prototype.insertNode=function(t,e){ME(t,this._hostClassName)},t.prototype.drainQueuedTransitions=function(t){var e=this,o=[];return this._queue.forEach((function(n){var r=n.player;if(!r.destroyed){var i=n.element,s=e._elementListeners.get(i);s&&s.forEach((function(e){if(e.name==n.triggerName){var o=sb(i,n.triggerName,n.fromState.value,n.toState.value);o._data=t,rb(n.player,e.phase,o,e.callback)}})),r.markedForDestroy?e._engine.afterFlush((function(){r.destroy()})):o.push(n)}})),this._queue=[],o.sort((function(t,o){var n=t.transition.ast.depCount,r=o.transition.ast.depCount;return 0==n||0==r?n-r:e._engine.driver.containsElement(t.element,o.element)?1:-1}))},t.prototype.destroy=function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)},t.prototype.elementContainsData=function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find((function(e){return e.element===t}))||e},t}(),BE=function(){function t(t,e,o){this.bodyNode=t,this.driver=e,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return t.prototype._onRemovalComplete=function(t,e){this.onRemovalComplete(t,e)},Object.defineProperty(t.prototype,"queuedPlayers",{get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t},enumerable:!0,configurable:!0}),t.prototype.createNamespace=function(t,e){var o=new OE(t,e,this);return e.parentNode?this._balanceNamespaceList(o,e):(this.newHostElements.set(e,o),this.collectEnterElement(e)),this._namespaceLookup[t]=o},t.prototype._balanceNamespaceList=function(t,e){var o=this._namespaceList.length-1;if(o>=0){for(var n=!1,r=o;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),n=!0;break}n||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t},t.prototype.register=function(t,e){var o=this._namespaceLookup[t];return o||(o=this.createNamespace(t,e)),o},t.prototype.registerTrigger=function(t,e,o){var n=this._namespaceLookup[t];n&&n.register(e,o)&&this.totalAnimations++},t.prototype.destroy=function(t,e){var o=this;if(t){var n=this._fetchNamespace(t);this.afterFlush((function(){o.namespacesByHostElement.delete(n.hostElement),delete o._namespaceLookup[t];var e=o._namespaceList.indexOf(n);e>=0&&o._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return n.destroy(e)}))}},t.prototype._fetchNamespace=function(t){return this._namespaceLookup[t]},t.prototype.fetchNamespacesByElement=function(t){var e=new Set,o=this.statesByElement.get(t);if(o)for(var n=Object.keys(o),r=0;r<n.length;r++){var i=o[n[r]].namespaceId;if(i){var s=this._fetchNamespace(i);s&&e.add(s)}}return e},t.prototype.trigger=function(t,e,o,n){if(RE(e)){var r=this._fetchNamespace(t);if(r)return r.trigger(e,o,n),!0}return!1},t.prototype.insertNode=function(t,e,o,n){if(RE(e)){var r=e[CE];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var i=this.collectedLeaveElements.indexOf(e);i>=0&&this.collectedLeaveElements.splice(i,1)}if(t){var s=this._fetchNamespace(t);s&&s.insertNode(e,o)}n&&this.collectEnterElement(e)}},t.prototype.collectEnterElement=function(t){this.collectedEnterElements.push(t)},t.prototype.markElementAsDisabled=function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ME(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),PE(t,"ng-animate-disabled"))},t.prototype.removeNode=function(t,e,o,n){if(RE(e)){var r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n),o){var i=this.namespacesByHostElement.get(e);i&&i.id!==t&&i.removeNode(e,n)}}else this._onRemovalComplete(e,n)},t.prototype.markElementAsRemoved=function(t,e,o,n){this.collectedLeaveElements.push(e),e[CE]={namespaceId:t,setForRemoval:n,hasAnimation:o,removedBeforeQueried:!1}},t.prototype.listen=function(t,e,o,n,r){return RE(e)?this._fetchNamespace(t).listen(e,o,n,r):function(){}},t.prototype._buildInstruction=function(t,e,o,n,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,o,n,t.fromState.options,t.toState.options,e,r)},t.prototype.destroyInnerAnimations=function(t){var e=this,o=this.driver.query(t,".ng-trigger",!0);o.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(o=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))},t.prototype.destroyActiveAnimationsForElement=function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))},t.prototype.finishActiveQueriedAnimationOnElement=function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))},t.prototype.whenRenderingDone=function(){var t=this;return new Promise((function(e){if(t.players.length)return ob(t.players).onDone((function(){return e()}));e()}))},t.prototype.processLeaveNode=function(t){var e=this,o=t[CE];if(o&&o.setForRemoval){if(t[CE]=TE,o.namespaceId){this.destroyInnerAnimations(t);var n=this._fetchNamespace(o.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,o.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))},t.prototype.flush=function(t){var e=this;void 0===t&&(t=-1);var o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,o){return e._balanceNamespaceList(t,o)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var n=0;n<this.collectedEnterElements.length;n++)ME(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{o=this._flushAnimations(r,t)}finally{for(n=0;n<r.length;n++)r[n]()}}else for(n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var i=this._whenQuietFns;this._whenQuietFns=[],o.length?ob(o).onDone((function(){i.forEach((function(t){return t()}))})):i.forEach((function(t){return t()}))}},t.prototype.reportError=function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))},t.prototype._flushAnimations=function(t,e){var o=this,r=new eE,i=[],s=new Map,l=[],a=new Map,u=new Map,c=new Map,p=new Set;this.disabledNodes.forEach((function(t){p.add(t);for(var e=o.driver.query(t,".ng-animate-queued",!0),n=0;n<e.length;n++)p.add(e[n])}));var h=this.bodyNode,g=Array.from(this.statesByElement.keys()),d=DE(g,this.collectedEnterElements),f=new Map,m=0;d.forEach((function(t,e){var o="ng-enter"+m++;f.set(e,o),t.forEach((function(t){return ME(t,o)}))}));for(var _=[],y=new Set,v=new Set,b=0;b<this.collectedLeaveElements.length;b++)(P=(M=this.collectedLeaveElements[b])[CE])&&P.setForRemoval&&(_.push(M),y.add(M),P.hasAnimation?this.driver.query(M,".ng-star-inserted",!0).forEach((function(t){return y.add(t)})):v.add(M));var E=new Map,k=DE(g,Array.from(y));k.forEach((function(t,e){var o="ng-leave"+m++;E.set(e,o),t.forEach((function(t){return ME(t,o)}))})),t.push((function(){d.forEach((function(t,e){var o=f.get(e);t.forEach((function(t){return PE(t,o)}))})),k.forEach((function(t,e){var o=E.get(e);t.forEach((function(t){return PE(t,o)}))})),_.forEach((function(t){o.processLeaveNode(t)}))}));for(var T=[],S=[],C=this._namespaceList.length-1;C>=0;C--)this._namespaceList[C].drainQueuedTransitions(e).forEach((function(t){var e=t.player,n=t.element;if(T.push(e),o.collectedEnterElements.length){var s=n[CE];if(s&&s.setForMove)return void e.destroy()}var p=!h||!o.driver.containsElement(h,n),g=E.get(n),d=f.get(n),m=o._buildInstruction(t,r,d,g,p);if(m.errors&&m.errors.length)S.push(m);else{if(p)return e.onStart((function(){return Rb(n,m.fromStyles)})),e.onDestroy((function(){return Ib(n,m.toStyles)})),void i.push(e);if(t.isFallbackTransition)return e.onStart((function(){return Rb(n,m.fromStyles)})),e.onDestroy((function(){return Ib(n,m.toStyles)})),void i.push(e);m.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),r.append(n,m.timelines),l.push({instruction:m,player:e,element:n}),m.queriedElements.forEach((function(t){return lb(a,t,[]).push(e)})),m.preStyleProps.forEach((function(t,e){var o=Object.keys(t);if(o.length){var n=u.get(e);n||u.set(e,n=new Set),o.forEach((function(t){return n.add(t)}))}})),m.postStyleProps.forEach((function(t,e){var o=Object.keys(t),n=c.get(e);n||c.set(e,n=new Set),o.forEach((function(t){return n.add(t)}))}))}}));if(S.length){var A=[];S.forEach((function(t){A.push("@"+t.triggerName+" has failed due to:\n"),t.errors.forEach((function(t){return A.push("- "+t+"\n")}))})),T.forEach((function(t){return t.destroy()})),this.reportError(A)}var w=new Map,O=new Map;l.forEach((function(t){var e=t.element;r.has(e)&&(O.set(e,e),o._beforeAnimationBuild(t.player.namespaceId,t.instruction,w))})),i.forEach((function(t){var e=t.element;o._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){lb(w,e,[]).push(t),t.destroy()}))}));var B=_.filter((function(t){return UE(t,u,c)})),I=new Map;xE(I,this.driver,v,c,Yv).forEach((function(t){UE(t,u,c)&&B.push(t)}));var R=new Map;d.forEach((function(t,e){xE(R,o.driver,new Set(t),u,tb)})),B.forEach((function(t){var e=I.get(t),o=R.get(t);I.set(t,Object(n.__assign)({},e,o))}));var N=[],x=[],D={};l.forEach((function(t){var e=t.element,n=t.player,l=t.instruction;if(r.has(e)){if(p.has(e))return n.onDestroy((function(){return Ib(e,l.toStyles)})),n.disabled=!0,n.overrideTotalTime(l.totalTime),void i.push(n);var a=D;if(O.size>1){for(var u=e,c=[];u=u.parentNode;){var h=O.get(u);if(h){a=h;break}c.push(u)}c.forEach((function(t){return O.set(t,a)}))}var g=o._buildAnimation(n.namespaceId,l,w,s,R,I);if(n.setRealPlayer(g),a===D)N.push(n);else{var d=o.playersByElement.get(a);d&&d.length&&(n.parentPlayer=ob(d)),i.push(n)}}else Rb(e,l.fromStyles),n.onDestroy((function(){return Ib(e,l.toStyles)})),x.push(n),p.has(e)&&i.push(n)})),x.forEach((function(t){var e=s.get(t.element);if(e&&e.length){var o=ob(e);t.setRealPlayer(o)}})),i.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var L=0;L<_.length;L++){var M,P=(M=_[L])[CE];if(PE(M,"ng-leave"),!P||!P.hasAnimation){var F=[];if(a.size){var U=a.get(M);U&&U.length&&F.push.apply(F,Object(n.__spread)(U));for(var V=this.driver.query(M,".ng-animating",!0),H=0;H<V.length;H++){var G=a.get(V[H]);G&&G.length&&F.push.apply(F,Object(n.__spread)(G))}}var W=F.filter((function(t){return!t.destroyed}));W.length?FE(this,M,W):this.processLeaveNode(M)}}return _.length=0,N.forEach((function(t){o.players.push(t),t.onDone((function(){t.destroy();var e=o.players.indexOf(t);o.players.splice(e,1)})),t.play()})),N},t.prototype.elementContainsData=function(t,e){var o=!1,n=e[CE];return n&&n.setForRemoval&&(o=!0),this.playersByElement.has(e)&&(o=!0),this.playersByQueriedElement.has(e)&&(o=!0),this.statesByElement.has(e)&&(o=!0),this._fetchNamespace(t).elementContainsData(e)||o},t.prototype.afterFlush=function(t){this._flushFns.push(t)},t.prototype.afterFlushAnimationsDone=function(t){this._whenQuietFns.push(t)},t.prototype._getPreviousPlayers=function(t,e,o,n,r){var i=[];if(e){var s=this.playersByQueriedElement.get(t);s&&(i=s)}else{var l=this.playersByElement.get(t);if(l){var a=!r||"void"==r;l.forEach((function(t){t.queued||(a||t.triggerName==n)&&i.push(t)}))}}return(o||n)&&(i=i.filter((function(t){return!(o&&o!=t.namespaceId||n&&n!=t.triggerName)}))),i},t.prototype._beforeAnimationBuild=function(t,e,o){var r,i,s=e.element,l=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName,u=function(t){var n=t.element,r=n!==s,i=lb(o,n,[]);c._getPreviousPlayers(n,r,l,a,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),i.push(t)}))},c=this;try{for(var p=Object(n.__values)(e.timelines),h=p.next();!h.done;h=p.next())u(h.value)}catch(g){r={error:g}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}Rb(s,e.fromStyles)},t.prototype._buildAnimation=function(t,e,o,n,r,i){var s=this,l=e.triggerName,a=e.element,u=[],c=new Set,p=new Set,h=e.timelines.map((function(e){var h=e.element;c.add(h);var g=h[CE];if(g&&g.removedBeforeQueried)return new Qv(e.duration,e.delay);var d,f,m=h!==a,_=(d=(o.get(h)||kE).map((function(t){return t.getRealPlayer()})),f=[],function t(e,o){for(var n=0;n<e.length;n++){var r=e[n];r instanceof $v?t(r.players,o):o.push(r)}}(d,f),f).filter((function(t){return!!t.element&&t.element===h})),y=r.get(h),v=i.get(h),b=nb(0,s._normalizer,0,e.keyframes,y,v),E=s._buildPlayer(e,b,_);if(e.subTimeline&&n&&p.add(h),m){var k=new IE(t,l,h);k.setRealPlayer(E),u.push(k)}return E}));u.forEach((function(t){lb(s.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,o){var n;if(t instanceof Map){if(n=t.get(e)){if(n.length){var r=n.indexOf(o);n.splice(r,1)}0==n.length&&t.delete(e)}}else(n=t[e])&&(n.length&&(r=n.indexOf(o),n.splice(r,1)),0==n.length&&delete t[e]);return n}(s.playersByQueriedElement,t.element,t)}))})),c.forEach((function(t){return ME(t,"ng-animating")}));var g=ob(h);return g.onDestroy((function(){c.forEach((function(t){return PE(t,"ng-animating")})),Ib(a,e.toStyles)})),p.forEach((function(t){lb(n,t,[]).push(g)})),g},t.prototype._buildPlayer=function(t,e,o){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,o):new Qv(t.duration,t.delay)},t}(),IE=function(){function t(t,e,o){this.namespaceId=t,this.triggerName=e,this.element=o,this._player=new Qv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return t.prototype.setRealPlayer=function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(o){e._queuedCallbacks[o].forEach((function(e){return rb(t,o,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)},t.prototype.getRealPlayer=function(){return this._player},t.prototype.overrideTotalTime=function(t){this.totalTime=t},t.prototype.syncPlayerEvents=function(t){var e=this,o=this._player;o.triggerCallback&&t.onStart((function(){return o.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))},t.prototype._queueEvent=function(t,e){lb(this._queuedCallbacks,t,[]).push(e)},t.prototype.onDone=function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)},t.prototype.onStart=function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)},t.prototype.onDestroy=function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)},t.prototype.init=function(){this._player.init()},t.prototype.hasStarted=function(){return!this.queued&&this._player.hasStarted()},t.prototype.play=function(){!this.queued&&this._player.play()},t.prototype.pause=function(){!this.queued&&this._player.pause()},t.prototype.restart=function(){!this.queued&&this._player.restart()},t.prototype.finish=function(){this._player.finish()},t.prototype.destroy=function(){this.destroyed=!0,this._player.destroy()},t.prototype.reset=function(){!this.queued&&this._player.reset()},t.prototype.setPosition=function(t){this.queued||this._player.setPosition(t)},t.prototype.getPosition=function(){return this.queued?0:this._player.getPosition()},t.prototype.triggerCallback=function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)},t}();function RE(t){return t&&1===t.nodeType}function NE(t,e){var o=t.style.display;return t.style.display=null!=e?e:"none",o}function xE(t,e,o,n,r){var i=[];o.forEach((function(t){return i.push(NE(t))}));var s=[];n.forEach((function(o,n){var i={};o.forEach((function(t){var o=i[t]=e.computeStyle(n,t,r);o&&0!=o.length||(n[CE]=SE,s.push(n))})),t.set(n,i)}));var l=0;return o.forEach((function(t){return NE(t,i[l++])})),s}function DE(t,e){var o=new Map;if(t.forEach((function(t){return o.set(t,[])})),0==e.length)return o;var n=new Set(e),r=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var i=r.get(e);if(i)return i;var s=e.parentNode;return i=o.has(s)?s:n.has(s)?1:t(s),r.set(e,i),i}(t);1!==e&&o.get(e).push(t)})),o}var LE="$$classes";function ME(t,e){if(t.classList)t.classList.add(e);else{var o=t[LE];o||(o=t[LE]={}),o[e]=!0}}function PE(t,e){if(t.classList)t.classList.remove(e);else{var o=t[LE];o&&delete o[e]}}function FE(t,e,o){ob(o).onDone((function(){return t.processLeaveNode(e)}))}function UE(t,e,o){var n=o.get(t);if(!n)return!1;var r=e.get(t);return r?n.forEach((function(t){return r.add(t)})):e.set(t,n),o.delete(t),!0}var VE=function(){function t(t,e,o){var n=this;this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new BE(t,e,o),this._timelineEngine=new EE(t,e,o),this._transitionEngine.onRemovalComplete=function(t,e){return n.onRemovalComplete(t,e)}}return t.prototype.registerTrigger=function(t,e,o,n,r){var i=t+"-"+n,s=this._triggerCache[i];if(!s){var l=[],a=Yb(this._driver,r,l);if(l.length)throw new Error('The animation trigger "'+n+'" has failed to build due to the following errors:\n - '+l.join("\n - "));s=function(t,e){return new yE(t,e)}(n,a),this._triggerCache[i]=s}this._transitionEngine.registerTrigger(e,n,s)},t.prototype.register=function(t,e){this._transitionEngine.register(t,e)},t.prototype.destroy=function(t,e){this._transitionEngine.destroy(t,e)},t.prototype.onInsert=function(t,e,o,n){this._transitionEngine.insertNode(t,e,o,n)},t.prototype.onRemove=function(t,e,o,n){this._transitionEngine.removeNode(t,e,n||!1,o)},t.prototype.disableAnimations=function(t,e){this._transitionEngine.markElementAsDisabled(t,e)},t.prototype.process=function(t,e,o,r){if("@"==o.charAt(0)){var i=Object(n.__read)(ab(o),2);this._timelineEngine.command(i[0],e,i[1],r)}else this._transitionEngine.trigger(t,e,o,r)},t.prototype.listen=function(t,e,o,r,i){if("@"==o.charAt(0)){var s=Object(n.__read)(ab(o),2);return this._timelineEngine.listen(s[0],e,s[1],i)}return this._transitionEngine.listen(t,e,o,r,i)},t.prototype.flush=function(t){void 0===t&&(t=-1),this._transitionEngine.flush(t)},Object.defineProperty(t.prototype,"players",{get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)},enumerable:!0,configurable:!0}),t.prototype.whenRenderingDone=function(){return this._transitionEngine.whenRenderingDone()},t}();function HE(t,e){var o=null,n=null;return Array.isArray(e)&&e.length?(o=WE(e[0]),e.length>1&&(n=WE(e[e.length-1]))):e&&(o=WE(e)),o||n?new GE(t,o,n):null}var GE=function(){function t(e,o,n){this._element=e,this._startStyles=o,this._endStyles=n,this._state=0;var r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}return t.prototype.start=function(){this._state<1&&(this._startStyles&&Ib(this._element,this._startStyles,this._initialStyles),this._state=1)},t.prototype.finish=function(){this.start(),this._state<2&&(Ib(this._element,this._initialStyles),this._endStyles&&(Ib(this._element,this._endStyles),this._endStyles=null),this._state=1)},t.prototype.destroy=function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Rb(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rb(this._element,this._endStyles),this._endStyles=null),Ib(this._element,this._initialStyles),this._state=3)},t.initialStylesByElement=new WeakMap,t}();function WE(t){for(var e=null,o=Object.keys(t),n=0;n<o.length;n++){var r=o[n];jE(r)&&((e=e||{})[r]=t[r])}return e}function jE(t){return"display"===t||"position"===t}var KE="animation",zE="animationend",XE=function(){function t(t,e,o,n,r,i,s){var l=this;this._element=t,this._name=e,this._duration=o,this._delay=n,this._easing=r,this._fillMode=i,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return l._handleCallback(t)}}return t.prototype.apply=function(){var t,e,o;e=this._duration+"ms "+this._easing+" "+this._delay+"ms 1 normal "+this._fillMode+" "+this._name,(o=$E(t=this._element,"").trim()).length&&(function(t,e){for(var o=0;o<t.length;o++)","===t.charAt(o)&&0}(o),e=o+", "+e),QE(t,"",e),ZE(this._element,this._eventFn,!1),this._startTime=Date.now()},t.prototype.pause=function(){YE(this._element,this._name,"paused")},t.prototype.resume=function(){YE(this._element,this._name,"running")},t.prototype.setPosition=function(t){var e=JE(this._element,this._name);this._position=t*this._duration,QE(this._element,"Delay","-"+this._position+"ms",e)},t.prototype.getPosition=function(){return this._position},t.prototype._handleCallback=function(t){var e=t._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()},t.prototype.finish=function(){this._finished||(this._finished=!0,this._onDoneFn(),ZE(this._element,this._eventFn,!0))},t.prototype.destroy=function(){var t,e,o,n;this._destroyed||(this._destroyed=!0,this.finish(),e=this._name,(n=qE(o=$E(t=this._element,"").split(","),e))>=0&&(o.splice(n,1),QE(t,"",o.join(","))))},t}();function YE(t,e,o){QE(t,"PlayState",o,JE(t,e))}function JE(t,e){var o=$E(t,"");return o.indexOf(",")>0?qE(o.split(","),e):qE([o],e)}function qE(t,e){for(var o=0;o<t.length;o++)if(t[o].indexOf(e)>=0)return o;return-1}function ZE(t,e,o){o?t.removeEventListener(zE,e):t.addEventListener(zE,e)}function QE(t,e,o,n){var r=KE+e;if(null!=n){var i=t.style[r];if(i.length){var s=i.split(",");s[n]=o,o=s.join(",")}}t.style[r]=o}function $E(t,e){return t.style[KE+e]}var tk="linear",ek=function(){function t(t,e,o,n,r,i,s,l){this.element=t,this.keyframes=e,this.animationName=o,this._duration=n,this._delay=r,this._finalStyles=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=i||tk,this.totalTime=n+r,this._buildStyler()}return t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.destroy=function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])},t.prototype._flushDoneFns=function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]},t.prototype._flushStartFns=function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]},t.prototype.finish=function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())},t.prototype.setPosition=function(t){this._styler.setPosition(t)},t.prototype.getPosition=function(){return this._styler.getPosition()},t.prototype.hasStarted=function(){return this._state>=2},t.prototype.init=function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())},t.prototype.play=function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()},t.prototype.pause=function(){this.init(),this._styler.pause()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.reset=function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()},t.prototype._buildStyler=function(){var t=this;this._styler=new XE(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0},t.prototype.beforeDestroy=function(){var t=this;this.init();var e={};if(this.hasStarted()){var o=this._state>=3;Object.keys(this._finalStyles).forEach((function(n){"offset"!=n&&(e[n]=o?t._finalStyles[n]:Gb(t.element,n))}))}this.currentSnapshot=e},t}(),ok=function(t){function e(e,o){var n=t.call(this)||this;return n.element=e,n._startingStyles={},n.__initialized=!1,n._styles=vb(o),n}return Object(n.__extends)(e,t),e.prototype.init=function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),t.prototype.init.call(this))},e.prototype.play=function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),t.prototype.play.call(this))},e.prototype.destroy=function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var o=e._startingStyles[t];o?e.element.style.setProperty(t,o):e.element.style.removeProperty(t)})),this._startingStyles=null,t.prototype.destroy.call(this))},e}(Qv),nk=function(){function t(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return t.prototype.validateStyleProperty=function(t){return fb(t)},t.prototype.matchesElement=function(t,e){return mb(t,e)},t.prototype.containsElement=function(t,e){return _b(t,e)},t.prototype.query=function(t,e,o){return yb(t,e,o)},t.prototype.computeStyle=function(t,e,o){return window.getComputedStyle(t)[e]},t.prototype.buildKeyframeElement=function(t,e,o){o=o.map((function(t){return vb(t)}));var n="@keyframes "+e+" {\n",r="";o.forEach((function(t){r=" ";var e=parseFloat(t.offset);n+=""+r+100*e+"% {\n",r+=" ",Object.keys(t).forEach((function(e){var o=t[e];switch(e){case"offset":return;case"easing":return void(o&&(n+=r+"animation-timing-function: "+o+";\n"));default:return void(n+=""+r+e+": "+o+";\n")}})),n+=r+"}\n"})),n+="}\n";var i=document.createElement("style");return i.innerHTML=n,i},t.prototype.animate=function(t,e,o,n,r,i,s){void 0===i&&(i=[]),s&&this._notifyFaultyScrubber();var l=i.filter((function(t){return t instanceof ek})),a={};Ub(o,n)&&l.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return a[t]=e[t]}))}));var u=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(o){"offset"!=o&&"easing"!=o&&(e[o]=t[o])}))})),e}(e=Vb(t,e,a));if(0==o)return new ok(t,u);var c="gen_css_kf_"+this._count++,p=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(p);var h=HE(t,e),g=new ek(t,e,c,o,n,r,u,h);return g.onDestroy((function(){var t;(t=p).parentNode.removeChild(t)})),g},t.prototype._notifyFaultyScrubber=function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)},t}(),rk=function(){function t(t,e,o,n){this.element=t,this.keyframes=e,this.options=o,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}return t.prototype._onFinish=function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])},t.prototype.init=function(){this._buildPlayer(),this._preparePlayerBeforeStart()},t.prototype._buildPlayer=function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}},t.prototype._preparePlayerBeforeStart=function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()},t.prototype._triggerWebAnimation=function(t,e,o){return t.animate(e,o)},t.prototype.onStart=function(t){this._onStartFns.push(t)},t.prototype.onDone=function(t){this._onDoneFns.push(t)},t.prototype.onDestroy=function(t){this._onDestroyFns.push(t)},t.prototype.play=function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()},t.prototype.pause=function(){this.init(),this.domPlayer.pause()},t.prototype.finish=function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()},t.prototype.reset=function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1},t.prototype._resetDomPlayerState=function(){this.domPlayer&&this.domPlayer.cancel()},t.prototype.restart=function(){this.reset(),this.play()},t.prototype.hasStarted=function(){return this._started},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])},t.prototype.setPosition=function(t){this.domPlayer.currentTime=t*this.time},t.prototype.getPosition=function(){return this.domPlayer.currentTime/this.time},Object.defineProperty(t.prototype,"totalTime",{get:function(){return this._delay+this._duration},enumerable:!0,configurable:!0}),t.prototype.beforeDestroy=function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(o){"offset"!=o&&(e[o]=t._finished?t._finalKeyframe[o]:Gb(t.element,o))})),this.currentSnapshot=e},t.prototype.triggerCallback=function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0},t}(),ik=function(){function t(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(sk().toString()),this._cssKeyframesDriver=new nk}return t.prototype.validateStyleProperty=function(t){return fb(t)},t.prototype.matchesElement=function(t,e){return mb(t,e)},t.prototype.containsElement=function(t,e){return _b(t,e)},t.prototype.query=function(t,e,o){return yb(t,e,o)},t.prototype.computeStyle=function(t,e,o){return window.getComputedStyle(t)[e]},t.prototype.overrideWebAnimationsSupport=function(t){this._isNativeImpl=t},t.prototype.animate=function(t,e,o,n,r,i,s){if(void 0===i&&(i=[]),!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,o,n,r,i);var l={duration:o,delay:n,fill:0==n?"both":"forwards"};r&&(l.easing=r);var a={},u=i.filter((function(t){return t instanceof rk}));Ub(o,n)&&u.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return a[t]=e[t]}))}));var c=HE(t,e=Vb(t,e=e.map((function(t){return wb(t,!1)})),a));return new rk(t,e,l,c)},t}();function sk(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var lk=function(t){function e(e,o){var n=t.call(this)||this;return n._nextAnimationId=0,n._renderer=e.createRenderer(o.body,{id:"0",encapsulation:Kt.None,styles:[],data:{animation:[]}}),n}return Object(n.__extends)(e,t),e.prototype.build=function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var o=Array.isArray(t)?Jv(t):t;return ck(this._renderer,null,e,"register",[o]),new ak(e,this._renderer)},e}(zv),ak=function(t){function e(e,o){var n=t.call(this)||this;return n._id=e,n._renderer=o,n}return Object(n.__extends)(e,t),e.prototype.create=function(t,e){return new uk(this._id,t,e||{},this._renderer)},e}(Xv),uk=function(){function t(t,e,o,n){this.id=t,this.element=e,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}return t.prototype._listen=function(t,e){return this._renderer.listen(this.element,"@@"+this.id+":"+t,e)},t.prototype._command=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return ck(this._renderer,this.element,this.id,t,e)},t.prototype.onDone=function(t){this._listen("done",t)},t.prototype.onStart=function(t){this._listen("start",t)},t.prototype.onDestroy=function(t){this._listen("destroy",t)},t.prototype.init=function(){this._command("init")},t.prototype.hasStarted=function(){return this._started},t.prototype.play=function(){this._command("play"),this._started=!0},t.prototype.pause=function(){this._command("pause")},t.prototype.restart=function(){this._command("restart")},t.prototype.finish=function(){this._command("finish")},t.prototype.destroy=function(){this._command("destroy")},t.prototype.reset=function(){this._command("reset")},t.prototype.setPosition=function(t){this._command("setPosition",t)},t.prototype.getPosition=function(){return 0},t}();function ck(t,e,o,n,r){return t.setProperty(e,"@@"+o+":"+n,r)}var pk=function(){function t(t,e,o){this.delegate=t,this.engine=e,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return t.prototype.createRenderer=function(t,e){var o=this,n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var r=this._rendererCache.get(n);return r||(r=new hk("",n,this.engine),this._rendererCache.set(n,r)),r}var i=e.id,s=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,t),e.data.animation.forEach((function(e){return o.engine.registerTrigger(i,s,t,e.name,e)})),new gk(this,s,n,this.engine)},t.prototype.begin=function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()},t.prototype._scheduleCountTask=function(){var t=this;this.promise.then((function(){t._microtaskId++}))},t.prototype.scheduleListenerCallback=function(t,e,o){var r=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(o)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(t){var e=Object(n.__read)(t,2);(0,e[0])(e[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,o]))},t.prototype.end=function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.engine.whenRenderingDone()},t}(),hk=function(){function t(t,e,o){this.namespaceId=t,this.delegate=e,this.engine=o,this.destroyNode=this.delegate.destroyNode?function(t){return e.destroyNode(t)}:null}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()},t.prototype.createElement=function(t,e){return this.delegate.createElement(t,e)},t.prototype.createComment=function(t){return this.delegate.createComment(t)},t.prototype.createText=function(t){return this.delegate.createText(t)},t.prototype.appendChild=function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)},t.prototype.insertBefore=function(t,e,o){this.delegate.insertBefore(t,e,o),this.engine.onInsert(this.namespaceId,e,t,!0)},t.prototype.removeChild=function(t,e,o){this.engine.onRemove(this.namespaceId,e,this.delegate,o)},t.prototype.selectRootElement=function(t,e){return this.delegate.selectRootElement(t,e)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setAttribute=function(t,e,o,n){this.delegate.setAttribute(t,e,o,n)},t.prototype.removeAttribute=function(t,e,o){this.delegate.removeAttribute(t,e,o)},t.prototype.addClass=function(t,e){this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,o,n){this.delegate.setStyle(t,e,o,n)},t.prototype.removeStyle=function(t,e,o){this.delegate.removeStyle(t,e,o)},t.prototype.setProperty=function(t,e,o){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!o):this.delegate.setProperty(t,e,o)},t.prototype.setValue=function(t,e){this.delegate.setValue(t,e)},t.prototype.listen=function(t,e,o){return this.delegate.listen(t,e,o)},t.prototype.disableAnimations=function(t,e){this.engine.disableAnimations(t,e)},t}(),gk=function(t){function e(e,o,n,r){var i=t.call(this,o,n,r)||this;return i.factory=e,i.namespaceId=o,i}return Object(n.__extends)(e,t),e.prototype.setProperty=function(t,e,o){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,o=void 0===o||!!o):this.engine.process(this.namespaceId,t,e.substr(1),o):this.delegate.setProperty(t,e,o)},e.prototype.listen=function(t,e,o){var r,i,s,l=this;if("@"==e.charAt(0)){var a=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),u=e.substr(1),c="";return"@"!=u.charAt(0)&&(u=(r=Object(n.__read)((i=u,s=i.indexOf("."),[i.substring(0,s),i.substr(s+1)]),2))[0],c=r[1]),this.engine.listen(this.namespaceId,a,u,c,(function(t){l.factory.scheduleListenerCallback(t._data||-1,o,t)}))}return this.delegate.listen(t,e,o)},e}(hk),dk=function(t){function e(e,o,n){return t.call(this,e.body,o,n)||this}return Object(n.__extends)(e,t),e}(VE);function fk(){return"function"==typeof sk()?new ik:new nk}function mk(){return new hE}function _k(t,e,o){return new pk(t,e,o)}var yk=new wt("AnimationModuleType"),vk=[{provide:zv,useClass:lk},{provide:pE,useFactory:mk},{provide:VE,useClass:dk},{provide:Vo,useFactory:_k,deps:[Fh,VE,Ui]}],bk=(Object(n.__spread)([{provide:Eb,useFactory:fk},{provide:yk,useValue:"BrowserAnimations"}],vk),Object(n.__spread)([{provide:Eb,useClass:bb},{provide:yk,useValue:"NoopAnimations"}],vk),function(){return function(){}}()),Ek=Bn({encapsulation:2,styles:[".mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}"],data:{}});function kk(t){return Vs(2,[],null,null)}var Tk=Bn({encapsulation:2,styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}mat-action-list button{background:0 0;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}@media (-ms-high-contrast:active){.mat-selection-list:focus{outline-style:dotted}.mat-list-option:focus,.mat-list-option:hover,.mat-nav-list .mat-list-item:focus,.mat-nav-list .mat-list-item:hover,mat-action-list .mat-list-item:focus,mat-action-list .mat-list-item:hover{outline:dotted 1px}}@media (hover:none){.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover{background:0 0}}"],data:{}});function Sk(t){return Vs(2,[Ns(null,0)],null,null)}var Ck=Bn({encapsulation:2,styles:[],data:{}});function Ak(t){return Vs(2,[(t()(),ks(0,0,null,null,6,"div",[["class","mat-list-item-content"]],null,null,null,null,null)),(t()(),ks(1,0,null,null,1,"div",[["class","mat-list-item-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),Ur(2,212992,null,0,vy,[Po,Ui,w_,[2,yy],[2,yk]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null),Ns(null,0),(t()(),ks(4,0,null,null,1,"div",[["class","mat-list-text"]],null,null,null,null,null)),Ns(null,1),Ns(null,2)],(function(t,e){var o=e.component;t(e,2,0,o._isRippleDisabled(),o._getHostElement())}),(function(t,e){t(e,1,0,Ar(e,2).unbounded)}))}var wk=Bn({encapsulation:2,styles:[],data:{}});function Ok(t){return Vs(2,[ws(671088640,1,{_text:0}),(t()(),ks(1,0,null,null,7,"div",[["class","mat-list-item-content"]],[[2,"mat-list-item-content-reverse",null]],null,null,null,null)),(t()(),ks(2,0,null,null,1,"div",[["class","mat-list-item-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),Ur(3,212992,null,0,vy,[Po,Ui,w_,[2,yy],[2,yk]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null),(t()(),ks(4,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null],[2,"_mat-animation-noopable",null]],null,null,kk,Ek)),Ur(5,49152,null,0,Ey,[[2,yk]],{state:[0,"state"],disabled:[1,"disabled"]},null),(t()(),ks(6,0,[[1,0],["text",1]],null,1,"div",[["class","mat-list-text"]],null,null,null,null,null)),Ns(null,0),Ns(null,1)],(function(t,e){var o=e.component;t(e,3,0,o._isRippleDisabled(),o._getHostElement()),t(e,5,0,o.selected?"checked":"unchecked",o.disabled)}),(function(t,e){t(e,1,0,"after"==e.component.checkboxPosition),t(e,2,0,Ar(e,3).unbounded),t(e,4,0,"indeterminate"===Ar(e,5).state,"checked"===Ar(e,5).state,Ar(e,5).disabled,"NoopAnimations"===Ar(e,5)._animationMode)}))}var Bk=Bn({encapsulation:2,styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}mat-action-list button{background:0 0;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}@media (-ms-high-contrast:active){.mat-selection-list:focus{outline-style:dotted}.mat-list-option:focus,.mat-list-option:hover,.mat-nav-list .mat-list-item:focus,.mat-nav-list .mat-list-item:hover,mat-action-list .mat-list-item:focus,mat-action-list .mat-list-item:hover{outline:dotted 1px}}@media (hover:none){.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover{background:0 0}}"],data:{}});function Ik(t){return Vs(2,[Ns(null,0)],null,null)}var Rk=function(){function t(t){this.toolboxService=t,this.toolBoxMenu=this.toolboxService.fetchToolBox()}return t.prototype.ngOnInit=function(){},t.prototype.updateToolbox=function(t){var e=t.source.options.map((function(t){return{name:t.value,show:t.selected}}));this.toolboxService.saveToolBox(e)},t}(),Nk=Bn({encapsulation:0,styles:[["h3[_ngcontent-%COMP%]{margin-left:16px}"]],data:{}});function xk(t){return Vs(0,[(t()(),ks(0,0,null,null,5,"mat-list-option",[["class","mat-list-item mat-list-option"],["role","option"],["tabindex","-1"]],[[2,"mat-list-item-disabled",null],[2,"mat-list-item-with-avatar",null],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[1,"aria-selected",0],[1,"aria-disabled",0]],[[null,"focus"],[null,"blur"],[null,"click"]],(function(t,e,o){var n=!0;return"focus"===e&&(n=!1!==Ar(t,1)._handleFocus()&&n),"blur"===e&&(n=!1!==Ar(t,1)._handleBlur()&&n),"click"===e&&(n=!1!==Ar(t,1)._handleClick()&&n),n}),Ok,wk)),Ur(1,1294336,[[1,4]],3,Uv,[Po,Ie,Vv],{value:[0,"value"],selected:[1,"selected"]},null),ws(603979776,2,{_avatar:0}),ws(603979776,3,{_icon:0}),ws(603979776,4,{_lines:1}),(t()(),Ps(5,0,[" "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.name,e.context.$implicit.show)}),(function(t,e){t(e,0,0,Ar(e,1).disabled,Ar(e,1)._avatar||Ar(e,1)._icon,"primary"===Ar(e,1).color,"primary"!==Ar(e,1).color&&"warn"!==Ar(e,1).color,"warn"===Ar(e,1).color,Ar(e,1).selected,Ar(e,1).disabled),t(e,5,0,e.context.$implicit.name)}))}function Dk(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Ps(-1,null,["ToolBox Selector"])),(t()(),ks(2,0,null,null,5,"mat-selection-list",[["aria-multiselectable","true"],["class","mat-selection-list mat-list-base"],["role","listbox"]],[[8,"tabIndex",0],[1,"aria-disabled",0]],[[null,"selectionChange"],[null,"blur"],[null,"keydown"]],(function(t,e,o){var n=!0,r=t.component;return"blur"===e&&(n=!1!==Ar(t,4)._onTouched()&&n),"keydown"===e&&(n=!1!==Ar(t,4)._keydown(o)&&n),"selectionChange"===e&&(n=!1!==r.updateToolbox(o)&&n),n}),Ik,Bk)),Hr(5120,null,Ry,(function(t){return[t]}),[Vv]),Ur(4,1753088,[["toolBoxOption",4]],1,Vv,[Po,[8,null]],null,{selectionChange:"selectionChange"}),ws(603979776,1,{options:1}),(t()(),Es(16777216,null,0,1,null,xk)),Ur(7,278528,null,0,$c,[cn,an,on],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,7,0,e.component.toolBoxMenu)}),(function(t,e){t(e,2,0,Ar(e,4).tabIndex,Ar(e,4).disabled.toString())}))}function Lk(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-toolbox",[],null,null,null,Dk,Nk)),Ur(1,114688,null,0,Rk,[Dc],null,null)],(function(t,e){t(e,1,0)}),null)}var Mk=fr("app-toolbox",Rk,Lk,{},{},[]),Pk=new wt("mat-slide-toggle-default-options",{providedIn:"root",factory:function(){return{disableToggleValue:!1,disableDragValue:!1}}}),Fk=0,Uk=function(){return function(t,e){this.source=t,this.checked=e}}(),Vk=function(t){function e(e,o,n,r,i,s,l,a){var u=t.call(this,e)||this;return u._focusMonitor=o,u._changeDetectorRef=n,u._ngZone=i,u.defaults=s,u._animationMode=l,u._dir=a,u._onChange=function(t){},u._onTouched=function(){},u._uniqueId="mat-slide-toggle-"+ ++Fk,u._required=!1,u._checked=!1,u._dragging=!1,u.name=null,u.id=u._uniqueId,u.labelPosition="after",u.ariaLabel=null,u.ariaLabelledby=null,u.change=new ui,u.toggleChange=new ui,u.dragChange=new ui,u.tabIndex=parseInt(r)||0,u}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(t){this._required=E_(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){this._checked=E_(t),this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputId",{get:function(){return(this.id||this._uniqueId)+"-input"},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var t=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(e){e||Promise.resolve().then((function(){return t._onTouched()}))}))},e.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef)},e.prototype._onChangeEvent=function(t){t.stopPropagation(),this._dragging||this.toggleChange.emit(),this._dragging||this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())},e.prototype._onInputClick=function(t){t.stopPropagation()},e.prototype.writeValue=function(t){this.checked=!!t},e.prototype.registerOnChange=function(t){this._onChange=t},e.prototype.registerOnTouched=function(t){this._onTouched=t},e.prototype.setDisabledState=function(t){this.disabled=t,this._changeDetectorRef.markForCheck()},e.prototype.focus=function(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)},e.prototype.toggle=function(){this.checked=!this.checked,this._onChange(this.checked)},e.prototype._emitChangeEvent=function(){this._onChange(this.checked),this.change.emit(new Uk(this,this.checked))},e.prototype._getDragPercentage=function(t){var e=t/this._thumbBarWidth*100;return this._previousChecked&&(e+=100),Math.max(0,Math.min(e,100))},e.prototype._onDragStart=function(){if(!this.disabled&&!this._dragging){var t=this._thumbEl.nativeElement;this._thumbBarWidth=this._thumbBarEl.nativeElement.clientWidth-t.clientWidth,t.classList.add("mat-dragging"),this._previousChecked=this.checked,this._dragging=!0}},e.prototype._onDrag=function(t){if(this._dragging){var e=this._dir&&"rtl"===this._dir.value?-1:1;this._dragPercentage=this._getDragPercentage(t.deltaX*e),this._thumbEl.nativeElement.style.transform="translate3d("+this._dragPercentage/100*this._thumbBarWidth*e+"px, 0, 0)"}},e.prototype._onDragEnd=function(){var t=this;if(this._dragging){var e=this._dragPercentage>50;e!==this.checked&&(this.dragChange.emit(),this.defaults.disableDragValue||(this.checked=e,this._emitChangeEvent())),this._ngZone.runOutsideAngular((function(){return setTimeout((function(){t._dragging&&(t._dragging=!1,t._thumbEl.nativeElement.classList.remove("mat-dragging"),t._thumbEl.nativeElement.style.transform="")}))}))}},e.prototype._onLabelTextChange=function(){this._changeDetectorRef.detectChanges()},e}(ey($_(ty(Q_(function(){return function(t){this._elementRef=t}}())),"accent"))),Hk=function(){return function(){}}(),Gk=function(){return function(){}}(),Wk=function(){function t(){}return t.prototype.create=function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)},t.ngInjectableDef=dt({factory:function(){return new t},token:t,providedIn:"root"}),t}(),jk=function(){function t(t){this._mutationObserverFactory=t,this._observedElements=new Map}return t.prototype.ngOnDestroy=function(){var t=this;this._observedElements.forEach((function(e,o){return t._cleanupObserver(o)}))},t.prototype.observe=function(t){var e=this,o=S_(t);return new k((function(t){var n=e._observeElement(o).subscribe(t);return function(){n.unsubscribe(),e._unobserveElement(o)}}))},t.prototype._observeElement=function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new O,o=this._mutationObserverFactory.create((function(t){return e.next(t)}));o&&o.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:o,stream:e,count:1})}return this._observedElements.get(t).stream},t.prototype._unobserveElement=function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))},t.prototype._cleanupObserver=function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),o=e.observer,n=e.stream;o&&o.disconnect(),n.complete(),this._observedElements.delete(t)}},t.ngInjectableDef=dt({factory:function(){return new t(Pt(Wk))},token:t,providedIn:"root"}),t}(),Kk=function(){function t(t,e,o){this._contentObserver=t,this._elementRef=e,this._ngZone=o,this.event=new ui,this._disabled=!1,this._currentSubscription=null}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=E_(t),this._disabled?this._unsubscribe():this._subscribe()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debounce",{get:function(){return this._debounce},set:function(t){this._debounce=function(t,e){return void 0===e&&(e=0),function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(t),this._subscribe()},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){this._currentSubscription||this.disabled||this._subscribe()},t.prototype.ngOnDestroy=function(){this._unsubscribe()},t.prototype._subscribe=function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){t._currentSubscription=(t.debounce?e.pipe(D_(t.debounce)):e).subscribe(t.event)}))},t.prototype._unsubscribe=function(){this._currentSubscription&&this._currentSubscription.unsubscribe()},t}(),zk=function(){return function(){}}(),Xk=Bn({encapsulation:2,styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px,0,0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px,0,0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}.mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-right:8px;margin-left:0}.mat-slide-toggle-label-before .mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0,0,0);transition:all 80ms linear;transition-property:transform;cursor:-webkit-grab;cursor:grab}.mat-slide-toggle-thumb-container.mat-dragging{transition-duration:0s}.mat-slide-toggle-thumb-container:active{cursor:-webkit-grabbing;cursor:grabbing}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media (hover:none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}@media (-ms-high-contrast:active){.mat-slide-toggle-thumb{background:#fff;border:1px solid #000}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background:#000;border:1px solid #fff}.mat-slide-toggle-bar{background:#fff}.mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:1px dotted;outline-offset:5px}}@media (-ms-high-contrast:black-on-white){.mat-slide-toggle-bar{border:1px solid #000}}"],data:{}});function Yk(t){return Vs(2,[ws(671088640,1,{_thumbEl:0}),ws(671088640,2,{_thumbBarEl:0}),ws(671088640,3,{_inputElement:0}),(t()(),ks(3,0,[["label",1]],null,13,"label",[["class","mat-slide-toggle-label"]],[[1,"for",0]],null,null,null,null)),(t()(),ks(4,0,[[2,0],["toggleBar",1]],null,7,"div",[["class","mat-slide-toggle-bar"]],[[2,"mat-slide-toggle-bar-no-side-margin",null]],null,null,null,null)),(t()(),ks(5,0,[[3,0],["input",1]],null,0,"input",[["class","mat-slide-toggle-input cdk-visually-hidden"],["role","switch"],["type","checkbox"]],[[8,"id",0],[8,"required",0],[8,"tabIndex",0],[8,"checked",0],[8,"disabled",0],[1,"name",0],[1,"aria-checked",0],[1,"aria-label",0],[1,"aria-labelledby",0]],[[null,"change"],[null,"click"]],(function(t,e,o){var n=!0,r=t.component;return"change"===e&&(n=!1!==r._onChangeEvent(o)&&n),"click"===e&&(n=!1!==r._onInputClick(o)&&n),n}),null,null)),(t()(),ks(6,0,[[1,0],["thumbContainer",1]],null,5,"div",[["class","mat-slide-toggle-thumb-container"]],null,[[null,"slidestart"],[null,"slide"],[null,"slideend"]],(function(t,e,o){var n=!0,r=t.component;return"slidestart"===e&&(n=!1!==r._onDragStart()&&n),"slide"===e&&(n=!1!==r._onDrag(o)&&n),"slideend"===e&&(n=!1!==r._onDragEnd()&&n),n}),null,null)),(t()(),ks(7,0,null,null,0,"div",[["class","mat-slide-toggle-thumb"]],null,null,null,null,null)),(t()(),ks(8,0,null,null,3,"div",[["class","mat-slide-toggle-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),Ur(9,212992,null,0,vy,[Po,Ui,w_,[2,yy],[2,yk]],{centered:[0,"centered"],radius:[1,"radius"],animation:[2,"animation"],disabled:[3,"disabled"],trigger:[4,"trigger"]},null),Ls(10,{enterDuration:0}),(t()(),ks(11,0,null,null,0,"div",[["class","mat-ripple-element mat-slide-toggle-persistent-ripple"]],null,null,null,null,null)),(t()(),ks(12,0,[["labelContent",1]],null,4,"span",[["class","mat-slide-toggle-content"]],null,[[null,"cdkObserveContent"]],(function(t,e,o){var n=!0;return"cdkObserveContent"===e&&(n=!1!==t.component._onLabelTextChange()&&n),n}),null,null)),Ur(13,1196032,null,0,Kk,[jk,Po,Ui],null,{event:"cdkObserveContent"}),(t()(),ks(14,0,null,null,1,"span",[["style","display:none"]],null,null,null,null,null)),(t()(),Ps(-1,null,[""])),Ns(null,0)],(function(t,e){var o=e.component,n=t(e,10,0,150);t(e,9,0,!0,20,n,o.disableRipple||o.disabled,Ar(e,3))}),(function(t,e){var o=e.component;t(e,3,0,o.inputId),t(e,4,0,!Ar(e,12).textContent||!Ar(e,12).textContent.trim()),t(e,5,0,o.inputId,o.required,o.tabIndex,o.checked,o.disabled,o.name,o.checked.toString(),o.ariaLabel,o.ariaLabelledby),t(e,8,0,Ar(e,9).unbounded)}))}var Jk,qk=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Zk(t,this.total))},t}(),Zk=function(t){function e(e,o){var n=t.call(this,e)||this;return n.total=o,n.count=0,n}return n.__extends(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(m),Qk=new Set,$k=function(){function t(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):tT}return t.prototype.matchMedia=function(t){return this._platform.WEBKIT&&function(t){if(!Qk.has(t))try{Jk||((Jk=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(Jk)),Jk.sheet&&(Jk.sheet.insertRule("@media "+t+" {.fx-query-test{ }}",0),Qk.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)},t.ngInjectableDef=dt({factory:function(){return new t(Pt(w_))},token:t,providedIn:"root"}),t}();function tT(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}var eT=function(){function t(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new O}return t.prototype.ngOnDestroy=function(){this._destroySubject.next(),this._destroySubject.complete()},t.prototype.isMatched=function(t){var e=this;return oT(k_(t)).some((function(t){return e._registerQuery(t).mql.matches}))},t.prototype.observe=function(t){var e=this,o=Tp(oT(k_(t)).map((function(t){return e._registerQuery(t).observable})));return(o=wa(o.pipe(Wp(1)),o.pipe((function(t){return t.lift(new qk(1))}),D_(0)))).pipe(V((function(t){var e={matches:!1,breakpoints:{}};return t.forEach((function(t){e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches})),e})))},t.prototype._registerQuery=function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var o=this._mediaMatcher.matchMedia(t),n={observable:new k((function(t){var n=function(o){return e._zone.run((function(){return t.next(o)}))};return o.addListener(n),function(){o.removeListener(n)}})).pipe(Oa(o),V((function(e){return{query:t,matches:e.matches}})),Cy(this._destroySubject)),mql:o};return this._queries.set(t,n),n},t.ngInjectableDef=dt({factory:function(){return new t(Pt($k),Pt(Ui))},token:t,providedIn:"root"}),t}();function oT(t){return t.map((function(t){return t.split(",")})).reduce((function(t,e){return t.concat(e)})).map((function(t){return t.trim()}))}var nT={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function rT(t,e,o,n){return s(o)&&(n=o,o=void 0),n?rT(t,e,o).pipe(V((function(t){return r(t)?n.apply(void 0,t):n(t)}))):new k((function(n){!function t(e,o,n,r,i){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var l=e;e.addEventListener(o,n,i),s=function(){return l.removeEventListener(o,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var a=e;e.on(o,n),s=function(){return a.off(o,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var u=e;e.addListener(o,n),s=function(){return u.removeListener(o,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,p=e.length;c<p;c++)t(e[c],o,n,r,i)}r.add(s)}(t,e,(function(t){n.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),n,o)}))}var iT=1,sT={},lT=function(t){function e(e,o){var n=t.call(this,e,o)||this;return n.scheduler=e,n.work=o,n}return n.__extends(e,t),e.prototype.requestAsyncId=function(e,o,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,o,n):(e.actions.push(this),e.scheduled||(e.scheduled=(r=e.flush.bind(e,null),i=iT++,sT[i]=r,Promise.resolve().then((function(){return function(t){var e=sT[t];e&&e()}(i)})),i)));var r,i},e.prototype.recycleAsyncId=function(e,o,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,o,n);0===e.actions.length&&(delete sT[o],e.scheduled=void 0)},e}(ra),aT=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,o=this.actions,n=-1,r=o.length;t=t||o.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<r&&(t=o.shift()));if(this.active=!1,e){for(;++n<r&&(t=o.shift());)t.unsubscribe();throw e}},e}(la))(lT),uT=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new cT(t,this.durationSelector))},t}(),cT=function(t){function e(e,o){var n=t.call(this,e)||this;return n.durationSelector=o,n.hasValue=!1,n}return n.__extends(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(n){return this.destination.error(n)}var o=F(this,e);!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,o=this.throttled;o&&(this.remove(o),this.throttled=null,o.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,o,n){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(U);function pT(t){return!r(t)&&t-parseFloat(t)+1>=0}function hT(t){var e=t.index,o=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(-1===o)return n.complete();t.index=e+1,this.schedule(t,o)}}function gT(t,e){return void 0===e&&(e=x_),o=function(){return function(t,e,o){void 0===t&&(t=0);var n=-1;return pT(e)?n=Number(e)<1?1:Number(e):I(e)&&(o=e),I(o)||(o=x_),new k((function(e){var r=pT(t)?t:+t-o.now();return o.schedule(hT,r,{index:0,period:n,subscriber:e})}))}(t,e)},function(t){return t.lift(new uT(o))};var o}var dT=function(){function t(t,e){this._ngZone=t,this._platform=e,this._scrolled=new O,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return t.prototype.register=function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))},t.prototype.deregister=function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))},t.prototype.scrolled=function(t){var e=this;return void 0===t&&(t=20),this._platform.isBrowser?new k((function(o){e._globalSubscription||e._addGlobalListener();var n=t>0?e._scrolled.pipe(gT(t)).subscribe(o):e._scrolled.subscribe(o);return e._scrolledCount++,function(){n.unsubscribe(),e._scrolledCount--,e._scrolledCount||e._removeGlobalListener()}})):pa()},t.prototype.ngOnDestroy=function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,o){return t.deregister(o)})),this._scrolled.complete()},t.prototype.ancestorScrolled=function(t,e){var o=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Ic((function(t){return!t||o.indexOf(t)>-1})))},t.prototype.getAncestorScrollContainers=function(t){var e=this,o=[];return this.scrollContainers.forEach((function(n,r){e._scrollableContainsElement(r,t)&&o.push(r)})),o},t.prototype._scrollableContainsElement=function(t,e){var o=e.nativeElement,n=t.getElementRef().nativeElement;do{if(o==n)return!0}while(o=o.parentElement);return!1},t.prototype._addGlobalListener=function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return rT(window.document,"scroll").subscribe((function(){return t._scrolled.next()}))}))},t.prototype._removeGlobalListener=function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)},t.ngInjectableDef=dt({factory:function(){return new t(Pt(Ui),Pt(w_))},token:t,providedIn:"root"}),t}(),fT=function(){return function(){}}(),mT=function(){function t(t,e){var o=this;this._platform=t,e.runOutsideAngular((function(){o._change=t.isBrowser?Z(rT(window,"resize"),rT(window,"orientationchange")):pa(),o._invalidateCache=o.change().subscribe((function(){return o._updateViewportSize()}))}))}return t.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},t.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t},t.prototype.getViewportRect=function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),o=e.width,n=e.height;return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+o,height:n,width:o}},t.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}},t.prototype.change=function(t){return void 0===t&&(t=20),t>0?this._change.pipe(gT(t)):this._change},t.prototype._updateViewportSize=function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}},t.ngInjectableDef=dt({factory:function(){return new t(Pt(w_),Pt(Ui))},token:t,providedIn:"root"}),t}();function _T(){throw Error("Host already has a portal attached")}var yT=function(){function t(){}return t.prototype.attach=function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&_T(),this._attachedHost=t,t.attach(this)},t.prototype.detach=function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())},Object.defineProperty(t.prototype,"isAttached",{get:function(){return null!=this._attachedHost},enumerable:!0,configurable:!0}),t.prototype.setAttachedHost=function(t){this._attachedHost=t},t}(),vT=function(t){function e(e,o,n,r){var i=t.call(this)||this;return i.component=e,i.viewContainerRef=o,i.injector=n,i.componentFactoryResolver=r,i}return Object(n.__extends)(e,t),e}(yT),bT=function(t){function e(e,o,n){var r=t.call(this)||this;return r.templateRef=e,r.viewContainerRef=o,r.context=n,r}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"origin",{get:function(){return this.templateRef.elementRef},enumerable:!0,configurable:!0}),e.prototype.attach=function(e,o){return void 0===o&&(o=this.context),this.context=o,t.prototype.attach.call(this,e)},e.prototype.detach=function(){return this.context=void 0,t.prototype.detach.call(this)},e}(yT),ET=function(t){function e(e,o,n,r){var i=t.call(this)||this;return i.outletElement=e,i._componentFactoryResolver=o,i._appRef=n,i._defaultInjector=r,i}return Object(n.__extends)(e,t),e.prototype.attachComponentPortal=function(t){var e,o=this,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=n.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){o._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e},e.prototype.attachTemplatePortal=function(t){var e=this,o=t.viewContainerRef,n=o.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),this.setDisposeFn((function(){var t=o.indexOf(n);-1!==t&&o.remove(t)})),n},e.prototype.dispose=function(){t.prototype.dispose.call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)},e.prototype._getComponentRootNode=function(t){return t.hostView.rootNodes[0]},e}(function(){function t(){this._isDisposed=!1}return t.prototype.hasAttached=function(){return!!this._attachedPortal},t.prototype.attach=function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&_T(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof vT?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof bT?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()},t.prototype.detach=function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()},t.prototype.dispose=function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0},t.prototype.setDisposeFn=function(t){this._disposeFn=t},t.prototype._invokeDisposeFn=function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)},t}()),kT=function(){return function(){}}(),TT=function(){function t(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}return t.prototype.attach=function(){},t.prototype.enable=function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=T_(-this._previousScrollPosition.left),t.style.top=T_(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}},t.prototype.disable=function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,o=this._document.body.style,n=e.scrollBehavior||"",r=o.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=o.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=n,o.scrollBehavior=r}},t.prototype._canBeEnabled=function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width},t}();function ST(){return Error("Scroll strategy has already been attached.")}var CT=function(){function t(t,e,o,n){var r=this;this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=o,this._config=n,this._scrollSubscription=null,this._detach=function(){r.disable(),r._overlayRef.hasAttached()&&r._ngZone.run((function(){return r._overlayRef.detach()}))}}return t.prototype.attach=function(t){if(this._overlayRef)throw ST();this._overlayRef=t},t.prototype.enable=function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}},t.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},t.prototype.detach=function(){this.disable(),this._overlayRef=null},t}(),AT=function(){function t(){}return t.prototype.enable=function(){},t.prototype.disable=function(){},t.prototype.attach=function(){},t}();function wT(t,e){return e.some((function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right}))}function OT(t,e){return e.some((function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right}))}var BT=function(){function t(t,e,o,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=o,this._config=n,this._scrollSubscription=null}return t.prototype.attach=function(t){if(this._overlayRef)throw ST();this._overlayRef=t},t.prototype.enable=function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),o=t._viewportRuler.getViewportSize(),n=o.width,r=o.height;wT(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}})))},t.prototype.disable=function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)},t.prototype.detach=function(){this.disable(),this._overlayRef=null},t}(),IT=function(){function t(t,e,o,n){var r=this;this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=o,this.noop=function(){return new AT},this.close=function(t){return new CT(r._scrollDispatcher,r._ngZone,r._viewportRuler,t)},this.block=function(){return new TT(r._viewportRuler,r._document)},this.reposition=function(t){return new BT(r._scrollDispatcher,r._viewportRuler,r._ngZone,t)},this._document=n}return t.ngInjectableDef=dt({factory:function(){return new t(Pt(dT),Pt(mT),Pt(Ui),Pt(fp))},token:t,providedIn:"root"}),t}(),RT=function(){return function(t){if(this.scrollStrategy=new AT,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t)for(var e=0,o=Object.keys(t);e<o.length;e++){var n=o[e];void 0!==t[n]&&(this[n]=t[n])}}}(),NT=function(){return function(t,e,o,n,r){this.offsetX=o,this.offsetY=n,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}(),xT=function(){return function(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}();function DT(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid "+t+' "'+e+'". Expected "top", "bottom" or "center".')}function LT(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid "+t+' "'+e+'". Expected "start", "end" or "center".')}var MT=function(){function t(t){var e=this;this._attachedOverlays=[],this._keydownListener=function(t){for(var o=e._attachedOverlays,n=o.length-1;n>-1;n--)if(o[n]._keydownEventSubscriptions>0){o[n]._keydownEvents.next(t);break}},this._document=t}return t.prototype.ngOnDestroy=function(){this._detach()},t.prototype.add=function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)},t.prototype.remove=function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()},t.prototype._detach=function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)},t.ngInjectableDef=dt({factory:function(){return new t(Pt(fp))},token:t,providedIn:"root"}),t}(),PT=function(){function t(t){this._document=t}return t.prototype.ngOnDestroy=function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)},t.prototype.getContainerElement=function(){return this._containerElement||this._createContainer(),this._containerElement},t.prototype._createContainer=function(){for(var t=this._document.getElementsByClassName("cdk-overlay-container"),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);var o=this._document.createElement("div");o.classList.add("cdk-overlay-container"),this._document.body.appendChild(o),this._containerElement=o},t.ngInjectableDef=dt({factory:function(){return new t(Pt(fp))},token:t,providedIn:"root"}),t}(),FT=function(){function t(t,e,o,n,r,i,s,l){var a=this;this._portalOutlet=t,this._host=e,this._pane=o,this._config=n,this._ngZone=r,this._keyboardDispatcher=i,this._document=s,this._location=l,this._backdropElement=null,this._backdropClick=new O,this._attachments=new O,this._detachments=new O,this._locationChanges=u.EMPTY,this._backdropClickHandler=function(t){return a._backdropClick.next(t)},this._keydownEventsObservable=new k((function(t){var e=a._keydownEvents.subscribe(t);return a._keydownEventSubscriptions++,function(){e.unsubscribe(),a._keydownEventSubscriptions--}})),this._keydownEvents=new O,this._keydownEventSubscriptions=0,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}return Object.defineProperty(t.prototype,"overlayElement",{get:function(){return this._pane},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backdropElement",{get:function(){return this._backdropElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._host},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){var e=this,o=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Wp(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),o},t.prototype.detach=function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}},t.prototype.dispose=function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()},t.prototype.hasAttached=function(){return this._portalOutlet.hasAttached()},t.prototype.backdropClick=function(){return this._backdropClick.asObservable()},t.prototype.attachments=function(){return this._attachments.asObservable()},t.prototype.detachments=function(){return this._detachments.asObservable()},t.prototype.keydownEvents=function(){return this._keydownEventsObservable},t.prototype.getConfig=function(){return this._config},t.prototype.updatePosition=function(){this._positionStrategy&&this._positionStrategy.apply()},t.prototype.updatePositionStrategy=function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))},t.prototype.updateSize=function(t){this._config=Object(n.__assign)({},this._config,t),this._updateElementSize()},t.prototype.setDirection=function(t){this._config=Object(n.__assign)({},this._config,{direction:t}),this._updateElementDirection()},t.prototype.addPanelClass=function(t){this._pane&&this._toggleClasses(this._pane,t,!0)},t.prototype.removePanelClass=function(t){this._pane&&this._toggleClasses(this._pane,t,!1)},t.prototype.getDirection=function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"},t.prototype.updateScrollStrategy=function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))},t.prototype._updateElementDirection=function(){this._host.setAttribute("dir",this.getDirection())},t.prototype._updateElementSize=function(){if(this._pane){var t=this._pane.style;t.width=T_(this._config.width),t.height=T_(this._config.height),t.minWidth=T_(this._config.minWidth),t.minHeight=T_(this._config.minHeight),t.maxWidth=T_(this._config.maxWidth),t.maxHeight=T_(this._config.maxHeight)}},t.prototype._togglePointerEvents=function(t){this._pane.style.pointerEvents=t?"auto":"none"},t.prototype._attachBackdrop=function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")},t.prototype._updateStackingOrder=function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)},t.prototype.detachBackdrop=function(){var t=this,e=this._backdropElement;if(e){var o,n=function(){e&&(e.removeEventListener("click",t._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),t._backdropElement==e&&(t._backdropElement=null),t._config.backdropClass&&t._toggleClasses(e,t._config.backdropClass,!1),clearTimeout(o)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){e.addEventListener("transitionend",n)})),e.style.pointerEvents="none",o=this._ngZone.runOutsideAngular((function(){return setTimeout(n,500)}))}},t.prototype._toggleClasses=function(t,e,o){var n=t.classList;k_(e).forEach((function(t){t&&(o?n.add(t):n.remove(t))}))},t.prototype._detachContentWhenStable=function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.asObservable().pipe(Cy(Z(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))},t.prototype._disposeScrollStrategy=function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())},t}(),UT=function(){function t(t,e,o,n,r){this._viewportRuler=e,this._document=o,this._platform=n,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new O,this._resizeSubscription=u.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}return Object.defineProperty(t.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))},t.prototype.apply=function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();for(var t,e=this._originRect,o=this._overlayRect,n=this._viewportRect,r=[],i=0,s=this._preferredPositions;i<s.length;i++){var l=s[i],a=this._getOriginPoint(e,l),u=this._getOverlayPoint(a,o,l),c=this._getOverlayFit(u,o,n,l);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,a);this._canFitWithFlexibleDimensions(c,u,n)?r.push({position:l,origin:a,overlayRect:o,boundingBoxRect:this._calculateBoundingBoxRect(a,l)}):(!t||t.overlayFit.visibleArea<c.visibleArea)&&(t={overlayFit:c,overlayPoint:u,originPoint:a,position:l,overlayRect:o})}if(r.length){for(var p=null,h=-1,g=0,d=r;g<d.length;g++){var f=d[g],m=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);m>h&&(h=m,p=f)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}},t.prototype.detach=function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()},t.prototype.dispose=function(){this._isDisposed||(this._boundingBox&&VT(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)},t.prototype.reapplyLastPosition=function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}},t.prototype.withScrollableContainers=function(t){return this._scrollables=t,this},t.prototype.withPositions=function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this},t.prototype.withViewportMargin=function(t){return this._viewportMargin=t,this},t.prototype.withFlexibleDimensions=function(t){return void 0===t&&(t=!0),this._hasFlexibleDimensions=t,this},t.prototype.withGrowAfterOpen=function(t){return void 0===t&&(t=!0),this._growAfterOpen=t,this},t.prototype.withPush=function(t){return void 0===t&&(t=!0),this._canPush=t,this},t.prototype.withLockedPosition=function(t){return void 0===t&&(t=!0),this._positionLocked=t,this},t.prototype.setOrigin=function(t){return this._origin=t,this},t.prototype.withDefaultOffsetX=function(t){return this._offsetX=t,this},t.prototype.withDefaultOffsetY=function(t){return this._offsetY=t,this},t.prototype.withTransformOriginOn=function(t){return this._transformOriginSelector=t,this},t.prototype._getOriginPoint=function(t,e){var o;if("center"==e.originX)o=t.left+t.width/2;else{var n=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;o="start"==e.originX?n:r}return{x:o,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}},t.prototype._getOverlayPoint=function(t,e,o){var n;return n="center"==o.overlayX?-e.width/2:"start"===o.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+n,y:t.y+("center"==o.overlayY?-e.height/2:"top"==o.overlayY?0:-e.height)}},t.prototype._getOverlayFit=function(t,e,o,n){var r=t.x,i=t.y,s=this._getOffset(n,"x"),l=this._getOffset(n,"y");s&&(r+=s),l&&(i+=l);var a=0-i,u=i+e.height-o.height,c=this._subtractOverflows(e.width,0-r,r+e.width-o.width),p=this._subtractOverflows(e.height,a,u),h=c*p;return{visibleArea:h,isCompletelyWithinViewport:e.width*e.height===h,fitsInViewportVertically:p===e.height,fitsInViewportHorizontally:c==e.width}},t.prototype._canFitWithFlexibleDimensions=function(t,e,o){if(this._hasFlexibleDimensions){var n=o.bottom-e.y,r=o.right-e.x,i=this._overlayRef.getConfig().minHeight,s=this._overlayRef.getConfig().minWidth;return(t.fitsInViewportVertically||null!=i&&i<=n)&&(t.fitsInViewportHorizontally||null!=s&&s<=r)}return!1},t.prototype._pushOverlayOnScreen=function(t,e,o){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var n,r,i=this._viewportRect,s=Math.max(t.x+e.width-i.right,0),l=Math.max(t.y+e.height-i.bottom,0),a=Math.max(i.top-o.top-t.y,0),u=Math.max(i.left-o.left-t.x,0);return this._previousPushAmount={x:n=e.width<=i.width?u||-s:t.x<this._viewportMargin?i.left-o.left-t.x:0,y:r=e.height<=i.height?a||-l:t.y<this._viewportMargin?i.top-o.top-t.y:0},{x:t.x+n,y:t.y+r}},t.prototype._applyPosition=function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var o=this._getScrollVisibility(),n=new xT(t,o);this._positionChanges.next(n)}this._isInitialRender=!1},t.prototype._setTransformOrigin=function(t){if(this._transformOriginSelector){var e,o=this._boundingBox.querySelectorAll(this._transformOriginSelector),n=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var r=0;r<o.length;r++)o[r].style.transformOrigin=e+" "+n}},t.prototype._calculateBoundingBoxRect=function(t,e){var o,n,r,i,s,l,a=this._viewportRect,u=this._isRtl();if("top"===e.overlayY)o=a.height-(n=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)o=a.height-(r=a.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{var c=Math.min(a.bottom-t.y+a.top,t.y),p=this._lastBoundingBoxSize.height;n=t.y-c,(o=2*c)>p&&!this._isInitialRender&&!this._growAfterOpen&&(n=t.y-p/2)}if("end"===e.overlayX&&!u||"start"===e.overlayX&&u)l=a.width-t.x+this._viewportMargin,i=t.x-this._viewportMargin;else if("start"===e.overlayX&&!u||"end"===e.overlayX&&u)s=t.x,i=a.right-t.x;else{c=Math.min(a.right-t.x+a.left,t.x);var h=this._lastBoundingBoxSize.width;s=t.x-c,(i=2*c)>h&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.x-h/2)}return{top:n,left:s,bottom:r,right:l,width:i,height:o}},t.prototype._setBoundingBoxStyles=function(t,e){var o=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));var n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right="",n.width=n.height="100%";else{var r=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;n.height=T_(o.height),n.top=T_(o.top),n.bottom=T_(o.bottom),n.width=T_(o.width),n.left=T_(o.left),n.right=T_(o.right),n.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",n.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(n.maxHeight=T_(r)),i&&(n.maxWidth=T_(i))}this._lastBoundingBoxSize=o,VT(this._boundingBox.style,n)},t.prototype._resetBoundingBoxStyles=function(){VT(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})},t.prototype._resetOverlayElementStyles=function(){VT(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})},t.prototype._setOverlayElementStyles=function(t,e){var o={};if(this._hasExactPosition()){var n=this._viewportRuler.getViewportScrollPosition();VT(o,this._getExactOverlayY(e,t,n)),VT(o,this._getExactOverlayX(e,t,n))}else o.position="static";var r="",i=this._getOffset(e,"x"),s=this._getOffset(e,"y");i&&(r+="translateX("+i+"px) "),s&&(r+="translateY("+s+"px)"),o.transform=r.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(o.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(o.maxWidth=""),VT(this._pane.style,o)},t.prototype._getExactOverlayY=function(t,e,o){var n={top:null,bottom:null},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,o));var i=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=i,"bottom"===t.overlayY?n.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":n.top=T_(r.y),n},t.prototype._getExactOverlayX=function(t,e,o){var n={left:null,right:null},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,o)),"right"==(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?n.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":n.left=T_(r.x),n},t.prototype._getScrollVisibility=function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),o=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:OT(t,o),isOriginOutsideView:wT(t,o),isOverlayClipped:OT(e,o),isOverlayOutsideView:wT(e,o)}},t.prototype._subtractOverflows=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return e.reduce((function(t,e){return t-Math.max(e,0)}),t)},t.prototype._getNarrowedViewportRect=function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+t-this._viewportMargin,bottom:o.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}},t.prototype._isRtl=function(){return"rtl"===this._overlayRef.getDirection()},t.prototype._hasExactPosition=function(){return!this._hasFlexibleDimensions||this._isPushed},t.prototype._getOffset=function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY},t.prototype._validatePositions=function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(t){LT("originX",t.originX),DT("originY",t.originY),LT("overlayX",t.overlayX),DT("overlayY",t.overlayY)}))},t.prototype._addPanelClasses=function(t){var e=this;this._pane&&k_(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))},t.prototype._clearPanelClasses=function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])},t.prototype._getOriginRect=function(){var t=this._origin;if(t instanceof Po)return t.nativeElement.getBoundingClientRect();if(t instanceof HTMLElement)return t.getBoundingClientRect();var e=t.width||0,o=t.height||0;return{top:t.y,bottom:t.y+o,left:t.x,right:t.x+e,height:o,width:e}},t}();function VT(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}var HT=function(){function t(t,e,o,n,r,i,s){this._preferredPositions=[],this._positionStrategy=new UT(o,n,r,i,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}return Object.defineProperty(t.prototype,"_isRtl",{get:function(){return"rtl"===this._overlayRef.getDirection()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onPositionChange",{get:function(){return this._positionStrategy.positionChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positions",{get:function(){return this._preferredPositions},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)},t.prototype.dispose=function(){this._positionStrategy.dispose()},t.prototype.detach=function(){this._positionStrategy.detach()},t.prototype.apply=function(){this._positionStrategy.apply()},t.prototype.recalculateLastPosition=function(){this._positionStrategy.reapplyLastPosition()},t.prototype.withScrollableContainers=function(t){this._positionStrategy.withScrollableContainers(t)},t.prototype.withFallbackPosition=function(t,e,o,n){var r=new NT(t,e,o,n);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this},t.prototype.withDirection=function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this},t.prototype.withOffsetX=function(t){return this._positionStrategy.withDefaultOffsetX(t),this},t.prototype.withOffsetY=function(t){return this._positionStrategy.withDefaultOffsetY(t),this},t.prototype.withLockedPosition=function(t){return this._positionStrategy.withLockedPosition(t),this},t.prototype.withPositions=function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this},t.prototype.setOrigin=function(t){return this._positionStrategy.setOrigin(t),this},t}(),GT=function(){function t(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return t.prototype.attach=function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1},t.prototype.top=function(t){return void 0===t&&(t=""),this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this},t.prototype.left=function(t){return void 0===t&&(t=""),this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this},t.prototype.bottom=function(t){return void 0===t&&(t=""),this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this},t.prototype.right=function(t){return void 0===t&&(t=""),this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this},t.prototype.width=function(t){return void 0===t&&(t=""),this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this},t.prototype.height=function(t){return void 0===t&&(t=""),this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this},t.prototype.centerHorizontally=function(t){return void 0===t&&(t=""),this.left(t),this._justifyContent="center",this},t.prototype.centerVertically=function(t){return void 0===t&&(t=""),this.top(t),this._alignItems="center",this},t.prototype.apply=function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===o.width?"0":this._leftOffset,t.marginTop="100%"===o.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===o.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===o.height?"flex-start":this._alignItems}},t.prototype.dispose=function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,o=e.style;e.classList.remove("cdk-global-overlay-wrapper"),o.justifyContent=o.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},t}(),WT=function(){function t(t,e,o,n){this._viewportRuler=t,this._document=e,this._platform=o,this._overlayContainer=n}return t.prototype.global=function(){return new GT},t.prototype.connectedTo=function(t,e,o){return new HT(e,o,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)},t.prototype.flexibleConnectedTo=function(t){return new UT(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)},t.ngInjectableDef=dt({factory:function(){return new t(Pt(mT),Pt(fp),Pt(w_),Pt(PT))},token:t,providedIn:"root"}),t}(),jT=0,KT=function(){function t(t,e,o,n,r,i,s,l,a,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=o,this._positionBuilder=n,this._keyboardDispatcher=r,this._injector=i,this._ngZone=s,this._document=l,this._directionality=a,this._location=u}return t.prototype.create=function(t){var e=this._createHostElement(),o=this._createPaneElement(e),n=this._createPortalOutlet(o),r=new RT(t);return r.direction=r.direction||this._directionality.value,new FT(n,e,o,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)},t.prototype.position=function(){return this._positionBuilder},t.prototype._createPaneElement=function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+jT++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e},t.prototype._createHostElement=function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t},t.prototype._createPortalOutlet=function(t){return this._appRef||(this._appRef=this._injector.get(os)),new ET(t,this._componentFactoryResolver,this._appRef,this._injector)},t}(),zT=new wt("cdk-connected-overlay-scroll-strategy");function XT(t){return function(){return t.scrollStrategies.reposition()}}var YT=function(){return function(){}}(),JT=20;function qT(t){return Error('Tooltip position "'+t+'" is invalid.')}var ZT=new wt("mat-tooltip-scroll-strategy");function QT(t){return function(){return t.scrollStrategies.reposition({scrollThrottle:JT})}}var $T=new wt("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),tS=function(){function t(t,e,o,n,r,i,s,l,a,u,c,p){var h=this;this._overlay=t,this._elementRef=e,this._scrollDispatcher=o,this._viewContainerRef=n,this._ngZone=r,this._ariaDescriber=s,this._focusMonitor=l,this._dir=u,this._defaultOptions=c,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this._message="",this._manualListeners=new Map,this._destroyed=new O,this._scrollStrategy=a;var g=e.nativeElement,d="undefined"==typeof window||window.Hammer||p;i.IOS||i.ANDROID?d||this._manualListeners.set("touchstart",(function(){return h.show()})):this._manualListeners.set("mouseenter",(function(){return h.show()})).set("mouseleave",(function(){return h.hide()})),this._manualListeners.forEach((function(t,e){return g.addEventListener(e,t)})),l.monitor(e).pipe(Cy(this._destroyed)).subscribe((function(t){t?"keyboard"===t&&r.run((function(){return h.show()})):r.run((function(){return h.hide(0)}))})),c&&c.position&&(this.position=c.position)}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=E_(t),this._disabled&&this.hide(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._message},set:function(t){var e=this;this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?(""+t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular((function(){Promise.resolve().then((function(){e._ariaDescriber.describe(e._elementRef.nativeElement,e.message)}))})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipClass",{get:function(){return this._tooltipClass},set:function(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this._elementRef.nativeElement,e=t.style;"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||(e.webkitUserSelect=e.userSelect=e.msUserSelect=""),t.draggable&&"none"===e.webkitUserDrag&&(e.webkitUserDrag="")},t.prototype.ngOnDestroy=function(){var t=this;this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._manualListeners.forEach((function(e,o){t._elementRef.nativeElement.removeEventListener(o,e)})),this._manualListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.message),this._focusMonitor.stopMonitoring(this._elementRef)},t.prototype.show=function(t){var e=this;if(void 0===t&&(t=this.showDelay),!this.disabled&&this.message&&(!this._isTooltipVisible()||this._tooltipInstance._showTimeoutId||this._tooltipInstance._hideTimeoutId)){var o=this._createOverlay();this._detach(),this._portal=this._portal||new vT(eS,this._viewContainerRef),this._tooltipInstance=o.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Cy(this._destroyed)).subscribe((function(){return e._detach()})),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}},t.prototype.hide=function(t){void 0===t&&(t=this.hideDelay),this._tooltipInstance&&this._tooltipInstance.hide(t)},t.prototype.toggle=function(){this._isTooltipVisible()?this.hide():this.show()},t.prototype._isTooltipVisible=function(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()},t.prototype._handleKeydown=function(t){this._isTooltipVisible()&&27===t.keyCode&&!N_(t)&&(t.preventDefault(),t.stopPropagation(),this.hide(0))},t.prototype._handleTouchend=function(){this.hide(this._defaultOptions.touchendHideDelay)},t.prototype._createOverlay=function(){var t=this;if(this._overlayRef)return this._overlayRef;var e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(e);return o.positionChanges.pipe(Cy(this._destroyed)).subscribe((function(e){t._tooltipInstance&&e.scrollableViewProperties.isOverlayClipped&&t._tooltipInstance.isVisible()&&t._ngZone.run((function(){return t.hide(0)}))})),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Cy(this._destroyed)).subscribe((function(){return t._detach()})),this._overlayRef},t.prototype._detach=function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null},t.prototype._updatePosition=function(){var t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),o=this._getOverlayPosition();t.withPositions([Object(n.__assign)({},e.main,o.main),Object(n.__assign)({},e.fallback,o.fallback)])},t.prototype._getOrigin=function(){var t,e=!this._dir||"ltr"==this._dir.value,o=this.position;if("above"==o||"below"==o)t={originX:"center",originY:"above"==o?"top":"bottom"};else if("before"==o||"left"==o&&e||"right"==o&&!e)t={originX:"start",originY:"center"};else{if(!("after"==o||"right"==o&&e||"left"==o&&!e))throw qT(o);t={originX:"end",originY:"center"}}var n=this._invertPosition(t.originX,t.originY);return{main:t,fallback:{originX:n.x,originY:n.y}}},t.prototype._getOverlayPosition=function(){var t,e=!this._dir||"ltr"==this._dir.value,o=this.position;if("above"==o)t={overlayX:"center",overlayY:"bottom"};else if("below"==o)t={overlayX:"center",overlayY:"top"};else if("before"==o||"left"==o&&e||"right"==o&&!e)t={overlayX:"end",overlayY:"center"};else{if(!("after"==o||"right"==o&&e||"left"==o&&!e))throw qT(o);t={overlayX:"start",overlayY:"center"}}var n=this._invertPosition(t.overlayX,t.overlayY);return{main:t,fallback:{overlayX:n.x,overlayY:n.y}}},t.prototype._updateTooltipMessage=function(){var t=this;this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Wp(1),Cy(this._destroyed)).subscribe((function(){t._tooltipInstance&&t._overlayRef.updatePosition()})))},t.prototype._setTooltipClass=function(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())},t.prototype._invertPosition=function(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}},t}(),eS=function(){function t(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new O,this._isHandset=this._breakpointObserver.observe(nT.Handset)}return t.prototype.show=function(t){var e=this;this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout((function(){e._visibility="visible",e._showTimeoutId=null,e._markForCheck()}),t)},t.prototype.hide=function(t){var e=this;this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout((function(){e._visibility="hidden",e._hideTimeoutId=null,e._markForCheck()}),t)},t.prototype.afterHidden=function(){return this._onHide.asObservable()},t.prototype.isVisible=function(){return"visible"===this._visibility},t.prototype.ngOnDestroy=function(){this._onHide.complete()},t.prototype._animationStart=function(){this._closeOnInteraction=!1},t.prototype._animationDone=function(t){var e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)},t.prototype._handleBodyInteraction=function(){this._closeOnInteraction&&this.hide(0)},t.prototype._markForCheck=function(){this._changeDetectorRef.markForCheck()},t}(),oS=function(){return function(){}}(),nS="accent",rS=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],iS=function(t){function e(e,o,n){var r=t.call(this,e)||this;r._focusMonitor=o,r._animationMode=n,r.isRoundButton=r._hasHostAttributes("mat-fab","mat-mini-fab"),r.isIconButton=r._hasHostAttributes("mat-icon-button");for(var i=0,s=rS;i<s.length;i++){var l=s[i];r._hasHostAttributes(l)&&r._getHostElement().classList.add(l)}return e.nativeElement.classList.add("mat-button-base"),r._focusMonitor.monitor(r._elementRef,!0),r.isRoundButton&&(r.color=nS),r}return Object(n.__extends)(e,t),e.prototype.ngOnDestroy=function(){this._focusMonitor.stopMonitoring(this._elementRef)},e.prototype.focus=function(t,e){void 0===t&&(t="program"),this._focusMonitor.focusVia(this._getHostElement(),t,e)},e.prototype._getHostElement=function(){return this._elementRef.nativeElement},e.prototype._isRippleDisabled=function(){return this.disableRipple||this.disabled},e.prototype._hasHostAttributes=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return e.some((function(e){return t._getHostElement().hasAttribute(e)}))},e}($_(Q_(ty(function(){return function(t){this._elementRef=t}}())))),sS=function(){return function(){}}(),lS=Bn({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function aS(t){return Vs(2,[ws(671088640,1,{ripple:0}),(t()(),ks(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),Ns(null,0),(t()(),ks(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),Ur(4,212992,[[1,4]],0,vy,[Po,Ui,w_,[2,yy],[2,yk]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),ks(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var o=e.component;t(e,4,0,o.isIconButton,o._isRippleDisabled(),o._getHostElement())}),(function(t,e){var o=e.component;t(e,3,0,o.isRoundButton||o.isIconButton,Ar(e,4).unbounded)}))}var uS=function(){function t(t){this.blocklyService=t,this.showArduinoSetupFunction=localStorage.getItem("show_setup_function_arduino")===(!0).toString(),this.skinColor=localStorage.getItem("skin_color")||"#a424d3",this.ledColor=localStorage.getItem("led_color")}return t.prototype.ngOnInit=function(){},t.prototype.onChangeshowArduionSetupFunction=function(t){this.blocklyService.showSetupInArduinoStart(t.checked),localStorage.setItem("show_setup_function_arduino",t.checked.toString()),this.showArduinoSetupFunction=t.checked},t.prototype.onNewSkinColor=function(t){localStorage.setItem("skin_color",t),this.skinColor=t},t.prototype.onNewLedColor=function(t){localStorage.setItem("led_color",t),this.ledColor=t},t.prototype.reset=function(){localStorage.removeItem("led_color"),this.ledColor=null,localStorage.removeItem("show_setup_function_arduino"),this.blocklyService.showSetupInArduinoStart(!1),this.showArduinoSetupFunction=!1,localStorage.setItem("skin_color","#a424d3"),this.skinColor="#a424d3"},t}(),cS=Bn({encapsulation:0,styles:[["div[_ngcontent-%COMP%]{margin-top:20px}input[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #d3d3d3}"]],data:{}});function pS(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Ps(-1,null,["Advanced Settings"])),(t()(),ks(2,16777216,null,null,4,"mat-slide-toggle",[["class","mat-slide-toggle"],["labelPosition","before"],["matTooltip","Allows you to add blocks to the setup function of the Arduino."]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(t,e,o){var n=!0,r=t.component;return"focus"===e&&(n=!1!==Ar(t,4)._inputElement.nativeElement.focus()&&n),"longpress"===e&&(n=!1!==Ar(t,5).show()&&n),"keydown"===e&&(n=!1!==Ar(t,5)._handleKeydown(o)&&n),"touchend"===e&&(n=!1!==Ar(t,5)._handleTouchend()&&n),"change"===e&&(n=!1!==r.onChangeshowArduionSetupFunction(o)&&n),n}),Yk,Xk)),Hr(5120,null,Ry,(function(t){return[t]}),[Vk]),Ur(4,1228800,null,0,Vk,[Po,z_,Ie,[8,null],Ui,Pk,[2,yk],[2,Wv]],{labelPosition:[0,"labelPosition"],checked:[1,"checked"]},{change:"change"}),Ur(5,212992,null,0,tS,[KT,Po,dT,cn,Ui,w_,G_,z_,ZT,[2,Wv],[2,$T],[2,eg]],{message:[0,"message"]},null),(t()(),Ps(-1,0,[" Arduion Setup Function\n"])),(t()(),ks(7,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),ks(8,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ps(-1,null,["Skin Color: "])),(t()(),ks(10,16777216,null,null,1,"input",[["id","skin_color"],["readonly",""]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"click"===e&&(n=!1!==Ar(t,11).handleClick()&&n),"focus"===e&&(n=!1!==Ar(t,11).handleFocus()&&n),"input"===e&&(n=!1!==Ar(t,11).handleInput(o)&&n),"colorPickerChange"===e&&(n=!1!==r.onNewSkinColor(o)&&n),n}),null,null)),Ur(11,671744,null,0,Am,[We,xo,os,cn,Po,Sm],{colorPicker:[0,"colorPicker"]},{colorPickerChange:"colorPickerChange"}),(t()(),ks(12,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),ks(13,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ps(-1,null,["Led Color: "])),(t()(),ks(15,16777216,null,null,1,"input",[["id","led_color"],["readonly",""]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],(function(t,e,o){var n=!0,r=t.component;return"click"===e&&(n=!1!==Ar(t,16).handleClick()&&n),"focus"===e&&(n=!1!==Ar(t,16).handleFocus()&&n),"input"===e&&(n=!1!==Ar(t,16).handleInput(o)&&n),"colorPickerChange"===e&&(n=!1!==r.onNewLedColor(o)&&n),n}),null,null)),Ur(16,671744,null,0,Am,[We,xo,os,cn,Po,Sm],{colorPicker:[0,"colorPicker"]},{colorPickerChange:"colorPickerChange"}),(t()(),ks(17,0,null,null,2,"button",[["color","warn"],["mat-stroked-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.reset()&&n),n}),aS,lS)),Ur(18,180224,null,0,iS,[Po,z_,[2,yk]],{color:[0,"color"]},null),(t()(),Ps(-1,0,["Reset"]))],(function(t,e){var o=e.component;t(e,4,0,"before",o.showArduinoSetupFunction),t(e,5,0,"Allows you to add blocks to the setup function of the Arduino."),t(e,11,0,o.skinColor),t(e,16,0,o.ledColor),t(e,18,0,"warn")}),(function(t,e){var o=e.component;t(e,2,0,Ar(e,4).id,Ar(e,4).disabled?null:-1,null,null,Ar(e,4).checked,Ar(e,4).disabled,"before"==Ar(e,4).labelPosition,"NoopAnimations"===Ar(e,4)._animationMode),t(e,10,0,o.skinColor),t(e,15,0,o.ledColor),t(e,17,0,Ar(e,18).disabled||null,"NoopAnimations"===Ar(e,18)._animationMode)}))}function hS(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-advanced",[],null,null,null,pS,cS)),Ur(1,114688,null,0,uS,[hm],null,null)],(function(t,e){t(e,1,0)}),null)}var gS=fr("app-advanced",uS,hS,{},{},[]),dS=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),fS=Bn({encapsulation:0,styles:[[""]],data:{}});function mS(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Ps(-1,null,["About ElectroBlock"])),(t()(),ks(2,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Ps(-1,null,["Using Version: 3.0.0"])),(t()(),ks(4,0,null,null,12,"p",[],null,null,null,null,null)),(t()(),Ps(-1,null,[" A big thanks to "])),(t()(),ks(6,0,null,null,1,"a",[["href","https://github.com/BlocklyDuino/BlocklyDuino"]],null,null,null,null,null)),(t()(),Ps(-1,null,["BlockDruino"])),(t()(),Ps(-1,null,[" for giving the start code for this project. Also a big thank you to google for creating the "])),(t()(),ks(9,0,null,null,1,"a",[["href","https://developers.google.com/blockly/"]],null,null,null,null,null)),(t()(),Ps(-1,null,["Blockly"])),(t()(),Ps(-1,null,[" meta language and javascript library. I would also like to give a huge thank you and shout out to "])),(t()(),ks(12,0,null,null,1,"a",[["href","http://www.arduino.cc"]],null,null,null,null,null)),(t()(),Ps(-1,null,["Arduino"])),(t()(),Ps(-1,null,[" . If you are interested in looking at the code it's "])),(t()(),ks(15,0,null,null,1,"a",[["href","https://github.com/phptuts/ElectroBlocks"]],null,null,null,null,null)),(t()(),Ps(-1,null,["here."]))],null,null)}function _S(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-about",[],null,null,null,mS,fS)),Ur(1,114688,null,0,dS,[],null,null)],(function(t,e){t(e,1,0)}),null)}var yS=fr("app-about",dS,_S,{},{},[]),vS=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),bS=Bn({encapsulation:0,styles:[[""]],data:{}});function ES(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Ps(-1,null,["Bug Report"])),(t()(),ks(2,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),Ps(-1,null,[" File a bug at "])),(t()(),ks(4,0,null,null,1,"a",[["href","https://github.com/phptuts/ElectroBlocks/issues"]],null,null,null,null,null)),(t()(),Ps(-1,null,["Github "])),(t()(),Ps(-1,null,[" or by emailing me at glaserpower@gmail.com. No affilation with github.com.\n"]))],null,null)}function kS(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-bug",[],null,null,null,ES,bS)),Ur(1,114688,null,0,vS,[],null,null)],(function(t,e){t(e,1,0)}),null)}var TS=fr("app-bug",vS,kS,{},{},[]),SS=o("wZee");function CS(t,e){void 0===e&&(e=x_);var o,n=(o=t)instanceof Date&&!isNaN(+o)?+t-e.now():Math.abs(t);return function(t){return t.lift(new AS(n,e))}}o("Gf7V"),o("huE1"),o("5urj"),o("wPEV");var AS=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new wS(t,this.delay,this.scheduler))},t}(),wS=function(t){function e(e,o,n){var r=t.call(this,e)||this;return r.delay=o,r.scheduler=n,r.queue=[],r.active=!1,r.errored=!1,r}return n.__extends(e,t),e.dispatch=function(t){for(var e=t.source,o=e.queue,n=t.scheduler,r=t.destination;o.length>0&&o[0].time-n.now()<=0;)o.shift().notification.observe(r);if(o.length>0){var i=Math.max(0,o[0].time-n.now());this.schedule(t,i)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,o=new OS(e.now()+this.delay,t);this.queue.push(o),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(da.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(da.createComplete()),this.unsubscribe()},e}(m),OS=function(){return function(t,e){this.time=t,this.notification=e}}(),BS=function(){function t(t,e){var o=this;this.blocklyService=t,this.ngZone=e,this.code$=this.blocklyService.code$.pipe(V((function(t){return o.escapeHTML(t)})),it(),Oa(""),CS(10),nh((function(){return o.resetPrism()})))}return t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){t.blocklyService.resizeWorkspace()}),10)},t.prototype.escapeHTML=function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.prototype.resetPrism=function(){var t=this;setTimeout((function(){t.ngZone.run((function(){SS.highlightAll()}))}),10)},t}(),IS=Bn({encapsulation:0,styles:[["#code-view[_ngcontent-%COMP%]{width:100%;height:100%;margin:0}"]],data:{}});function RS(t){return Vs(0,[(t()(),ks(0,0,null,null,4,"pre",[["class","line-numbers"],["id","code-view"]],null,null,null,null,null)),(t()(),ks(1,0,null,null,2,"code",[["class","language-c"]],[[8,"innerHTML",1]],null,null,null,null)),Vr(131072,gp,[Ie]),(t()(),Ps(-1,null,["\n"])),(t()(),Ps(-1,null,["\n"]))],null,(function(t,e){var o=e.component;t(e,1,0,An(e,1,0,Ar(e,2).transform(o.code$)))}))}function NS(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-code",[],null,null,null,RS,IS)),Ur(1,4243456,null,0,BS,[hm,Ui],null,null)],null,null)}var xS=fr("app-code",BS,NS,{},{},[]),DS=function(){return function(){}}(),LS=function(){return function(){}}(),MS=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach((function(t){var o=t.indexOf(":");if(o>0){var n=t.slice(0,o),r=n.toLowerCase(),i=t.slice(o+1).trim();e.maybeSetNormalizedName(n,r),e.headers.has(r)?e.headers.get(r).push(i):e.headers.set(r,[i])}}))}:function(){e.headers=new Map,Object.keys(t).forEach((function(o){var n=t[o],r=o.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(e.headers.set(r,n),e.maybeSetNormalizedName(o,r))}))}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(o){e.headers.set(o,t.headers.get(o)),e.normalizedNames.set(o,t.normalizedNames.get(o))}))},t.prototype.clone=function(e){var o=new t;return o.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,o.lazyUpdate=(this.lazyUpdate||[]).concat([e]),o},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,Object(n.__spread)(o)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var s=this.headers.get(e);if(!s)return;0===(s=s.filter((function(t){return-1===i.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(o){return t(e.normalizedNames.get(o),e.headers.get(o))}))},t}(),PS=function(){function t(){}return t.prototype.encodeKey=function(t){return FS(t)},t.prototype.encodeValue=function(t){return FS(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function FS(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var US=function(){function t(t){var e,o,r,i=this;if(void 0===t&&(t={}),this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new PS,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,o=this.encoder,r=new Map,e.length>0&&e.split("&").forEach((function(t){var e=t.indexOf("="),i=Object(n.__read)(-1==e?[o.decodeKey(t),""]:[o.decodeKey(t.slice(0,e)),o.decodeValue(t.slice(e+1))],2),s=i[0],l=i[1],a=r.get(s)||[];a.push(l),r.set(s,a)})),r)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach((function(e){var o=t.fromObject[e];i.map.set(e,Array.isArray(o)?o:[o])}))):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map((function(e){var o=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return o+"="+t.encoder.encodeValue(e)})).join("&")})).join("&")},t.prototype.clone=function(e){var o=new t({encoder:this.encoder});return o.cloneFrom=this.cloneFrom||this,o.updates=(this.updates||[]).concat([e]),o},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var o=("a"===e.op?t.map.get(e.param):void 0)||[];o.push(e.value),t.map.set(e.param,o);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var n=t.map.get(e.param)||[],r=n.indexOf(e.value);-1!==r&&n.splice(r,1),n.length>0?t.map.set(e.param,n):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)},t}();function VS(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function HS(t){return"undefined"!=typeof Blob&&t instanceof Blob}function GS(t){return"undefined"!=typeof FormData&&t instanceof FormData}var WS=function(){function t(t,e,o,n){var r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==o?o:null,r=n):r=o,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new MS),this.params){var i=this.params.toString();if(0===i.length)this.urlWithParams=e;else{var s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+i}}else this.params=new US,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:VS(this.body)||HS(this.body)||GS(this.body)||"string"==typeof this.body?this.body:this.body instanceof US?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:GS(this.body)?null:HS(this.body)?this.body.type||null:VS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof US?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var o=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,a=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((function(t,o){return t.set(o,e.setHeaders[o])}),a)),e.setParams&&(u=Object.keys(e.setParams).reduce((function(t,o){return t.set(o,e.setParams[o])}),u)),new t(o,n,i,{params:u,headers:a,reportProgress:l,responseType:r,withCredentials:s})},t}(),jS=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),KS=function(){return function(t,e,o){void 0===e&&(e=200),void 0===o&&(o="OK"),this.headers=t.headers||new MS,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),zS=function(t){function e(e){void 0===e&&(e={});var o=t.call(this,e)||this;return o.type=jS.ResponseHeader,o}return Object(n.__extends)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(KS),XS=function(t){function e(e){void 0===e&&(e={});var o=t.call(this,e)||this;return o.type=jS.Response,o.body=void 0!==e.body?e.body:null,o}return Object(n.__extends)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(KS),YS=function(t){function e(e){var o=t.call(this,e,0,"Unknown Error")||this;return o.name="HttpErrorResponse",o.ok=!1,o.message=o.status>=200&&o.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,o.error=e.error||null,o}return Object(n.__extends)(e,t),e}(KS);function JS(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var qS=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,o){var n,r=this;if(void 0===o&&(o={}),t instanceof WS)n=t;else{var i;i=o.headers instanceof MS?o.headers:new MS(o.headers);var s=void 0;o.params&&(s=o.params instanceof US?o.params:new US({fromObject:o.params})),n=new WS(t,e,void 0!==o.body?o.body:null,{headers:i,params:s,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}var l=pa(n).pipe(eh((function(t){return r.handler.handle(t)})));if(t instanceof WS||"events"===o.observe)return l;var a=l.pipe(Ic((function(t){return t instanceof XS})));switch(o.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return a.pipe(V((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return a.pipe(V((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return a.pipe(V((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return a.pipe(V((function(t){return t.body})))}case"response":return a;default:throw new Error("Unreachable: unhandled observe type "+o.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new US).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,o){return void 0===o&&(o={}),this.request("PATCH",t,JS(o,e))},t.prototype.post=function(t,e,o){return void 0===o&&(o={}),this.request("POST",t,JS(o,e))},t.prototype.put=function(t,e,o){return void 0===o&&(o={}),this.request("PUT",t,JS(o,e))},t}(),ZS=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),QS=new wt("HTTP_INTERCEPTORS"),$S=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),tC=/^\)\]\}',?\n/,eC=function(){return function(){}}(),oC=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),nC=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new k((function(o){var n=e.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((function(t,e){return n.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&n.setRequestHeader("Content-Type",r)}if(t.responseType){var i=t.responseType.toLowerCase();n.responseType="json"!==i?i:"text"}var s=t.serializeBody(),l=null,a=function(){if(null!==l)return l;var e=1223===n.status?204:n.status,o=n.statusText||"OK",r=new MS(n.getAllResponseHeaders()),i=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return l=new zS({headers:r,status:e,statusText:o,url:i})},u=function(){var e=a(),r=e.headers,i=e.status,s=e.statusText,l=e.url,u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);var c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){var p=u;u=u.replace(tC,"");try{u=""!==u?JSON.parse(u):null}catch(h){u=p,c&&(c=!1,u={error:h,text:u})}}c?(o.next(new XS({body:u,headers:r,status:i,statusText:s,url:l||void 0})),o.complete()):o.error(new YS({error:u,headers:r,status:i,statusText:s,url:l||void 0}))},c=function(t){var e=a().url,r=new YS({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:e||void 0});o.error(r)},p=!1,h=function(e){p||(o.next(a()),p=!0);var r={type:jS.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),o.next(r)},g=function(t){var e={type:jS.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),o.next(e)};return n.addEventListener("load",u),n.addEventListener("error",c),t.reportProgress&&(n.addEventListener("progress",h),null!==s&&n.upload&&n.upload.addEventListener("progress",g)),n.send(s),o.next({type:jS.Sent}),function(){n.removeEventListener("error",c),n.removeEventListener("load",u),t.reportProgress&&(n.removeEventListener("progress",h),null!==s&&n.upload&&n.upload.removeEventListener("progress",g)),n.abort()}}))},t}(),rC=new wt("XSRF_COOKIE_NAME"),iC=new wt("XSRF_HEADER_NAME"),sC=function(){return function(){}}(),lC=function(){function t(t,e,o){this.doc=t,this.platform=e,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yc(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}(),aC=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return e.handle(t);var n=this.tokenService.getToken();return null===n||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,n)})),e.handle(t)},t}(),uC=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(QS,[]);this.chain=e.reduceRight((function(t,e){return new ZS(t,e)}),this.backend)}return this.chain.handle(t)},t}(),cC=function(){function t(){}var e;return e=t,t.disable=function(){return{ngModule:e,providers:[{provide:aC,useClass:$S}]}},t.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:rC,useValue:t.cookieName}:[],t.headerName?{provide:iC,useValue:t.headerName}:[]]}},t}(),pC=function(){return function(){}}();function hC(t){return Error('Unable to find icon with the name "'+t+'"')}function gC(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \""+t+'".')}function dC(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was \""+t+'".')}var fC=function(){return function(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}(),mC=function(){function t(t,e,o,n){this._httpClient=t,this._sanitizer=e,this._errorHandler=n,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=o}return t.prototype.addSvgIcon=function(t,e,o){return this.addSvgIconInNamespace("",t,e,o)},t.prototype.addSvgIconLiteral=function(t,e,o){return this.addSvgIconLiteralInNamespace("",t,e,o)},t.prototype.addSvgIconInNamespace=function(t,e,o,n){return this._addSvgIconConfig(t,e,new fC(o,n))},t.prototype.addSvgIconLiteralInNamespace=function(t,e,o,n){var r=this._sanitizer.sanitize(Se.HTML,o);if(!r)throw dC(o);var i=this._createSvgElementForSingleIcon(r,n);return this._addSvgIconConfig(t,e,new fC(i,n))},t.prototype.addSvgIconSet=function(t,e){return this.addSvgIconSetInNamespace("",t,e)},t.prototype.addSvgIconSetLiteral=function(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)},t.prototype.addSvgIconSetInNamespace=function(t,e,o){return this._addSvgIconSetConfig(t,new fC(e,o))},t.prototype.addSvgIconSetLiteralInNamespace=function(t,e,o){var n=this._sanitizer.sanitize(Se.HTML,e);if(!n)throw dC(e);var r=this._svgElementFromString(n);return this._addSvgIconSetConfig(t,new fC(r,o))},t.prototype.registerFontClassAlias=function(t,e){return void 0===e&&(e=t),this._fontCssClassesByAlias.set(t,e),this},t.prototype.classNameForFontAlias=function(t){return this._fontCssClassesByAlias.get(t)||t},t.prototype.setDefaultFontSetClass=function(t){return this._defaultFontSetClass=t,this},t.prototype.getDefaultFontSetClass=function(){return this._defaultFontSetClass},t.prototype.getSvgIconFromUrl=function(t){var e=this,o=this._sanitizer.sanitize(Se.RESOURCE_URL,t);if(!o)throw gC(t);var n=this._cachedIconsByUrl.get(o);return n?pa(_C(n)):this._loadSvgIconFromConfig(new fC(t)).pipe(nh((function(t){return e._cachedIconsByUrl.set(o,t)})),V((function(t){return _C(t)})))},t.prototype.getNamedSvgIcon=function(t,e){void 0===e&&(e="");var o=yC(e,t),n=this._svgIconConfigs.get(o);if(n)return this._getSvgFromConfig(n);var r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):ha(hC(o))},t.prototype.ngOnDestroy=function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()},t.prototype._getSvgFromConfig=function(t){return t.svgElement?pa(_C(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(nh((function(e){return t.svgElement=e})),V((function(t){return _C(t)})))},t.prototype._getSvgFromIconSetConfigs=function(t,e){var o=this,n=this._extractIconWithNameFromAnySet(t,e);return n?pa(n):By(e.filter((function(t){return!t.svgElement})).map((function(t){return o._loadSvgIconSetFromConfig(t).pipe(Vp((function(e){var n="Loading icon set URL: "+o._sanitizer.sanitize(Se.RESOURCE_URL,t.url)+" failed: "+e.message;return o._errorHandler?o._errorHandler.handleError(new Error(n)):console.error(n),pa(null)})))}))).pipe(V((function(){var n=o._extractIconWithNameFromAnySet(t,e);if(!n)throw hC(t);return n})))},t.prototype._extractIconWithNameFromAnySet=function(t,e){for(var o=e.length-1;o>=0;o--){var n=e[o];if(n.svgElement){var r=this._extractSvgIconFromSet(n.svgElement,t,n.options);if(r)return r}}return null},t.prototype._loadSvgIconFromConfig=function(t){var e=this;return this._fetchUrl(t.url).pipe(V((function(o){return e._createSvgElementForSingleIcon(o,t.options)})))},t.prototype._loadSvgIconSetFromConfig=function(t){var e=this;return t.svgElement?pa(t.svgElement):this._fetchUrl(t.url).pipe(V((function(o){return t.svgElement||(t.svgElement=e._svgElementFromString(o)),t.svgElement})))},t.prototype._createSvgElementForSingleIcon=function(t,e){var o=this._svgElementFromString(t);return this._setSvgAttributes(o,e),o},t.prototype._extractSvgIconFromSet=function(t,e,o){var n=t.querySelector('[id="'+e+'"]');if(!n)return null;var r=n.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,o);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),o);var i=this._svgElementFromString("<svg></svg>");return i.appendChild(r),this._setSvgAttributes(i,o)},t.prototype._svgElementFromString=function(t){var e=this._document.createElement("DIV");e.innerHTML=t;var o=e.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o},t.prototype._toSvgElement=function(t){for(var e=this._svgElementFromString("<svg></svg>"),o=t.attributes,n=0;n<o.length;n++){var r=o[n],i=r.name;"id"!==i&&e.setAttribute(i,r.value)}for(n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[n].cloneNode(!0));return e},t.prototype._setSvgAttributes=function(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t},t.prototype._fetchUrl=function(t){var e=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error('Cannot fetch icon from URL "'+t+'".');var o=this._sanitizer.sanitize(Se.RESOURCE_URL,t);if(!o)throw gC(t);var n=this._inProgressUrlFetches.get(o);if(n)return n;var r=this._httpClient.get(o,{responseType:"text"}).pipe(sh((function(){return e._inProgressUrlFetches.delete(o)})),it());return this._inProgressUrlFetches.set(o,r),r},t.prototype._addSvgIconConfig=function(t,e,o){return this._svgIconConfigs.set(yC(t,e),o),this},t.prototype._addSvgIconSetConfig=function(t,e){var o=this._iconSetConfigs.get(t);return o?o.push(e):this._iconSetConfigs.set(t,[e]),this},t.ngInjectableDef=dt({factory:function(){return new t(Pt(qS,8),Pt(lg),Pt(fp,8),Pt($t,8))},token:t,providedIn:"root"}),t}();function _C(t){return t.cloneNode(!0)}function yC(t,e){return t+":"+e}var vC=$_(function(){return function(t){this._elementRef=t}}()),bC=new wt("mat-icon-location",{providedIn:"root",factory:function(){var t=Ft(fp),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}}),EC=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],kC=EC.map((function(t){return"["+t+"]"})).join(", "),TC=/^url\(['"]?#(.*?)['"]?\)$/,SC=function(t){function e(e,o,n,r,i){var s=t.call(this,e)||this;return s._iconRegistry=o,s._location=r,s._errorHandler=i,s._inline=!1,n||e.nativeElement.setAttribute("aria-hidden","true"),s}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"inline",{get:function(){return this._inline},set:function(t){this._inline=E_(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSet",{get:function(){return this._fontSet},set:function(t){this._fontSet=this._cleanupFontValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontIcon",{get:function(){return this._fontIcon},set:function(t){this._fontIcon=this._cleanupFontValue(t)},enumerable:!0,configurable:!0}),e.prototype._splitIconName=function(t){if(!t)return["",""];var e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error('Invalid icon name: "'+t+'"')}},e.prototype.ngOnChanges=function(t){var e=this,o=t.svgIcon;if(o)if(this.svgIcon){var n=this._splitIconName(this.svgIcon),r=n[0],i=n[1];this._iconRegistry.getNamedSvgIcon(i,r).pipe(Wp(1)).subscribe((function(t){return e._setSvgElement(t)}),(function(t){var o="Error retrieving icon "+r+":"+i+"! "+t.message;e._errorHandler?e._errorHandler.handleError(new Error(o)):console.error(o)}))}else o.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()},e.prototype.ngOnInit=function(){this._usingFontIcon()&&this._updateFontIconClasses()},e.prototype.ngAfterViewChecked=function(){var t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){var e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}},e.prototype.ngOnDestroy=function(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()},e.prototype._usingFontIcon=function(){return!this.svgIcon},e.prototype._setSvgElement=function(t){this._clearSvgElement();for(var e=t.querySelectorAll("style"),o=0;o<e.length;o++)e[o].textContent+=" ";if(this._location){var n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n)}this._elementRef.nativeElement.appendChild(t)},e.prototype._clearSvgElement=function(){var t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){var o=t.childNodes[e];1===o.nodeType&&"svg"!==o.nodeName.toLowerCase()||t.removeChild(o)}},e.prototype._updateFontIconClasses=function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}},e.prototype._cleanupFontValue=function(t){return"string"==typeof t?t.trim().split(" ")[0]:t},e.prototype._prependPathToReferences=function(t){var e=this._elementsWithExternalReferences;e&&e.forEach((function(e,o){e.forEach((function(e){o.setAttribute(e.name,"url('"+t+"#"+e.value+"')")}))}))},e.prototype._cacheChildrenWithExternalReferences=function(t){for(var e=t.querySelectorAll(kC),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,n=function(t){EC.forEach((function(n){var r=e[t],i=r.getAttribute(n),s=i?i.match(TC):null;if(s){var l=o.get(r);l||o.set(r,l=[]),l.push({name:n,value:s[1]})}}))},r=0;r<e.length;r++)n(r)},e}(vC),CC=function(){return function(){}}(),AC=Bn({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function wC(t){return Vs(2,[Ns(null,0)],null,null)}var OC=function(){function t(){this.showArduino=!0,this.showArduinoSubject=new O,this.showArduino$=this.showArduinoSubject.asObservable()}return t.prototype.setShowArduino=function(t){this.showArduino=t,this.showArduinoSubject.next(t)},t.prototype.getShowArduino=function(){return this.showArduino},t.ngInjectableDef=dt({factory:function(){return new t},token:t,providedIn:"root"}),t}(),BC=function(){function t(){this.showVariables=!0,this.showVariablesSubject=new O,this.showsVariables$=this.showVariablesSubject.asObservable()}return t.prototype.setShowVariables=function(t){this.showVariables=t,this.showVariablesSubject.next(t)},t.prototype.getShowVariables=function(){return this.showVariables},t.ngInjectableDef=dt({factory:function(){return new t},token:t,providedIn:"root"}),t}(),IC=function(){function t(t){this.svg=t,this.arduinoPins=[]}return t.prototype.move=function(t,e){return this.svg.move(t,e),this},t.prototype.height=function(t){return this.svg.height(t),this},t.prototype.remove=function(){this.svg.remove()},t.prototype.getArduinoPins=function(){return this.arduinoPins},t}(),RC=function(t){function e(e){var o=t.call(this,e)||this;return o.svg=e,o.wires=[],o.svg.on("dragstart",(function(){o.updateWires()})),o.svg.on("dragmove",(function(){o.updateWires()})),o.svg.on("dragend",(function(){o.updateWires()})),o}return Object(n.__extends)(e,t),e.prototype.updateWires=function(){this.wires.forEach((function(t){t.updateConnection()}))},e.prototype.addWire=function(t){this.wires.push(t)},e.prototype.hideWires=function(){this.wires.forEach((function(t){return t.line.hide()}))},e.prototype.showWires=function(){this.wires.forEach((function(t){return t.line.show()}))},e.prototype.remove=function(){this.svg.remove(),this.wires.forEach((function(t){t.destroyWire()}))},e.prototype.shouldExist=function(t){var e=this;return void 0!==t.components.find((function(t){return e.isComponent(t)}))},e}(IC),NC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e}(RC),xC=function(t){function e(e,o,n,r,i,s){void 0===s&&(s=[]);var l=t.call(this,e)||this;return l.svg=e,l.redPin=o,l.greenPin=n,l.bluePin=r,l.type=i,l.resistors=s,l.arduinoPins.push(o,r,n),l}return Object(n.__extends)(e,t),e.prototype.isComponent=function(t){return t instanceof Wu&&t.greenPin===this.greenPin&&t.bluePin===this.bluePin&&t.redPin===this.redPin&&t.type===this.type},e.prototype.matchState=function(t){var e=t.components.find((function(t){return t instanceof Wu}));if(e){var o=lu(e.color);this.setColor(o)}},e.prototype.resetComponent=function(){this.setColor("#FFFFFF")},e.prototype.setColor=function(t){t="#000000"===t?"#FFFFFF":t,this.svg.select("#COLOR_LED > path").first().fill(t)},e.prototype.updateWires=function(){t.prototype.updateWires.call(this),this.resistors.forEach((function(t){t.updateWires()}))},e.prototype.remove=function(){t.prototype.remove.call(this),this.resistors.forEach((function(t){t.remove()}))},e}(RC),DC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e.prototype.matchState=function(t){if(t.txLedOn||this.turnOffLed(MC.TX_LED),t.powerLedOn&&this.turnOnLed(MC.POWER_LED),t.powerLedOn||this.turnOffLed(MC.POWER_LED),t.sendMessage.length>0)return this.turnOffLed(MC.RX_LED),void this.showMessage("Send Message:",t.sendMessage);var e=t.components.find((function(t){return t instanceof Ha}));if(e&&e.recievingMessage)return this.turnOnLed(MC.RX_LED),void this.showMessage("Recieved Message:",e.message);this.hideMessage(),this.turnOffLed(MC.RX_LED)},e.prototype.turnOnLed=function(t){return t===MC.POWER_LED?(this.svg.select("#"+MC.POWER_LED).first().node.style.fill=LC.POWER_ON,this):(this.svg.select("#"+t).first().node.style.fill=LC.LED_ON,this)},e.prototype.turnOffLed=function(t){return this.svg.select("#"+t).first().node.style.fill=LC.LED_OFF,this},e.prototype.hideWires=function(){return this.hidePinWires(),this.svg.select("#"+PC.Power).first().children().forEach((function(t){t.hide()})),this},e.prototype.hidePinWires=function(){return this.svg.select("#"+PC.Wires_To_Pins).first().children().forEach((function(t){t.hide()})),this},e.prototype.hideWire=function(t){return this.svg.select("#"+t).first().hide(),this},e.prototype.showWire=function(t){return this.svg.select("#"+t).first().show(),this},e.prototype.showMessage=function(t,e){e='"'+e+'"';var o=this.svg.select("#MESSAGE_ARDUINO_TITLE").first();o.node.textContent=t,o.show(),e.length>34&&(e=e.slice(0,31)+"...");var n=this.svg.select("#MESSAGE_ARDUINO_LINE_1").first();n.node.textContent=e.slice(0,17),n.show();var r=this.svg.select("#MESSAGE_ARDUINO_LINE_2").first();e.length>17?(r.node.textContent=e.slice(17),r.show()):r.hide(),this.svg.select("#MESSAGE_BUBBLE_ARDUINO").first().show()},e.prototype.hideMessage=function(){this.svg.select("#MESSAGE_ARDUINO_TITLE").first().hide(),this.svg.select("#MESSAGE_ARDUINO_LINE_1").first().hide(),this.svg.select("#MESSAGE_ARDUINO_LINE_2").first().hide(),this.svg.select("#MESSAGE_BUBBLE_ARDUINO").first().hide()},e}(IC),LC=function(t){return t.LED_ON="#ffa922",t.LED_OFF="#F2F2F2",t.POWER_ON="#49ff7e",t}({}),MC=function(t){return t.POWER_LED="POWER_LED",t.BUILT_IN_LED="BUILT_IN_LED",t.RX_LED="RX_LED",t.TX_LED="TX_LED",t}({}),PC=function(t){return t.Wires_To_Pins="Wires_To_Pins",t.Power="Power",t.GND="GND",t.VIN="VIN",t.PIN_A0="PIN_A0",t.PIN_A1="PIN_A1",t.PIN_A2="PIN_A2",t.PIN_A3="PIN_A3",t.PIN_A4="PIN_A4",t.PIN_A5="PIN_A5",t.PIN_2="PIN_2",t.PIN_3="PIN_3",t.PIN_4="PIN_4",t.PIN_5="PIN_5",t.PIN_6="PIN_6",t.PIN_7="PIN_7",t.PIN_8="PIN_8",t.PIN_9="PIN_9",t.PIN_10="PIN_10",t.PIN_11="PIN_11",t.PIN_12="PIN_12",t.PIN_13="PIN_13",t}({}),FC=function(t){return t.PIN_13="pin2C",t.PIN_12="pin6C",t.PIN_11="pin9C",t.PIN_10="pin13C",t.PIN_9="pin18C",t.PIN_8="pin22C",t.PIN_7="pin27C",t.PIN_6="pin31C",t.PIN_5="pin37C",t.PIN_4="pin41C",t.PIN_3="pin46C",t.PIN_2="pin51C",t.PIN_A0="pin54C",t.PIN_A1="pin58C",t.PIN_A2="pin4H",t.PIN_A3="pin8H",t.PIN_A4="pin12H",t.PIN_A5="pin16H",t}({}),UC=function(t){switch(t){case ka.PIN_2:return FC.PIN_2;case ka.PIN_3:return FC.PIN_3;case ka.PIN_4:return FC.PIN_4;case ka.PIN_5:return FC.PIN_5;case ka.PIN_6:return FC.PIN_6;case ka.PIN_7:return FC.PIN_7;case ka.PIN_8:return FC.PIN_8;case ka.PIN_9:return FC.PIN_9;case ka.PIN_10:return FC.PIN_10;case ka.PIN_11:return FC.PIN_11;case ka.PIN_12:return FC.PIN_12;case ka.PIN_13:return FC.PIN_13;case ka.PIN_A0:return FC.PIN_A0;case ka.PIN_A1:return FC.PIN_A1;case ka.PIN_A2:return FC.PIN_A2;case ka.PIN_A3:return FC.PIN_A3;case ka.PIN_A4:return FC.PIN_A4;case ka.PIN_A5:return FC.PIN_A5;default:return FC.PIN_2}},VC=function(t){switch(t){case ka.PIN_2:return PC.PIN_2;case ka.PIN_3:return PC.PIN_3;case ka.PIN_4:return PC.PIN_4;case ka.PIN_5:return PC.PIN_5;case ka.PIN_6:return PC.PIN_6;case ka.PIN_7:return PC.PIN_7;case ka.PIN_8:return PC.PIN_8;case ka.PIN_9:return PC.PIN_9;case ka.PIN_10:return PC.PIN_10;case ka.PIN_11:return PC.PIN_11;case ka.PIN_12:return PC.PIN_12;case ka.PIN_13:return PC.PIN_13;case ka.PIN_A0:return PC.PIN_A0;case ka.PIN_A1:return PC.PIN_A1;case ka.PIN_A2:return PC.PIN_A2;case ka.PIN_A3:return PC.PIN_A3;case ka.PIN_A4:return PC.PIN_A4;case ka.PIN_A5:return PC.PIN_A5;default:return PC.PIN_2}},HC=function(t){function e(e,o){var n=t.call(this,e)||this;return n.svg=e,n.pin=o,n.degree=0,n.rotateBoundBox=n.svg.select("#CenterOfCicle").first().bbox(),n.arduinoPins.push(n.pin),n}return Object(n.__extends)(e,t),e.prototype.matchState=function(t){var e=this,o=t.components.filter((function(t){return t instanceof hu})).find((function(t){return t.pin===e.pin}));o&&(this.degree=o.degree,this.rotate(),this.updateText())},e.prototype.isComponent=function(t){return t instanceof hu&&t.pin===this.pin},e.prototype.rotate=function(){this.svg.select("#moving_part").first().rotate(-1*(this.degree+4),this.rotateBoundBox.x,this.rotateBoundBox.y)},e.prototype.updateText=function(){this.updateNameText(),this.updateAngleText()},e.prototype.updateAngleText=function(){var t=this.svg.select("#servo_degree").first();t.node.textContent=this.degree+"",t.x((70-t.length())/2)},e.prototype.updateNameText=function(){var t=this.svg.select("#servo_name").first();t.node.textContent="Servo "+this.pin.toString(),t.x((70-t.length())/2)},e.prototype.resetComponent=function(){this.degree=0,this.rotate(),this.updateText()},e}(RC),GC=[],WC=[6,9,13,18,22,27,31,37,41,46,51,54,58,61,56,50,44,38,32,26,20,14,8],jC=function(){var t=GC.sort((function(t,e){return t.position>e.position?1:-1})).find((function(t){return"available"===t.status}));return t.status="taken",t.position},KC=function(t,e){var o=parseInt(UC(t).replace("pin","").replace("C",""),0),n=GC.sort((function(t,e){return Math.abs(t.position-o)-Math.abs(e.position-o)})).filter((function(t){return"right"===e?t.position>o:t.position<o}));if(0===n.length){var r=(n=GC.sort((function(t,e){return Math.abs(t.position-o)-Math.abs(e.position-o)}))).find((function(t){return"available"===t.status}));return r.status="taken",r.position}var i=n.find((function(t){return"available"===t.status}));return i.status="taken",i.position},zC=function(t){var e=GC.findIndex((function(e){return e.position===t}));GC[e].status="available"},XC=function(){function t(t,e,o,n,r){this.line=t,this.component=e,this.breadBoardHole=o,this.connectionInfo=n,this.color=r}return t.prototype.updateConnection=function(){var t=this.getHoleXY(),e=t[0],o=t[1],n=this.getBottomMiddlePoint();this.line.plot(e,o,n[0],n[1]).stroke({width:2,color:this.color,linecap:"round"})},t.prototype.getBottomMiddlePoint=function(){var t=this.component.ctm().extract(),e=t.scaleX,o=t.scaleY,n=t.x,r=t.y;return[e*this.component.x()+n+this.component.width()*e/2,o*this.component.y()+r+this.component.height()*o]},t.prototype.getHoleXY=function(){var t=this.breadBoardHole.ctm().extract(),e=t.x,o=t.y;return[this.breadBoardHole.cx()+e,this.breadBoardHole.cy()+o]},t.prototype.destroyWire=function(){"ground"!==this.connectionInfo.type&&"power"!==this.connectionInfo.type||zC(this.connectionInfo.holeNumber),this.line.remove()},t}(),YC=function(){function t(t,e,o,n,r){this.line=t,this.breadBoardHole2=e,this.breadBoardHole1=o,this.bottomBreadboardHoleNumber=n,this.color=r}return t.prototype.getHoleXY=function(t){var e=t.ctm().extract(),o=e.x,n=e.y;return[t.cx()+o,t.cy()+n]},t.prototype.updateConnection=function(){var t=this.getHoleXY(this.breadBoardHole1),e=t[0],o=t[1],n=this.getHoleXY(this.breadBoardHole2);this.line.plot(e,o,n[0],n[1]).stroke({width:2,color:this.color,linecap:"round"})},t.prototype.destroyWire=function(){zC(this.bottomBreadboardHoleNumber),this.line.remove()},t}(),JC=function(t,e,o,n,r){var i=t.baseSVG.line(1,1,2,2);t.nodes.add(i);var s=new XC(i,o,n,{type:"breadboard",holeNumber:-1},r);e.addWire(s),s.updateConnection()},qC=function(t,e,o,n,r){var i=t.baseSVG.line(1,1,2,2);t.nodes.add(i);var s=new XC(i,o,t.arduino.svg.select("#"+UC(n)).first(),{type:"breadboard",holeNumber:-1},r);return e.addWire(s),s.updateConnection(),s},ZC=function(t,e,o,n,r){var i=t.baseSVG.line(1,1,2,2);t.nodes.add(i);var s=n?KC(n,r):jC(),l=new XC(i,o,t.arduino.svg.select("#pin"+s+"W").first(),{type:"power",holeNumber:s},"#FF422A");return e.addWire(l),l.updateConnection(),l.getHoleXY()},QC=function(t,e,o,n,r){var i=t.baseSVG.line(1,1,2,2);t.nodes.add(i);var s=n?KC(n,r):jC(),l=new XC(i,o,t.arduino.svg.select("#pin"+s+"X").first(),{type:"ground",holeNumber:s},"#000000");return e.addWire(l),l.updateConnection(),l.getHoleXY()},$C=function(t){return Object(n.__awaiter)(void 0,void 0,void 0,(function(){return Object(n.__generator)(this,(function(e){switch(e.label){case 0:return[4,fetch(t)];case 1:return[4,e.sent().text()];case 2:return[2,e.sent()]}}))}))},tA=function(t){function e(e,o,n){var r=t.call(this,e)||this;return r.svg=e,r.numberOfLeds=o,r.pin=n,r.setNumberOfNeoPixels(),r.arduinoPins.push(r.pin),r}return Object(n.__extends)(e,t),e.prototype.isComponent=function(t){return t instanceof Iu&&t.analogPin===this.pin&&t.numberOfLeds===this.numberOfLeds},e.prototype.matchState=function(t){var e=this,o=t.components.find((function(t){return e.isComponent(t)}));this.isComponent(o)&&o.neoPixels.forEach((function(t){e.setPixelColor(t.position,t.color)}))},e.prototype.setPixelColor=function(t,e){this.svg.select("#LED-"+t+" circle").first().fill({r:e.red,g:e.green,b:e.blue})},e.prototype.resetComponent=function(){for(var t=1;t<=this.numberOfLeds;t+=1)this.setPixelColor(t,{red:255,blue:255,green:255})},e.prototype.setNumberOfNeoPixels=function(){for(var t=1;t<=60;t+=1){var e=this.svg.select("#_"+t).first();if(!e)return;t<=this.numberOfLeds&&e.show(),t>this.numberOfLeds&&e.hide()}this.numberOfLeds<=12&&(this.svg.select("#LEVEL1").first().hide(),this.svg.select("#LEVEL2").first().hide(),this.svg.select("#LEVEL3").first().hide(),this.svg.select("#LEVEL4").first().hide()),this.numberOfLeds>12&&(this.svg.select("#LEVEL1").first().show(),this.svg.select("#LEVEL2").first().hide(),this.svg.select("#LEVEL3").first().hide(),this.svg.select("#LEVEL4").first().hide()),this.numberOfLeds>24&&(this.svg.select("#LEVEL1").first().show(),this.svg.select("#LEVEL2").first().show(),this.svg.select("#LEVEL3").first().hide(),this.svg.select("#LEVEL4").first().hide()),this.numberOfLeds>36&&(this.svg.select("#LEVEL1").first().show(),this.svg.select("#LEVEL2").first().show(),this.svg.select("#LEVEL3").first().show(),this.svg.select("#LEVEL4").first().hide()),this.numberOfLeds>48&&(this.svg.select("#LEVEL1").first().show(),this.svg.select("#LEVEL2").first().show(),this.svg.select("#LEVEL3").first().show(),this.svg.select("#LEVEL4").first().show())},e}(RC),eA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s,l;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return i=tA.bind,l=(s=t.baseSVG).svg,[4,$C("./assets/svgs/led_light_strip.svg")];case 1:return r=new(i.apply(tA,[void 0,l.apply(s,[n.sent()]).children().pop(),e.numberOfLeds,e.analogPin])),QC(t,r,r.svg.select("#CONNECT_GND").first()),ZC(t,r,r.svg.select("#CONNECT_POWER").first()),qC(t,r,r.svg.select("#CONNECT_DATA").first(),r.pin,"#006837"),t.arduino.showWire(VC(r.pin)),t.nodes.add(r.svg),r.svg.draggy(),o&&r.hideWires(),r.move(80,-275),r.updateWires(),[2,r]}}))}))},oA=function(t){function e(e){var o=t.call(this,e)||this;return o.svg=e,o.arduinoPins=[ka.PIN_10,ka.PIN_11,ka.PIN_12],o}return Object(n.__extends)(e,t),e.prototype.isComponent=function(t){return t instanceof Ou},e.prototype.matchState=function(t){var e=this,o=t.components.find(this.isComponent);this.isComponent(o)&&o.leds.forEach((function(t){var o=e.svg.select("#_"+t.row+"-"+t.col+" circle").first();o&&(o.node.style.fill="",o.fill(t.isOn?"#AA0000":"#FFFFFF"))}))},e.prototype.resetComponent=function(){for(var t=1;t<=8;t+=1)for(var e=1;e<=8;e+=1){var o=this.svg.select("#_"+t+"-"+e+" circle").first();o&&(o.node.style.fill="",o.fill("#FFFFFF"))}},e}(RC),nA=function(t,e){return void 0===e&&(e=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var o,r,i,s,l;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return r=oA.bind,s=(i=t.baseSVG).svg,[4,$C("./assets/svgs/matrix.svg")];case 1:return o=new(r.apply(oA,[void 0,s.apply(i,[n.sent()]).children().pop()])),t.nodes.add(o.svg),t.arduino.showWire(VC(ka.PIN_12)),t.arduino.showWire(VC(ka.PIN_11)),t.arduino.showWire(VC(ka.PIN_10)),o.height("3.1in"),ZC(t,o,o.svg.select("#VCC").first()),QC(t,o,o.svg.select("#GND").first()),qC(t,o,o.svg.select("#DATA").first(),ka.PIN_12,"#ff834b"),qC(t,o,o.svg.select("#CS").first(),ka.PIN_10,"#6aa3ff"),qC(t,o,o.svg.select("#CLK").first(),ka.PIN_11,"#ffe472"),l=t.baseSVG.select("#breadboardbreadboard").first().ctm().extract().transformedY-200,o.move(-50,l),o.svg.draggy(),e&&o.hideWires(),o.updateWires(),[2,o]}}))}))},rA=function(t){function e(e,o){var n=t.call(this,e)||this;return n.svg=e,n.analogPin=o,n.arduinoPins.push(o),n}return Object(n.__extends)(e,t),e.prototype.matchState=function(t){var e=this,o=t.components.find((function(t){return e.isComponent(t)}));if(o.hasCode){this.svg.select("#recieving_code_text").first().show();var n=this.svg.select("#code").first();n.node.textContent=o.code||"NOT SET",n.show(),n.x((79-n.length())/2),this.svg.select("#FOUND_SOMETHING rect").first().fill("#AA0000"),this.svg.select("#Signnal").first().show()}else this.notRecievingCode()},e.prototype.notRecievingCode=function(){this.svg.select("#code").first().hide(),this.svg.select("#recieving_code_text").first().hide(),this.svg.select("#FOUND_SOMETHING rect").first().fill("#DEE2DE"),this.svg.select("#Signnal").first().hide()},e.prototype.isComponent=function(t){return t instanceof za&&t.analogPin===this.analogPin},e.prototype.resetComponent=function(){},e}(RC),iA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return[4,$C("./assets/svgs/ir_remote/ir_remote.svg")];case 1:return r=n.sent(),i=new rA(t.baseSVG.svg(r).children().pop(),e.analogPin),t.nodes.add(i.svg),i.svg.draggy(),i.svg.size(150,200),s=qC(t,i,i.svg.select("#SIG_WIRE").first(),i.analogPin,"#FFA500").getHoleXY()[0],i.move(s-94,-150),ZC(t,i,i.svg.select("#VCC_WIRE").first(),i.analogPin,"left"),QC(t,i,i.svg.select("#GND_WIRE").first(),i.analogPin,"left"),t.arduino.showWire(VC(e.analogPin)),i.updateWires(),o&&i.hideWires(),[2,i]}}))}))},sA=function(t){function e(e,o,n){var r=t.call(this,e)||this;return r.svg=e,r.trigPin=o,r.echoPin=n,r.arduinoPins.push(r.trigPin),r.arduinoPins.push(r.echoPin),r}return Object(n.__extends)(e,t),e.prototype.matchState=function(t){var e=this,o=t.components.find((function(t){return e.isComponent(t)})),n=-4*o.cm<=-200?-200:-4*o.cm;this.svg.select("#DISTANCE").first().cy(n);var r=this.svg.select("#DISTANCE_TEXT").first();r.node.textContent=o.cm+" CM",r.x((79-r.length())/2)},e.prototype.isComponent=function(t){return t instanceof Ga&&t.trigPin===this.trigPin&&t.echoPin===this.echoPin},e.prototype.resetComponent=function(){},e}(RC),lA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s,l,a;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return i=sA.bind,l=(s=t.baseSVG).svg,[4,$C("./assets/svgs/ultrasonic-sensor.svg")];case 1:return(r=new(i.apply(sA,[void 0,l.apply(s,[n.sent()]).children().pop(),e.trigPin,e.echoPin]))).svg.size(150,400),t.nodes.add(r.svg),r.svg.draggy(),a=ZC(t,r,r.svg.select("#VCC").first(),r.trigPin,"left")[0],qC(t,r,r.svg.select("#TRIG").first(),r.trigPin,"#ce6e17"),qC(t,r,r.svg.select("#ECHO").first(),r.echoPin,"#4e4ed1"),QC(t,r,r.svg.select("#GND").first(),r.echoPin,"right"),t.arduino.showWire(VC(r.trigPin)),t.arduino.showWire(VC(r.echoPin)),r.move(a-60,-250),r.updateWires(),o&&r.hideWires(),[2,r]}}))}))},aA=function(t){function e(e,o,n,r){var i=t.call(this,e)||this;i.svg=e,i.pin=o,i.color=n,i.resistor=r,i.arduinoPins.push(i.pin);var s=i.svg.select("#LED_TEXT").first();return s.node.textContent="Led "+i.pin.toString(),s.x(s.bbox().w>39?-5:0),i.svg.select("#radial-gradient-"+i.pin+" stop").last().attr("stop-color",lu(n)),i}return Object(n.__extends)(e,t),e.prototype.isComponent=function(t){return t instanceof Wa&&t.pinPicture===Ka.LED&&t.pin===this.pin},e.prototype.resetComponent=function(){this.svg.select("#ON").first().hide()},e.prototype.matchState=function(t){var e=this,o=t.components.find((function(t){return e.isComponent(t)}));if(void 0!==o)if(o.type!==ja.ANALOG_OUTPUT)o.state>=1?this.svg.select("#ON").first().show():o.state<=0&&this.svg.select("#ON").first().hide();else{var n=o.state>255?1:Math.abs(o.state)/255;this.svg.select("#ON").first().show().opacity(n)}else this.svg.select("#ON").first().hide()},e.prototype.remove=function(){t.prototype.remove.call(this),this.resistor.remove()},e}(RC),uA=function(t){function e(e,o,n){void 0===n&&(n=!1);var r=t.call(this,e)||this;return r.svg=e,r.breadBoardHole=o,r.invertY=n,r}return Object(n.__extends)(e,t),e.prototype.isComponent=function(t){return!1},e.prototype.matchState=function(t){},e.prototype.shouldExist=function(t){return!0},e.prototype.updateWires=function(){var t=this.breadBoardHole.ctm().extract(),e=t.x,o=t.y,n=this.breadBoardHole.cx(),r=this.breadBoardHole.cy()+o-.75;this.invertY&&(r-=this.svg.height(),r+=1.5),this.svg.move(n+e-this.svg.width()/2,r)},e.prototype.resetComponent=function(){},e}(RC),cA=function(t,e,o){return void 0===o&&(o="regular"),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s,l;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return i=uA.bind,l=(s=t.baseSVG).svg,[4,$C("./assets/svgs/"+("regular"===o?"resistor.svg":"resistor-small.svg"))];case 1:return r=new(i.apply(uA,[void 0,l.apply(s,[n.sent()]).children().pop(),t.baseSVG.select("#"+e).first(),e.includes("H")])),window.resistor=r,t.nodes.add(r.svg),r.svg.draggy(),[2,r]}}))}))},pA=function(t){function e(e,o,n){var r=t.call(this,e)||this;return r.svg=e,r.pinType=o,r.pin=n,r.arduinoPins.push(r.pin),r}return Object(n.__extends)(e,t),e.prototype.matchState=function(t){var e=this,o=t.components.find((function(t){return e.isComponent(t)}));if(o){var n=this.svg.select("#STATE_TEXT").first();this.changeLightBulb(o),o.type!==ja.DIGITAL_OUTPUT?o.type!==ja.ANALOG_OUTPUT||(n.node.textContent="POWER "+o.state):n.node.textContent="POWER "+(o.state>0?"ON":"OFF")}},e.prototype.changeLightBulb=function(t){var e=this.svg.select("#RAYS").first().children(),o=this.svg.select("#LIGHT_BULB").first();if(t.state<=0)return o.fill("#F7F4E7"),void e.forEach((function(t){return t.hide()}));if(t.type===ja.DIGITAL_OUTPUT)return o.fill("#FFF2A0"),void e.forEach((function(t){return t.show()}));if(t.type===ja.ANALOG_OUTPUT){var n=t.state>255?1:t.state/256;return o.fill("#FFF2A0"),o.opacity(n),void e.forEach((function(t){t.show(),t.opacity(n)}))}},e.prototype.isComponent=function(t){return t instanceof Wa&&t.type===this.pinType&&t.pin===this.pin},e.prototype.resetComponent=function(){var t=this.svg.select("#PIN_TEXT").first(),e=this.svg.select("#STATE_TEXT").first(),o=this.svg.select("#LIGHT_BULB").first(),n=this.svg.select("#RAYS").first().children();t.node.textContent="PIN "+this.pin,e.node.textContent="POWER OFF",o.fill("#F7F4E7"),n.forEach((function(t){return t.hide()}))},e}(RC),hA=function(t){function e(e,o,n,r){var i=t.call(this,e)||this;return i.svg=e,i.pinType=o,i.pin=n,i.pictureType=r,i.arduinoPins.push(i.pin),i}return Object(n.__extends)(e,t),e.prototype.matchState=function(t){var e=this,o=t.components.find((function(t){return e.isComponent(t)}));if(o){this.svg.select("#PIN_TEXT").first().node.textContent="Pin "+this.pin;var n=this.svg.select("#READING_VALUE").first();o.type===ja.DIGITAL_INPUT&&o.pinPicture===Ka.SENSOR&&(n.node.textContent="Has power: "+(o.state>0?"ON":"OFF")),o.type===ja.ANALOG_INPUT&&o.pinPicture===Ka.SENSOR&&(n.node.textContent="Power level: "+o.state),o.pinPicture===Ka.SOIL_SENSOR&&(n.node.textContent="Humidity Level: "+o.state),o.pinPicture===Ka.PHOTO_SENSOR&&(n.node.textContent="Light Level: "+o.state),o.pinPicture===Ka.TOUCH_SENSOR&&(n.node.textContent="Sensing a touch? "+(1===o.state?"YES":"NO"),1===o.state?this.svg.select("#finger").first().show():this.svg.select("#finger").first().hide(),localStorage.getItem("skin_color")&&this.svg.select("#SKIN_COLOR_CHANGE").first().fill(localStorage.getItem("skin_color"))),n.cx(0+n.length()/2)}},e.prototype.isComponent=function(t){return t instanceof Wa&&this.pinType===t.type&&this.pin===t.pin&&this.pictureType===t.pinPicture},e.prototype.resetComponent=function(){this.svg.select("#READING_VALUE").first().node.textContent=""},e}(RC),gA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s,l,a,u,c;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return[4,$C("./assets/svgs/led.svg")];case 1:return r=(r=n.sent()).replace(/radial-gradient/g,"radial-gradient-"+e.pin),[4,cA(t,_A(e.pin),"regular")];case 2:return(i=n.sent()).updateWires(),s=localStorage.getItem("led_color")?ru(localStorage.getItem("led_color")):e.color,l=new aA(t.baseSVG.svg(r).children().pop(),e.pin,s,i),t.arduino.showWire(VC(l.pin)),JC(t,l,l.svg.select("#GND line").first(),t.arduino.svg.select("#"+yA(l.pin)).first(),"#999999"),JC(t,l,l.svg.select("#POWER line").first(),t.arduino.svg.select("#"+UC(l.pin).replace("C","E").replace("H","F")).first(),"#999999"),t.nodes.add(l.svg),l.svg.draggy(),a=t.baseSVG.select("#"+_A(l.pin)).first(),u=a.ctm().extract().x+a.cx()-l.svg.width()/2,c=t.baseSVG.select("#breadboardbreadboard").first().ctm().extract().transformedY-30,l.move(u,c),l.updateWires(),o&&(i.svg.hide(),l.hideWires()),[2,[l,i]]}}))}))},dA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s,l,a,u;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return r="./assets/svgs/pins/digital_analog_read.svg",e.pinPicture===Ka.SOIL_SENSOR&&(r="./assets/svgs/soil-sensor.svg"),e.pinPicture===Ka.PHOTO_SENSOR&&(r="./assets/svgs/photosensor.svg"),e.pinPicture===Ka.TOUCH_SENSOR&&(r="./assets/svgs/touch-sensor.svg"),[4,$C(r)];case 1:return i=n.sent(),(s=new hA(t.baseSVG.svg(i).children().pop(),e.type,e.pin,e.pinPicture)).svg.size(200,200),l=t.baseSVG.select("#"+_A(s.pin)).first(),a=l.ctm().extract().x+l.cx()-s.svg.width()/2,u=t.baseSVG.select("#breadboardbreadboard").first().ctm().extract().transformedY-170,e.pinPicture===Ka.SENSOR&&(ZC(t,s,s.svg.select("#POWER").first(),s.pin,"left"),JC(t,s,s.svg.select("#PIN").first(),t.arduino.svg.select("#"+UC(s.pin).replace("C","E").replace("H","F")).first(),"#00AA00"),QC(t,s,s.svg.select("#GND").first(),s.pin,"right")),e.pinPicture===Ka.SOIL_SENSOR&&(JC(t,s,s.svg.select("#PIN").first(),t.arduino.svg.select("#"+UC(s.pin).replace("C","E").replace("H","F")).first(),"#00AA00"),QC(t,s,s.svg.select("#GND").first(),s.pin,"right"),ZC(t,s,s.svg.select("#POWER").first(),s.pin,"right")),e.pinPicture===Ka.PHOTO_SENSOR&&(JC(t,s,s.svg.select("#PIN").first(),t.arduino.svg.select("#"+UC(s.pin).replace("C","E").replace("H","F")).first(),"#00AA00"),QC(t,s,s.svg.select("#GND").first(),s.pin,"left"),ZC(t,s,s.svg.select("#POWER").first(),s.pin,"left"),a-=50),e.pinPicture===Ka.TOUCH_SENSOR&&(JC(t,s,s.svg.select("#PIN").first(),t.arduino.svg.select("#"+UC(s.pin).replace("C","E").replace("H","F")).first(),"#00AA00"),ZC(t,s,s.svg.select("#POWER").first(),s.pin,"right"),QC(t,s,s.svg.select("#GND").first(),s.pin,"right")),t.arduino.showWire(VC(e.pin)),s.move(a,u),s.updateWires(),t.nodes.add(s.svg),s.svg.draggy(),o&&s.hideWires(),[2,s]}}))}))},fA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s,l,a;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return[4,$C("./assets/svgs/pins/digital_analog_write.svg")];case 1:return r=n.sent(),(i=new pA(t.baseSVG.svg(r).children().pop(),e.type,e.pin)).svg.size(250,250),t.arduino.showWire(VC(i.pin)),JC(t,i,i.svg.select("#POWER").first(),t.arduino.svg.select("#"+UC(i.pin).replace("C","E").replace("H","F")).first(),"#000000"),QC(t,i,i.svg.select("#GND").first(),i.pin,"right"),s=t.baseSVG.select("#"+_A(i.pin)).first(),l=s.ctm().extract().x+s.cx()-i.svg.width()/2,a=t.baseSVG.select("#breadboardbreadboard").first().ctm().extract().transformedY-230,i.move(l,a),i.updateWires(),t.nodes.add(i.svg),i.svg.draggy(),o&&i.hideWires(),[2,i]}}))}))},mA=function(t){var e=parseInt(UC(t).replace("pin","").replace("C","").replace("H",""),0)+2;return[ka.PIN_9,ka.PIN_12,ka.PIN_A0,ka.PIN_A4].includes(t)&&(e-=1),e},_A=function(t){return[ka.PIN_A2,ka.PIN_A3,ka.PIN_A4,ka.PIN_A5].includes(t)?"pin"+mA(t)+"H":"pin"+mA(t)+"D"},yA=function(t){return[ka.PIN_A2,ka.PIN_A3,ka.PIN_A4,ka.PIN_A5].includes(t)?"pin"+mA(t)+"F":"pin"+mA(t)+"E"},vA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return"BREADBOARD"!==e.type?[3,2]:[4,EA(t,e,o)];case 1:return[2,n.sent()];case 2:return"BUILT_IN"!==e.type?[3,4]:[4,bA(t,e,o)];case 3:return[2,n.sent()];case 4:return[2]}}))}))},bA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s,l,a,u;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return t.arduino.showWire(VC(e.bluePin)),t.arduino.showWire(VC(e.redPin)),t.arduino.showWire(VC(e.greenPin)),i=xC.bind,l=(s=t.baseSVG).svg,[4,$C("./assets/svgs/built-in-color-led.svg")];case 1:return r=new(i.apply(xC,[void 0,l.apply(s,[n.sent()]).children().pop(),e.redPin,e.greenPin,e.bluePin,"BUILT_IN",[]])),JC(t,r,r.svg.select("#RED_PIN line").first(),t.arduino.svg.select("#"+UC(r.redPin)).first(),"#AA0000"),JC(t,r,r.svg.select("#GREEN_PIN line").first(),t.arduino.svg.select("#"+UC(r.greenPin)).first(),"#00AA00"),JC(t,r,r.svg.select("#BLUE_PIN line").first(),t.arduino.svg.select("#"+UC(r.bluePin)).first(),"#0000AA"),r.redPin===ka.PIN_11&&QC(t,r,r.svg.select("#GND_PIN line").first(),r.greenPin,"left"),r.redPin===ka.PIN_6&&QC(t,r,r.svg.select("#GND_PIN line").first(),r.redPin,"right"),t.nodes.add(r.svg),r.svg.draggy(),window.point=t.arduino.svg.select("#"+UC(r.bluePin)).first(),a=t.arduino.svg.select("#"+UC(r.bluePin)).first().cx(),u=t.baseSVG.select("#breadboardbreadboard").first().ctm().extract().transformedY-40,r.setColor("#FFFFFF"),r.move(a,u),r.updateWires(),o&&(r.resistors.forEach((function(t){return t.svg.hide()})),r.hideWires()),[2,r]}}))}))},EA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s,l,a,u,c,p,h,g,d,f,m;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return r="./assets/svgs/rgb-led-no-resistor.svg",t.arduino.showWire(VC(e.bluePin)),t.arduino.showWire(VC(e.redPin)),t.arduino.showWire(VC(e.greenPin)),[4,cA(t,""+UC(e.redPin).replace("C","D"),"small")];case 1:return(i=n.sent()).updateWires(),window.redResistor=i,[4,cA(t,""+UC(e.greenPin).replace("C","D"),"small")];case 2:return(s=n.sent()).updateWires(),[4,cA(t,""+UC(e.bluePin).replace("C","D"),"small")];case 3:return(l=n.sent()).updateWires(),u=xC.bind,p=(c=t.baseSVG).svg,[4,$C(r)];case 4:return a=new(u.apply(xC,[void 0,p.apply(c,[n.sent()]).children().pop(),e.redPin,e.greenPin,e.bluePin,"BREADBOARD",[l,i,s]])),JC(t,a,a.svg.select("#RED_PIN line").first(),t.arduino.svg.select("#"+UC(a.redPin).replace("C","E")).first(),"#AA0000"),h=parseInt(UC(a.redPin).replace("C","").replace("pin",""),0)+2,JC(t,a,a.svg.select("#GND_PIN line").first(),t.arduino.svg.select("#pin"+h+"E").first(),"#000000"),JC(t,a,a.svg.select("#GREEN_PIN line").first(),t.arduino.svg.select("#"+UC(a.greenPin).replace("C","E")).first(),"#00AA00"),JC(t,a,a.svg.select("#BLUE_PIN line").first(),t.arduino.svg.select("#"+UC(a.bluePin).replace("C","E")).first(),"#0000AA"),g=KC(e.redPin,"right"),d=function(t,e,o,n,r){var i=t.baseSVG.line(1,1,2,2),s=new YC(i,o,e,n,"#000000");return t.nodes.add(i),s.updateConnection(),s}(t,t.baseSVG.select("#pin"+h+"A").first(),t.baseSVG.select("#pin"+g+"X").first(),g),a.addWire(d),t.nodes.add(a.svg),a.svg.draggy(),f=s.svg.x(),m=t.baseSVG.select("#breadboardbreadboard").first().ctm().extract().transformedY-80,a.setColor("#FFFFFF"),a.move(f,m),a.updateWires(),o&&(a.resistors.forEach((function(t){return t.svg.hide()})),a.hideWires()),[2,a]}}))}))},kA=function(t){function e(e,o,n){var r=t.call(this,e)||this;return r.svg=e,r.columns=o,r.rows=n,r.isBlinking=!1,r.blinkCol=0,r.blinkRow=0,r.interval=null,r.isBlinkSquareWhite=!0,r.initDisplay(),r.arduinoPins.push(ka.PIN_A4,ka.PIN_A5),r}return Object(n.__extends)(e,t),e.prototype.initDisplay=function(){if(16===this.columns&&2===this.rows){for(var t=17;t<=20;t+=1)this.svg.select("#letter-"+t+"-1").first().hide(),this.svg.select("#letter-"+t+"-2").first().hide(),this.svg.select("#space-"+t+"-1").first().hide(),this.svg.select("#space-"+t+"-2").first().hide(),this.svg.select("#num-col-"+t).first().hide();for(t=1;t<=20;t+=1)this.svg.select("#letter-"+t+"-3").first().hide(),this.svg.select("#letter-"+t+"-4").first().hide(),this.svg.select("#space-"+t+"-3").first().hide(),this.svg.select("#space-"+t+"-4").first().hide();this.svg.select("#num-row-3").first().hide(),this.svg.select("#num-row-4").first().hide()}this.hideAllLetter()},e.prototype.hideAllLetter=function(){for(var t=1;t<=20;t+=1)for(var e=1;e<=4;e+=1)this.svg.select("#letter-"+t+"-"+e).first().hide()},e.prototype.resetComponent=function(){this.initDisplay()},e.prototype.isComponent=function(t){return t instanceof Ru&&t.rows===this.rows&&t.columns===this.columns},e.prototype.matchState=function(t){var e=this,o=t.components.find((function(t){return e.isComponent(t)}));if(o){for(var n=0;n<=this.columns-1;n+=1)for(var r=0;r<=this.rows-1;r+=1){var i=o.rowsOfText[r],s=this.svg.select("#space-"+(n+1)+"-"+(r+1)+" rect").first(),l=this.svg.select("#letter-"+(n+1)+"-"+(r+1)).first();l.node.textContent=i.charAt(n),l.x((s.width()-3-l.length())/2),l.show(),s.fill(o.backLightOn?"#FFFFFF":"#000000")}(this.blinkCol!==o.blink.column||this.blinkRow!==o.blink.row||this.isBlinking!==o.blink.blinking)&&o.blink.column>=1&&o.blink.row>=1&&this.updateBlink(o)}},e.prototype.updateBlink=function(t){var e=this;clearInterval(this.interval);var o=this.svg.select("#space-"+t.blink.column+"-"+t.blink.row+" rect").first();o&&o.fill(t.backLightOn?"#FFFFFF":"#000000"),t.blink.blinking&&o&&(this.interval=setInterval((function(){e.svg.select("#space-"+t.blink.column+"-"+t.blink.row+" rect").first().fill(e.isBlinkSquareWhite?"#FFFFFF":"#000000"),e.isBlinkSquareWhite=!e.isBlinkSquareWhite}),500))},e}(RC),TA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s,l,a,u,c;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return i=kA.bind,l=(s=t.baseSVG).svg,[4,$C("./assets/svgs/LCD.svg")];case 1:return r=new(i.apply(kA,[void 0,l.apply(s,[n.sent()]).children().pop(),e.columns,e.rows])),ZC(t,r,r.svg.select("#VCC_CONNECT").first()),a=QC(t,r,r.svg.select("#GND_CONNECT").first()),u=a[0],c=a[1],qC(t,r,r.svg.select("#SDA_CONNECT").first(),ka.PIN_A4,"#F15A24"),qC(t,r,r.svg.select("#SCL_CONNECT").first(),ka.PIN_A5,"#FF00FF").getHoleXY(),t.arduino.showWire(VC(ka.PIN_A5)),t.arduino.showWire(VC(ka.PIN_A4)),t.nodes.add(r.svg),r.svg.draggy(),r.move(u-30,c-300),r.updateWires(),o&&(r.hideWires(),r.move(u-30,c)),[2,r]}}))}))},SA=function(t){function e(e,o){var n=t.call(this,o)||this;return n.state=e,n.svg=o,n.arduinoPins.push(e.txPin),n.arduinoPins.push(e.rxPin),n}return Object(n.__extends)(e,t),e.prototype.matchState=function(t){var e=this,o=t.components.find((function(t){return e.isComponent(t)}));o.scannedCard?(this.updateText(o.tag,o.cardNumber),this.svg.select("#RFID").first().show()):this.svg.select("#RFID").first().hide()},e.prototype.updateText=function(t,e){var o=this.svg.select("#Text_Tag").first();this.svg.select("#Card_Numebr").first().node.textContent="Card#: "+e,o.node.textContent="Tag: "+t},e.prototype.isComponent=function(t){return t instanceof Fa&&this.state.txPin===t.txPin&&this.state.rxPin===t.rxPin},e.prototype.resetComponent=function(){},e}(RC),CA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s,l,a,u,c,p;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return i=SA.bind,s=[void 0,e],a=(l=t.baseSVG).svg,[4,$C("./assets/svgs/rfid.svg")];case 1:return r=new(i.apply(SA,s.concat([a.apply(l,[n.sent()]).children().pop()]))),t.nodes.add(r.svg),r.svg.draggy(),t.arduino.showWire(VC(e.txPin)),r.height("2.1in"),qC(t,r,r.svg.select("#TX_WIRE").first(),e.txPin,"#FFA500"),u=t.baseSVG.select("#"+_A(e.txPin)).first(),c=u.ctm().extract().x+u.cx()-100,[ka.PIN_13,ka.PIN_A2].includes(e.txPin)?(QC(t,r,r.svg.select("#GND_BOX").first(),e.txPin,"left"),ZC(t,r,r.svg.select("#_5V_BOX").first(),e.txPin,"left")):([ka.PIN_A0,ka.PIN_A1].includes(e.txPin),ZC(t,r,r.svg.select("#_5V_BOX").first(),e.txPin,"left"),QC(t,r,r.svg.select("#GND_BOX").first(),e.txPin,"left")),p=t.baseSVG.select("#breadboardbreadboard").first().ctm().extract().transformedY-175,r.move(c,p),r.updateWires(),o&&r.hideWires(),[2,r]}}))}))},AA=function(t){function e(e,o){var n=t.call(this,o)||this;return n.state=e,n.svg=o,n.arduinoPins.push(e.pin),n}return Object(n.__extends)(e,t),e.prototype.matchState=function(t){var e=this,o=t.components.find((function(t){return e.isComponent(t)}));this.svg.select("#BUTTON_TEXT").first().node.textContent="Button "+o.pin;var n=this.svg.select("#PRESSED_STATE").first();if(localStorage.getItem("skin_color")&&(this.svg.select("#COLOR_BTN_NOT_PRESSED").first().fill(localStorage.getItem("skin_color")),this.svg.select("#COLOR_BTN_PRESSED").first().fill(localStorage.getItem("skin_color"))),o.isPressed)return this.svg.select("#BUTTON_PRESSED").first().show(),this.svg.select("#BUTTON_NOT_PRESSED").first().hide(),void(n.node.textContent="Pressed");this.svg.select("#BUTTON_PRESSED").first().hide(),this.svg.select("#BUTTON_NOT_PRESSED").first().show(),n.node.textContent="Not Pressed"},e.prototype.isComponent=function(t){return t instanceof Ua&&t.pin===this.state.pin},e.prototype.resetComponent=function(){},e}(RC),wA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s,l,a,u,c,p;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return i=AA.bind,s=[void 0,e],a=(l=t.baseSVG).svg,[4,$C("./assets/svgs/button-2.svg")];case 1:return(r=new(i.apply(AA,s.concat([a.apply(l,[n.sent()]).children().pop()])))).svg.size(150,200),t.nodes.add(r.svg),r.svg.draggy(),t.arduino.showWire(VC(e.pin)),qC(t,r,r.svg.select("#PIN_WIRE").first(),e.pin,"#FFA500"),u=t.baseSVG.select("#"+_A(e.pin)).first(),c=u.ctm().extract().x+u.cx()-100,QC(t,r,r.svg.select("#GND_WIRE").first(),e.pin,"right"),p=t.baseSVG.select("#breadboardbreadboard").first().ctm().extract().transformedY-175,r.move(c,p),r.updateWires(),o&&r.hideWires(),[2,r]}}))}))},OA=function(t){function e(e,o){var n=t.call(this,e)||this;return n.svg=e,n.state=o,n.arduinoPins.push(o.txPin),n.arduinoPins.push(o.rxPin),n}return Object(n.__extends)(e,t),e.prototype.matchState=function(t){var e=this,o=t.components.find((function(t){return e.isComponent(t)}));o.sendMessage.length>0?this.displayMessage(o.sendMessage,"Sending Message:"):o.hasMessage?this.displayMessage(o.receivedMessage,"Received Message:"):(this.svg.select("#MESSAGE_BUBBLE").first().hide(),this.svg.select("#MESSAGE_LINE_1").first().hide(),this.svg.select("#MESSAGE_LINE_2").first().hide(),this.svg.select("#MESSAGE_LINE_3").first().hide())},e.prototype.isComponent=function(t){return this.state.isEqual(t)},e.prototype.resetComponent=function(){},e.prototype.displayMessage=function(t,e){t='"'+t+'"',this.svg.select("#MESSAGE_BUBBLE").first().show();var o=this.svg.select("#MESSAGE_LINE_1").first();o.show(),o.node.textContent=e,t.length>38&&(t=t.slice(0,35)+"...");var n=this.svg.select("#MESSAGE_LINE_2").first();n.node.textContent=t.slice(0,18),n.show();var r=this.svg.select("#MESSAGE_LINE_3").first();t.length>18?(r.node.textContent=t.slice(18),r.show()):r.hide()},e}(RC),BA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s,l,a,u,c;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return i=OA.bind,l=(s=t.baseSVG).svg,[4,$C("./assets/svgs/bluetooth.svg")];case 1:return r=new(i.apply(OA,[void 0,l.apply(s,[n.sent()]).children().pop(),e])),t.nodes.add(r.svg),r.svg.draggy(),t.arduino.showWire(VC(e.txPin)),t.arduino.showWire(VC(e.rxPin)),qC(t,r,r.svg.select("#WIRE_TX").first(),e.txPin,"#FFA500"),qC(t,r,r.svg.select("#WIRE_RX").first(),e.rxPin,"#FFA500"),a=t.baseSVG.select("#"+_A(e.txPin)).first(),u=a.ctm().extract().x+a.cx()-50,QC(t,r,r.svg.select("#GND_BOX").first(),e.txPin,"right"),ZC(t,r,r.svg.select("#_5V_BOX").first(),e.txPin,"right"),c=t.baseSVG.select("#breadboardbreadboard").first().ctm().extract().transformedY-175,r.move(u,c),r.updateWires(),o&&r.hideWires(),[2,r]}}))}))},IA=function(t){function e(e,o){var n=t.call(this,e)||this;return n.svg=e,n.startingState=o,n.motorSpeed=0,n}return Object(n.__extends)(e,t),e.prototype.matchState=function(t){var e=this,o=t.components.find((function(t){return e.isComponent(t)}));if(o){if(this.setText(o),!(o.speed<=0&&this.animationObject))return""===this.motorDirection||o.direction!==this.motorDirection||this.motorSpeed!==o.speed||this.animationObject&&!this.animationObject.active?(this.rotate(o.direction.toLowerCase(),o.speed),this.motorDirection=o.direction,void(this.motorSpeed=o.speed)):void 0;this.animationObject.stop()}},e.prototype.setText=function(t){this.svg.select("#motor_info").first().node.textContent="Motor "+t.motorNumber,this.svg.select("#speed").first().node.textContent="Speed "+t.speed,this.svg.select("#direction").first().node.textContent="Direction "+t.direction.toLowerCase()},e.prototype.isComponent=function(t){return t instanceof gu&&t.motorNumber===this.startingState.motorNumber},e.prototype.stop=function(){this.animationObject&&this.animationObject.stop(!0,!0)},e.prototype.resetComponent=function(){this.stop(),this.svg.select("#speed").first().node.textContent="Speed 0",this.svg.select("#direction").first().node.textContent="Direction"},e.prototype.rotate=function(t,e){void 0===t&&(t="forward"),void 0===e&&(e=1);var o=this.svg.select("#inner-circle").first();this.animationObject&&this.animationObject.stop(!0,!0);var n=700+3e3/e;this.animationObject=this.svg.select("#motor").first().animate(n,"-").rotate("forward"===t?720:-720,o.cx(),o.cy()).loop()},e}(NC),RA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var o,r,i,s,l,a;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return r=IA.bind,s=(i=t.baseSVG).svg,[4,$C("./assets/svgs/motor-2.svg")];case 1:return(o=new(r.apply(IA,[void 0,s.apply(i,[n.sent()]).children().pop(),e]))).svg.size(500,300),l=t.baseSVG.select("#breadboardbreadboard").first().ctm().extract().transformedY-200,a=t.baseSVG.ctm().extract().transformedX-400,o.move(a,l),t.nodes.add(o.svg),o.svg.draggy(),[2,o]}}))}))},NA=function(t){function e(e,o){var n=t.call(this,e)||this;return n.svg=e,n.pin=o,n.arduinoPins.push(o),n}return Object(n.__extends)(e,t),e.prototype.matchState=function(t){var e=this,o=t.components.find((function(t){return e.isComponent(t)})),n=this.svg.select("#TEMP_TEXT").first(),r=this.svg.select("#HUMIDITY_TEXT").first();n.node.textContent="Temperature "+o.temperature+"C",r.node.textContent="Humidity "+o.humidity,r.x((120-r.length())/2),n.x((170-n.length())/2)},e.prototype.isComponent=function(t){return t instanceof Xa&&t.pin===this.pin},e.prototype.resetComponent=function(){},e}(RC),xA=function(t,e,o){return void 0===o&&(o=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var r,i,s,l,a;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return i=NA.bind,l=(s=t.baseSVG).svg,[4,$C("./assets/svgs/temp-humidity.svg")];case 1:return r=new(i.apply(NA,[void 0,l.apply(s,[n.sent()]).children().pop(),e.pin])),QC(t,r,r.svg.select("#GND line").first(),r.pin,"right"),qC(t,r,r.svg.select("#SIG line").first(),r.pin,"#ce6e17"),a=ZC(t,r,r.svg.select("#VCC line").first(),r.pin,"left")[0],t.nodes.add(r.svg),r.svg.draggy(),t.arduino.showWire(VC(e.pin)),r.svg.size(200,250),r.move(a-85,-150),r.updateWires(),o&&r.hideWires(),[2,r]}}))}))},DA=function(){function t(t){this.baseSvg=t,this.textGroup=this.baseSvg.group()}return t.prototype.matchState=function(t){var e=this;this.textGroup.clear(),this.createTitle();var o=Object.values(t.variables),n={family:"Biryani",size:"1.25em"};o.forEach((function(t){if("Colour"!==t.type){if("Colour List"===t.type){var o=t.value;return 0===o.length?void e.textGroup.text(" []").move(20,e.textGroup.bbox().y2+30).font(n):(e.textGroup.text(" [").move(20,e.textGroup.bbox().y2+30).font(n),o.forEach((function(t){e.textGroup.text("(red = "+t.red+", green = "+t.green+", blue = "+t.blue+"),").fill(""+lu(t)).font(n).move(20,e.textGroup.bbox().y2)})),void e.textGroup.text("]").move(20,e.textGroup.bbox().y2+30).font(n))}var r=e.getValue(t);e.textGroup.text(" "+t.name+" = "+r).font(n).move(20,e.textGroup.bbox().y2).width(100)}else{var i=t.value;e.textGroup.text(" "+t.name+" = (red = "+i.red+", green = "+i.green+", blue = "+i.blue+")").fill(""+lu(i)).font(n).move(20,e.textGroup.bbox().y2)}}))},t.prototype.getValue=function(t){return"String"===t.type?'"'+t.value+'"':"Number"===t.type?t.value:"Boolean"===t.type?t.value?"true":"false":"String List"===t.type?"["+t.value.map((function(t){return'"'+t+'"'})).join(", ")+"]":"Number List"===t.type?"["+t.value.join(", ")+"]":"Boolean List"===t.type?"["+t.value.map((function(t){return t?"true":"false"})).join(", ")+"]":void 0},t.prototype.createTitle=function(){this.textGroup.text("Variables").font({family:"Biryani",size:"1.5em"})},t.prototype.move=function(t,e){this.textGroup.move(t,e)},t.prototype.show=function(){this.textGroup.show()},t.prototype.hide=function(){this.textGroup.hide()},t}(),LA=function(t){var e=new DA(t.baseSVG);return e.textGroup.draggy(),e.move(30,50),e.createTitle(),window.variablesSvg=e,e},MA=function(){function t(t,e,o,n,r){var i=this;this.baseSVG=t,this.nodes=e,this.arduino=o,this.showArduinoComm=n,this.zoom=r,this.svgs=[],this.runningFinalState=!1,this.arduino.svg.on("dragstart",(function(){i.updateWires()})),this.arduino.svg.on("dragmove",(function(){i.updateWires()})),this.arduino.svg.on("dragend",(function(){i.updateWires()})),this.variablesSvg=LA(this)}return t.prototype.remove=function(){this.arduino.remove(),this.svgs.forEach((function(t){return t.remove()})),this.baseSVG.remove()},t.prototype.updateWires=function(){this.svgs.forEach((function(t){t.updateWires()}))},t.prototype.zoomIn=function(){this.zoom.zoom(this.zoom.transform.scaleX+.1)},t.prototype.zoomOut=function(){this.zoom.zoom(this.zoom.transform.scaleX-.1)},t.prototype.moveAndCenter=function(){!function(){GC=[];for(var t=4;t<=61;t+=1)WC.includes(t)||GC.push({status:"available",position:t})}();var t=document.getElementById("virtual-circuit").clientHeight,e=(t-100)/this.arduino.svg.node.getClientRects()[0].height*.7,o=document.getElementById("virtual-circuit").clientWidth-(this.arduino.svg.bbox().w+200)*e;this.zoom.zoom(e),this.zoom.setPosition(o,t-(this.arduino.svg.height()-30)*e)},t.prototype.matchState=function(t){this.arduino.matchState(t),this.variablesSvg.matchState(t),this.svgs.forEach((function(e){e.matchState(t)})),this.svgs.filter((function(e){return!e.shouldExist(t)})).forEach((function(t){t.resetComponent()}))},t.prototype.hideArduino=function(){this.arduino.hideWires(),this.arduino.svg.hide(),this.svgs.forEach((function(t){t.hideWires(),t instanceof uA&&t.svg.hide(),t instanceof xC&&t.resistors.forEach((function(t){return t.svg.hide()}))}))},t.prototype.matchFinalState=function(t,e){return Object(n.__awaiter)(this,void 0,void 0,(function(){var o,r,i,s,l=this;return Object(n.__generator)(this,(function(a){switch(a.label){case 0:if(a.trys.push([0,5,,6]),!e||this.runningFinalState)return console.log("not running final state with",t),[2];console.log("running final state with",t),this.runningFinalState=!0,Object.keys(t.variables),this.svgs.forEach((function(e){e.shouldExist(t)||(e.remove(),e.getArduinoPins().forEach((function(t){l.arduino.hideWire(VC(t))})),l.svgs=l.svgs.filter((function(t){return t!==e})))})),o=t.components,r=function(t){return Object(n.__generator)(this,(function(e){switch(e.label){case 0:return i.svgs.findIndex((function(e){return e.isComponent(o[t])}))>=0?[3,2]:[4,i.createComponent(o[t])];case 1:e.sent(),e.label=2;case 2:return[2]}}))},i=this,s=0,a.label=1;case 1:return s<o.length?[5,r(s)]:[3,4];case 2:a.sent(),a.label=3;case 3:return s+=1,[3,1];case 4:return this.runningFinalState=!1,[3,6];case 5:return a.sent(),this.runningFinalState=!1,[3,6];case 6:return[2]}}))}))},t.prototype.moveRight=function(){this.zoom.setPosition(this.zoom.transform.x+5,this.zoom.transform.y)},t.prototype.moveLeft=function(){this.zoom.setPosition(this.zoom.transform.x-5,this.zoom.transform.y)},t.prototype.moveUp=function(){this.zoom.setPosition(this.zoom.transform.x,this.zoom.transform.y-5)},t.prototype.moveDown=function(){this.zoom.setPosition(this.zoom.transform.x,this.zoom.transform.y+5)},t.prototype.createComponent=function(t){return Object(n.__awaiter)(this,void 0,void 0,(function(){var e,o,r,i,s,l,a,u,c,p,h,g,d,f,m,_,y,v,b,E,k,T,S,C,A,w,O,B,I=this;return Object(n.__generator)(this,(function(R){switch(R.label){case 0:return t instanceof hu?(o=(e=this.svgs).push,[4,(N=this,x=t,D=!this.showArduinoComm.getShowArduino(),void 0===D&&(D=!1),Object(n.__awaiter)(void 0,void 0,void 0,(function(){var t,e,o,r,i;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return e=HC.bind,r=(o=N.baseSVG).svg,[4,$C("./assets/svgs/servo.svg")];case 1:return t=new(e.apply(HC,[void 0,r.apply(o,[n.sent()]).children().pop(),x.pin])),N.nodes.add(t.svg),t.svg.draggy(),t.height("2.1in"),N.arduino.showWire(VC(t.pin)),i=qC(N,t,t.svg.select("#DATA_BOX").first(),t.pin,"#FFA500").getHoleXY()[0],t.move(i-60,-150),t.updateWires(),[ka.PIN_13,ka.PIN_A2].includes(t.pin)?(QC(N,t,t.svg.select("#GND_BOX").first(),t.pin,"left"),ZC(N,t,t.svg.select("#_5V_BOX").first(),t.pin,"left")):([ka.PIN_A0,ka.PIN_A1].includes(t.pin),ZC(N,t,t.svg.select("#_5V_BOX").first(),t.pin,"left"),QC(N,t,t.svg.select("#GND_BOX").first(),t.pin,"left")),t.updateText(),D&&t.hideWires(),[2,t]}}))})))]):[3,2];case 1:return o.apply(e,[R.sent()]),[2];case 2:return t instanceof Iu?(i=(r=this.svgs).push,[4,eA(this,t,!this.showArduinoComm.getShowArduino())]):[3,4];case 3:return i.apply(r,[R.sent()]),[2];case 4:return t instanceof Fa?(l=(s=this.svgs).push,[4,CA(this,t,!this.showArduinoComm.getShowArduino())]):[3,6];case 5:return l.apply(s,[R.sent()]),[2];case 6:return t instanceof gu?(u=(a=this.svgs).push,[4,RA(this,t,!this.showArduinoComm.getShowArduino())]):[3,8];case 7:return u.apply(a,[R.sent()]),[2];case 8:return t instanceof Ou?(p=(c=this.svgs).push,[4,nA(this,!this.showArduinoComm.getShowArduino())]):[3,10];case 9:return p.apply(c,[R.sent()]),[2];case 10:return t instanceof Wa&&t.pinPicture===Ka.LED?[4,gA(this,t,!this.showArduinoComm.getShowArduino())]:[3,12];case 11:return R.sent().forEach((function(t){return I.svgs.push(t)})),[2];case 12:return t instanceof Wa&&[ja.DIGITAL_OUTPUT,ja.ANALOG_OUTPUT].includes(t.type)?(g=(h=this.svgs).push,[4,fA(this,t,!this.showArduinoComm.getShowArduino())]):[3,14];case 13:return g.apply(h,[R.sent()]),[2];case 14:return t instanceof Wa&&[ja.DIGITAL_INPUT,ja.ANALOG_INPUT].includes(t.type)?(f=(d=this.svgs).push,[4,dA(this,t,!this.showArduinoComm.getShowArduino())]):[3,16];case 15:return f.apply(d,[R.sent()]),[2];case 16:return t instanceof za?(_=(m=this.svgs).push,[4,iA(this,t,!this.showArduinoComm.getShowArduino())]):[3,18];case 17:return[2,_.apply(m,[R.sent()])];case 18:return t instanceof Ga?(v=(y=this.svgs).push,[4,lA(this,t,!this.showArduinoComm.getShowArduino())]):[3,20];case 19:return[2,v.apply(y,[R.sent()])];case 20:return t instanceof Wu?(E=(b=this.svgs).push,[4,vA(this,t,!this.showArduinoComm.getShowArduino())]):[3,22];case 21:return E.apply(b,[R.sent()]),[2];case 22:return t instanceof Xa?(T=(k=this.svgs).push,[4,xA(this,t,!this.showArduinoComm.getShowArduino())]):[3,24];case 23:return T.apply(k,[R.sent()]),[2];case 24:return t instanceof Va?(C=(S=this.svgs).push,[4,BA(this,t,!this.showArduinoComm.getShowArduino())]):[3,26];case 25:return C.apply(S,[R.sent()]),[2];case 26:return t instanceof Ru?(w=(A=this.svgs).push,[4,TA(this,t,!this.showArduinoComm.getShowArduino())]):[3,28];case 27:return w.apply(A,[R.sent()]),[2];case 28:return t instanceof Ua?(B=(O=this.svgs).push,[4,wA(this,t,!this.showArduinoComm.getShowArduino())]):[3,30];case 29:return B.apply(O,[R.sent()]),[2];case 30:return[2]}var N,x,D}))}))},t.prototype.reset=function(){var t=this;this.svgs.forEach((function(e){e.getArduinoPins().forEach((function(e){t.arduino.hideWire(VC(e))})),e.remove()})),this.svgs.forEach((function(t){})),this.svgs=[]},t.prototype.stopAllAnimations=function(){this.svgs.filter((function(t){return t instanceof NC})).forEach((function(t){return t.stop()}))},t.prototype.destroy=function(){this.svgs.forEach((function(t){t.remove()})),this.arduino.remove(),this.baseSVG.remove()},t}(),PA=o("GSm+"),FA=(o("LauQ"),o("octF"),function(){function t(t,e,o,n){var r=this;this.player=t,this.showArduinoComm=e,this.showVariablesComm=o,this.blocklyService=n,this.isShowArduinoChecked$=this.showArduinoComm.showArduino$.pipe(Oa(this.showArduinoComm.getShowArduino()),it(),nh((function(t){r.virtualCircuitElement&&(t?r.moveCenter():r.virtualCircuit.hideArduino())}))),this.isShowVariablesChecked$=this.showVariablesComm.showsVariables$.pipe(Oa(this.showVariablesComm.getShowVariables()),it(),nh((function(t){r.virtualCircuit&&(t?r.virtualCircuit.variablesSvg.show():r.virtualCircuit.variablesSvg.hide())})))}return t.prototype.ngOnInit=function(){},t.prototype.changeShowArduino=function(t){this.showArduinoComm.setShowArduino(t.checked)},t.prototype.changeShowVariables=function(t){this.showVariablesComm.setShowVariables(t.checked)},t.prototype.zoomIn=function(){this.virtualCircuit.zoomIn()},t.prototype.zoomOut=function(){this.virtualCircuit.zoomOut()},t.prototype.moveCenterEvent=function(){this.showArduinoComm.setShowArduino(!0)},t.prototype.moveCenter=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return this.virtualCircuit&&this.virtualCircuit.remove(),[4,this.setVirtualCircuit()];case 1:return t.sent(),[2]}}))}))},t.prototype.ngAfterViewInit=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.moveCenterEvent()];case 1:return t.sent(),[2]}}))}))},t.prototype.setVirtualCircuit=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(n.__generator)(this,(function(o){switch(o.label){case 0:return(t=this.player.frameExecutor)instanceof ea?(e=this,[4,(r=this.showArduinoComm,Object(n.__awaiter)(void 0,void 0,void 0,(function(){var t,e,o,i,s,l,a,u;return Object(n.__generator)(this,(function(n){switch(n.label){case 0:return t=new PA.Doc("virtual-circuit"),e=t.group(),i=DC.bind,l=(s=t).svg,[4,$C("./assets/svgs/arduino-breadboard-wired-2.svg")];case 1:return o=new(i.apply(DC,[void 0,l.apply(s,[n.sent()]).children().pop()])),e.add(o.svg),o.hidePinWires(),o.hideMessage(),a=e.panZoom(),o.svg.draggy(),(u=new MA(t,e,o,r,a)).moveAndCenter(),window.virtualCircuit=u,[2,u]}}))})))]):[3,2];case 1:e.virtualCircuit=o.sent(),t.setVirtualCircuit(this.virtualCircuit),o.label=2;case 2:return this.blocklyService.resizeWorkspace(),[4,this.player.resetState()];case 3:return o.sent(),[4,this.player.resetState()];case 4:return o.sent(),[2]}var r}))}))},t.prototype.ngOnDestroy=function(){this.virtualCircuit&&this.virtualCircuit.destroy()},t}()),UA=Bn({encapsulation:0,styles:[["#virtual-circuit[_ngcontent-%COMP%]{width:100%;height:calc(100% - 40px);cursor:move}#svg-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right}#svg-controls[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{float:left;margin-left:10px;margin-top:10px}"]],data:{}});function VA(t){return Vs(0,[ws(671088640,1,{virtualCircuitElement:0}),(t()(),ks(1,0,[[1,0],["virtualCircuit",1]],null,0,"div",[["id","virtual-circuit"]],null,null,null,null,null)),(t()(),ks(2,0,null,null,20,"div",[["id","svg-controls"]],null,null,null,null,null)),(t()(),ks(3,0,null,null,4,"mat-slide-toggle",[["class","pull-right mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"]],(function(t,e,o){var n=!0,r=t.component;return"focus"===e&&(n=!1!==Ar(t,5)._inputElement.nativeElement.focus()&&n),"change"===e&&(n=!1!==r.changeShowArduino(o)&&n),n}),Yk,Xk)),Hr(5120,null,Ry,(function(t){return[t]}),[Vk]),Ur(5,1228800,null,0,Vk,[Po,z_,Ie,[8,null],Ui,Pk,[2,yk],[2,Wv]],{checked:[0,"checked"]},{change:"change"}),Vr(131072,gp,[Ie]),(t()(),Ps(-1,0,[" Arduino "])),(t()(),ks(8,0,null,null,4,"mat-slide-toggle",[["class","pull-left mat-slide-toggle"]],[[8,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-checked",null],[2,"mat-disabled",null],[2,"mat-slide-toggle-label-before",null],[2,"_mat-animation-noopable",null]],[[null,"change"],[null,"focus"]],(function(t,e,o){var n=!0,r=t.component;return"focus"===e&&(n=!1!==Ar(t,10)._inputElement.nativeElement.focus()&&n),"change"===e&&(n=!1!==r.changeShowVariables(o)&&n),n}),Yk,Xk)),Hr(5120,null,Ry,(function(t){return[t]}),[Vk]),Ur(10,1228800,null,0,Vk,[Po,z_,Ie,[8,null],Ui,Pk,[2,yk],[2,Wv]],{checked:[0,"checked"]},{change:"change"}),Vr(131072,gp,[Ie]),(t()(),Ps(-1,0,[" Variables "])),(t()(),ks(13,0,null,null,4,"button",[["aria-label","Example icon-button with a heart icon"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.zoomOut()&&n),n}),aS,lS)),Ur(14,180224,null,0,iS,[Po,z_,[2,yk]],null,null),(t()(),ks(15,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,wC,AC)),Ur(16,9158656,null,0,SC,[Po,mC,[8,null],[2,bC],[2,$t]],null,null),(t()(),Ps(-1,0,["zoom_out"])),(t()(),ks(18,0,null,null,4,"button",[["aria-label","Example icon-button with a heart icon"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.zoomIn()&&n),n}),aS,lS)),Ur(19,180224,null,0,iS,[Po,z_,[2,yk]],null,null),(t()(),ks(20,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,wC,AC)),Ur(21,9158656,null,0,SC,[Po,mC,[8,null],[2,bC],[2,$t]],null,null),(t()(),Ps(-1,0,["zoom_in"]))],(function(t,e){var o=e.component;t(e,5,0,An(e,5,0,Ar(e,6).transform(o.isShowArduinoChecked$))),t(e,10,0,An(e,10,0,Ar(e,11).transform(o.isShowVariablesChecked$))),t(e,16,0),t(e,21,0)}),(function(t,e){t(e,3,0,Ar(e,5).id,Ar(e,5).disabled?null:-1,null,null,Ar(e,5).checked,Ar(e,5).disabled,"before"==Ar(e,5).labelPosition,"NoopAnimations"===Ar(e,5)._animationMode),t(e,8,0,Ar(e,10).id,Ar(e,10).disabled?null:-1,null,null,Ar(e,10).checked,Ar(e,10).disabled,"before"==Ar(e,10).labelPosition,"NoopAnimations"===Ar(e,10)._animationMode),t(e,13,0,Ar(e,14).disabled||null,"NoopAnimations"===Ar(e,14)._animationMode),t(e,15,0,Ar(e,16).inline,"primary"!==Ar(e,16).color&&"accent"!==Ar(e,16).color&&"warn"!==Ar(e,16).color),t(e,18,0,Ar(e,19).disabled||null,"NoopAnimations"===Ar(e,19)._animationMode),t(e,20,0,Ar(e,21).inline,"primary"!==Ar(e,21).color&&"accent"!==Ar(e,21).color&&"warn"!==Ar(e,21).color)}))}var HA=function(){return function(){}}();function GA(t){return Error("A hint was already declared for 'align=\""+t+"\"'.")}var WA=function(){return function(){}}(),jA=function(){return function(){}}(),KA=0,zA=$_(function(){return function(t){this._elementRef=t}}(),"primary"),XA=new wt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),YA=function(t){function e(e,o,n,r,i,s,l,a){var u=t.call(this,e)||this;return u._elementRef=e,u._changeDetectorRef=o,u._dir=r,u._defaults=i,u._platform=s,u._ngZone=l,u._outlineGapCalculationNeededImmediately=!1,u._outlineGapCalculationNeededOnStable=!1,u._destroyed=new O,u._showAlwaysAnimate=!1,u._subscriptAnimationState="",u._hintLabel="",u._hintLabelId="mat-hint-"+KA++,u._labelId="mat-form-field-label-"+KA++,u._previousDirection="ltr",u._labelOptions=n||{},u.floatLabel=u._labelOptions.float||"auto",u._animationsEnabled="NoopAnimations"!==a,u.appearance=i&&i.appearance?i.appearance:"legacy",u._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker,u}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"appearance",{get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideRequiredMarker",{get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=E_(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_shouldAlwaysFloat",{get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_canLabelFloat",{get:function(){return"never"!==this.floatLabel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hintLabel",{get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"floatLabel",{get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_control",{get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_labelChild",{get:function(){return this._labelChildNonStatic||this._labelChildStatic},enumerable:!0,configurable:!0}),e.prototype.getConnectedOverlayOrigin=function(){return this._connectionContainerRef||this._elementRef},e.prototype.ngAfterContentInit=function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+e.controlType),e.stateChanges.pipe(Oa(null)).subscribe((function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Cy(this._destroyed)).subscribe((function(){return t._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.asObservable().pipe(Cy(t._destroyed)).subscribe((function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()}))})),Z(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(Oa(null)).subscribe((function(){t._processHints(),t._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(Oa(null)).subscribe((function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe(Cy(this._destroyed)).subscribe((function(){t.updateOutlineGap(),t._previousDirection=t._dir.value}))},e.prototype.ngAfterContentChecked=function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()},e.prototype.ngAfterViewInit=function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()},e.prototype.ngOnDestroy=function(){this._destroyed.next(),this._destroyed.complete()},e.prototype._shouldForward=function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]},e.prototype._hasPlaceholder=function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)},e.prototype._hasLabel=function(){return!!this._labelChild},e.prototype._shouldLabelFloat=function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)},e.prototype._hideControlPlaceholder=function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()},e.prototype._hasFloatingLabel=function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()},e.prototype._getDisplayedMessages=function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"},e.prototype._animateAndLockLabel=function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,rT(this._label.nativeElement,"transitionend").pipe(Wp(1)).subscribe((function(){t._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())},e.prototype._validatePlaceholders=function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")},e.prototype._processHints=function(){this._validateHints(),this._syncDescribedByIds()},e.prototype._validateHints=function(){var t,e,o=this;this._hintChildren&&this._hintChildren.forEach((function(n){if("start"===n.align){if(t||o.hintLabel)throw GA("start");t=n}else if("end"===n.align){if(e)throw GA("end");e=n}}))},e.prototype._syncDescribedByIds=function(){if(this._control){var t=[];if("hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find((function(t){return"start"===t.align})):null,o=this._hintChildren?this._hintChildren.find((function(t){return"end"===t.align})):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),o&&t.push(o.id)}else this._errorChildren&&(t=this._errorChildren.map((function(t){return t.id})));this._control.setDescribedByIds(t)}},e.prototype._validateControlChild=function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")},e.prototype.updateOutlineGap=function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(document.documentElement.contains(this._elementRef.nativeElement)){var e=0,o=0,n=this._connectionContainerRef.nativeElement,r=n.querySelectorAll(".mat-form-field-outline-start"),i=n.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var s=n.getBoundingClientRect();if(0===s.width&&0===s.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);for(var l=this._getStartEnd(s),a=this._getStartEnd(t.children[0].getBoundingClientRect()),u=0,c=0,p=t.children;c<p.length;c++)u+=p[c].offsetWidth;e=a-l-5,o=u>0?.75*u+10:0}for(var h=0;h<r.length;h++)r.item(h).style.width=e+"px";for(h=0;h<i.length;h++)i.item(h).style.width=o+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0},e.prototype._getStartEnd=function(t){return"rtl"===this._previousDirection?t.right:t.left},e}(zA),JA=function(){return function(){}}(),qA=Bn({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function ZA(t){return Vs(0,[(t()(),ks(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),ks(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),ks(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),ks(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),ks(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),ks(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),ks(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),ks(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),ks(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function QA(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),Ns(null,0)],null,null)}function $A(t){return Vs(0,[(t()(),ks(0,0,null,null,3,null,null,null,null,null,null,null)),Ns(null,2),(t()(),ks(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ps(3,null,["",""]))],null,(function(t,e){t(e,3,0,e.component._control.placeholder)}))}function tw(t){return Vs(0,[Ns(null,3),(t()(),Es(0,null,null,0))],null,null)}function ew(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),Ps(-1,null,[" *"]))],null,null)}function ow(t){return Vs(0,[(t()(),ks(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],(function(t,e,o){var n=!0;return"cdkObserveContent"===e&&(n=!1!==t.component.updateOutlineGap()&&n),n}),null,null)),Ur(1,16384,null,0,ip,[],{ngSwitch:[0,"ngSwitch"]},null),Ur(2,1196032,null,0,Kk,[jk,Po,Ui],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(t()(),Es(16777216,null,null,1,null,$A)),Ur(4,278528,null,0,sp,[cn,an,ip],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Es(16777216,null,null,1,null,tw)),Ur(6,278528,null,0,sp,[cn,an,ip],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Es(16777216,null,null,1,null,ew)),Ur(8,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null)],(function(t,e){var o=e.component;t(e,1,0,o._hasLabel()),t(e,2,0,"outline"!=o.appearance),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!o.hideRequiredMarker&&o._control.required&&!o._control.disabled)}),(function(t,e){var o=e.component;t(e,0,0,o._labelId,o._control.id,o._control.id,o._control.empty&&!o._shouldAlwaysFloat,o._control.empty&&!o._shouldAlwaysFloat,"accent"==o.color,"warn"==o.color)}))}function nw(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),Ns(null,4)],null,null)}function rw(t){return Vs(0,[(t()(),ks(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),ks(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,(function(t,e){var o=e.component;t(e,1,0,"accent"==o.color,"warn"==o.color)}))}function iw(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),Ns(null,5)],null,(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function sw(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),Ps(1,null,["",""]))],null,(function(t,e){var o=e.component;t(e,0,0,o._hintLabelId),t(e,1,0,o.hintLabel)}))}function lw(t){return Vs(0,[(t()(),ks(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),Es(16777216,null,null,1,null,sw)),Ur(2,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),Ns(null,6),(t()(),ks(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),Ns(null,7)],(function(t,e){t(e,2,0,e.component.hintLabel)}),(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function aw(t){return Vs(2,[ws(671088640,1,{underlineRef:0}),ws(402653184,2,{_connectionContainerRef:0}),ws(671088640,3,{_inputContainerRef:0}),ws(671088640,4,{_label:0}),(t()(),ks(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),ks(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],(function(t,e,o){var n=!0,r=t.component;return"click"===e&&(n=!1!==(r._control.onContainerClick&&r._control.onContainerClick(o))&&n),n}),null,null)),(t()(),Es(16777216,null,null,1,null,ZA)),Ur(7,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,QA)),Ur(9,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),ks(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),Ns(null,1),(t()(),ks(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,ow)),Ur(14,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,nw)),Ur(16,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,rw)),Ur(18,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),ks(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),Ur(20,16384,null,0,ip,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Es(16777216,null,null,1,null,iw)),Ur(22,278528,null,0,sp,[cn,an,ip],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Es(16777216,null,null,1,null,lw)),Ur(24,278528,null,0,sp,[cn,an,ip],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){var o=e.component;t(e,7,0,"outline"==o.appearance),t(e,9,0,o._prefixChildren.length),t(e,14,0,o._hasFloatingLabel()),t(e,16,0,o._suffixChildren.length),t(e,18,0,"outline"!=o.appearance),t(e,20,0,o._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")}),null)}var uw=R_({passive:!0}),cw=function(){function t(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}return t.prototype.monitor=function(t){var e=this;if(!this._platform.isBrowser)return ua;var o=S_(t),n=this._monitoredElements.get(o);if(n)return n.subject.asObservable();var r=new O,i="cdk-text-field-autofilled",s=function(t){"cdk-text-field-autofill-start"!==t.animationName||o.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&o.classList.contains(i)&&(o.classList.remove(i),e._ngZone.run((function(){return r.next({target:t.target,isAutofilled:!1})}))):(o.classList.add(i),e._ngZone.run((function(){return r.next({target:t.target,isAutofilled:!0})})))};return this._ngZone.runOutsideAngular((function(){o.addEventListener("animationstart",s,uw),o.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(o,{subject:r,unlisten:function(){o.removeEventListener("animationstart",s,uw)}}),r.asObservable()},t.prototype.stopMonitoring=function(t){var e=S_(t),o=this._monitoredElements.get(e);o&&(o.unlisten(),o.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))},t.prototype.ngOnDestroy=function(){var t=this;this._monitoredElements.forEach((function(e,o){return t.stopMonitoring(o)}))},t.ngInjectableDef=dt({factory:function(){return new t(Pt(w_),Pt(Ui))},token:t,providedIn:"root"}),t}(),pw=function(){return function(){}}(),hw=["button","checkbox","file","hidden","image","radio","range","reset","submit"],gw=0,dw=function(t){function e(e,o,n,r,i,s,l,a,u){var c=t.call(this,s,r,i,n)||this;c._elementRef=e,c._platform=o,c.ngControl=n,c._autofillMonitor=a,c._uid="mat-input-"+gw++,c._isServer=!1,c._isNativeSelect=!1,c.focused=!1,c.stateChanges=new O,c.controlType="mat-input",c.autofilled=!1,c._disabled=!1,c._required=!1,c._type="text",c._readonly=!1,c._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((function(t){return I_().has(t)}));var p=c._elementRef.nativeElement;return c._inputValueAccessor=l||p,c._previousNativeValue=c.value,c.id=c.id,o.IOS&&u.runOutsideAngular((function(){e.nativeElement.addEventListener("keyup",(function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))}))})),c._isServer=!c._platform.isBrowser,c._isNativeSelect="select"===p.nodeName.toLowerCase(),c._isNativeSelect&&(c.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select"),c}return Object(n.__extends)(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=E_(t),this.focused&&(this.focused=!1,this.stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t||this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(t){this._required=E_(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&I_().has(this._type)&&(this._elementRef.nativeElement.type=this._type)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=E_(t)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()}))},e.prototype.ngOnChanges=function(){this.stateChanges.next()},e.prototype.ngOnDestroy=function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)},e.prototype.ngDoCheck=function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()},e.prototype.focus=function(t){this._elementRef.nativeElement.focus(t)},e.prototype._focusChanged=function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())},e.prototype._onInput=function(){},e.prototype._dirtyCheckNativeValue=function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())},e.prototype._validateType=function(){if(hw.indexOf(this._type)>-1)throw Error('Input type "'+this._type+"\" isn't supported by matInput.")},e.prototype._isNeverEmpty=function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1},e.prototype._isBadInput=function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput},e.prototype._isTextarea=function(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()},Object.defineProperty(e.prototype,"empty",{get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldLabelFloat",{get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty},enumerable:!0,configurable:!0}),e.prototype.setDescribedByIds=function(t){this._ariaDescribedby=t.join(" ")},e.prototype.onContainerClick=function(){this.focused||this.focus()},e}(oy(function(){return function(t,e,o,n){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=o,this.ngControl=n}}())),fw=function(){return function(){}}(),mw=function(){function t(){this.subscriptions=[]}return t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t}(),_w=function(t){function e(e,o,n){var r=t.call(this)||this;return r.ngZone=e,r.identityService=o,r.deviceCommunicator=n,r.sendMessage="",r.messages=r.identityService.isBrowser()?[{type:"Arduino",message:"Hello From Arduino Land.",time:"2:30:08 PM"},{type:"Computer",message:"Hello From computer Land.",time:"2:33:06 PM"},{type:"Arduino",message:"Hello From Arduino Land.",time:"2:40:03 PM"},{type:"Computer",message:"Hello From computer Land.",time:"2:44:03 PM"},{type:"Arduino",message:"Hello From Arduino Land.",time:"2:50:05 PM"},{type:"Computer",message:"Hello From computer Land.",time:"3:00:01 PM"},{type:"Arduino",message:"Hello From Arduino Land.",time:"3:05:04 PM"}]:[],r}return Object(n.__extends)(e,t),e.prototype.clear=function(){this.messages=[]},e.prototype.message=function(){var t=this;""!==this.sendMessage&&(this.messages.push({type:"Computer",message:this.sendMessage,time:(new Date).toLocaleTimeString()}),this.deviceCommunicator.sendMessage(Na.SEND_MESSAGE,this.sendMessage),this.ngZone.run((function(){setTimeout((function(){t.messageView.nativeElement.scrollTo(0,t.messageView.nativeElement.scrollHeight)}),10)})))},e.prototype.ngOnInit=function(){var t=this;this.subscriptions.push(this.deviceCommunicator.message$.subscribe((function(e){return t.incomingMessage(e)})))},e.prototype.incomingMessage=function(t){var e=this;t.includes("DEBUG_BLOCK_")||t.includes("**(|)")||(this.messages.push({type:"Arduino",message:t.toString(),time:(new Date).toLocaleTimeString()}),this.ngZone.run((function(){setTimeout((function(){e.messageView.nativeElement.scrollTo(0,e.messageView.nativeElement.scrollHeight)}),10)})))},e}(mw),yw=Bn({encapsulation:0,styles:[["mat-form-field.mat-form-field[_ngcontent-%COMP%]{width:calc(100% - 178px);margin:0 0 0 30px}button[_ngcontent-%COMP%]{margin-right:10px}#send-message-area[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:65px}.icon-image[_ngcontent-%COMP%]{padding:10px;vertical-align:middle}#messageContainer[_ngcontent-%COMP%]{overflow:scroll;height:calc(100% - 75px)}"]],data:{}});function vw(t){return Vs(0,[(t()(),ks(0,0,null,null,8,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Ak,Ck)),Ur(1,1228800,null,3,Lv,[Po,Ie,[2,xv],[2,Dv]],null,null),ws(603979776,2,{_lines:1}),ws(603979776,3,{_avatar:0}),ws(603979776,4,{_icon:0}),(t()(),ks(5,0,null,1,3,"p",[["class","mat-line"],["matLine",""]],null,null,null,null,null)),Ur(6,16384,[[2,4]],0,ay,[],null,null),(t()(),ks(7,0,null,null,0,"img",[["class","icon-image"]],[[8,"src",4]],null,null,null,null)),(t()(),Ps(8,null,[""," (",") "]))],null,(function(t,e){t(e,0,0,Ar(e,1)._avatar||Ar(e,1)._icon,Ar(e,1)._avatar||Ar(e,1)._icon),t(e,7,0,or(1,"assets/images/","Arduino"==e.context.$implicit.type?"cpu.png":"laptop.png","")),t(e,8,0,e.context.$implicit.message,e.context.$implicit.time)}))}function bw(t){return Vs(0,[ws(671088640,1,{messageView:0}),(t()(),ks(1,0,[[1,0],["messageView",1]],null,4,"div",[["id","messageContainer"]],null,null,null,null,null)),(t()(),ks(2,0,null,null,3,"mat-list",[["class","mat-list mat-list-base"]],null,null,null,Sk,Tk)),Ur(3,704512,null,0,Dv,[Po],null,null),(t()(),Es(16777216,null,0,1,null,vw)),Ur(5,278528,null,0,$c,[cn,an,on],{ngForOf:[0,"ngForOf"]},null),(t()(),ks(6,0,null,null,34,"div",[["id","send-message-area"]],null,null,null,null,null)),(t()(),ks(7,0,null,null,21,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,aw,qA)),Ur(8,7520256,null,9,YA,[Po,Ie,[2,Sy],[2,Wv],[2,XA],w_,Ui,[2,yk]],null,null),ws(603979776,5,{_controlNonStatic:0}),ws(335544320,6,{_controlStatic:0}),ws(603979776,7,{_labelChildNonStatic:0}),ws(335544320,8,{_labelChildStatic:0}),ws(603979776,9,{_placeholderChild:0}),ws(603979776,10,{_errorChildren:1}),ws(603979776,11,{_hintChildren:1}),ws(603979776,12,{_prefixChildren:1}),ws(603979776,13,{_suffixChildren:1}),(t()(),ks(18,0,null,2,2,"mat-placeholder",[],null,null,null,null,null)),Ur(19,16384,[[9,4]],0,WA,[],null,null),(t()(),Ps(-1,null,["Send Message"])),(t()(),ks(21,0,null,1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["type","message"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"keydown.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,22)._handleInput(o.target.value)&&n),"blur"===e&&(n=!1!==Ar(t,22).onTouched()&&n),"compositionstart"===e&&(n=!1!==Ar(t,22)._compositionStart()&&n),"compositionend"===e&&(n=!1!==Ar(t,22)._compositionEnd(o.target.value)&&n),"blur"===e&&(n=!1!==Ar(t,27)._focusChanged(!1)&&n),"focus"===e&&(n=!1!==Ar(t,27)._focusChanged(!0)&&n),"input"===e&&(n=!1!==Ar(t,27)._onInput()&&n),"ngModelChange"===e&&(n=!1!==(r.sendMessage=o)&&n),"keydown.enter"===e&&(n=!1!==r.message()&&n),n}),null,null)),Ur(22,16384,null,0,Dy,[Go,Po,[2,xy]],null,null),Hr(1024,null,Ry,(function(t){return[t]}),[Dy]),Ur(24,671744,null,0,wv,[[8,null],[8,null],[8,null],[6,Ry]],{model:[0,"model"]},{update:"ngModelChange"}),Hr(2048,null,Fy,null,[wv]),Ur(26,16384,null,0,Uy,[[4,Fy]],null,null),Ur(27,999424,null,0,dw,[Po,w_,[6,Fy],[2,Ev],[2,Ov],ny,[8,null],cw,Ui],{type:[0,"type"]},null),Hr(2048,[[5,4],[6,4]],HA,null,[dw]),(t()(),ks(29,0,null,null,5,"button",[["aria-label","send"],["mat-button",""],["mat-stroked-button",""],["matSuffix",""],["title","send message"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.message()&&n),n}),aS,lS)),Ur(30,16384,null,0,jA,[],null,null),Ur(31,180224,null,0,iS,[Po,z_,[2,yk]],null,null),(t()(),ks(32,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,wC,AC)),Ur(33,9158656,null,0,SC,[Po,mC,[8,null],[2,bC],[2,$t]],null,null),(t()(),Ps(-1,0,["send"])),(t()(),ks(35,0,null,null,5,"button",[["aria-label","clear"],["mat-button",""],["mat-stroked-button",""],["matSuffix",""],["title","clear messsages"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.clear()&&n),n}),aS,lS)),Ur(36,16384,null,0,jA,[],null,null),Ur(37,180224,null,0,iS,[Po,z_,[2,yk]],null,null),(t()(),ks(38,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,wC,AC)),Ur(39,9158656,null,0,SC,[Po,mC,[8,null],[2,bC],[2,$t]],null,null),(t()(),Ps(-1,0,["clear_all"]))],(function(t,e){var o=e.component;t(e,5,0,o.messages),t(e,24,0,o.sendMessage),t(e,27,0,"message"),t(e,33,0),t(e,39,0)}),(function(t,e){t(e,7,1,["standard"==Ar(e,8).appearance,"fill"==Ar(e,8).appearance,"outline"==Ar(e,8).appearance,"legacy"==Ar(e,8).appearance,Ar(e,8)._control.errorState,Ar(e,8)._canLabelFloat,Ar(e,8)._shouldLabelFloat(),Ar(e,8)._hasFloatingLabel(),Ar(e,8)._hideControlPlaceholder(),Ar(e,8)._control.disabled,Ar(e,8)._control.autofilled,Ar(e,8)._control.focused,"accent"==Ar(e,8).color,"warn"==Ar(e,8).color,Ar(e,8)._shouldForward("untouched"),Ar(e,8)._shouldForward("touched"),Ar(e,8)._shouldForward("pristine"),Ar(e,8)._shouldForward("dirty"),Ar(e,8)._shouldForward("valid"),Ar(e,8)._shouldForward("invalid"),Ar(e,8)._shouldForward("pending"),!Ar(e,8)._animationsEnabled]),t(e,21,1,[Ar(e,26).ngClassUntouched,Ar(e,26).ngClassTouched,Ar(e,26).ngClassPristine,Ar(e,26).ngClassDirty,Ar(e,26).ngClassValid,Ar(e,26).ngClassInvalid,Ar(e,26).ngClassPending,Ar(e,27)._isServer,Ar(e,27).id,Ar(e,27).placeholder,Ar(e,27).disabled,Ar(e,27).required,Ar(e,27).readonly&&!Ar(e,27)._isNativeSelect||null,Ar(e,27)._ariaDescribedby||null,Ar(e,27).errorState,Ar(e,27).required.toString()]),t(e,29,0,Ar(e,31).disabled||null,"NoopAnimations"===Ar(e,31)._animationMode),t(e,32,0,Ar(e,33).inline,"primary"!==Ar(e,33).color&&"accent"!==Ar(e,33).color&&"warn"!==Ar(e,33).color),t(e,35,0,Ar(e,37).disabled||null,"NoopAnimations"===Ar(e,37)._animationMode),t(e,38,0,Ar(e,39).inline,"primary"!==Ar(e,39).color&&"accent"!==Ar(e,39).color&&"warn"!==Ar(e,39).color)}))}var Ew=function(){function t(t,e){var o=this;this.player=t,this.blocklyService=e,this.loop$=this.player.changeFrame$.pipe(V((function(t){return"setup"===t.frameLocation.location||"pre-setup"===t.frameLocation.location?"Setup":"Loop: "+(t.frameLocation.iteration+1)})),it(),Oa("Setup")),this.steps$=Tp([this.blocklyService.frames$.pipe(Oa([])),this.player.changeFrame$.pipe(V((function(t){return t.frameNumber})),Oa(1))]).pipe(V((function(t){var e=t[1];return o.player.getFrames().map((function(t){return t.explanation})).map((function(t,o){return{step:t,selected:e===o}}))})),nh((function(t){if(o.stepsList){var e=t.findIndex((function(t){return t.selected})),n=o.stepsList.nativeElement,r=n.querySelector("li:nth-of-type("+e+")");r&&n.parentElement.clientHeight<=n.clientHeight?r.scrollIntoView():n.parentElement.scrollTo(0,0)}})))}return t.prototype.jumpToStep=function(t,e){this.player.skipToFrame(e)},t}(),kw=Bn({encapsulation:0,styles:[['div[_ngcontent-%COMP%]{font-family:Biryani,Arial,Helvetica,sans-serif;font-weight:600}h3[_ngcontent-%COMP%]{text-align:center;margin:0}div#steps[_ngcontent-%COMP%]{height:calc(100% - 50px);overflow-y:scroll;padding:0 5px}ol[_ngcontent-%COMP%]{list-style:none;counter-reset:my-awesome-counter}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px;counter-increment:my-awesome-counter;font-size:1em;cursor:pointer;margin-top:10px}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::before{content:"Step " counter(my-awesome-counter) ". ";font-weight:600;font-size:1em}ol[_ngcontent-%COMP%]   li.selected-step[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]::before{background:#4682b4;border-radius:2px;padding:3px}div#loop[_ngcontent-%COMP%]{height:50px;font-family:Biryani,Arial,Helvetica,sans-serif!important;font-weight:600!important;font-size:1.3em}[_ngcontent-%COMP%]::-webkit-scrollbar{height:12px;width:12px;background:#000}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#f8f8f6;-webkit-border-radius:1ex;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.75)}']],data:{}});function Tw(t){return Vs(0,[(t()(),ks(0,0,null,null,4,"li",[],null,[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.jumpToStep(o,t.context.index)&&n),n}),null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(2,278528,null,0,Zc,[Jc],{ngClass:[0,"ngClass"]},null),Ls(3,{"selected-step":0}),(t()(),Ps(4,null,[" "," "]))],(function(t,e){var o=t(e,3,0,e.context.$implicit.selected);t(e,2,0,o)}),(function(t,e){t(e,4,0,e.context.$implicit.step)}))}function Sw(t){return Vs(0,[ws(671088640,1,{stepsList:0}),(t()(),ks(1,0,null,null,4,"div",[["id","steps"]],null,null,null,null,null)),(t()(),ks(2,0,[[1,0],["stepsList",1]],null,3,"ol",[["id","stepsList"]],null,null,null,null,null)),(t()(),Es(16777216,null,null,2,null,Tw)),Ur(4,278528,null,0,$c,[cn,an,on],{ngForOf:[0,"ngForOf"]},null),Vr(131072,gp,[Ie]),(t()(),ks(6,0,null,null,3,"div",[["id","loop"]],null,null,null,null,null)),(t()(),ks(7,0,null,null,2,"h3",[],null,null,null,null,null)),(t()(),Ps(8,null,["",""])),Vr(131072,gp,[Ie])],(function(t,e){var o=e.component;t(e,4,0,An(e,4,0,Ar(e,5).transform(o.steps$)))}),(function(t,e){var o=e.component;t(e,8,0,An(e,8,0,Ar(e,9).transform(o.loop$)))}))}var Cw=function(t){function e(e,o,n,r){var i=t.call(this)||this;return i.identityService=e,i.deviceCommunicator=o,i.blocklyService=n,i.changeDetection=r,i.tempVariables=[],i.updateVariables=!1,i.debugModeStopped=!1,i.arduinoState=xa.DISCONNECTED,i.arduinoDebugPause=!1,i.selectedDebugBlockId="",i.variables=i.identityService.isBrowser()?[{name:"favorite color",type:"Colour",value:{red:150,green:0,blue:140}},{name:"counter",type:"Number",value:333},{name:"name",type:"String",value:"Fred"},{name:"rainbow",type:"Colour List",value:[{red:150,green:0,blue:140},{red:20,green:150,blue:234}]},{name:"iLikeIcecream",type:"Boolean",value:!0}]:[],i}return Object(n.__extends)(e,t),e.prototype.ngOnInit=function(){var t=this;this.subscriptions.push(this.deviceCommunicator.message$.subscribe((function(e){return t.incomingMessage(e)}))),this.subscriptions.push(this.deviceCommunicator.arduinoState$.subscribe((function(e){console.log(e,"arduino-debug"),e!==xa.UPLOADING_CODE&&e!==xa.UPLOAD_CODE_COMPLETE&&e!==xa.UPLOAD_CODE_ERROR||(t.tempVariables=[],t.variables=[]),t.arduinoState=e,t.changeDetection.detectChanges()})))},e.prototype.rgbToHex=function(t){return lu(t)},e.prototype.printValue=function(t){return"Colour"===t.type?"Red = "+t.value.red+" Green = "+t.value.green+" Blue = "+t.value.blue:"String"===t.type?JSON.stringify(t.value):t.value},e.prototype.incomingMessage=function(t){var e=this;if(!t.includes("**(|)"))return t.includes("DEBUG_BLOCK_")?(0===this.variables.length&&(this.variables=this.tempVariables.slice(0)),this.variables=this.variables.map((function(t){var o=e.tempVariables.find((function(e){return e.name===t.name})).value;return{name:t.name,type:t.type,value:o}})),this.selectedDebugBlockId=t.replace("DEBUG_BLOCK_","").trim(),this.blocklyService.selectBlock(this.selectedDebugBlockId),this.tempVariables=[],this.arduinoDebugPause=!0,void this.changeDetection.detectChanges()):void 0;this.tempVariables.push(this.processVariable(t))},e.prototype.processVariable=function(t){var e=this,o=t.replace("**(|)","").split("_|_"),n=o[0],r=o[1],i=o[2];return"Colour"===r?{name:n,value:this.processColorValue(i),type:r}:["List String","List Boolean"].includes(r)?{name:n,value:i.replace("[","").replace("]","").split(","),type:r}:"List Colour"===r?{name:n,value:i.replace("[","").replace("]","").split(",").map((function(t){return e.processColorValue(t)})),type:r}:"List Number"===r?{name:n,value:i.replace("[","").replace("]","").split(",").map((function(t){return parseFloat(t)})),type:r}:{name:n,value:i,type:r}},e.prototype.processVariableValue=function(t,e){switch(t){case"Number":return parseFloat(e);case"Boolean":case"String":return e;case"Colour":return this.processColorValue(e);default:return e}},e.prototype.processColorValue=function(t){var e=t.replace("{","").replace("}","").split("-").map((function(t){return parseInt(t,0)}));return{red:e[0],green:e[1],blue:e[2]}},e.prototype.continue=function(){this.blocklyService.unSelectBlock(this.selectedDebugBlockId),this.arduinoDebugPause=!1,this.deviceCommunicator.sendMessage(Na.DEBUG_MESSAGE,"CONTINUE")},e.prototype.stopDebugMode=function(){this.debugModeStopped=!0,this.blocklyService.unSelectBlock(this.selectedDebugBlockId),this.deviceCommunicator.sendMessage(Na.DEBUG_MESSAGE,"STOP_ALL_DEBUGGING")},e}(mw),Aw=Bn({encapsulation:0,styles:[['#state[_ngcontent-%COMP%]{height:100%}#state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;padding:10px;font-size:20px;font-family:Biryani,Arial,Helvetica,sans-serif}#state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right;margin-right:10px}#state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin:0 10px;cursor:pointer}#state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .fa-play[_ngcontent-%COMP%]{color:#23922b}#state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .fa-stop[_ngcontent-%COMP%]{color:#a00}#state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .not-active[_ngcontent-%COMP%]{color:gray!important;pointer-events:none;cursor:not-allowed}#state[_ngcontent-%COMP%]   #variable-table-container[_ngcontent-%COMP%]{height:calc(100% - 65px);overflow:scroll;margin-bottom:10px}#state[_ngcontent-%COMP%]   #variable-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%;font-family:Biryani,"Helvetica Neue",sans-serif;font-weight:600}#state[_ngcontent-%COMP%]   #variable-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #state[_ngcontent-%COMP%]   #variable-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;background-color:#fff}#state[_ngcontent-%COMP%]   #variable-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}#state[_ngcontent-%COMP%]   #variable-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}#state[_ngcontent-%COMP%]   #variable-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#505bda;color:#fff}#state[_ngcontent-%COMP%]   .colorValue[_ngcontent-%COMP%]{color:#fff}#state[_ngcontent-%COMP%]   .color-list[_ngcontent-%COMP%]{margin:3px;padding:5px}#state[_ngcontent-%COMP%]   .coloredElement[_ngcontent-%COMP%]{margin-left:10px;padding:0 10px}#state[_ngcontent-%COMP%]   .colorValue[_ngcontent-%COMP%]:first-of-type   .coloredElement[_ngcontent-%COMP%]{margin-left:0}']],data:{}});function ww(t){return Vs(0,[(t()(),ks(0,0,null,null,6,"td",[],null,null,null,null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(2,278528,null,0,Zc,[Jc],{ngClass:[0,"ngClass"]},null),Ls(3,{colorValue:0}),Hr(512,null,lp,ap,[Po,nn,Go]),Ur(5,278528,null,0,up,[lp],{ngStyle:[0,"ngStyle"]},null),Ls(6,{"background-color":0})],(function(t,e){var o=e.component,n=t(e,3,0,"Colour"===e.parent.context.$implicit.type);t(e,2,0,n);var r=t(e,6,0,"Colour"===e.parent.context.$implicit.type?o.rgbToHex(e.parent.context.$implicit.value):"white");t(e,5,0,r)}),null)}function Ow(t){return Vs(0,[(t()(),ks(0,0,null,null,5,"span",[["class","colorValue"]],null,null,null,null,null)),(t()(),ks(1,0,null,null,4,"span",[["class","coloredElement"]],null,null,null,null,null)),Hr(512,null,lp,ap,[Po,nn,Go]),Ur(3,278528,null,0,up,[lp],{ngStyle:[0,"ngStyle"]},null),Ls(4,{"background-color":0}),(t()(),Ps(5,null,["",""]))],(function(t,e){var o=t(e,4,0,e.context.$implicit?e.component.rgbToHex(e.context.$implicit):"white");t(e,3,0,o)}),(function(t,e){t(e,5,0,e.context.index+1)}))}function Bw(t){return Vs(0,[(t()(),ks(0,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Ow)),Ur(2,278528,null,0,$c,[cn,an,on],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.parent.context.$implicit.value)}),null)}function Iw(t){return Vs(0,[(t()(),ks(0,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),ks(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ps(2,null,["",""])),(t()(),ks(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Ps(4,null,["",""])),(t()(),Es(16777216,null,null,1,null,ww)),Ur(6,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,Bw)),Ur(8,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,6,0,"List Colour"!==e.context.$implicit.type),t(e,8,0,"List Colour"===e.context.$implicit.type)}),(function(t,e){t(e,2,0,e.context.$implicit.name),t(e,4,0,e.context.$implicit.type)}))}function Rw(t){return Vs(0,[(t()(),ks(0,0,null,null,24,"div",[["id","state"]],null,null,null,null,null)),(t()(),ks(1,0,null,null,10,"h3",[],null,null,null,null,null)),(t()(),Ps(-1,null,[" Debug "])),(t()(),ks(3,0,null,null,8,"span",[],null,null,null,null,null)),(t()(),ks(4,0,null,null,3,"i",[["class","fa fa-play"]],null,[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.continue()&&n),n}),null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(6,278528,null,0,Zc,[Jc],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ls(7,{"not-active":0}),(t()(),ks(8,0,null,null,3,"i",[["class","fa fa-stop"]],null,[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.stopDebugMode()&&n),n}),null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(10,278528,null,0,Zc,[Jc],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ls(11,{"not-active":0}),(t()(),ks(12,0,null,null,12,"div",[["id","variable-table-container"]],null,null,null,null,null)),(t()(),ks(13,0,null,null,11,"table",[["id","variable-table"]],null,null,null,null,null)),(t()(),ks(14,0,null,null,7,"thead",[],null,null,null,null,null)),(t()(),ks(15,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),ks(16,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ps(-1,null,["Variable Name"])),(t()(),ks(18,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ps(-1,null,["Data Type"])),(t()(),ks(20,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Ps(-1,null,["Value"])),(t()(),ks(22,0,null,null,2,"tbody",[["id","variable-tbody"]],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Iw)),Ur(24,278528,null,0,$c,[cn,an,on],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var o=e.component,n=t(e,7,0,!o.arduinoDebugPause||"CONNECTED"!=o.arduinoState||o.debugModeStopped);t(e,6,0,"fa fa-play",n);var r=t(e,11,0,!o.arduinoDebugPause||"CONNECTED"!=o.arduinoState||o.debugModeStopped);t(e,10,0,"fa fa-stop",r),t(e,24,0,o.variables)}),null)}var Nw=function(){function t(t,e,o){this.route=t,this.blocklyService=e,this.identityService=o,this.bottomContainerHeight="39.5%",this.topContainerHeight="58.5%",this.isResizingDivs=!1,this.displayMode=this.route.snapshot.data.containerMode}return t.prototype.onMouseMove=function(t){if(this.isResizingDivs){var e=t.y-(this.identityService.isElectron?50:86),o=document.getElementById("blocklyDiv").clientHeight-e-22;o<=80||e<=30||(this.topContainerHeight=e+"px",this.bottomContainerHeight=o+"px")}},t.prototype.grabberMouseUp=function(t){this.isResizingDivs=!1},t.prototype.grabberMouseDown=function(t){this.isResizingDivs=!0},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){t.blocklyService.resizeWorkspace()}),10)},t.prototype.ngOnDestroy=function(){},t}(),xw=Bn({encapsulation:0,styles:[["#svg-grabber[_ngcontent-%COMP%]{height:20px;width:100%;cursor:row-resize;background-color:#eff0f1;background-position:center center;background-repeat:no-repeat;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC)}#bottomContainer[_ngcontent-%COMP%]{background:#fcfdff;color:#242323}#bottomContainer.commandLineBackground[_ngcontent-%COMP%]{background:#242323;color:#eff0f1}"]],data:{}});function Dw(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-svg",[],null,null,null,VA,UA)),Ur(1,4440064,null,0,FA,[va,OC,BC,hm],null,null)],(function(t,e){t(e,1,0)}),null)}function Lw(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-arduino-message",[],null,null,null,bw,yw)),Ur(1,245760,null,0,_w,[Ui,gm,Ra],null,null)],(function(t,e){t(e,1,0)}),null)}function Mw(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-steps",[],null,null,null,Sw,kw)),Ur(1,49152,null,0,Ew,[va,hm],null,null)],null,null)}function Pw(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-arduino-debug",[],null,null,null,Rw,Aw)),Ur(1,245760,null,0,Cw,[gm,Ra,hm,Ie],null,null)],(function(t,e){t(e,1,0)}),null)}function Fw(t){return Vs(0,[ws(671088640,1,{grabber:0}),(t()(),ks(1,0,null,null,4,"div",[],[[4,"height",null]],null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Dw)),Ur(3,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,Lw)),Ur(5,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),ks(6,0,[[1,0],["grabber",1]],null,0,"div",[["id","svg-grabber"]],null,[[null,"mouseup"],[null,"mousedown"]],(function(t,e,o){var n=!0,r=t.component;return"mouseup"===e&&(n=!1!==r.grabberMouseUp(o)&&n),"mousedown"===e&&(n=!1!==r.grabberMouseDown(o)&&n),n}),null,null)),(t()(),ks(7,0,null,null,7,"div",[["id","bottomContainer"]],[[4,"height",null]],null,null,null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(9,278528,null,0,Zc,[Jc],{ngClass:[0,"ngClass"]},null),Ls(10,{commandLineBackground:0}),(t()(),Es(16777216,null,null,1,null,Mw)),Ur(12,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,Pw)),Ur(14,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null)],(function(t,e){var o=e.component;t(e,3,0,"Virtual-Circuit"==o.displayMode),t(e,5,0,"Arduino"==o.displayMode);var n=t(e,10,0,"Virtual-Circuit"==o.displayMode);t(e,9,0,n),t(e,12,0,"Virtual-Circuit"==o.displayMode),t(e,14,0,"Arduino"==o.displayMode)}),(function(t,e){var o=e.component;t(e,1,0,o.topContainerHeight),t(e,7,0,o.bottomContainerHeight)}))}function Uw(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-container",[],null,[["document","mousemove"]],(function(t,e,o){var n=!0;return"document:mousemove"===e&&(n=!1!==Ar(t,1).onMouseMove(o)&&n),n}),Fw,xw)),Ur(1,4374528,null,0,Nw,[Ad,hm,gm],null,null)],null,null)}var Vw=fr("app-container",Nw,Uw,{},{},[]),Hw=function(){function t(t,e){this.blocklyService=t,this.player=e,this.frameNumber$=this.player.changeFrame$.pipe(V((function(t){return t.frameNumber+1})),it(),Oa(0)),this.numberOfFrames$=this.blocklyService.frames$.pipe(V((function(t){return t.length})),it(),Oa(this.player.getFrames().length)),this.noFrames$=this.numberOfFrames$.pipe(V((function(t){return t<=0})),it(),Oa(this.player.getFrames().length<=0))}return t.prototype.scrubBarFrameChange=function(t){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.player.skipToFrame(parseInt(t.srcElement.value,0)-1)];case 1:return e.sent(),[2]}}))}))},t.prototype.changeSpeed=function(t){this.player.speed=parseInt(t.srcElement.value,0)},t.prototype.previous=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.player.previous()];case 1:return t.sent(),[2]}}))}))},t.prototype.next=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.player.next()];case 1:return t.sent(),[2]}}))}))},t.prototype.replay=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.player.replay()];case 1:return t.sent(),[2]}}))}))},t.prototype.play=function(){return Object(n.__awaiter)(this,void 0,void 0,(function(){return Object(n.__generator)(this,(function(t){switch(t.label){case 0:return this.player.isPlaying()?[3,2]:[4,this.player.play()];case 1:return t.sent(),[2];case 2:return[4,this.player.stop()];case 3:return t.sent(),[2]}}))}))},t}(),Gw=Bn({encapsulation:0,styles:[["#slide-container[_ngcontent-%COMP%]{width:100%;height:35px;z-index:100}#video-controls-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0}#video-controls-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:30px;font-family:Biryani,Arial,Helvetica,sans-serif;color:#505bda;font-weight:600}#video-controls-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:10px;padding:1px;margin-left:10px;height:20px;font-size:16px;vertical-align:top}#video-controls-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i.fa[_ngcontent-%COMP%]{color:#505bda;opacity:1}#video-controls-container.disable[_ngcontent-%COMP%]{cursor:not-allowed}#video-controls-container[_ngcontent-%COMP%]   a.disable[_ngcontent-%COMP%]   i.fa[_ngcontent-%COMP%]{color:#505bda;opacity:.5;cursor:not-allowed}#video-controls-container[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{padding:5px;border-radius:5px;margin-left:20px}.icon-bar[_ngcontent-%COMP%]{width:100%;overflow:auto}.icon-bar[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#505bda;opacity:.5;cursor:pointer}.icon-bar[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#505bda!important;opacity:1}.icon-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-of-type{margin-left:15%}.icon-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .icon-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:10%;text-align:center;padding:12px 0;transition:all .3s ease;color:#fff;font-size:36px}.icon-bar-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .icon-bar-bottom[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right}.slider[_ngcontent-%COMP%]{-webkit-appearance:none;width:100%;height:25px;background:#d3d3d3;outline:0;opacity:.7;transition:opacity .2s}.slider[_ngcontent-%COMP%]:hover{opacity:1}.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;background:#505bda;cursor:pointer}.slider[_ngcontent-%COMP%]::-moz-range-thumb{width:25px;height:25px;background:#505bda;cursor:pointer}.menu-section[_ngcontent-%COMP%]{display:inline-block;margin-right:25px}#speed-control[_ngcontent-%COMP%]{vertical-align:top;text-align:left;width:30%}#frameInfo[_ngcontent-%COMP%]{width:25%}input[_ngcontent-%COMP%]:invalid{box-shadow:none}"]],data:{}});function Ww(t){return Vs(0,[(t()(),ks(0,0,null,null,9,"div",[["id","slide-container"]],null,null,null,null,null)),(t()(),ks(1,0,null,null,8,"input",[["class","slider"],["id","scrub-bar"],["min","1"],["type","range"]],[[8,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,o){var n=!0,r=t.component;return"input"===e&&(n=!1!==Ar(t,2)._handleInput(o.target.value)&&n),"blur"===e&&(n=!1!==Ar(t,2).onTouched()&&n),"compositionstart"===e&&(n=!1!==Ar(t,2)._compositionStart()&&n),"compositionend"===e&&(n=!1!==Ar(t,2)._compositionEnd(o.target.value)&&n),"change"===e&&(n=!1!==Ar(t,3).onChange(o.target.value)&&n),"input"===e&&(n=!1!==Ar(t,3).onChange(o.target.value)&&n),"blur"===e&&(n=!1!==Ar(t,3).onTouched()&&n),"change"===e&&(n=!1!==r.scrubBarFrameChange(o)&&n),n}),null,null)),Ur(2,16384,null,0,Dy,[Go,Po,[2,xy]],null,null),Ur(3,16384,null,0,Zy,[Go,Po],null,null),Hr(1024,null,Ry,(function(t,e){return[t,e]}),[Dy,Zy]),Ur(5,671744,null,0,wv,[[8,null],[8,null],[8,null],[6,Ry]],{model:[0,"model"]},null),Vr(131072,gp,[Ie]),Hr(2048,null,Fy,null,[wv]),Ur(8,16384,null,0,Uy,[[4,Fy]],null,null),Vr(131072,gp,[Ie]),(t()(),ks(10,0,null,null,31,"div",[["class","icon-bar"],["id","video-controls-container"]],null,null,null,null,null)),(t()(),ks(11,0,null,null,5,"a",[["id","video-debug-backward"]],null,[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.previous()&&n),n}),null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(13,278528,null,0,Zc,[Jc],{ngClass:[0,"ngClass"]},null),Vr(131072,gp,[Ie]),Ls(15,{disable:0}),(t()(),ks(16,0,null,null,0,"i",[["class","fa fa-backward"]],null,null,null,null,null)),(t()(),ks(17,0,null,null,8,"a",[["id","video-debug-play"]],null,[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.play()&&n),n}),null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(19,278528,null,0,Zc,[Jc],{ngClass:[0,"ngClass"]},null),Vr(131072,gp,[Ie]),Ls(21,{disable:0}),(t()(),ks(22,0,null,null,3,"i",[["class","fa "]],null,null,null,null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(24,278528,null,0,Zc,[Jc],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ls(25,{"fa-play":0,"fa-stop":1}),(t()(),ks(26,0,null,null,5,"a",[["id","video-debug-forward"]],null,[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.next()&&n),n}),null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(28,278528,null,0,Zc,[Jc],{ngClass:[0,"ngClass"]},null),Vr(131072,gp,[Ie]),Ls(30,{disable:0}),(t()(),ks(31,0,null,null,0,"i",[["class","fa fa-forward"]],null,null,null,null,null)),(t()(),ks(32,0,null,null,3,"div",[["class","menu-section"],["id","speed-control"]],null,null,null,null,null)),(t()(),ks(33,0,null,null,1,"label",[["for","speed"]],null,null,null,null,null)),(t()(),Ps(-1,null,["Speed: "])),(t()(),ks(35,0,null,null,0,"input",[["id","speed"],["max","10"],["min","1"],["type","range"],["value","1"]],null,[[null,"change"]],(function(t,e,o){var n=!0;return"change"===e&&(n=!1!==t.component.changeSpeed(o)&&n),n}),null,null)),(t()(),ks(36,0,null,null,5,"a",[],null,[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.replay()&&n),n}),null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(38,278528,null,0,Zc,[Jc],{ngClass:[0,"ngClass"]},null),Vr(131072,gp,[Ie]),Ls(40,{disable:0}),(t()(),ks(41,0,null,null,0,"i",[["class","fa fa-repeat"]],null,null,null,null,null))],(function(t,e){var o=e.component;t(e,5,0,An(e,5,0,Ar(e,6).transform(o.frameNumber$)));var n=t(e,15,0,An(e,13,0,Ar(e,14).transform(o.noFrames$)));t(e,13,0,n);var r=t(e,21,0,An(e,19,0,Ar(e,20).transform(o.noFrames$)));t(e,19,0,r);var i=t(e,25,0,!o.player.isPlaying(),o.player.isPlaying());t(e,24,0,"fa ",i);var s=t(e,30,0,An(e,28,0,Ar(e,29).transform(o.noFrames$)));t(e,28,0,s);var l=t(e,40,0,An(e,38,0,Ar(e,39).transform(o.noFrames$)));t(e,38,0,l)}),(function(t,e){var o=e.component;t(e,1,0,An(e,1,0,Ar(e,9).transform(o.numberOfFrames$)),Ar(e,8).ngClassUntouched,Ar(e,8).ngClassTouched,Ar(e,8).ngClassPristine,Ar(e,8).ngClassDirty,Ar(e,8).ngClassValid,Ar(e,8).ngClassInvalid,Ar(e,8).ngClassPending)}))}function jw(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-player",[],null,null,null,Ww,Gw)),Ur(1,49152,null,0,Hw,[hm,va],null,null)],null,null)}var Kw=fr("app-player",Hw,jw,{},{},[]),zw=new wt("MAT_MENU_PANEL"),Xw=function(t){function e(e,o,n,r){var i=t.call(this)||this;return i._elementRef=e,i._focusMonitor=n,i._parentMenu=r,i.role="menuitem",i._hovered=new O,i._highlighted=!1,i._triggersSubmenu=!1,n&&n.monitor(i._elementRef,!1),r&&r.addItem&&r.addItem(i),i._document=o,i}return Object(n.__extends)(e,t),e.prototype.focus=function(t,e){void 0===t&&(t="program"),this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)},e.prototype.ngOnDestroy=function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete()},e.prototype._getTabIndex=function(){return this.disabled?"-1":"0"},e.prototype._getHostElement=function(){return this._elementRef.nativeElement},e.prototype._checkDisabled=function(t){this.disabled&&(t.preventDefault(),t.stopPropagation())},e.prototype._handleMouseEnter=function(){this._hovered.next(this)},e.prototype.getLabel=function(){var t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3,o="";if(t.childNodes)for(var n=t.childNodes.length,r=0;r<n;r++)t.childNodes[r].nodeType===e&&(o+=t.childNodes[r].textContent);return o.trim()},e}(ty(Q_(function(){return function(){}}()))),Yw=new wt("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),Jw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e}(function(){function t(t,e,o){this._elementRef=t,this._ngZone=e,this._defaultOptions=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new pi,this._tabSubscription=u.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new O,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new ui,this.close=this.closed}return Object.defineProperty(t.prototype,"xPosition",{get:function(){return this._xPosition},set:function(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yPosition",{get:function(){return this._yPosition},set:function(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlapTrigger",{get:function(){return this._overlapTrigger},set:function(t){this._overlapTrigger=E_(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasBackdrop",{get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=E_(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panelClass",{set:function(t){var e=this,o=this._previousPanelClass;o&&o.length&&o.split(" ").forEach((function(t){e._classList[t]=!1})),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach((function(t){e._classList[t]=!0})),this._elementRef.nativeElement.className="")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classList",{get:function(){return this.panelClass},set:function(t){this.panelClass=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.setPositionClasses()},t.prototype.ngAfterContentInit=function(){var t=this;this._updateDirectDescendants(),this._keyManager=new W_(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe((function(){return t.closed.emit("tab")}))},t.prototype.ngOnDestroy=function(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()},t.prototype._hovered=function(){return this._directDescendantItems.changes.pipe(Oa(this._directDescendantItems),Jp((function(t){return Z.apply(void 0,t.map((function(t){return t._hovered})))})))},t.prototype.addItem=function(t){},t.prototype.removeItem=function(t){},t.prototype._handleKeydown=function(t){var e=t.keyCode,o=this._keyManager;switch(e){case 27:N_(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:N_(t)||(36===e?o.setFirstItemActive():o.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||o.setFocusOrigin("keyboard"),o.onKeydown(t)}},t.prototype.focusFirstItem=function(t){void 0===t&&(t="program");var e=this._keyManager;if(this.lazyContent?this._ngZone.onStable.asObservable().pipe(Wp(1)).subscribe((function(){return e.setFocusOrigin(t).setFirstItemActive()})):e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length)for(var o=this._directDescendantItems.first._getHostElement().parentElement;o;){if("menu"===o.getAttribute("role")){o.focus();break}o=o.parentElement}},t.prototype.resetActiveItem=function(){this._keyManager.setActiveItem(-1)},t.prototype.setElevation=function(t){var e="mat-elevation-z"+(4+t),o=Object.keys(this._classList).find((function(t){return t.startsWith("mat-elevation-z")}));o&&o!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)},t.prototype.setPositionClasses=function(t,e){void 0===t&&(t=this.xPosition),void 0===e&&(e=this.yPosition);var o=this._classList;o["mat-menu-before"]="before"===t,o["mat-menu-after"]="after"===t,o["mat-menu-above"]="above"===e,o["mat-menu-below"]="below"===e},t.prototype._startAnimation=function(){this._panelAnimationState="enter"},t.prototype._resetAnimation=function(){this._panelAnimationState="void"},t.prototype._onAnimationDone=function(t){this._animationDone.next(t),this._isAnimating=!1},t.prototype._onAnimationStart=function(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)},t.prototype._updateDirectDescendants=function(){var t=this;this._allItems.changes.pipe(Oa(this._allItems)).subscribe((function(e){t._directDescendantItems.reset(e.filter((function(e){return e._parentMenu===t}))),t._directDescendantItems.notifyOnChanges()}))},t}()),qw=function(t){function e(e,o,n){return t.call(this,e,o,n)||this}return Object(n.__extends)(e,t),e}(Jw),Zw=new wt("mat-menu-scroll-strategy");function Qw(t){return function(){return t.scrollStrategies.reposition()}}var $w=R_({passive:!0}),tO=function(){function t(t,e,o,n,r,i,s,l){var a=this;this._overlay=t,this._element=e,this._viewContainerRef=o,this._parentMenu=r,this._menuItemInstance=i,this._dir=s,this._focusMonitor=l,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=u.EMPTY,this._hoverSubscription=u.EMPTY,this._menuCloseSubscription=u.EMPTY,this._handleTouchStart=function(){return a._openedBy="touch"},this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new ui,this.onMenuOpen=this.menuOpened,this.menuClosed=new ui,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,$w),i&&(i._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=n}return Object.defineProperty(t.prototype,"_deprecatedMatMenuTriggerFor",{get:function(){return this.menu},set:function(t){this.menu=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menu",{get:function(){return this._menu},set:function(t){var e=this;t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe((function(t){e._destroyMenu(),"click"!==t&&"tab"!==t||!e._parentMenu||e._parentMenu.closed.emit(t)}))))},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){this._checkMenu(),this._handleHover()},t.prototype.ngOnDestroy=function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,$w),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()},Object.defineProperty(t.prototype,"menuOpen",{get:function(){return this._menuOpen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"},enumerable:!0,configurable:!0}),t.prototype.triggersSubmenu=function(){return!(!this._menuItemInstance||!this._parentMenu)},t.prototype.toggleMenu=function(){return this._menuOpen?this.closeMenu():this.openMenu()},t.prototype.openMenu=function(){var t=this;if(!this._menuOpen){this._checkMenu();var e=this._createOverlay(),o=e.getConfig();this._setPosition(o.positionStrategy),o.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe((function(){return t.closeMenu()})),this._initMenu(),this.menu instanceof Jw&&this.menu._startAnimation()}},t.prototype.closeMenu=function(){this.menu.close.emit()},t.prototype.focus=function(t,e){void 0===t&&(t="program"),this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)},t.prototype._destroyMenu=function(){var t=this;if(this._overlayRef&&this.menuOpen){var e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),e instanceof Jw?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(Ic((function(t){return"void"===t.toState})),Wp(1),Cy(e.lazyContent._attached)).subscribe({next:function(){return e.lazyContent.detach()},complete:function(){return t._setIsMenuOpen(!1)}}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach()),this._restoreFocus()}},t.prototype._initMenu=function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")},t.prototype._setMenuElevation=function(){if(this.menu.setElevation){for(var t=0,e=this.menu.parentMenu;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}},t.prototype._restoreFocus=function(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null},t.prototype._setIsMenuOpen=function(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)},t.prototype._checkMenu=function(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()},t.prototype._createOverlay=function(){if(!this._overlayRef){var t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef},t.prototype._getOverlayConfig=function(){return new RT({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})},t.prototype._subscribeToPositions=function(t){var e=this;this.menu.setPositionClasses&&t.positionChanges.subscribe((function(t){e.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")}))},t.prototype._setPosition=function(t){var e="before"===this.menu.xPosition?["end","start"]:["start","end"],o=e[0],n=e[1],r="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],i=r[0],s=r[1],l=[i,s],a=l[0],u=l[1],c=[o,n],p=c[0],h=c[1],g=0;this.triggersSubmenu()?(h=o="before"===this.menu.xPosition?"start":"end",n=p="end"===o?"start":"end",g="bottom"===i?8:-8):this.menu.overlapTrigger||(a="top"===i?"bottom":"top",u="top"===s?"bottom":"top"),t.withPositions([{originX:o,originY:a,overlayX:p,overlayY:i,offsetY:g},{originX:n,originY:a,overlayX:h,overlayY:i,offsetY:g},{originX:o,originY:u,overlayX:p,overlayY:s,offsetY:-g},{originX:n,originY:u,overlayX:h,overlayY:s,offsetY:-g}])},t.prototype._menuClosingActions=function(){var t=this,e=this._overlayRef.backdropClick(),o=this._overlayRef.detachments();return Z(e,this._parentMenu?this._parentMenu.closed:pa(),this._parentMenu?this._parentMenu._hovered().pipe(Ic((function(e){return e!==t._menuItemInstance})),Ic((function(){return t._menuOpen}))):pa(),o)},t.prototype._handleMousedown=function(t){X_(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())},t.prototype._handleKeydown=function(t){var e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()},t.prototype._handleClick=function(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()},t.prototype._handleHover=function(){var t=this;this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Ic((function(e){return e===t._menuItemInstance&&!e.disabled})),CS(0,aT)).subscribe((function(){t._openedBy="mouse",t.menu instanceof Jw&&t.menu._isAnimating?t.menu._animationDone.pipe(Wp(1),CS(0,aT),Cy(t._parentMenu._hovered())).subscribe((function(){return t.openMenu()})):t.openMenu()})))},t.prototype._getPortal=function(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new bT(this.menu.templateRef,this._viewContainerRef)),this._portal},t}(),eO=function(){return function(){}}(),oO=function(){return function(){}}(),nO=Bn({encapsulation:2,styles:[".mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}@media (-ms-high-contrast:active){.mat-menu-panel{outline:solid 1px}}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}@media (-ms-high-contrast:active){.mat-menu-item-highlighted,.mat-menu-item.cdk-keyboard-focused,.mat-menu-item.cdk-program-focused{outline:dotted 1px}}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:'';display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}"],data:{animation:[{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:{type:3,steps:[{type:11,selector:".mat-menu-content, .mat-mdc-menu-content",animation:{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"100ms linear"},options:null},{type:4,styles:{type:6,styles:{transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function rO(t){return Vs(0,[(t()(),ks(0,0,null,null,4,"div",[["class","mat-menu-panel"],["role","menu"],["tabindex","-1"]],[[24,"@transformMenu",0]],[[null,"keydown"],[null,"click"],[null,"@transformMenu.start"],[null,"@transformMenu.done"]],(function(t,e,o){var n=!0,r=t.component;return"keydown"===e&&(n=!1!==r._handleKeydown(o)&&n),"click"===e&&(n=!1!==r.closed.emit("click")&&n),"@transformMenu.start"===e&&(n=!1!==r._onAnimationStart(o)&&n),"@transformMenu.done"===e&&(n=!1!==r._onAnimationDone(o)&&n),n}),null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(2,278528,null,0,Zc,[Jc],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),ks(3,0,null,null,1,"div",[["class","mat-menu-content"]],null,null,null,null,null)),Ns(null,0)],(function(t,e){t(e,2,0,"mat-menu-panel",e.component._classList)}),(function(t,e){t(e,0,0,e.component._panelAnimationState)}))}function iO(t){return Vs(2,[ws(671088640,1,{templateRef:0}),(t()(),Es(0,[[1,2]],null,0,null,rO))],null,null)}var sO=Bn({encapsulation:2,styles:[],data:{}});function lO(t){return Vs(2,[Ns(null,0),(t()(),ks(1,0,null,null,1,"div",[["class","mat-menu-ripple mat-ripple"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),Ur(2,212992,null,0,vy,[Po,Ui,w_,[2,yy],[2,yk]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],(function(t,e){var o=e.component;t(e,2,0,o.disableRipple||o.disabled,o._getHostElement())}),(function(t,e){t(e,1,0,Ar(e,2).unbounded)}))}o("Iab2");var aO=function(){function t(t,e,o,n,r,i){this.identityService=t,this.blocklyService=e,this.showArduinoCommunicator=o,this.router=n,this.deviceCommunicator=r,this.changeDetectorRef=i,this.arduinoState=xa.DISCONNECTED}return t.prototype.ngOnInit=function(){var t=this;this.deviceCommunicator.arduinoState$.subscribe((function(e){e!==xa.UPLOAD_CODE_COMPLETE.toString()?(e===xa.UPLOAD_CODE_ERROR.toString()&&alert("There was an error uploading your code, please try again or file a bug. :("),e.toString()!==t.arduinoState.toString()&&(t.arduinoState=e,t.changeDetectorRef.detectChanges())):alert("Your code was succussfully uploaded. :)")}))},t.prototype.newFile=function(){this.blocklyService.resetWorkspace()},t.prototype.uploadFile=function(t){var e=this;this.showArduinoCommunicator.setShowArduino(!0);var o=t.target.files[0],n=new FileReader;n.readAsText(o,"UTF-8"),n.onload=function(){e.blocklyService.loadFile(n.result.toString())}},t.prototype.downloadFile=function(){var t=this.blocklyService.getXMLCode(),e=new Blob([t],{type:"text/xml;charset=utf-8"});saveAs(e,"electro_blocks_"+Date.now()+".xml")},t.prototype.uploadCode=function(){var t=this.blocklyService.getArduinoCode();this.deviceCommunicator.sendMessage(Na.UPLOAD_CODE,t),this.router.navigate(["/arduino"])},t.prototype.navigateToSettings=function(t){switch(t){case"advanced":this.router.navigate(["settings",{outlets:{settingContainer:"advanced"}}]);break;case"help":this.router.navigate(["settings",{outlets:{settingContainer:"help"}}]);break;case"toolbox":this.router.navigate(["settings",{outlets:{settingContainer:"toolbox"}}]);break;case"bug":this.router.navigate(["settings",{outlets:{settingContainer:"bug"}}]);break;case"about":this.router.navigate(["settings",{outlets:{settingContainer:"about"}}])}},t}(),uO=Bn({encapsulation:0,styles:[["#top-menu[_ngcontent-%COMP%]{height:50px}.icon-bar[_ngcontent-%COMP%]{width:100%;overflow:auto}.icon-bar[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#505bda}.icon-bar[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%], .icon-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{opacity:.5}.icon-bar[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#505bda!important;opacity:1}.icon-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .icon-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left;width:20%;text-align:center;padding:7px 0;transition:all .3s ease;color:#fff;font-size:30px;cursor:pointer}.icon-bar[_ngcontent-%COMP%]   span.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.icon-bar-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .icon-bar-bottom[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right}.fa-exclamation-triangle[_ngcontent-%COMP%]{color:#f8a6a6!important}"]],data:{}});function cO(t){return Vs(0,[(t()(),ks(0,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-trigger"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(t,e,o){var n=!0;return"mousedown"===e&&(n=!1!==Ar(t,2)._handleMousedown(o)&&n),"keydown"===e&&(n=!1!==Ar(t,2)._handleKeydown(o)&&n),"click"===e&&(n=!1!==Ar(t,2)._handleClick(o)&&n),n}),aS,lS)),Ur(1,180224,null,0,iS,[Po,z_,[2,yk]],null,null),Ur(2,1196032,null,0,tO,[KT,Po,cn,Zw,[2,Jw],[8,null],[2,Wv],z_],{menu:[0,"menu"]},null),(t()(),Ps(-1,0,[" File\n"])),(t()(),Es(0,null,null,0))],(function(t,e){t(e,2,0,Ar(e.parent,7))}),(function(t,e){t(e,0,0,Ar(e,1).disabled||null,"NoopAnimations"===Ar(e,1)._animationMode,Ar(e,2).menuOpen||null)}))}function pO(t){return Vs(0,[(t()(),ks(0,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-trigger"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(t,e,o){var n=!0;return"mousedown"===e&&(n=!1!==Ar(t,2)._handleMousedown(o)&&n),"keydown"===e&&(n=!1!==Ar(t,2)._handleKeydown(o)&&n),"click"===e&&(n=!1!==Ar(t,2)._handleClick(o)&&n),n}),aS,lS)),Ur(1,180224,null,0,iS,[Po,z_,[2,yk]],null,null),Ur(2,1196032,null,0,tO,[KT,Po,cn,Zw,[2,Jw],[8,null],[2,Wv],z_],{menu:[0,"menu"]},null),(t()(),Ps(-1,0,[" Settings\n"])),(t()(),Es(0,null,null,0))],(function(t,e){t(e,2,0,Ar(e.parent,32))}),(function(t,e){t(e,0,0,Ar(e,1).disabled||null,"NoopAnimations"===Ar(e,1)._animationMode,Ar(e,2).menuOpen||null)}))}function hO(t){return Vs(0,[(t()(),ks(0,16777216,null,null,3,"button",[["aria-haspopup","true"],["class","mat-menu-trigger"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(t,e,o){var n=!0;return"mousedown"===e&&(n=!1!==Ar(t,2)._handleMousedown(o)&&n),"keydown"===e&&(n=!1!==Ar(t,2)._handleKeydown(o)&&n),"click"===e&&(n=!1!==Ar(t,2)._handleClick(o)&&n),n}),aS,lS)),Ur(1,180224,null,0,iS,[Po,z_,[2,yk]],null,null),Ur(2,1196032,null,0,tO,[KT,Po,cn,Zw,[2,Jw],[8,null],[2,Wv],z_],{menu:[0,"menu"]},null),(t()(),Ps(-1,0,[" Help\n"])),(t()(),Es(0,null,null,0))],(function(t,e){t(e,2,0,Ar(e.parent,51))}),(function(t,e){t(e,0,0,Ar(e,1).disabled||null,"NoopAnimations"===Ar(e,1)._animationMode,Ar(e,2).menuOpen||null)}))}function gO(t){return Vs(0,[(t()(),ks(0,0,null,null,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,o){var n=!0,r=t.component;return"click"===e&&(n=!1!==Ar(t,1)._checkDisabled(o)&&n),"mouseenter"===e&&(n=!1!==Ar(t,1)._handleMouseEnter()&&n),"click"===e&&(n=!1!==r.downloadFile()&&n),n}),lO,sO)),Ur(1,180224,[[1,4],[2,4]],0,Xw,[Po,fp,z_,[2,zw]],null,null),(t()(),Ps(-1,0,[" Download "]))],null,(function(t,e){t(e,0,0,Ar(e,1).role,Ar(e,1)._highlighted,Ar(e,1)._triggersSubmenu,Ar(e,1)._getTabIndex(),Ar(e,1).disabled.toString(),Ar(e,1).disabled||null)}))}function dO(t){return Vs(0,[(t()(),Es(16777216,null,null,1,null,cO)),Ur(1,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,pO)),Ur(3,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,hO)),Ur(5,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),ks(6,0,null,null,24,"mat-menu",[],null,null,null,iO,nO)),Ur(7,1294336,[["fileMenu",4]],3,qw,[Po,Ui,Yw],null,null),ws(603979776,1,{_allItems:1}),ws(603979776,2,{items:1}),ws(603979776,3,{lazyContent:0}),Hr(2048,null,Jw,null,[qw]),Hr(2048,null,zw,null,[Jw]),(t()(),ks(13,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,o){var n=!0,r=t.component;return"click"===e&&(n=!1!==Ar(t,14)._checkDisabled(o)&&n),"mouseenter"===e&&(n=!1!==Ar(t,14)._handleMouseEnter()&&n),"click"===e&&(n=!1!==r.newFile()&&n),n}),lO,sO)),Ur(14,180224,[[1,4],[2,4]],0,Xw,[Po,fp,z_,[2,zw]],null,null),(t()(),Ps(-1,0,["New"])),(t()(),ks(16,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==Ar(t,17)._checkDisabled(o)&&n),"mouseenter"===e&&(n=!1!==Ar(t,17)._handleMouseEnter()&&n),"click"===e&&(n=!1!==Ar(t,19).click()&&n),n}),lO,sO)),Ur(17,180224,[[1,4],[2,4]],0,Xw,[Po,fp,z_,[2,zw]],null,null),(t()(),Ps(-1,0,["Open"])),(t()(),ks(19,0,[["uploader",1]],0,0,"input",[["hidden",""],["type","file"]],null,[[null,"change"]],(function(t,e,o){var n=!0;return"change"===e&&(n=!1!==t.component.uploadFile(o)&&n),n}),null,null)),(t()(),Es(16777216,null,0,1,null,gO)),Ur(21,16384,null,0,ep,[cn,an],{ngIf:[0,"ngIf"]},null),(t()(),ks(22,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==Ar(t,23)._checkDisabled(o)&&n),"mouseenter"===e&&(n=!1!==Ar(t,23)._handleMouseEnter()&&n),n}),lO,sO)),Ur(23,180224,[[1,4],[2,4]],0,Xw,[Po,fp,z_,[2,zw]],{disabled:[0,"disabled"]},null),(t()(),Ps(-1,0,["Save"])),(t()(),ks(25,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==Ar(t,26)._checkDisabled(o)&&n),"mouseenter"===e&&(n=!1!==Ar(t,26)._handleMouseEnter()&&n),n}),lO,sO)),Ur(26,180224,[[1,4],[2,4]],0,Xw,[Po,fp,z_,[2,zw]],{disabled:[0,"disabled"]},null),(t()(),Ps(-1,0,[" Save As "])),(t()(),ks(28,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==Ar(t,29)._checkDisabled(o)&&n),"mouseenter"===e&&(n=!1!==Ar(t,29)._handleMouseEnter()&&n),n}),lO,sO)),Ur(29,180224,[[1,4],[2,4]],0,Xw,[Po,fp,z_,[2,zw]],{disabled:[0,"disabled"]},null),(t()(),Ps(-1,0,["Close"])),(t()(),ks(31,0,null,null,18,"mat-menu",[],null,null,null,iO,nO)),Ur(32,1294336,[["settingMenu",4]],3,qw,[Po,Ui,Yw],null,null),ws(603979776,4,{_allItems:1}),ws(603979776,5,{items:1}),ws(603979776,6,{lazyContent:0}),Hr(2048,null,Jw,null,[qw]),Hr(2048,null,zw,null,[Jw]),(t()(),ks(38,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,o){var n=!0,r=t.component;return"click"===e&&(n=!1!==Ar(t,39)._checkDisabled(o)&&n),"mouseenter"===e&&(n=!1!==Ar(t,39)._handleMouseEnter()&&n),"click"===e&&(n=!1!==r.navigateToSettings("toolbox")&&n),n}),lO,sO)),Ur(39,180224,[[4,4],[5,4]],0,Xw,[Po,fp,z_,[2,zw]],null,null),(t()(),Ps(-1,0,["Toolbox"])),(t()(),ks(41,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,o){var n=!0,r=t.component;return"click"===e&&(n=!1!==Ar(t,42)._checkDisabled(o)&&n),"mouseenter"===e&&(n=!1!==Ar(t,42)._handleMouseEnter()&&n),"click"===e&&(n=!1!==r.navigateToSettings("advanced")&&n),n}),lO,sO)),Ur(42,180224,[[4,4],[5,4]],0,Xw,[Po,fp,z_,[2,zw]],null,null),(t()(),Ps(-1,0,[" Advanced "])),(t()(),ks(44,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,o){var n=!0,r=t.component;return"click"===e&&(n=!1!==Ar(t,45)._checkDisabled(o)&&n),"mouseenter"===e&&(n=!1!==Ar(t,45)._handleMouseEnter()&&n),"click"===e&&(n=!1!==r.navigateToSettings("bug")&&n),n}),lO,sO)),Ur(45,180224,[[4,4],[5,4]],0,Xw,[Po,fp,z_,[2,zw]],null,null),(t()(),Ps(-1,0,["Report Bug"])),(t()(),ks(47,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,o){var n=!0,r=t.component;return"click"===e&&(n=!1!==Ar(t,48)._checkDisabled(o)&&n),"mouseenter"===e&&(n=!1!==Ar(t,48)._handleMouseEnter()&&n),"click"===e&&(n=!1!==r.navigateToSettings("about")&&n),n}),lO,sO)),Ur(48,180224,[[4,4],[5,4]],0,Xw,[Po,fp,z_,[2,zw]],null,null),(t()(),Ps(-1,0,["About"])),(t()(),ks(50,0,null,null,9,"mat-menu",[],null,null,null,iO,nO)),Ur(51,1294336,[["helpMenu",4]],3,qw,[Po,Ui,Yw],null,null),ws(603979776,7,{_allItems:1}),ws(603979776,8,{items:1}),ws(603979776,9,{lazyContent:0}),Hr(2048,null,Jw,null,[qw]),Hr(2048,null,zw,null,[Jw]),(t()(),ks(57,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,o){var n=!0,r=t.component;return"click"===e&&(n=!1!==Ar(t,58)._checkDisabled(o)&&n),"mouseenter"===e&&(n=!1!==Ar(t,58)._handleMouseEnter()&&n),"click"===e&&(n=!1!==r.navigateToSettings("help")&&n),n}),lO,sO)),Ur(58,180224,[[7,4],[8,4]],0,Xw,[Po,fp,z_,[2,zw]],null,null),(t()(),Ps(-1,0,["Support"])),(t()(),ks(60,0,null,null,37,"div",[["class","icon-bar"],["id","top-menu"]],null,null,null,null,null)),(t()(),ks(61,0,null,null,7,"a",[["routerLinkActive","active"],["title","Home"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==Ar(t,62).onClick(o.button,o.ctrlKey,o.metaKey,o.shiftKey)&&n),n}),null,null)),Ur(62,671744,[[11,4]],0,Uf,[Pf,Ad,Fc],{routerLink:[0,"routerLink"]},null),Ds(63,1),Ur(64,1720320,null,2,Hf,[Pf,Po,Go,[2,Ff],[2,Uf]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),ws(603979776,10,{links:1}),ws(603979776,11,{linksWithHrefs:1}),Ls(67,{exact:0}),(t()(),ks(68,0,null,null,0,"i",[["class","fa fa-home"]],null,null,null,null,null)),(t()(),ks(69,0,null,null,6,"a",[["routerLinkActive","active"],["title","Code Mode"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==Ar(t,70).onClick(o.button,o.ctrlKey,o.metaKey,o.shiftKey)&&n),n}),null,null)),Ur(70,671744,[[13,4]],0,Uf,[Pf,Ad,Fc],{routerLink:[0,"routerLink"]},null),Ds(71,1),Ur(72,1720320,null,2,Hf,[Pf,Po,Go,[2,Ff],[2,Uf]],{routerLinkActive:[0,"routerLinkActive"]},null),ws(603979776,12,{links:1}),ws(603979776,13,{linksWithHrefs:1}),(t()(),ks(75,0,null,null,0,"i",[["class","fa fa-code"]],null,null,null,null,null)),(t()(),ks(76,0,null,null,6,"a",[["routerLinkActive","active"],["title","Arduio"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==Ar(t,77).onClick(o.button,o.ctrlKey,o.metaKey,o.shiftKey)&&n),n}),null,null)),Ur(77,671744,[[15,4]],0,Uf,[Pf,Ad,Fc],{routerLink:[0,"routerLink"]},null),Ds(78,1),Ur(79,1720320,null,2,Hf,[Pf,Po,Go,[2,Ff],[2,Uf]],{routerLinkActive:[0,"routerLinkActive"]},null),ws(603979776,14,{links:1}),ws(603979776,15,{linksWithHrefs:1}),(t()(),ks(82,0,null,null,0,"i",[["class","fa fa-microchip"]],null,null,null,null,null)),(t()(),ks(83,0,null,null,6,"a",[["routerLinkActive","active"],["title","Lessons"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==Ar(t,84).onClick(o.button,o.ctrlKey,o.metaKey,o.shiftKey)&&n),n}),null,null)),Ur(84,671744,[[17,4]],0,Uf,[Pf,Ad,Fc],{routerLink:[0,"routerLink"]},null),Ds(85,1),Ur(86,1720320,null,2,Hf,[Pf,Po,Go,[2,Ff],[2,Uf]],{routerLinkActive:[0,"routerLinkActive"]},null),ws(603979776,16,{links:1}),ws(603979776,17,{linksWithHrefs:1}),(t()(),ks(89,0,null,null,0,"i",[["class","fa fa-book"]],null,null,null,null,null)),(t()(),ks(90,0,null,null,7,"span",[["title","Upload Code"]],null,[[null,"click"]],(function(t,e,o){var n=!0;return"click"===e&&(n=!1!==t.component.uploadCode()&&n),n}),null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(92,278528,null,0,Zc,[Jc],{ngClass:[0,"ngClass"]},null),Ls(93,{disabled:0}),(t()(),ks(94,0,null,null,3,"i",[["class","fa "]],null,null,null,null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(96,278528,null,0,Zc,[Jc],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ls(97,{"fa-exclamation-triangle":0,"fa-upload":1,"fa-cog fa-spin fa-6x fa-fw":2})],(function(t,e){var o=e.component;t(e,1,0,o.identityService.isBrowser()||o.identityService.isChromebookApp()),t(e,3,0,o.identityService.isBrowser()||o.identityService.isChromebookApp()),t(e,5,0,o.identityService.isBrowser()||o.identityService.isChromebookApp()),t(e,7,0),t(e,21,0,o.identityService.isBrowser()),t(e,23,0,o.identityService.isBrowser()),t(e,26,0,o.identityService.isBrowser()),t(e,29,0,o.identityService.isBrowser()),t(e,32,0),t(e,51,0);var n=t(e,63,0,"/");t(e,62,0,n);var r=t(e,67,0,!0);t(e,64,0,r,"active");var i=t(e,71,0,"/code-web");t(e,70,0,i),t(e,72,0,"active");var s=t(e,78,0,"/arduino");t(e,77,0,s),t(e,79,0,"active");var l=t(e,85,0,"/lessons");t(e,84,0,l),t(e,86,0,"active");var a=t(e,93,0,"CONNECTED"!=o.arduinoState);t(e,92,0,a);var u=t(e,97,0,"DISCONNECTED"==o.arduinoState,"CONNECTED"==o.arduinoState,"UPLOADING_CODE"==o.arduinoState);t(e,96,0,"fa ",u)}),(function(t,e){t(e,13,0,Ar(e,14).role,Ar(e,14)._highlighted,Ar(e,14)._triggersSubmenu,Ar(e,14)._getTabIndex(),Ar(e,14).disabled.toString(),Ar(e,14).disabled||null),t(e,16,0,Ar(e,17).role,Ar(e,17)._highlighted,Ar(e,17)._triggersSubmenu,Ar(e,17)._getTabIndex(),Ar(e,17).disabled.toString(),Ar(e,17).disabled||null),t(e,22,0,Ar(e,23).role,Ar(e,23)._highlighted,Ar(e,23)._triggersSubmenu,Ar(e,23)._getTabIndex(),Ar(e,23).disabled.toString(),Ar(e,23).disabled||null),t(e,25,0,Ar(e,26).role,Ar(e,26)._highlighted,Ar(e,26)._triggersSubmenu,Ar(e,26)._getTabIndex(),Ar(e,26).disabled.toString(),Ar(e,26).disabled||null),t(e,28,0,Ar(e,29).role,Ar(e,29)._highlighted,Ar(e,29)._triggersSubmenu,Ar(e,29)._getTabIndex(),Ar(e,29).disabled.toString(),Ar(e,29).disabled||null),t(e,38,0,Ar(e,39).role,Ar(e,39)._highlighted,Ar(e,39)._triggersSubmenu,Ar(e,39)._getTabIndex(),Ar(e,39).disabled.toString(),Ar(e,39).disabled||null),t(e,41,0,Ar(e,42).role,Ar(e,42)._highlighted,Ar(e,42)._triggersSubmenu,Ar(e,42)._getTabIndex(),Ar(e,42).disabled.toString(),Ar(e,42).disabled||null),t(e,44,0,Ar(e,45).role,Ar(e,45)._highlighted,Ar(e,45)._triggersSubmenu,Ar(e,45)._getTabIndex(),Ar(e,45).disabled.toString(),Ar(e,45).disabled||null),t(e,47,0,Ar(e,48).role,Ar(e,48)._highlighted,Ar(e,48)._triggersSubmenu,Ar(e,48)._getTabIndex(),Ar(e,48).disabled.toString(),Ar(e,48).disabled||null),t(e,57,0,Ar(e,58).role,Ar(e,58)._highlighted,Ar(e,58)._triggersSubmenu,Ar(e,58)._getTabIndex(),Ar(e,58).disabled.toString(),Ar(e,58).disabled||null),t(e,61,0,Ar(e,62).target,Ar(e,62).href),t(e,69,0,Ar(e,70).target,Ar(e,70).href),t(e,76,0,Ar(e,77).target,Ar(e,77).href),t(e,83,0,Ar(e,84).target,Ar(e,84).href)}))}function fO(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-menu",[],null,null,null,dO,uO)),Ur(1,114688,null,0,aO,[gm,hm,OC,Pf,Ra,Ie],null,null)],(function(t,e){t(e,1,0)}),null)}var mO=fr("app-menu",aO,fO,{},{},[]),_O=function(){function t(t){this.blocklyService=t}return t.prototype.ngOnInit=function(){this.blocklyService.resizeWorkspace()},t}(),yO=Bn({encapsulation:0,styles:[[""]],data:{}});function vO(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Ps(-1,null,[" page-not-found works!\n"]))],null,null)}function bO(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-page-not-found",[],null,null,null,vO,yO)),Ur(1,114688,null,0,_O,[hm],null,null)],(function(t,e){t(e,1,0)}),null)}var EO=fr("app-page-not-found",_O,bO,{},{},[]),kO=Bn({encapsulation:2,styles:[".mat-tooltip-panel{pointer-events:none!important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}@media (-ms-high-contrast:active){.mat-tooltip{outline:solid 1px}}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"initial, void, hidden",styles:{type:6,styles:{opacity:0,transform:"scale(0)"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)"},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"scale(0)",offset:0},offset:null},{type:6,styles:{opacity:.5,transform:"scale(0.99)",offset:.5},offset:null},{type:6,styles:{opacity:1,transform:"scale(1)",offset:1},offset:null}]},timings:"200ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms cubic-bezier(0, 0, 0.2, 1)"},options:null}],options:{}}]}});function TO(t){return Vs(2,[(t()(),ks(0,0,null,null,4,"div",[["class","mat-tooltip"]],[[2,"mat-tooltip-handset",null],[24,"@state",0]],[[null,"@state.start"],[null,"@state.done"]],(function(t,e,o){var n=!0,r=t.component;return"@state.start"===e&&(n=!1!==r._animationStart()&&n),"@state.done"===e&&(n=!1!==r._animationDone(o)&&n),n}),null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(2,278528,null,0,Zc,[Jc],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Vr(131072,gp,[Ie]),(t()(),Ps(4,null,["",""]))],(function(t,e){t(e,2,0,"mat-tooltip",e.component.tooltipClass)}),(function(t,e){var o,n=e.component;t(e,0,0,null==(o=An(e,0,0,Ar(e,3).transform(n._isHandset)))?null:o.matches,n._visibility),t(e,4,0,n.message)}))}function SO(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"mat-tooltip-component",[["aria-hidden","true"]],[[4,"zoom",null]],[["body","click"]],(function(t,e,o){var n=!0;return"body:click"===e&&(n=!1!==Ar(t,1)._handleBodyInteraction()&&n),n}),TO,kO)),Ur(1,180224,null,0,eS,[Ie,eT],null,null)],null,(function(t,e){t(e,0,0,"visible"===Ar(e,1)._visibility?1:null)}))}var CO=fr("mat-tooltip-component",eS,SO,{},{},[]),AO=function(){function t(t,e){this.blocklyService=t,this.framePlayer=e}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){t.blocklyService.setUpBlock(t.blockContent.nativeElement)}),10),this.framePlayer.changeFrame$.subscribe((function(e){t.blocklyService.selectBlock(e.blockId)}))},t}(),wO=Bn({encapsulation:0,styles:[["#blocklyDiv[_ngcontent-%COMP%]{width:100%;height:100%}"]],data:{}});function OO(t){return Vs(0,[ws(671088640,1,{blockContent:0}),(t()(),ks(1,0,[[1,0],["blockContent",1]],null,0,"div",[["id","blocklyDiv"]],null,null,null,null,null))],null,null)}function BO(t,e,o){return 0===o?[e]:(t.push(e),t)}var IO=function(){return function(){}}(),RO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e.prototype.getTranslation=function(t){return pa({})},e}(IO),NO=function(){return function(){}}(),xO=function(){function t(){}return t.prototype.handle=function(t){return t.key},t}(),DO=function(){return function(){}}(),LO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n.__extends)(e,t),e.prototype.compile=function(t,e){return t},e.prototype.compileTranslations=function(t,e){return t},e}(DO);function MO(t){return null!=t}function PO(t){return t&&"object"==typeof t&&!Array.isArray(t)}var FO=function(){return function(){}}(),UO=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,e}return Object(n.__extends)(e,t),e.prototype.interpolate=function(t,e){return"string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t},e.prototype.getValue=function(t,e){var o=e.split(".");e="";do{e+=o.shift(),!MO(t)||!MO(t[e])||"object"!=typeof t[e]&&o.length?o.length?e+=".":t=void 0:(t=t[e],e="")}while(o.length);return t},e.prototype.interpolateFunction=function(t,e){return t(e)},e.prototype.interpolateString=function(t,e){var o=this;return e?t.replace(this.templateMatcher,(function(t,n){var r=o.getValue(e,n);return MO(r)?r:t})):t},e}(FO),VO=function(){return function(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new ui,this.onLangChange=new ui,this.onDefaultLangChange=new ui}}(),HO=new wt("USE_STORE"),GO=new wt("USE_DEFAULT_LANG"),WO=function(){function t(t,e,o,n,r,i,s){void 0===i&&(i=!0),void 0===s&&(s=!1),this.store=t,this.currentLoader=e,this.compiler=o,this.parser=n,this.missingTranslationHandler=r,this.useDefaultLang=i,this.isolate=s,this.pending=!1,this._onTranslationChange=new ui,this._onLangChange=new ui,this._onDefaultLangChange=new ui,this._langs=[],this._translations={},this._translationRequests={}}return Object.defineProperty(t.prototype,"onTranslationChange",{get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onLangChange",{get:function(){return this.isolate?this._onLangChange:this.store.onLangChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDefaultLangChange",{get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultLang",{get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLang",{get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(t){this.isolate?this._currentLang=t:this.store.currentLang=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"langs",{get:function(){return this.isolate?this._langs:this.store.langs},set:function(t){this.isolate?this._langs=t:this.store.langs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"translations",{get:function(){return this.isolate?this._translations:this.store.translations},set:function(t){this.isolate?this._translations=t:this.store.translations=t},enumerable:!0,configurable:!0}),t.prototype.setDefaultLang=function(t){var e=this;if(t!==this.defaultLang){var o=this.retrieveTranslations(t);void 0!==o?(this.defaultLang||(this.defaultLang=t),o.pipe(Wp(1)).subscribe((function(o){e.changeDefaultLang(t)}))):this.changeDefaultLang(t)}},t.prototype.getDefaultLang=function(){return this.defaultLang},t.prototype.use=function(t){var e=this;if(t===this.currentLang)return pa(this.translations[t]);var o=this.retrieveTranslations(t);return void 0!==o?(this.currentLang||(this.currentLang=t),o.pipe(Wp(1)).subscribe((function(o){e.changeLang(t)})),o):(this.changeLang(t),pa(this.translations[t]))},t.prototype.retrieveTranslations=function(t){var e;return void 0===this.translations[t]&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e},t.prototype.getTranslation=function(t){var e=this;this.pending=!0;var o=this.currentLoader.getTranslation(t).pipe(it());return this.loadingTranslations=o.pipe(Wp(1),V((function(o){return e.compiler.compileTranslations(o,t)})),it()),this.loadingTranslations.subscribe((function(o){e.translations[t]=o,e.updateLangs(),e.pending=!1}),(function(t){e.pending=!1})),o},t.prototype.setTranslation=function(t,e,o){void 0===o&&(o=!1),e=this.compiler.compileTranslations(e,t),this.translations[t]=o&&this.translations[t]?function t(e,o){var n=Object.assign({},e);return PO(e)&&PO(o)&&Object.keys(o).forEach((function(r){var i,s;PO(o[r])?r in e?n[r]=t(e[r],o[r]):Object.assign(n,((i={})[r]=o[r],i)):Object.assign(n,((s={})[r]=o[r],s))})),n}(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})},t.prototype.getLangs=function(){return this.langs},t.prototype.addLangs=function(t){var e=this;t.forEach((function(t){-1===e.langs.indexOf(t)&&e.langs.push(t)}))},t.prototype.updateLangs=function(){this.addLangs(Object.keys(this.translations))},t.prototype.getParsedResult=function(t,e,o){var r,i,s,l,a;if(e instanceof Array){var u={},c=!1;try{for(var p=Object(n.__values)(e),h=p.next();!h.done;h=p.next())u[m=h.value]=this.getParsedResult(t,m,o),"function"==typeof u[m].subscribe&&(c=!0)}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}if(c){var g=void 0;try{for(var d=Object(n.__values)(e),f=d.next();!f.done;f=d.next()){var m,_="function"==typeof u[m=f.value].subscribe?u[m]:pa(u[m]);g=void 0===g?_:Z(g,_)}}catch(b){s={error:b}}finally{try{f&&!f.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}return g.pipe(oh(BO,[]),V((function(t){var o={};return t.forEach((function(t,n){o[e[n]]=t})),o})))}return u}if(t&&(a=this.parser.interpolate(this.parser.getValue(t,e),o)),void 0===a&&this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(a=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),o)),void 0===a){var y={key:e,translateService:this};void 0!==o&&(y.interpolateParams=o),a=this.missingTranslationHandler.handle(y)}return void 0!==a?a:e},t.prototype.get=function(t,e){var o=this;if(!MO(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return k.create((function(n){var r=function(t){n.next(t),n.complete()},i=function(t){n.error(t)};o.loadingTranslations.subscribe((function(n){"function"==typeof(n=o.getParsedResult(n,t,e)).subscribe?n.subscribe(r,i):r(n)}),i)}));var n=this.getParsedResult(this.translations[this.currentLang],t,e);return"function"==typeof n.subscribe?n:pa(n)},t.prototype.stream=function(t,e){var o=this;if(!MO(t)||!t.length)throw new Error('Parameter "key" required');return wa(this.get(t,e),this.onLangChange.pipe(Jp((function(n){var r=o.getParsedResult(n.translations,t,e);return"function"==typeof r.subscribe?r:pa(r)}))))},t.prototype.instant=function(t,e){if(!MO(t)||!t.length)throw new Error('Parameter "key" required');var o=this.getParsedResult(this.translations[this.currentLang],t,e);if(void 0!==o.subscribe){if(t instanceof Array){var n={};return t.forEach((function(e,o){n[t[o]]=t[o]})),n}return t}return o},t.prototype.set=function(t,e,o){void 0===o&&(o=this.currentLang),this.translations[o][t]=this.compiler.compile(e,o),this.updateLangs(),this.onTranslationChange.emit({lang:o,translations:this.translations[o]})},t.prototype.changeLang=function(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),this.defaultLang||this.changeDefaultLang(t)},t.prototype.changeDefaultLang=function(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})},t.prototype.reloadLang=function(t){return this.resetLang(t),this.getTranslation(t)},t.prototype.resetLang=function(t){this._translationRequests[t]=void 0,this.translations[t]=void 0},t.prototype.getBrowserLang=function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return-1!==(t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage).indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t}},t.prototype.getBrowserCultureLang=function(){if("undefined"!=typeof window&&void 0!==window.navigator)return(window.navigator.languages?window.navigator.languages[0]:null)||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage},t}(),jO=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.loader||{provide:IO,useClass:RO},e.compiler||{provide:DO,useClass:LO},e.parser||{provide:FO,useClass:UO},e.missingTranslationHandler||{provide:NO,useClass:xO},VO,{provide:HO,useValue:e.isolate},{provide:GO,useValue:e.useDefaultLang},WO]}},t.forChild=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.loader||{provide:IO,useClass:RO},e.compiler||{provide:DO,useClass:LO},e.parser||{provide:FO,useClass:UO},e.missingTranslationHandler||{provide:NO,useClass:xO},{provide:HO,useValue:e.isolate},{provide:GO,useValue:e.useDefaultLang},WO]}},t}(),KO=Bn({encapsulation:0,styles:[["#grabber[_ngcontent-%COMP%]{display:inline-block;width:1%;height:100%;cursor:col-resize;background-color:#eff0f1;background-position:center center;background-repeat:no-repeat;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==)}#blockly-container[_ngcontent-%COMP%], #route-container[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;height:calc(100% - 50px);overflow:hidden}#blockly-container.fileMenu[_ngcontent-%COMP%], #route-container.fileMenu[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;height:calc(100% - 86px);overflow:hidden}.showBottom[_ngcontent-%COMP%]{height:calc(100% - 130px)!important}.showBottom.fileMenu[_ngcontent-%COMP%]{height:calc(100% - 166px)!important}"]],data:{}});function zO(t){return Vs(0,[ws(671088640,1,{grabber:0}),(t()(),ks(1,16777216,null,null,1,"router-outlet",[["name","topMenu"]],null,null,null,null,null)),Ur(2,212992,null,0,jf,[Wf,cn,xo,[8,"topMenu"],Ie],null,null),(t()(),ks(3,0,null,null,6,"div",[["id","blockly-container"]],[[4,"width",null]],null,null,null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(5,278528,null,0,Zc,[Jc],{ngClass:[0,"ngClass"]},null),Vr(131072,gp,[Ie]),Ls(7,{showBottom:0,fileMenu:1}),(t()(),ks(8,0,null,null,1,"app-blockly",[],null,null,null,OO,wO)),Ur(9,4308992,null,0,AO,[hm,va],null,null),(t()(),ks(10,0,[[1,0],["grabber",1]],null,4,"div",[["id","grabber"]],null,[[null,"mouseup"],[null,"mousedown"]],(function(t,e,o){var n=!0,r=t.component;return"mouseup"===e&&(n=!1!==r.grabberMouseUp(o)&&n),"mousedown"===e&&(n=!1!==r.grabberMouseDown(o)&&n),n}),null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(12,278528,null,0,Zc,[Jc],{ngClass:[0,"ngClass"]},null),Vr(131072,gp,[Ie]),Ls(14,{showBottom:0,fileMenu:1}),(t()(),ks(15,0,null,null,6,"div",[["id","route-container"]],[[4,"width",null]],null,null,null,null)),Hr(512,null,Jc,qc,[on,nn,Po,Go]),Ur(17,278528,null,0,Zc,[Jc],{ngClass:[0,"ngClass"]},null),Vr(131072,gp,[Ie]),Ls(19,{showBottom:0,fileMenu:1}),(t()(),ks(20,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Ur(21,212992,null,0,jf,[Wf,cn,xo,[8,null],Ie],null,null),(t()(),ks(22,16777216,null,null,1,"router-outlet",[["name","bottom"]],null,null,null,null,null)),Ur(23,212992,null,0,jf,[Wf,cn,xo,[8,"bottom"],Ie],null,null)],(function(t,e){var o=e.component;t(e,2,0);var n=t(e,7,0,An(e,5,0,Ar(e,6).transform(o.showBottom$)),!o.identityService.isElectron);t(e,5,0,n),t(e,9,0);var r=t(e,14,0,An(e,12,0,Ar(e,13).transform(o.showBottom$)),!o.identityService.isElectron);t(e,12,0,r);var i=t(e,19,0,An(e,17,0,Ar(e,18).transform(o.showBottom$)),!o.identityService.isElectron);t(e,17,0,i),t(e,21,0),t(e,23,0)}),(function(t,e){var o=e.component;t(e,3,0,o.blocklyContainerWidth),t(e,15,0,o.routerContainerWidth)}))}function XO(t){return Vs(0,[(t()(),ks(0,0,null,null,1,"app-root",[],null,[["document","mousemove"]],(function(t,e,o){var n=!0;return"document:mousemove"===e&&(n=!1!==Ar(t,1).onMouseMove(o)&&n),n}),zO,KO)),Ur(1,114688,null,0,dm,[gm,WO,hm,Pf],null,null)],(function(t,e){t(e,1,0)}),null)}var YO=fr("app-root",dm,XO,{},{},[]),JO=new wt("mat-select-scroll-strategy");function qO(t){return function(){return t.scrollStrategies.reposition()}}var ZO=function(){return function(){}}(),QO=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.forChild=function(){return{ngModule:t,providers:[]}},t}(),$O=(window&&window.process&&window,{showBottom:!1,ignoreBottom:!0,showRunLoopOption:!1}),tB={settingSelected:"help"},eB={settingSelected:"toolbox"},oB={settingSelected:"advanced"},nB={settingSelected:"about"},rB={settingSelected:"bug"},iB={settingSelected:"toolbox"},sB={showBottom:!1,ignoreBottom:!1,showRunLoopOption:!1},lB={showBottom:!0,ignoreBottom:!1,showRunLoopOption:!0,containerMode:"Virtual-Circuit"},aB={showBottom:!1,ignoreBottom:!0,showRunLoopOption:!1,containerMode:"Arduino"},uB={showBottom:!0,ignoreBottom:!1,showRunLoopOption:!0,containerMode:"Virtual-Circuit"},cB={showBottom:!1,ignoreBottom:!0},pB=function(){return function(){}}(),hB=function(){return function(){}}(),gB=function(){return function(){}}(),dB=function(){return function(){}}(),fB=function(){return function(){}}(),mB=function(){return function(){}}(),_B=zl(Zl,[dm],(function(t){return function(t){for(var e={},o=[],n=!1,r=0;r<t.length;r++){var i=t[r];i.token===He&&!0===i.value&&(n=!0),1073741824&i.flags&&o.push(i.token),i.index=r,e[Cn(i.token)]=i}return{factory:null,providersByKey:e,providers:t,modules:o,isRoot:n}}([ar(512,xo,Do,[[8,[r_,a_,g_,v_,Mk,gS,yS,TS,xS,Vw,Kw,mO,EO,CO,YO]],[3,xo],Ht]),ar(5120,Ei,ys,[[3,Ei]]),ar(4608,zc,Xc,[Ei,[2,Kc]]),ar(5120,oi,vs,[Ui]),ar(5120,di,fi,[]),ar(5120,on,ms,[]),ar(5120,nn,_s,[]),ar(4608,lg,ag,[fp]),ar(6144,Ce,null,[lg]),ar(4608,tg,ly,[[2,ry],[2,Z_]]),ar(5120,wh,(function(t,e,o,n,r,i,s,l){return[new Qh(t,e,o),new sg(n),new ng(r,i,s,l)]}),[fp,Ui,yi,fp,fp,tg,bi,[2,eg]]),ar(4608,Oh,Oh,[wh,Ui]),ar(135680,Rh,Rh,[fp]),ar(4608,Fh,Fh,[Oh,Rh,di]),ar(5120,Eb,fk,[]),ar(5120,pE,mk,[]),ar(4608,VE,dk,[fp,Eb,pE]),ar(5120,Vo,_k,[Fh,VE,Ui]),ar(6144,Ih,null,[Rh]),ar(4608,Xi,Xi,[Ui]),ar(4608,Jy,Jy,[]),ar(4608,sC,lC,[fp,yi,rC]),ar(4608,aC,aC,[sC,iC]),ar(5120,QS,(function(t){return[t]}),[aC]),ar(4608,oC,oC,[]),ar(6144,eC,null,[oC]),ar(4608,nC,nC,[eC]),ar(6144,LS,null,[nC]),ar(4608,DS,uC,[LS,We]),ar(4608,qS,qS,[DS]),ar(4608,Sm,Sm,[]),ar(5120,Ad,lm,[Pf]),ar(4608,Yf,Yf,[]),ar(6144,zf,null,[Yf]),ar(135680,Jf,Jf,[Pf,rs,Ii,We,zf]),ar(4608,Xf,Xf,[]),ar(5120,qf,om,[Pf,yp,Zf]),ar(5120,pm,cm,[am]),ar(5120,vi,(function(t){return[t]}),[pm]),ar(4608,zv,lk,[Vo,fp]),ar(4608,Wk,Wk,[]),ar(4608,ny,ny,[]),ar(4608,KT,KT,[IT,PT,xo,WT,MT,We,Ui,fp,Wv,[2,Vc]]),ar(5120,zT,XT,[KT]),ar(5120,JO,qO,[KT]),ar(5120,ZT,QT,[KT]),ar(5120,Zw,Qw,[KT]),ar(5120,IO,ql,[qS]),ar(4608,DO,LO,[]),ar(4608,FO,UO,[]),ar(4608,NO,xO,[]),ar(4608,VO,VO,[]),ar(4608,WO,WO,[VO,IO,DO,FO,NO,GO,HO]),ar(4608,va,va,[oa]),ar(1073742336,dp,dp,[]),ar(1024,$t,mg,[]),ar(1024,Zi,(function(){return[tm()]}),[]),ar(512,am,am,[We]),ar(1024,hi,(function(t,e){return[(o=t,Sh("probe",Ah),Sh("coreTokens",Object(n.__assign)({},Ch,(o||[]).reduce((function(t,e){return t[e.name]=e.token,t}),{}))),function(){return Ah}),um(e)];var o}),[[2,Zi],am]),ar(512,gi,gi,[[2,hi]]),ar(131584,os,os,[Ui,bi,We,$t,xo,gi]),ar(1073742336,bs,bs,[os]),ar(1073742336,_g,_g,[[3,_g]]),ar(1073742336,Bv,Bv,[]),ar(1073742336,Iv,Iv,[]),ar(1073742336,cC,cC,[]),ar(1073742336,pC,pC,[]),ar(1073742336,wm,wm,[]),ar(1073742336,QO,QO,[]),ar(1024,Qf,rm,[[3,Pf]]),ar(512,rd,id,[]),ar(512,Wf,Wf,[]),ar(256,Zf,{useHash:!1},[]),ar(1024,Fc,nm,[Mc,[2,Uc],Zf]),ar(512,Vc,Vc,[Fc,Mc]),ar(512,Ii,Ii,[]),ar(512,rs,ls,[Ii,[2,is]]),ar(1024,If,(function(){return[[{path:"settings",data:$O,component:u_,pathMatch:"prefix",children:[{component:d_,path:"help",outlet:"settingContainer",data:tB},{component:Rk,path:"toolbox",outlet:"settingContainer",data:eB},{component:uS,path:"advanced",outlet:"settingContainer",data:oB},{component:dS,path:"about",outlet:"settingContainer",data:nB},{component:vS,path:"bug",outlet:"settingContainer",data:rB},{component:Rk,path:"",outlet:"settingContainer",data:iB}]},{path:"code-web",data:sB,component:BS},{path:"",data:lB,component:Nw},{path:"arduino",data:aB,component:Nw,pathMatch:"full"},{path:"",data:uB,component:Hw,outlet:"bottom",pathMatch:"full"},{path:"",component:aO,outlet:"topMenu"},{path:"**",component:_O,data:cB}]]}),[]),ar(1024,Pf,sm,[os,rd,Wf,Vc,We,rs,Ii,If,Zf,[2,Nf],[2,Of]]),ar(1073742336,em,em,[[2,Qf],[2,Pf]]),ar(1073742336,pB,pB,[]),ar(1073742336,bk,bk,[]),ar(1073742336,jv,jv,[]),ar(1073742336,Z_,Z_,[[2,q_],[2,eg]]),ar(1073742336,kT,kT,[]),ar(1073742336,O_,O_,[]),ar(1073742336,by,by,[]),ar(1073742336,zk,zk,[]),ar(1073742336,Y_,Y_,[]),ar(1073742336,hB,hB,[]),ar(1073742336,pw,pw,[]),ar(1073742336,JA,JA,[]),ar(1073742336,fw,fw,[]),ar(1073742336,gB,gB,[]),ar(1073742336,fT,fT,[]),ar(1073742336,YT,YT,[]),ar(1073742336,ky,ky,[]),ar(1073742336,Ty,Ty,[]),ar(1073742336,ZO,ZO,[]),ar(1073742336,CC,CC,[]),ar(1073742336,py,py,[]),ar(1073742336,dB,dB,[]),ar(1073742336,sS,sS,[]),ar(1073742336,Hk,Hk,[]),ar(1073742336,Gk,Gk,[]),ar(1073742336,fB,fB,[]),ar(1073742336,mB,mB,[]),ar(1073742336,oS,oS,[]),ar(1073742336,Kv,Kv,[]),ar(1073742336,Hv,Hv,[]),ar(1073742336,eO,eO,[]),ar(1073742336,oO,oO,[]),ar(1073742336,jO,jO,[]),ar(1073742336,Zl,Zl,[]),ar(256,He,!0,[]),ar(256,rC,"XSRF-TOKEN",[]),ar(256,iC,"X-XSRF-TOKEN",[]),ar(256,yk,"BrowserAnimations",[]),ar(256,HO,void 0,[]),ar(256,GO,void 0,[]),ar(256,Ra,void 0,[])])}));Yl.production&&function(){if(ee)throw new Error("Cannot enable prod mode after platform setup.");te=!1}(),fg().bootstrapModuleFactory(_B,{preserveWhitespaces:!1}).catch((function(t){return console.error(t)}))}},[[0,0]]]);